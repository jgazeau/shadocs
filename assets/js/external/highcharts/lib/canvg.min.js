!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).canvg={})}(this,function(t){"use strict";var D=Math.tan,z=Math.atan2,d=Math.PI,M=Math.round,B=String.prototype,F=Math.max,_=Math.min,$=Math.ceil,p=Math.sin,y=Math.cos,S=Math.floor,v=Math.sqrt,m=Math.pow;function G(t,e){return t(e={exports:{}},e.exports),e.exports}function q(t,e){return RegExp(t,e)}function W(t){return t.replace(/(?!\u3000)\s+/gm," ")}function H(t){return t.replace(/^[\n \t]+/,"")}function X(t){return t.replace(/[\n \t]+$/,"")}function x(t){return((t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}function U(t){return zn.test(t)?t.toLowerCase():t}function Y(t){t=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return t[2]||t[3]||t[4]}function Q(t,e){var n=t.match(e);return n?[t.replace(e," "),n.length]:[t,0]}function Z(t){var e=[0,0,0],n=Q(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),Fn),n=E(n,2),t=n[0],n=n[1],r=(e[1]+=n,Q(t,_n)),r=E(r,2),r=(t=r[0],n=r[1],e[0]+=n,Q(t,$n)),r=E(r,2),r=(t=r[0],n=r[1],e[1]+=n,Q(t,Gn)),r=E(r,2),r=(t=r[0],n=r[1],e[2]+=n,Q(t,qn)),r=E(r,2),r=(t=r[0],n=r[1],e[1]+=n,Q(t,Wn)),r=E(r,2),r=(t=r[0],n=r[1],e[1]+=n,Q(t=t.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," "),Hn)),r=E(r,2);return t=r[0],n=r[1],e[2]+=n,e.join("")}function K(t){return v(m(t[0],2)+m(t[1],2))}function J(t,e){return(t[0]*e[0]+t[1]*e[1])/(K(t)*K(e))}function tt(t,e){var n=Math.acos;return(t[0]*e[1]<t[1]*e[0]?-1:1)*n(J(t,e))}function et(t){return t*t*t}function nt(t){return 3*t*t*(1-t)}function rt(t){return 3*t*(1-t)*(1-t)}function it(t){return(1-t)*(1-t)*(1-t)}function at(t){return t*t}function ot(t){return 2*t*(1-t)}function st(t){return(1-t)*(1-t)}function ut(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function lt(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function ct(){throw new Error("setTimeout has not been defined")}function ht(){throw new Error("clearTimeout has not been defined")}function ft(e){if(Aa===setTimeout)return setTimeout(e,0);if((Aa===ct||!Aa)&&setTimeout)return(Aa=setTimeout)(e,0);try{return Aa(e,0)}catch(t){try{return Aa.call(null,e,0)}catch(t){return Aa.call(this,e,0)}}}function gt(){Ta&&Ii&&(Ta=!1,Ii.length?Ca=Ii.concat(Ca):Oa=-1,Ca.length&&dt())}function dt(){if(!Ta){var t=ft(gt);Ta=!0;for(var e=Ca.length;e;){for(Ii=Ca,Ca=[];++Oa<e;)Ii&&Ii[Oa].run();Oa=-1,e=Ca.length}Ii=null,Ta=!1,function(e){if(Ea===clearTimeout)return clearTimeout(e);if((Ea===ht||!Ea)&&clearTimeout)return(Ea=clearTimeout)(e);try{Ea(e)}catch(t){try{return Ea.call(null,e)}catch(t){return Ea.call(this,e)}}}(t)}}function pt(t,e){this.fun=t,this.array=e}function yt(){}function vt(t){t=t.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function mt(t,e,n,r,i,a){return t[n*r*4+4*e+a]}function xt(t,e,n,r,i,a,o){t[n*r*4+4*e+a]=o}function b(t,e,n){t=t[e];return t*(t<0?n-255:n)}function bt(t,e,n,r){return e+y(t)*n+p(t)*r}function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e,n,r,i,a){var o;isNaN(a)||a<1||(a|=0,o=function(D,t,e,n){var r,i,a,o,s,u,z,l,c,h,f,g,d,p,y,v,m,x,b,w,k,S,P,A,M,E=D.data,C=t-1,B=e-1,T=n+1,O=T*(T+1)/2,V=new Il,L=V;for(a=1;a<2*n+1;a++)L=L.next=new Il,a===T&&(M=L);L.next=V;var N=null,R=null,I=(z=u=0,Nl[n]),j=Rl[n];for(i=0;i<e;i++){for(v=m=x=b=l=c=h=f=0,g=T*(w=E[u]),d=T*(k=E[u+1]),p=T*(S=E[u+2]),y=T*(P=E[u+3]),l+=O*w,c+=O*k,h+=O*S,f+=O*P,L=V,a=0;a<T;a++)L.r=w,L.g=k,L.b=S,L.a=P,L=L.next;for(a=1;a<T;a++)o=u+((C<a?C:a)<<2),l+=(L.r=w=E[o])*(A=T-a),c+=(L.g=k=E[o+1])*A,h+=(L.b=S=E[o+2])*A,f+=(L.a=P=E[o+3])*A,v+=w,m+=k,x+=S,b+=P,L=L.next;for(N=V,R=M,r=0;r<t;r++)E[u+3]=P=f*I>>j,0===P?E[u]=E[u+1]=E[u+2]=0:(P=255/P,E[u]=(l*I>>j)*P,E[u+1]=(c*I>>j)*P,E[u+2]=(h*I>>j)*P),l-=g,c-=d,h-=p,f-=y,g-=N.r,d-=N.g,p-=N.b,y-=N.a,o=z+((o=r+n+1)<C?o:C)<<2,v+=N.r=E[o],m+=N.g=E[o+1],x+=N.b=E[o+2],b+=N.a=E[o+3],l+=v,c+=m,h+=x,f+=b,N=N.next,g+=w=R.r,d+=k=R.g,p+=S=R.b,y+=P=R.a,v-=w,m-=k,x-=S,b-=P,R=R.next,u+=4;z+=t}for(r=0;r<t;r++){for(m=x=b=v=c=h=f=l=0,g=T*(w=E[u=r<<2]),d=T*(k=E[u+1]),p=T*(S=E[u+2]),y=T*(P=E[u+3]),l+=O*w,c+=O*k,h+=O*S,f+=O*P,L=V,a=0;a<T;a++)L.r=w,L.g=k,L.b=S,L.a=P,L=L.next;for(s=t,a=1;a<=n;a++)u=s+r<<2,l+=(L.r=w=E[u])*(A=T-a),c+=(L.g=k=E[u+1])*A,h+=(L.b=S=E[u+2])*A,f+=(L.a=P=E[u+3])*A,v+=w,m+=k,x+=S,b+=P,L=L.next,a<B&&(s+=t);for(u=r,N=V,R=M,i=0;i<e;i++)E[(o=u<<2)+3]=P=f*I>>j,0<P?(P=255/P,E[o]=(l*I>>j)*P,E[o+1]=(c*I>>j)*P,E[o+2]=(h*I>>j)*P):E[o]=E[o+1]=E[o+2]=0,l-=g,c-=d,h-=p,f-=y,g-=N.r,d-=N.g,p-=N.b,y-=N.a,o=r+((o=i+T)<B?o:B)*t<<2,l+=v+=N.r=E[o],c+=m+=N.g=E[o+1],h+=x+=N.b=E[o+2],f+=b+=N.a=E[o+3],N=N.next,g+=w=R.r,d+=k=R.g,p+=S=R.b,y+=P=R.a,v-=w,m-=k,x-=S,b-=P,R=R.next,u+=t}return D}(o=function(t,e,n,r,i){if(!((t="string"==typeof t?document.getElementById(t):t)&&"object"===wt(t)&&"getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");t=t.getContext("2d");try{return t.getImageData(e,n,r,i)}catch(e){throw new Error("unable to access image data: "+e)}}(t,e,n,r,i),r,i,a),t.getContext("2d").putImageData(o,e,n))}function St(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Pt(){return(Pt=Mr(O.mark(function t(n){var e,r,i=arguments;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!!(1<i.length&&void 0!==i[1])&&i[1],r=document.createElement("img"),e&&(r.crossOrigin="Anonymous"),t.abrupt("return",new Promise(function(t,e){r.onload=function(){t(r)},r.onerror=function(){e()},r.src=n}));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function At(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Et(e){for(var n,t=1;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?At(Object(n),!0).forEach(function(t){Br(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function Ct(t){return t&&t.Math==Math&&t}function l(t){try{return!!t()}catch(t){return!0}}function Tt(t){return Ee(Ce(t))}function Ot(e,n){try{A(k,e,n)}catch(t){k[e]=n}return n}function Vt(t){return"Symbol("+(void 0===t?"":t)+")_"+(++Fe+_e).toString(36)}function Lt(t){return $e[t]||($e[t]=Vt(t))}function Nt(t){return"function"==typeof t?t:void 0}function Rt(t,e){return arguments.length<2?Nt(He[t])||Nt(k[t]):He[t]&&He[t][e]||k[t]&&k[t][e]}function It(t){return 0<t?_(Xe(t),9007199254740991):0}function jt(t,e){return(t=Xe(t))<0?F(t+e,0):_(t,e)}function Dt(s){return function(t,e,n){var r,i=Tt(t),a=It(i.length),o=jt(n,a);if(s&&e!=e){for(;o<a;)if((r=i[o++])!=r)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===e)return s||o||0;return!s&&-1}}function zt(t,e){var n,r=Tt(t),i=0,a=[];for(n in r)!f(Ge,n)&&f(r,n)&&a.push(n);for(;e.length>i;)!f(r,n=e[i++])||~Ue(a,n)||a.push(n);return a}function Mt(t,e){for(var n,r=Je(e),i=s.f,a=je.f,o=0;o<r.length;o++)n=r[o],f(t,n)||i(t,n,a(e,n))}function Bt(t,e){return(t=nn[en(t)])==an||t!=rn&&("function"==typeof e?l(e):!!e)}function w(t,e){var n,r,i,a=t.target,o=t.global,s=t.stat,u=o?k:s?k[a]||Ot(a,{}):(k[a]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=sn(u,n))&&i.value:u[n],!on(o?n:a+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Mt(r,i)}(t.sham||i&&i.sham)&&A(r,"sham",!0),We(u,n,r,t)}}function Ft(r,i,t){return un(r),void 0===i?r:0===t?function(){return r.call(i)}:1===t?function(t){return r.call(i,t)}:2===t?function(t,e){return r.call(i,t,e)}:3===t?function(t,e,n){return r.call(i,t,e,n)}:function(){return r.apply(i,arguments)}}function _t(t){return Object(Ce(t))}function c(t){return f(hn,t)||(cn&&f(fn,t)?hn[t]=fn[t]:hn[t]=gn("Symbol."+t)),hn[t]}function $t(t,e){var n;return ln(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ln(n.prototype)?u(n)&&(null===(n=n[dn])&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Gt(f){var g=1==f,d=4==f,p=6==f;return function(t,e,n,r){for(var i,a,o=_t(t),s=Ee(o),u=Ft(e,n,3),l=It(s.length),c=0,e=r||$t,h=g?e(t,l):2==f?e(t,0):void 0;c<l;c++)if((5==f||p||c in s)&&(a=u(i=s[c],c,o),f))if(g)h[c]=a;else if(a)switch(f){case 3:return!0;case 5:return i;case 6:return c;case 2:pn.call(h,i)}else if(d)return!1;return p?-1:3==f||d?d:h}}function qt(e){return 51<=vn||!l(function(){var t=[];return(t.constructor={})[mn]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function Wt(e){return function(t){t=Ce(t)+"";return 1&e&&(t=t.replace(bn,"")),t=2&e?t.replace(wn,""):t}}function Ht(){var t=P(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function Xt(n,t,e,r){var a,i,o=c(n),s=!l(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),u=s&&!l(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[Vn]=function(){return e},e.flags="",e[o]=/./[o]),e.exec=function(){return t=!0,null},e[o](""),!t});s&&u&&("replace"!==n||Ln&&Nn)&&("split"!==n||Rn)||(a=/./[o],e=(u=e(o,""[n],function(t,e,n,r,i){return e.exec===On?s&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:Nn}))[0],i=u[1],We(String.prototype,n,e),We(RegExp.prototype,o,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)})),r&&A(RegExp.prototype[o],"sham",!0)}function Ut(i){return function(t,e){var n,t=Ce(t)+"",e=Xe(e),r=t.length;return e<0||r<=e?i?"":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?i?t.charAt(e):n:i?t.slice(e,e+2):r-56320+(n-55296<<10)+65536}}function Yt(t,e,n){return e+(n?In(t,e).length:1)}function Qt(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Pe(t))throw TypeError("RegExp#exec called on incompatible receiver");return On.call(t,e)}function Zt(t,e){var n=[][t];return!n||!l(function(){n.call(null,e||function(){throw 1},1)})}function Kt(){}function Jt(t){var e=He.Symbol||(He.Symbol={});f(e,t)||sr(e,t,{value:or.f(t)})}function te(t,e){var n=Pr[t]=nr(mr[dr]);return pr(n,{type:gr,tag:t,description:e}),h||(n.description=e),n}function ee(t,e,n){return t===vr&&ee(Ar,e,n),P(t),e=Te(e,!0),P(n),f(Pr,e)?(n.enumerable?(f(t,fr)&&t[fr][e]&&(t[fr][e]=!1),n=nr(n,{enumerable:ke(0,!1)})):(f(t,fr)||wr(t,fr,ke(1,{})),t[fr][e]=!0),Or(t,e,n)):wr(t,e,n)}function ne(e,t){P(e);var n=Tt(t),t=Un(n).concat(oe(n));return hr(t,function(t){h&&!re.call(n,t)||ee(e,t,n[t])}),e}function re(t){var t=Te(t,!0),e=Sr.call(this,t);return(this!==vr||!f(Pr,t)||f(Ar,t))&&(!(e||!f(this,t)||!f(Pr,t)||f(this,fr)&&this[fr][t])||e)}function ie(t,e){var n,t=Tt(t),e=Te(e,!0);if(t!==vr||!f(Pr,e)||f(Ar,e))return!(n=br(t,e))||!f(Pr,e)||f(t,fr)&&t[fr][e]||(n.enumerable=!0),n}function ae(t){var t=kr(Tt(t)),e=[];return hr(t,function(t){f(Pr,t)||f(Ge,t)||e.push(t)}),e}function oe(t){var e=t===vr,t=kr(e?Ar:Tt(t)),n=[];return hr(t,function(t){!f(Pr,t)||e&&!f(vr,t)||n.push(Pr[t])}),n}function se(t,e,n){(e=Te(e))in t?s.f(t,e,ke(0,n)):t[e]=n}var ue,le,ce,he,fe,ge,de,pe,ye,ve,me="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,k=Ct("object"==typeof globalThis&&globalThis)||Ct("object"==typeof window&&window)||Ct("object"==typeof self&&self)||Ct("object"==typeof me&&me)||Function("return this")(),h=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),xe={}.propertyIsEnumerable,be=Object.getOwnPropertyDescriptor,we={f:be&&!xe.call({1:2},1)?function(t){t=be(this,t);return!!t&&t.enumerable}:xe},ke=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Se={}.toString,Pe=function(t){return Se.call(t).slice(8,-1)},Ae="".split,Ee=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Pe(t)?Ae.call(t,""):Object(t)}:Object,Ce=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},u=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Te=function(t,e){if(!u(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!u(r=n.call(t)))return r;if(e||"function"!=typeof(n=t.toString)||u(r=n.call(t)))throw TypeError("Can't convert object to primitive value");return r},Oe={}.hasOwnProperty,f=function(t,e){return Oe.call(t,e)},Ve=k.document,Le=u(Ve)&&u(Ve.createElement),Ne=function(t){return Le?Ve.createElement(t):{}},Re=!h&&!l(function(){return 7!=Object.defineProperty(Ne("div"),"a",{get:function(){return 7}}).a}),Ie=Object.getOwnPropertyDescriptor,je={f:h?Ie:function(t,e){if(t=Tt(t),e=Te(e,!0),Re)try{return Ie(t,e)}catch(t){}return f(t,e)?ke(!we.f.call(t,e),t[e]):void 0}},P=function(t){if(u(t))return t;throw TypeError(t+" is not an object")},De=Object.defineProperty,s={f:h?De:function(t,e,n){if(P(t),e=Te(e,!0),P(n),Re)try{return De(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},A=h?function(t,e,n){return s.f(t,e,ke(1,n))}:function(t,e,n){return t[e]=n,t},xe="__core-js_shared__",ze=k[xe]||Ot(xe,{}),Me=Function.toString,Be=("function"!=typeof ze.inspectSource&&(ze.inspectSource=function(t){return Me.call(t)}),ze.inspectSource),xe=k.WeakMap,xe="function"==typeof xe&&/native code/.test(Be(xe)),e=G(function(t){(t.exports=function(t,e){return ze[t]||(ze[t]=void 0===e?{}:e)})("versions",[]).push({version:"3.6.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),Fe=0,_e=Math.random(),$e=e("keys"),Ge={},n=k.WeakMap,qe=(de=xe?(ue=new n,le=ue.get,ce=ue.has,he=ue.set,fe=function(t,e){return he.call(ue,t,e),e},ge=function(t){return le.call(ue,t)||{}},function(t){return ce.call(ue,t)}):(pe=Lt("state"),Ge[pe]=!0,fe=function(t,e){return A(t,pe,e),e},ge=function(t){return f(t,pe)?t[pe]:{}},function(t){return f(t,pe)}),{set:fe,get:ge,has:de,enforce:function(t){return de(t)?ge(t):fe(t,{})},getterFor:function(e){return function(t){if(u(t)&&(t=ge(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}}),We=G(function(t){var e=qe.get,o=qe.enforce,s=(String+"").split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;return"function"==typeof n&&("string"!=typeof e||f(n,"name")||A(n,"name",e),o(n).source=s.join("string"==typeof e?e:"")),t===k?void(a?t[e]=n:Ot(e,n)):(i?!r&&t[e]&&(a=!0):delete t[e],void(a?t[e]=n:A(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||Be(this)})}),He=k,Xe=function(t){return isNaN(t=+t)?0:(0<t?S:$)(t)},xe={includes:Dt(!0),indexOf:Dt(!1)},Ue=xe.indexOf,Ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qe=Ye.concat("length","prototype"),Ze={f:Object.getOwnPropertyNames||function(t){return zt(t,Qe)}},Ke={f:Object.getOwnPropertySymbols},Je=Rt("Reflect","ownKeys")||function(t){var e=Ze.f(P(t)),n=Ke.f;return n?e.concat(n(t)):e},tn=/#|\.prototype\./,en=Bt.normalize=function(t){return(t+"").replace(tn,".").toLowerCase()},nn=Bt.data={},rn=Bt.NATIVE="N",an=Bt.POLYFILL="P",on=Bt,sn=je.f,un=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function");return t},ln=Array.isArray||function(t){return"Array"==Pe(t)},cn=!!Object.getOwnPropertySymbols&&!l(function(){return!(Symbol()+"")}),n=cn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,hn=e("wks"),fn=k.Symbol,gn=n?fn:fn&&fn.withoutSetter||Vt,dn=c("species"),pn=[].push,yn={forEach:Gt(0),map:Gt(1),filter:Gt(2),some:Gt(3),every:Gt(4),find:Gt(5),findIndex:Gt(6)},r=Rt("navigator","userAgent")||"",i=k.process,i=i&&i.versions,i=i&&i.v8,vn=(i?o=(a=i.split("."))[0]+a[1]:r&&((!(a=r.match(/Edge\/(\d+)/))||74<=a[1])&&((a=r.match(/Chrome\/(\d+)/))&&(o=a[1]))),o&&+o),mn=c("species"),xn=yn.map,i=qt("map"),a=i&&!l(function(){[].map.call({length:-1,0:1},function(t){throw t})}),o=(w({target:"Array",proto:!0,forced:!i||!a},{map:function(t){return xn(this,t,1<arguments.length?arguments[1]:void 0)}}),"[\t\n\v\f\r                　\u2028\u2029\ufeff]"),bn=RegExp("^"+o+o+"*"),wn=RegExp(o+o+"*$"),i={start:Wt(1),end:Wt(2),trim:Wt(3)},kn=i.trim,Sn=k.parseFloat,a=1/Sn("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0?function(t){var t=kn(t+""),e=Sn(t);return 0===e&&"-"==t.charAt(0)?-0:e}:Sn,o=(w({global:!0,forced:parseFloat!=a},{parseFloat:a}),{UNSUPPORTED_Y:l(function(){var t=q("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:l(function(){var t=q("^r","gy");return t.lastIndex=2,null!=t.exec("str")})}),Pn=RegExp.prototype.exec,An=B.replace,a=Pn,En=(B=/a/,g=/b*/g,Pn.call(B,"a"),Pn.call(g,"a"),0!==B.lastIndex||0!==g.lastIndex),Cn=o.UNSUPPORTED_Y||o.BROKEN_CARET,Tn=void 0!==/()??/.exec("")[1],On=a=En||Tn||Cn?function(t){var e,n,r,i,a=this,o=Cn&&a.sticky,s=Ht.call(a),u=a.source,l=0,c=t;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=(t+"").slice(a.lastIndex),0<a.lastIndex&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(u="(?: "+u+")",c=" "+c,l++),n=new RegExp("^(?:"+u+")",s)),Tn&&(n=new RegExp("^"+u+"$(?!\\s)",s)),En&&(e=a.lastIndex),r=Pn.call(o?n:a,c),o?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:En&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),Tn&&r&&1<r.length&&An.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}:a,Vn=(w({target:"RegExp",proto:!0,forced:/./.exec!==On},{exec:On}),c("species")),Ln=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Nn="$0"==="a".replace(/./,"$0"),Rn=!l(function(){var t=/(?:)/,e=t.exec,t=(t.exec=function(){return e.apply(this,arguments)},"ab".split(t));return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),B={codeAt:Ut(!1),charAt:Ut(!0)},In=B.charAt,jn=(Xt("match",1,function(r,u,l){return[function(t){var e=Ce(this),n=null==t?void 0:t[r];return void 0===n?new RegExp(t)[r](e+""):n.call(t,e)},function(t){var e=l(u,t,this);if(e.done)return e.value;var n=P(t),r=this+"";if(!n.global)return Qt(n,r);for(var i,a=n.unicode,o=[],s=n.lastIndex=0;null!==(i=Qt(n,r));)i=i[0]+"",(o[s]=i)||(n.lastIndex=Yt(r,It(n.lastIndex),a)),s++;return 0===s?null:o}]}),/\$([$&'`]|\d\d?|<[^>]*>)/g),Dn=/\$([$&'`]|\d\d?)/g,zn=(Xt("replace",2,function(i,b,w,k){return[function(t,e){var n=Ce(this),r=null==t?void 0:t[i];return void 0===r?b.call(n+"",t,e):r.call(t,n,e)},function(t,e){if(k.REPLACE_KEEPS_$0||"string"==typeof e&&-1===e.indexOf("$0")){var n=w(b,t,this,e);if(n.done)return n.value}var r,i=P(t),a=this+"",o="function"==typeof e,s=(o||(e+=""),i.global);s&&(r=i.unicode,i.lastIndex=0);for(var u=[];null!==(g=Qt(i,a))&&(u.push(g),s);)g[0]+""||(i.lastIndex=Yt(a,It(i.lastIndex),r));for(var l,c="",h=0,f=0;f<u.length;f++){for(var g,d=(g=u[f])[0]+"",p=F(_(Xe(g.index),a.length),0),y=[],v=1;v<g.length;v++)y.push(void 0===(l=g[v])?l:l+"");var m=g.groups,x=o?(x=[d].concat(y,p,a),void 0!==m&&x.push(m),e.apply(void 0,x)+""):function(a,o,s,u,l,t){var c=s+a.length,h=u.length,e=Dn;return void 0!==l&&(l=_t(l),e=jn),b.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(c);case"<":n=l[e.slice(1,-1)];break;default:var r,i=+e;if(0==i)return t;if(h<i)return 0!==(r=S(i/10))&&r<=h?void 0===u[r-1]?e.charAt(1):u[r-1]+e.charAt(1):t;n=u[i-1]}return void 0===n?"":n})}(d,a,p,y,m,e);h<=p&&(c+=a.slice(h,p)+x,h=p+d.length)}return c+a.slice(h)}]}),/^[A-Z-]+$/),Mn=[].join,g=Ee!=Object,o=Zt("join",","),Bn=(w({target:"Array",proto:!0,forced:g||o},{join:function(t){return Mn.call(Tt(this),void 0===t?",":t)}}),function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}),E=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||Bn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()},Fn=/(\[[^\]]+\])/g,_n=/(#[^\s\+>~\.\[:]+)/g,$n=/(\.[^\s\+>~\.\[:]+)/g,Gn=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,qn=/(:[\w-]+\([^\)]*\))/gi,Wn=/(:[^\s\+>~\.\[:]+)/g,Hn=/([^\s\+>~\.\[:]+)/g,Xn=1e-8,Un=Object.keys||function(t){return zt(t,Ye)},Yn=h?Object.defineProperties:function(t,e){P(t);for(var n,r=Un(e),i=r.length,a=0;a<i;)s.f(t,n=r[a++],e[n]);return t},Qn=Rt("document","documentElement"),Zn="prototype",Kn="script",Jn=Lt("IE_PROTO"),tr=function(t){return"<"+Kn+">"+t+"</"+Kn+">"},er=function(){try{ye=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var t,e;er=ye?((t=ye).write(tr("")),t.close(),e=t.parentWindow.Object,t=null,e):((t=Ne("iframe")).style.display="none",Qn.appendChild(t),t.src="java"+Kn+":",(t=t.contentWindow.document).open(),t.write(tr("document.F=Object")),t.close(),t.F);for(var n=Ye.length;n--;)delete er[Zn][Ye[n]];return er()},nr=(Ge[Jn]=!0,Object.create||function(t,e){var n;return null===t?n=er():(Kt[Zn]=P(t),n=new Kt,Kt[Zn]=null,n[Jn]=t),void 0===e?n:Yn(n,e)}),rr=Ze.f,ir={}.toString,ar="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a={f:function(t){if(!ar||"[object Window]"!=ir.call(t))return rr(Tt(t));var e=t;try{return rr(e)}catch(e){return ar.slice()}}},or={f:c},sr=s.f,ur=s.f,lr=c("toStringTag"),cr=function(t,e,n){t&&!f(t=n?t:t.prototype,lr)&&ur(t,lr,{configurable:!0,value:e})},hr=yn.forEach,fr=Lt("hidden"),gr="Symbol",dr="prototype",g=c("toPrimitive"),pr=qe.set,yr=qe.getterFor(gr),vr=Object[dr],mr=k.Symbol,xr=Rt("JSON","stringify"),br=je.f,wr=s.f,kr=a.f,Sr=we.f,Pr=e("symbols"),Ar=e("op-symbols"),Er=e("string-to-symbol-registry"),Cr=e("symbol-to-string-registry"),o=e("wks"),e=k.QObject,Tr=!e||!e[dr]||!e[dr].findChild,Or=h&&l(function(){return 7!=nr(wr({},"a",{get:function(){return wr(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=br(vr,e);r&&delete vr[e],wr(t,e,n),r&&t!==vr&&wr(vr,e,r)}:wr,Vr=n?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof mr},Lr=(cn||(We((mr=function(){if(this instanceof mr)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?arguments[0]+"":void 0,e=Vt(t),n=function(t){this===vr&&n.call(Ar,t),f(this,fr)&&f(this[fr],e)&&(this[fr][e]=!1),Or(this,e,ke(1,t))};return h&&Tr&&Or(vr,e,{configurable:!0,set:n}),te(e,t)})[dr],"toString",function(){return yr(this).tag}),We(mr,"withoutSetter",function(t){return te(Vt(t),t)}),we.f=re,s.f=ee,je.f=ie,Ze.f=a.f=ae,Ke.f=oe,or.f=function(t){return te(c(t),t)},h&&(wr(mr[dr],"description",{configurable:!0,get:function(){return yr(this).description}}),We(vr,"propertyIsEnumerable",re,{unsafe:!0}))),w({global:!0,wrap:!0,forced:!cn,sham:!cn},{Symbol:mr}),hr(Un(o),function(t){Jt(t)}),w({target:gr,stat:!0,forced:!cn},{for:function(t){t+="";if(f(Er,t))return Er[t];var e=mr(t);return Er[t]=e,Cr[e]=t,e},keyFor:function(t){if(Vr(t))return f(Cr,t)?Cr[t]:void 0;throw TypeError(t+" is not a symbol")},useSetter:function(){Tr=!0},useSimple:function(){Tr=!1}}),w({target:"Object",stat:!0,forced:!cn,sham:!h},{create:function(t,e){return void 0===e?nr(t):ne(nr(t),e)},defineProperty:ee,defineProperties:ne,getOwnPropertyDescriptor:ie}),w({target:"Object",stat:!0,forced:!cn},{getOwnPropertyNames:ae,getOwnPropertySymbols:oe}),w({target:"Object",stat:!0,forced:l(function(){Ke.f(1)})},{getOwnPropertySymbols:function(t){return Ke.f(_t(t))}}),xr&&(e=!cn||l(function(){var t=mr();return"[null]"!=xr([t])||"{}"!=xr({a:t})||"{}"!=xr(Object(t))}),w({target:"JSON",stat:!0,forced:e},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((u(n=e)||void 0!==t)&&!Vr(t))return ln(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Vr(e))return e}),r[1]=e,xr.apply(null,r)}})),mr[dr][g]||A(mr[dr],g,mr[dr].valueOf),cr(mr,gr),Ge[fr]=!0,yn.filter),n=qt("filter"),a=n&&!l(function(){[].filter.call({length:-1,0:1},function(t){throw t})}),Nr=(w({target:"Array",proto:!0,forced:!n||!a},{filter:function(t){return Lr(this,t,1<arguments.length?arguments[1]:void 0)}}),yn.forEach),Rr=Zt("forEach")?function(t){return Nr(this,t,1<arguments.length?arguments[1]:void 0)}:[].forEach,Ir=(w({target:"Array",proto:!0,forced:[].forEach!=Rr},{forEach:Rr}),w({target:"Object",stat:!0,forced:!h,sham:!h},{defineProperties:Yn}),w({target:"Object",stat:!0,forced:!h,sham:!h},{defineProperty:s.f}),je.f),o=l(function(){Ir(1)}),e=(w({target:"Object",stat:!0,forced:!h||o,sham:!h},{getOwnPropertyDescriptor:function(t,e){return Ir(Tt(t),e)}}),w({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(t){for(var e,n,r=Tt(t),i=je.f,a=Je(r),o={},s=0;a.length>s;)void 0!==(n=i(r,e=a[s++]))&&se(o,e,n);return o}}),l(function(){Un(1)})),jr=(w({target:"Object",stat:!0,forced:e},{keys:function(t){return Un(_t(t))}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0});for(ve in jr){var Dr=k[ve],Dr=Dr&&Dr.prototype;if(Dr&&Dr.forEach!==Rr)try{A(Dr,"forEach",Rr)}catch(t){Dr.forEach=Rr}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e,n){e&&lt(t.prototype,e),n&&lt(t,n)}function zr(l){return function(t,e,n,r){un(e);var i=_t(t),a=Ee(i),o=It(i.length),s=l?o-1:0,u=l?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=u;break}if(s+=u,l?s<0:o<=s)throw TypeError("Reduce of empty array with no initial value")}for(;l?0<=s:s<o;s+=u)s in a&&(r=e(r,a[s],s,i));return r}}var O=G(function(t){a=t.exports,h=Object.prototype,l=h.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag",a.wrap=f,c={},(e={})[r]=function(){return this},(o=(o=Object.getPrototypeOf)&&o(o(k([]))))&&o!==h&&l.call(o,r)&&(e=o),s=y.prototype=d.prototype=Object.create(e),(p.prototype=s.constructor=y).constructor=p,y[i]=p.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(s),t},a.awrap=function(t){return{__await:t}},v(m.prototype),m.prototype[n]=function(){return this},a.AsyncIterator=m,a.async=function(t,e,n,r){var i=new m(f(t,e,n,r));return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},v(s),s[i]="Generator",s[r]=function(){return this},s.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}if(this.done)throw n;for(var r=this,e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}var a=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),b(e),c},catch:function(t){for(var e,n,r,i=this.tryEntries.length-1;0<=i;--i)if((r=this.tryEntries[i]).tryLoc===t)return"throw"===(e=r.completion).type&&(n=e.arg,b(r)),n;throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),c}};var a,u,l,e,r,n,i,c,o,s,h=a;function f(t,e,n,r){var i,a,o,s,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(i=t,a=n,o=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return S()}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){n=function t(e,n){var r=e.iterator[n.method];if(r===u){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=u,t(e,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}r=g(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,c;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u)}return n.delegate=null,c}(n,o);if(n){if(n===c)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===s)throw s="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s="executing";n=g(i,a,o);if("normal"===n.type){if(s=o.done?"completed":"suspendedYield",n.arg===c)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s="completed",o.method="throw",o.arg=n.arg)}}),e}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function d(){}function p(){}function y(){}function v(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function m(o){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,i){var a,t=g(o[t],o,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==typeof n&&l.call(n,"__await")?Promise.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):Promise.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:u,done:!0}}try{regeneratorRuntime=h}catch(t){Function("r","regeneratorRuntime = r")(h)}}),Mr=function(s){return function(){var t=this,o=arguments;return new Promise(function(e,n){function r(t){ut(a,e,n,r,i,"next",t)}function i(t){ut(a,e,n,r,i,"throw",t)}var a=s.apply(t,o);r(void 0)})}},Br=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Fr=c("isConcatSpreadable"),_r=9007199254740991,$r="Maximum allowed index exceeded",g=51<=vn||!l(function(){var t=[];return t[Fr]=!1,t.concat()[0]!==t}),n=qt("concat"),Gr=(w({target:"Array",proto:!0,forced:!g||!n},{concat:function(){for(var t,e,n,r=_t(this),i=$t(r,0),a=0,o=-1,s=arguments.length;o<s;o++)if(function(t){if(!u(t))return!1;var e=t[Fr];return void 0===e?ln(t):!!e}(n=-1===o?r:arguments[o])){if(e=It(n.length),_r<a+e)throw TypeError($r);for(t=0;t<e;t++,a++)t in n&&se(i,a,n[t])}else{if(_r<=a)throw TypeError($r);se(i,a++,n)}return i.length=a,i}}),yn.every),qr=(w({target:"Array",proto:!0,forced:Zt("every")},{every:function(t){return Gr(this,t,1<arguments.length?arguments[1]:void 0)}}),{left:zr(!1),right:zr(!0)}.left),a=(w({target:"Array",proto:!0,forced:Zt("reduce")},{reduce:function(t){return qr(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}}),Date.prototype),Wr="Invalid Date",o="toString",Hr=a[o],Xr=a.getTime;new Date(NaN)+""!=Wr&&We(a,o,function(){var t=Xr.call(this);return t==t?Hr.call(this):Wr});function Ur(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=ri(t=Object(t),ei))?e:ni?Pe(t):"Object"==(e=Pe(t))&&"function"==typeof t.callee?"Arguments":e}function Yr(t,e,n){for(var r in e)We(t,r,e[r],n);return t}function Qr(t){var t=Rt(t),e=s.f;h&&t&&!t[ii]&&e(t,ii,{configurable:!0,get:function(){return this}})}function Zr(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}function Kr(t){return void 0!==t&&(ai.Array===t||si[oi]===t)}function Jr(t){if(null!=t)return t[ui]||t["@@iterator"]||ai[Ur(t)]}function ti(t,e,n,r){try{return r?e(P(n)[0],n[1]):e(n)}catch(e){r=t.return;throw void 0!==r&&P(r.call(t)),e}}var e={},g=(e[c("toStringTag")]="z","[object z]"==e+""),ei=c("toStringTag"),ni="Arguments"==Pe(function(){return arguments}()),ri=function(t,e){try{return t[e]}catch(t){}},n=(g||We(Object.prototype,"toString",function(){return"[object "+Ur(this)+"]"},{unsafe:!0}),k.Promise),ii=c("species"),ai={},oi=c("iterator"),si=Array.prototype,ui=c("iterator"),li=G(function(t){function f(t,e){this.stopped=t,this.result=e}(t.exports=function(t,e,n,r,i){var a,o,s,u,l,c,h=Ft(e,n,r?2:1);if(i)a=t;else{if("function"!=typeof(e=Jr(t)))throw TypeError("Target is not iterable");if(Kr(e)){for(o=0,s=It(t.length);o<s;o++)if((u=r?h(P(c=t[o])[0],c[1]):h(t[o]))&&u instanceof f)return u;return new f(!1)}a=e.call(t)}for(l=a.next;!(c=l.call(a)).done;)if("object"==typeof(u=ti(a,h,c.value,r))&&u&&u instanceof f)return u;return new f(!1)}).stop=function(t){return new f(!0,t)}}),ci=c("iterator"),hi=!1;try{var fi=0,V={next:function(){return{done:!!fi++}},return:function(){hi=!0}};V[ci]=function(){return this},Array.from(V,function(){throw 2})}catch(t){}function gi(t,e){if(!e&&!hi)return!1;var n=!1;try{var r={};r[ci]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function di(t,e){return void 0===(t=P(t).constructor)||null==(t=P(t)[ji])?e:un(t)}function pi(t){return function(){$i(t)}}function yi(t){$i(t.data)}function vi(t){k.postMessage(t+"",Di.protocol+"//"+Di.host)}function mi(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=un(n),this.reject=un(r)}function xi(t,e){return P(t),u(e)&&e.constructor===t?e:((0,(t=Xi.f(t)).resolve)(e),t.promise)}function bi(t){var e;return u(t)&&(void 0===(e=t[wa])?"RegExp"==Pe(t):!!e)}var wi,ki,Si,Pi,Ai,Ei,Ci,Ti,Oi,Vi,Li,Ni,Ri,Ii,ji=c("species"),a=/(iphone|ipod|ipad).*applewebkit/i.test(r),Di=k.location,o=k.setImmediate,e=k.clearImmediate,zi=k.process,g=k.MessageChannel,Mi=k.Dispatch,Bi=0,Fi={},_i="onreadystatechange",$i=function(t){var e;Fi.hasOwnProperty(t)&&(e=Fi[t],delete Fi[t],e())},g=(o&&e||(o=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Fi[++Bi]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},wi(Bi),Bi},e=function(t){delete Fi[t]},"process"==Pe(zi)?wi=function(t){zi.nextTick(pi(t))}:Mi&&Mi.now?wi=function(t){Mi.now(pi(t))}:g&&!a?(r=(V=new g).port2,V.port1.onmessage=yi,wi=Ft(r.postMessage,r,1)):!k.addEventListener||"function"!=typeof postMessage||k.importScripts||l(vi)?wi=_i in Ne("script")?function(t){Qn.appendChild(Ne("script"))[_i]=function(){Qn.removeChild(this),$i(t)}}:function(t){setTimeout(pi(t),0)}:(wi=vi,k.addEventListener("message",yi,!1))),{set:o,clear:e}),V=je.f,Gi=g.set,r=k.MutationObserver||k.WebKitMutationObserver,qi=k.process,o=k.Promise,Wi="process"==Pe(qi),e=V(k,"queueMicrotask"),V=e&&e.value,Hi=(V||(ki=function(){var t,e;for(Wi&&(t=qi.domain)&&t.exit();Si;){e=Si.fn,Si=Si.next;try{e()}catch(t){throw Si?Ai():Pi=void 0,t}}Pi=void 0,t&&t.enter()},Ai=Wi?function(){qi.nextTick(ki)}:r&&!a?(Ei=!0,Ci=document.createTextNode(""),new r(ki).observe(Ci,{characterData:!0}),function(){Ci.data=Ei=!Ei}):o&&o.resolve?(Ti=o.resolve(void 0),Oi=Ti.then,function(){Oi.call(Ti,ki)}):function(){Gi.call(k,ki)}),V||function(t){t={fn:t,next:void 0};Pi&&(Pi.next=t),Si||(Si=t,Ai()),Pi=t}),Xi={f:function(t){return new mi(t)}},Ui=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Yi=g.set,Qi=c("species"),Zi="Promise",Ki=qe.get,Ji=qe.set,ta=qe.getterFor(Zi),ea=n,na=k.TypeError,ra=k.document,ia=k.process,aa=Rt("fetch"),oa=Xi.f,sa=oa,ua="process"==Pe(ia),la=!!(ra&&ra.createEvent&&k.dispatchEvent),ca="unhandledrejection",ha=1,fa=1,ga=2,e=on(Zi,function(){if(!(Be(ea)!==ea+"")){if(66===vn)return!0;if(!ua&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=vn&&/native code/.test(ea))return!1;function t(t){t(function(){},function(){})}var e=ea.resolve(1);return(e.constructor={})[Qi]=t,!(e.then(function(){})instanceof t)}),a=e||!gi(function(t){ea.all(t).catch(function(){})}),da=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},pa=function(g,d,p){var y;d.notified||(d.notified=!0,y=d.reactions,Hi(function(){for(var n,r,t=d.value,e=d.state==ha,i=0;y.length>i;){var a,o,s,u=y[i++],l=e?u.ok:u.fail,c=u.resolve,h=u.reject,f=u.domain;try{l?(e||(d.rejection===ga&&function(t,e){Yi.call(k,function(){ua?ia.emit("rejectionHandled",t):ya("rejectionhandled",t,e.value)})}(g,d),d.rejection=fa),!0===l?a=t:(f&&f.enter(),a=l(t),f&&(f.exit(),s=!0)),a===u.promise?h(na("Promise-chain cycle")):(o=da(a))?o.call(a,c,h):c(a)):h(t)}catch(t){f&&!s&&f.exit(),h(t)}}d.reactions=[],d.notified=!1,p&&!d.rejection&&(n=g,r=d,Yi.call(k,function(){var t,e=r.value;if(va(r)&&(t=Ui(function(){ua?ia.emit("unhandledRejection",e,n):ya(ca,n,e)}),r.rejection=ua||va(r)?ga:fa,t.error))throw t.value}))}))},ya=function(t,e,n){var r;la?((r=ra.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),k.dispatchEvent(r)):r={promise:e,reason:n},(e=k["on"+t])?e(r):t===ca&&function(t,e){var n=k.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},va=function(t){return t.rejection!==fa&&!t.parent},ma=function(e,n,r,i){return function(t){e(n,r,t,i)}},xa=function(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,pa(t,e,!0))},ba=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw na("Promise can't be resolved itself");var i=da(t);i?Hi(function(){var e={done:!1};try{i.call(t,ma(ba,n,e,r),ma(xa,n,e,r))}catch(t){xa(n,e,t,r)}}):(r.value=t,r.state=ha,pa(n,r,!1))}catch(t){xa(n,{done:!1},t,r)}}},wa=(e&&(ea=function(t){Zr(this,ea,Zi),un(t),Vi.call(this);var e=Ki(this);try{t(ma(ba,this,e),ma(xa,this,e))}catch(t){xa(this,e,t)}},(Vi=function(){Ji(this,{type:Zi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Yr(ea.prototype,{then:function(t,e){var n=ta(this),r=oa(di(this,ea));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ua?ia.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&pa(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Li=function(){var t=new Vi,e=Ki(t);this.promise=t,this.resolve=ma(ba,t,e),this.reject=ma(xa,t,e)},Xi.f=oa=function(t){return t===ea||t===Ni?new Li:sa(t)},"function"==typeof n&&(Ri=n.prototype.then,We(n.prototype,"then",function(t,e){var n=this;return new ea(function(t,e){Ri.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof aa&&w({global:!0,enumerable:!0,forced:!0},{fetch:function(){return xi(ea,aa.apply(k,arguments))}}))),w({global:!0,wrap:!0,forced:e},{Promise:ea}),cr(ea,Zi,!1),Qr(Zi),Ni=Rt(Zi),w({target:Zi,stat:!0,forced:e},{reject:function(t){var e=oa(this);return e.reject.call(void 0,t),e.promise}}),w({target:Zi,stat:!0,forced:e},{resolve:function(t){return xi(this,t)}}),w({target:Zi,stat:!0,forced:a},{all:function(t){var s=this,e=oa(s),u=e.resolve,l=e.reject,n=Ui(function(){var r=un(s.resolve),i=[],a=0,o=1;li(t,function(t){var e=a++,n=!1;i.push(void 0),o++,r.call(s,t).then(function(t){n||(n=!0,i[e]=t,--o||u(i))},l)}),--o||u(i)});return n.error&&l(n.value),e.promise},race:function(t){var n=this,r=oa(n),i=r.reject,e=Ui(function(){var e=un(n.resolve);li(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}}),c("match")),ka=[].push,Sa=4294967295,Pa=!l(function(){return!RegExp(Sa,"y")}),r=(Xt("split",2,function(i,d,p){var y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=Ce(this)+"",r=void 0===e?Sa:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!bi(t))return d.call(n,t,r);for(var i,a,o,s=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=new RegExp(t.source,e+"g");(i=On.call(l,n))&&!(u<(a=l.lastIndex)&&(s.push(n.slice(u,i.index)),1<i.length&&i.index<n.length&&ka.apply(s,i.slice(1)),o=i[0].length,u=a,s.length>=r));)l.lastIndex===i.index&&l.lastIndex++;return u===n.length?!o&&l.test("")||s.push(""):s.push(n.slice(u)),s.length>r?s.slice(0,r):s}:function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)};return[function(t,e){var n=Ce(this),r=null==t?void 0:t[i];return void 0===r?y.call(n+"",t,e):r.call(t,n,e)},function(t,e){var n=p(y,t,this,e,y!==d);if(n.done)return n.value;var n=P(t),r=this+"",t=di(n,RegExp),i=n.unicode,a=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(Pa?"y":"g"),o=new t(Pa?n:"^(?:"+n.source+")",a),s=void 0===e?Sa:e>>>0;if(0==s)return[];if(0===r.length)return null===Qt(o,r)?[r]:[];for(var u=0,l=0,c=[];l<r.length;){o.lastIndex=Pa?l:0;var h,f=Qt(o,Pa?r:r.slice(l));if(null===f||(h=_(It(o.lastIndex+(Pa?0:l)),r.length))===u)l=Yt(r,l,i);else{if(c.push(r.slice(u,l)),c.length===s)return c;for(var g=1;g<=f.length-1;g++)if(c.push(f[g]),c.length===s)return c;l=u=h}}return c.push(r.slice(u)),c}]},!Pa),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global),Aa=ct,Ea=ht,Ca=("function"==typeof r.setTimeout&&(Aa=setTimeout),"function"==typeof r.clearTimeout&&(Ea=clearTimeout),[]),Ta=!1,Oa=-1;pt.prototype.run=function(){this.fun.apply(null,this.array)};for(var Va,La,Na,Ra=r.performance||{},Ia=Ra.now||Ra.mozNow||Ra.msNow||Ra.oNow||Ra.webkitNow||function(){return(new Date).getTime()},ja=new Date,Da={nextTick:function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ca.push(new pt(t,e)),1!==Ca.length||Ta||ft(dt)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:yt,addListener:yt,once:yt,off:yt,removeListener:yt,removeAllListeners:yt,emit:yt,binding:function(){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Ia.call(Ra),n=S(e),e=S(e%1*1e9);return t&&(n-=t[0],(e-=t[1])<0&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ja)/1e3}},za=G(function(o){!function(){var t,e,n,r,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?o.exports=function(){return performance.now()}:null!=Da&&Da.hrtime?(o.exports=function(){return(t()-i)/1e6},e=Da.hrtime,r=(t=function(){var t=e();return 1e9*t[0]+t[1]})(),a=1e9*Da.uptime(),i=r-a):n=Date.now?(o.exports=function(){return Date.now()-n},Date.now()):(o.exports=function(){return(new Date).getTime()-n},(new Date).getTime())}.call(me)}),Ma="undefined"==typeof window?me:window,Ba=["moz","webkit"],Fa="AnimationFrame",_a=Ma["request"+Fa],$a=Ma["cancel"+Fa]||Ma["cancelRequest"+Fa],Ga=0;!_a&&Ga<Ba.length;Ga++)_a=Ma[Ba[Ga]+"Request"+Fa],$a=Ma[Ba[Ga]+"Cancel"+Fa]||Ma[Ba[Ga]+"CancelRequest"+Fa];_a&&$a||(La=Va=0,Na=[],_a=function(t){var e,n;return 0===Na.length&&(e=za(),n=F(0,1e3/60-(e-Va)),Va=n+e,setTimeout(function(){for(var t=Na.slice(0),e=Na.length=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(Va)}catch(e){setTimeout(function(){throw e},0)}},M(n))),Na.push({handle:++La,callback:t,cancelled:!1}),La},$a=function(t){for(var e=0;e<Na.length;e++)Na[e].handle===t&&(Na[e].cancelled=!0)});function qa(t){return _a.call(Ma,t)}function Wa(t){this.ok=!1,this.alpha=1,t=(t=(t="#"==t.charAt(0)?t.substr(1,6):t).replace(/ /g,"")).toLowerCase();var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=c[t]||t;for(var h=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],e=0;e<h.length;e++){var n=h[e].re,r=h[e].process,n=n.exec(t);n&&(r=r(n),this.r=r[0],this.g=r[1],this.b=r[2],3<r.length&&(this.alpha=r[3]),this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.alpha=this.alpha<0?0:1<this.alpha||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return"#"+(t=1==t.length?"0"+t:t)+(e=1==e.length?"0"+e:e)+(n=1==n.length?"0"+n:n)},this.getHelpXML=function(){for(var t,e=[],n=0;n<h.length;n++)for(var r=h[n].example,i=0;i<r.length;i++)e[e.length]=r[i];for(t in c)e[e.length]=t;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<e.length;n++)try{var o=document.createElement("li"),s=new RGBColor(e[n]),u=document.createElement("div"),l=(u.style.cssText="margin: 3px; border: 1px solid black; background:"+s.toHex()+"; color:"+s.toHex(),u.appendChild(document.createTextNode("test")),document.createTextNode(" "+e[n]+" -> "+s.toRGB()+" -> "+s.toHex()));o.appendChild(u),o.appendChild(l),a.appendChild(o)}catch(t){}return a}}qa.cancel=function(){$a.apply(Ma,arguments)},qa.polyfill=function(t){(t=t||Ma).requestAnimationFrame=_a,t.cancelAnimationFrame=$a};var o=s.f,V=Function.prototype,Ha=V.toString,Xa=/^\s*function ([^ (]*)/,L=(!h||"name"in V||o(V,"name",{configurable:!0,get:function(){try{return Ha.call(this).match(Xa)[1]}catch(t){return""}}}),T(Ua,[{key:"hasValue",value:function(){var t=this.value;return null!==t&&""!==t&&0!==t&&void 0!==t}},{key:"isString",value:function(t){var e=this.value,n="string"==typeof e;return n&&t?t.test(e):n}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case/px$/.test(t):case/^[0-9]+$/.test(t):return!0;default:return!1}}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"getValue",value:function(t){return void 0===t||this.hasValue()?this.value:t}},{key:"getNumber",value:function(t){if(!this.hasValue())return void 0===t?0:parseFloat(t);t=this.value,t=parseFloat(t);return this.isString(/%$/)&&(t/=100),t}},{key:"getString",value:function(t){return void 0===t||this.hasValue()?void 0===this.value?"":this.value+"":t+""}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9\.\-]/g,"")}},{key:"getPixels",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!this.hasValue())return 0;var t=E("boolean"==typeof t?[void 0,t]:[t],2),n=t[0],t=t[1],r=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*_(r.computeSize("x"),r.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*F(r.computeSize("x"),r.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*r.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*r.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&t:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*r.computeSize(n);default:var i=this.getNumber();return e&&i<1?i*r.computeSize(n):i}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(d/180);case this.isString(/grad$/):return this.getNumber()*(d/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(d/180)}}},{key:"getDefinition",value:function(){var t=this.getString(),e=(e=t.match(/#([^\)'"]+)/))&&e[1];return this.document.definitions[e=e||t]}},{key:"getFillStyleDefinition",value:function(t,e){var n,r=this.getDefinition();return r?"function"==typeof r.createGradient?r.createGradient(this.document.ctx,t,e):"function"==typeof r.createPattern?(r.getHrefAttribute().hasValue()&&(n=r.getAttribute("patternTransform"),r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)),r.createPattern(this.document.ctx,t,e)):null:null}},{key:"getTextBaseline",value:function(){return this.hasValue()?Ua.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(t){for(var e,n=this.value,r=n.length,i=0,a=0;a<r&&(","===n[a]&&i++,3!==i);a++);return t.hasValue()&&this.isString()&&3!==i&&((e=new Wa(n)).ok&&(n="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(t.getNumber(),")"))),new Ua(this.document,this.name,n)}}],[{key:"empty",value:function(t){return new Ua(t,"EMPTY","")}}]),Ua);function Ua(t,e,n){C(this,Ua),this.document=t,this.name=e,this.value=n}L.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};T(ro,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(t,e){this.viewPorts.push({width:t,height:e})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var t=this.viewPorts;return t[t.length-1]}},{key:"computeSize",value:function(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:v(m(this.width,2)+m(this.height,2))/v(2)}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}}]);var Ya=ro,N=(T(no,[{key:"angleTo",value:function(t){return z(t.y-this.y,t.x-this.x)}},{key:"applyTransform",value:function(t){var e=this.x,n=this.y,r=e*t[0]+n*t[2]+t[4],e=e*t[1]+n*t[3]+t[5];this.x=r,this.y=e}}],[{key:"parse",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=x(t),t=E(t,2),n=t[0],t=t[1];return new no(void 0===n?e:n,void 0===t?e:t)}},{key:"parseScale",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,t=x(t),t=E(t,2),n=t[0],e=void 0===n?e:n,n=t[1];return new no(e,void 0===n?e:n)}},{key:"parsePath",value:function(t){for(var e=x(t),n=e.length,r=[],i=0;i<n;i+=2)r.push(new no(e[i],e[i+1]));return r}}]),no),Qa=(T(eo,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){var t,e,n;this.working||(n=this.screen,t=this.onClick,e=this.onMouseMove,(n=n.ctx.canvas).onclick=t,n.onmousemove=e,this.working=!0)}},{key:"stop",value:function(){var t;this.working&&(t=this.screen.ctx.canvas,this.working=!1,t.onclick=null,t.onmousemove=null)}},{key:"hasEvents",value:function(){return this.working&&0<this.events.length}},{key:"runEvents",value:function(){var t,i,e;this.working&&(e=this.screen,t=this.events,i=this.eventElements,(e=e.ctx.canvas.style)&&(e.cursor=""),t.forEach(function(t,e){for(var n=t.run,r=i[e];r;)n(r),r=r.parent}),this.events=[],this.eventElements=[])}},{key:"checkPath",value:function(r,i){var t,a;this.working&&i&&(t=this.events,a=this.eventElements,t.forEach(function(t,e){var n=t.x,t=t.y;!a[e]&&i.isPointInPath&&i.isPointInPath(n,t)&&(a[e]=r)}))}},{key:"checkBoundingBox",value:function(r,i){var t,a;this.working&&i&&(t=this.events,a=this.eventElements,t.forEach(function(t,e){var n=t.x,t=t.y;!a[e]&&i.isPointInBox(n,t)&&(a[e]=r)}))}},{key:"mapXY",value:function(t,e){for(var n=this.screen,r=n.window,n=n.ctx,i=new N(t,e),a=n.canvas;a;)i.x-=a.offsetLeft,i.y-=a.offsetTop,a=a.offsetParent;return r.scrollX&&(i.x+=r.scrollX),r.scrollY&&(i.y+=r.scrollY),i}},{key:"onClick",value:function(t){var t=this.mapXY((t||event).clientX,(t||event).clientY),e=t.x,t=t.y;this.events.push({type:"onclick",x:e,y:t,run:function(t){t.onClick&&t.onClick()}})}},{key:"onMouseMove",value:function(t){var t=this.mapXY((t||event).clientX,(t||event).clientY),e=t.x,t=t.y;this.events.push({type:"onmousemove",x:e,y:t,run:function(t){t.onMouseMove&&t.onMouseMove()}})}}]),eo),Za="undefined"==typeof window?null:window,Ka="undefined"==typeof fetch?null:fetch.bind(window),Ja=(T(to,[{key:"wait",value:function(t){this.waits.push(t)}},{key:"ready",value:function(){return this.readyPromise||Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var t=this.waits.every(function(t){return t()});return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t}},{key:"setDefaults",value:function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}},{key:"setViewBox",value:function(t){var e=t.document,n=t.ctx,r=t.aspectRatio,i=t.width,a=t.desiredWidth,o=t.height,s=t.desiredHeight,u=t.minX,u=void 0===u?0:u,l=t.minY,l=void 0===l?0:l,c=t.refX,h=t.refY,f=t.clip,g=t.clipX,g=void 0===g?0:g,t=t.clipY,t=void 0===t?0:t,r=W(r).replace(/^defer\s/,"").split(" "),r=E(r,2),d=r[0]||"xMidYMid",r=r[1]||"meet",p=i/a,y=o/s,v=_(p,y),m=F(p,y),c=("meet"===r&&(a*=v,s*=v),"slice"===r&&(a*=m,s*=m),new L(e,"refX",c)),e=new L(e,"refY",h),h=c.hasValue()&&e.hasValue();switch(h&&n.translate(-v*c.getPixels("x"),-v*e.getPixels("y")),void 0!==f&&f&&(c=v*g,e=v*t,n.beginPath(),n.moveTo(c,e),n.lineTo(i,e),n.lineTo(i,o),n.lineTo(c,o),n.closePath(),n.clip()),h||(f="meet"===r&&v===y,g="slice"===r&&m===y,t="meet"===r&&v===p,e="slice"===r&&m===p,/^xMid/.test(d)&&(f||g)&&n.translate(i/2-a/2,0),/YMid$/.test(d)&&(t||e)&&n.translate(0,o/2-s/2),/^xMax/.test(d)&&(f||g)&&n.translate(i-a,0),/YMax$/.test(d)&&(t||e)&&n.translate(0,o-s)),!0){case"none"===d:n.scale(p,y);break;case"meet"===r:n.scale(v,v);break;case"slice"===r:n.scale(m,m)}n.translate(-u,-l)}},{key:"start",value:function(e){var n,r,i,a=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.enableRedraw,s=t.ignoreMouse,u=t.ignoreAnimation,l=t.ignoreDimensions,c=void 0!==l&&l,l=t.ignoreClear,h=void 0!==l&&l,f=t.forceRedraw,g=t.scaleWidth,d=t.scaleHeight,p=t.offsetX,y=t.offsetY,l=this.FRAMERATE,v=this.mouse,m=1e3/l;this.frameDuration=m,this.readyPromise=new Promise(function(t){a.resolveReady=t}),this.isReady()&&this.render(e,c,h,g,d,p,y),void 0!==o&&o&&(n=Date.now(),r=n,t=function t(){n=Date.now(),m<=(i=n-r)&&(r=n-i%m,a.shouldUpdate(void 0!==u&&u,f)&&(a.render(e,c,h,g,d,p,y),v.runEvents())),a.intervalId=qa(t)},void(i=0)!==s&&s||v.start(),this.intervalId=qa(t))}},{key:"stop",value:function(){this.intervalId&&(qa.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(t,e){if(!t){var n=this.frameDuration;if(this.animations.reduce(function(t,e){return e.update(n)||t},!1))return!0}return!("function"!=typeof e||!e())||!this.isReadyLock&&this.isReady()||!!this.mouse.hasEvents()}},{key:"render",value:function(t,e,n,r,i,a,o){var s=this.CLIENT_WIDTH,u=this.CLIENT_HEIGHT,l=this.viewPort,c=this.ctx,h=this.isFirstRender,f=c.canvas,s=(l.clear(),f.width&&f.height?l.setCurrent(f.width,f.height):l.setCurrent(s,u),t.getStyle("width")),u=t.getStyle("height"),g=(!e&&(h||"number"!=typeof r&&"number"!=typeof i)&&(s.hasValue()&&(f.width=s.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),u.hasValue()&&(f.height=u.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px")))),f.clientWidth||f.width),f=f.clientHeight||f.height;e&&s.hasValue()&&u.hasValue()&&(g=s.getPixels("x"),f=u.getPixels("y")),l.setCurrent(g,f),"number"==typeof a&&t.getAttribute("x",!0).setValue(a),"number"==typeof o&&t.getAttribute("y",!0).setValue(o),"number"!=typeof r&&"number"!=typeof i||(e=x(t.getAttribute("viewBox").getString()),u=s=0,"number"==typeof r&&((l=t.getStyle("width")).hasValue()?s=l.getPixels("x")/r:isNaN(e[2])||(s=e[2]/r)),"number"==typeof i&&((a=t.getStyle("height")).hasValue()?u=a.getPixels("y")/i:isNaN(e[3])||(u=e[3]/i)),s=s||u,u=u||s,t.getAttribute("width",!0).setValue(r),t.getAttribute("height",!0).setValue(i),(o=t.getStyle("transform",!0,!0)).setValue("".concat(o.getString()," scale(").concat(1/s,", ").concat(1/u,")"))),n||c.clearRect(0,0,g,f),t.render(c),h&&(this.isFirstRender=!1)}}]),to);function to(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.fetch,n=void 0===n?Ka:n,e=e.window,e=void 0===e?Za:e;C(this,to),this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Ya,this.mouse=new Qa(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=e,this.fetch=n}function eo(t){C(this,eo),this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}function no(t,e){C(this,no),this.x=t,this.y=e}function ro(){C(this,ro),this.viewPorts=[]}Ja.defaultWindow=Za,Ja.defaultFetch=Ka;function R(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?co(t):e}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ho(t,e)}var io,ao,oo=Ja.defaultFetch,so="undefined"==typeof DOMParser?null:DOMParser,uo=(T(fo,[{key:"parse",value:(ao=Mr(O.mark(function t(e){return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(/^</.test(e))return t.abrupt("return",this.parseFromString(e));t.next=2;break;case 2:return t.abrupt("return",this.load(e));case 3:case"end":return t.stop()}},t,this)})),function(){return ao.apply(this,arguments)})},{key:"parseFromString",value:function(e){try{return(new this.DOMParser).parseFromString(e,"image/svg+xml")}catch(t){return(new this.DOMParser).parseFromString(e,"text/xml")}}},{key:"load",value:(io=Mr(O.mark(function t(e){var n;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return n=t.sent,t.abrupt("return",this.parseFromString(n));case 7:case"end":return t.stop()}},t,this)})),function(){return io.apply(this,arguments)})}]),fo),lo=G(function(e){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n}),co=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},j=G(function(e){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n}),ho=G(function(n){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r}),g=!gi(function(t){Array.from(t)});function fo(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.fetch,e=void 0===e?oo:e,t=t.DOMParser,t=void 0===t?so:t;C(this,fo),this.fetch=e,this.DOMParser=t}w({target:"Array",stat:!0,forced:g},{from:function(t){var e,n,r,i,a,o=_t(t),t="function"==typeof this?this:Array,s=arguments.length,u=1<s?arguments[1]:void 0,l=void 0!==u,c=0,h=Jr(o);if(l&&(u=Ft(u,2<s?arguments[2]:void 0,2)),null==h||t==Array&&Kr(h))for(n=new t(e=It(o.length));c<e;c++)se(n,c,l?u(o[c],c):o[c]);else for(a=(i=h.call(o)).next,n=new t;!(r=a.call(i)).done;c++)se(n,c,l?ti(i,u,[r.value,c],!0):r.value);return n.length=c,n}});function go(t){xo[mo][t]=!0}function po(){return this}function yo(t,e,n,r,i,a,o){function s(t){return t===i&&p?p:!Vo&&t in g?g[t]:"keys"===t||t===No||t===Ro?function(){return new n(this,t)}:function(){return new n(this)}}var u,l,c=n,h=e,f=(h+=" Iterator",c.prototype=nr(Eo,{next:ke(1,r)}),cr(c,h,!1),ai[h]=Co,!1),g=t.prototype,d=g[Lo]||g["@@iterator"]||i&&g[i],p=!Vo&&d||s(i);if((r="Array"==e&&g.entries||d)&&(c=Ao(r.call(new t)),Oo!==Object.prototype&&c.next&&(Ao(c)!==Oo&&(To?To(c,Oo):"function"!=typeof c[Lo]&&A(c,Lo,po)),cr(c,e+" Iterator",!0))),i==No&&d&&d.name!==No&&(f=!0,p=function(){return d.call(this)}),g[Lo]!==p&&A(g,Lo,p),ai[e]=p,i)if(u={values:s(No),keys:a?p:s("keys"),entries:s(Ro)},o)for(l in u)!Vo&&!f&&l in g||We(g,l,u[l]);else w({target:e,proto:!0,forced:Vo||f},u);return u}var vo,mo=c("unscopables"),xo=Array.prototype,bo=(null==xo[mo]&&s.f(xo,mo,{configurable:!0,value:nr(null)}),xe.includes),wo=(w({target:"Array",proto:!0},{includes:function(t){return bo(this,t,1<arguments.length?arguments[1]:void 0)}}),go("includes"),yn.some),ko=(w({target:"Array",proto:!0,forced:Zt("some")},{some:function(t){return wo(this,t,1<arguments.length?arguments[1]:void 0)}}),c("match")),n=(w({target:"String",proto:!0,forced:!function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[ko]=!1,"/./"[e](n)}catch(e){}}}("includes")},{includes:function(t){return!!~(Ce(this)+"").indexOf(function(t){if(bi(t))throw TypeError("The method doesn't accept regular expressions");return t}(t),1<arguments.length?arguments[1]:void 0)}}),!l(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),So=Lt("IE_PROTO"),Po=Object.prototype,Ao=n?Object.getPrototypeOf:function(t){return t=_t(t),f(t,So)?t[So]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Po:null},e=c("iterator"),a=!1,V=([].keys&&("next"in(r=[].keys())?(o=Ao(Ao(r)))!==Object.prototype&&(hs=o):a=!0),f(hs=null==hs?{}:hs,e)||A(hs,e,function(){return this}),{IteratorPrototype:hs,BUGGY_SAFARI_ITERATORS:a}),Eo=V.IteratorPrototype,Co=function(){return this},To=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(r){}return function(t,e){return P(t),function(t){if(u(t)||null===t)return;throw TypeError("Can't set "+t+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),Oo=V.IteratorPrototype,Vo=V.BUGGY_SAFARI_ITERATORS,Lo=c("iterator"),No="values",Ro="entries",Io=B.charAt,jo="String Iterator",Do=qe.set,zo=qe.getterFor(jo),Mo=(yo(String,"String",function(t){Do(this,{type:jo,string:t+"",index:0})},function(){var t=zo(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(e=Io(e,n),t.index+=e.length,{value:e,done:!1})}),i.trim),g=(w({target:"String",proto:!0,forced:(vo="trim",l(function(){return"\t\n\v\f\r                　\u2028\u2029\ufeff"[vo]()||"​᠎"!="​᠎"[vo]()||"\t\n\v\f\r                　\u2028\u2029\ufeff"[vo].name!==vo}))},{trim:function(){return Mo(this)}}),T(Bo,[{key:"getAttribute",value:function(t){var e,n=this.attributes[t];return n||!(1<arguments.length&&void 0!==arguments[1])||!arguments[1]?n||L.empty(this.document):(e=new L(this.document,t,""),this.attributes[t]=e)}},{key:"getHrefAttribute",value:function(){for(var t in this.attributes)if("href"==t||/:href$/.test(t))return this.attributes[t];return L.empty(this.document)}},{key:"getStyle",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=this.styles[t];if(r)return r;var i=this.getAttribute(t);if(i&&i.hasValue())return this.styles[t]=i;if(!n){var i=this.parent;if(i){n=i.getStyle(t);if(n&&n.hasValue())return n}}return e?(i=new L(this.document,t,""),this.styles[t]=i):r||L.empty(this.document)}},{key:"render",value:function(t){var e;"none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()&&(t.save(),this.getStyle("mask").hasValue()?(e=this.getStyle("mask").getDefinition())&&e.apply(t,this):"none"!==this.getStyle("filter").getValue("none")?(e=this.getStyle("filter").getDefinition())&&e.apply(t,this):(this.setContext(t),this.renderChildren(t),this.clearContext(t)),t.restore())}},{key:"setContext",value:function(){}},{key:"clearContext",value:function(){}},{key:"renderChildren",value:function(e){this.children.forEach(function(t){t.render(e)})}},{key:"addChild",value:function(t){t=t instanceof Bo?t:this.document.createElement(t);t.parent=this,Bo.ignoreChildTypes.includes(t.type)||this.children.push(t)}},{key:"matchesSelector",value:function(e){var t=this.node;if("function"==typeof t.matches)return t.matches(e);t=t.getAttribute("class");return!(!t||""===t)&&t.split(" ").some(function(t){if(".".concat(t)===e)return!0})}},{key:"addStylesFromStyleDefinition",value:function(){var t,e=this.document,n=e.styles,r=e.stylesSpecificity;for(t in n)if("@"!==t[0]&&this.matchesSelector(t)){var i=n[t],a=r[t];if(i)for(var o in i){var s=this.stylesSpecificity[o];(s=void 0===s?"000":s)<=a&&(this.styles[o]=i[o],this.stylesSpecificity[o]=a)}}}}]),Bo);function Bo(n,t){var e,r,i=this,a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];C(this,Bo),this.document=n,this.node=t,this.captureTextNodes=a,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],t&&1===t.nodeType&&(Array.from(t.attributes).forEach(function(t){var e=U(t.nodeName);i.attributes[e]=new L(n,e,t.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(function(t){return t.trim()}).forEach(function(t){var e;t&&(t=t.split(":"),e=(t=E(t,2))[0],t=t[1],i.styles[e]=new L(n,e.trim(),t.trim()))}),e=n.definitions,(r=this.getAttribute("id")).hasValue()&&!e[r.getValue()]&&(e[r.getValue()]=this),Array.from(t.childNodes).forEach(function(t){1===t.nodeType?i.addChild(t):!a||3!==t.nodeType&&4!==t.nodeType||0<(t=n.createTextNode(t)).getText().length&&i.addChild(t)}))}g.ignoreChildTypes=["title"];I(qo,g);var Fo=qo,_o=xe.indexOf,$o=[].indexOf,Go=!!$o&&1/[1].indexOf(1,-0)<0,yn=Zt("indexOf");function qo(t,e,n){return C(this,qo),t=R(this,j(qo).call(this,t,e,n)),console.warn("Element ".concat(e.nodeName," not yet implemented.")),t}w({target:"Array",proto:!0,forced:Go||yn},{indexOf:function(t){return Go?$o.apply(this,arguments)||0:_o(this,t,1<arguments.length?arguments[1]:void 0)}});var Wo=[].reverse,r=[1,2],Ho=(w({target:"Array",proto:!0,forced:r+""==r.reverse()+""},{reverse:function(){return ln(this)&&(this.length=this.length),Wo.call(this)}}),G(function(r){function i(t,e,n){return r.exports=i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(t)return(t=Object.getOwnPropertyDescriptor(t,e)).get?t.get.call(n):t.value},i(t,e,n||t)}r.exports=i})),Xo=(T(Uo,[{key:"toString",value:function(){return[(t=this.fontStyle)&&("normal"===(t=t.trim().toLowerCase())||"italic"===t||"oblique"===t||"inherit"===t||"initial"===t||"unset"===t||/^oblique\s+(-|)\d+deg$/.test(t))?t:"",this.fontVariant,(t=this.fontWeight)&&("normal"===(t=t.trim().toLowerCase())||"bold"===t||"lighter"===t||"bolder"===t||"inherit"===t||"initial"===t||"unset"===t||/^[\d.]+$/.test(t))?t:"",this.fontSize,(t=this.fontFamily,"undefined"==typeof process?t:t.trim().split(",").map(vt).join(","))].join(" ").trim();var t}}],[{key:"parse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length?arguments[1]:void 0,n="",r="",i="",a="",o="",t=W(t).trim().split(" "),s={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return t.forEach(function(t){switch(!0){case!s.fontStyle&&Uo.styles.includes(t):"inherit"!==t&&(n=t),s.fontStyle=!0;break;case!s.fontVariant&&Uo.variants.includes(t):"inherit"!==t&&(r=t),s.fontStyle=!0,s.fontVariant=!0;break;case!s.fontWeight&&Uo.weights.includes(t):"inherit"!==t&&(i=t),s.fontStyle=!0,s.fontVariant=!0,s.fontWeight=!0;break;case!s.fontSize:var e;"inherit"!==t&&(e=t.split("/"),e=E(e,1),a=e[0]),s.fontStyle=!0,s.fontVariant=!0,s.fontWeight=!0,s.fontSize=!0;break;default:"inherit"!==t&&(o+=t)}}),new Uo(n,r,i,a,o,e)}}]),Uo);function Uo(t,e,n,r,i,a){C(this,Uo);a=a?"string"==typeof a?Uo.parse(a):a:{};this.fontFamily=i||a.fontFamily,this.fontSize=r||a.fontSize,this.fontStyle=t||a.fontStyle,this.fontWeight=n||a.fontWeight,this.fontVariant=e||a.fontVariant}Xo.styles="normal|italic|oblique|inherit",Xo.variants="normal|small-caps|inherit",Xo.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";function Yo(t,e,n){return To&&"function"==typeof(e=e.constructor)&&e!==n&&u(e=e.prototype)&&e!==n.prototype&&To(t,e),t}function Qo(t){var e,n,r,i,a,o,s,u=Te(t,!1);if("string"==typeof u&&2<u.length)if(43===(t=(u=Jo(u)).charCodeAt(0))||45===t){if(88===(e=u.charCodeAt(2))||120===e)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(a=(i=u.slice(2)).length,o=0;o<a;o++)if((s=i.charCodeAt(o))<48||r<s)return NaN;return parseInt(i,n)}return+u}var o=Ze.f,Zo=je.f,Ko=s.f,Jo=i.trim,ts="Number",es=k[ts],ns=es.prototype,rs=Pe(nr(ns))==ts;if(on(ts,!es(" 0o1")||!es("0b1")||es("+0x1"))){for(var is,as=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof as&&(rs?l(function(){ns.valueOf.call(e)}):Pe(e)!=ts)?Yo(new es(Qo(t)),e,as):Qo(t)},os=h?o(es):["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY","EPSILON","isFinite","isInteger","isNaN","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","parseFloat","parseInt","isInteger"],ss=0;os.length>ss;ss++)f(es,is=os[ss])&&!f(as,is)&&Ko(as,is,Zo(es,is));(as.prototype=ns).constructor=as,We(k,ts,as)}T(fs,[{key:"addPoint",value:function(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}},{key:"addX",value:function(t){this.addPoint(t,null)}},{key:"addY",value:function(t){this.addPoint(null,t)}},{key:"addBoundingBox",value:function(t){var e,n,r;t&&(e=t.x1,n=t.y1,r=t.x2,t=t.y2,this.addPoint(e,n),this.addPoint(r,t))}},{key:"sumCubic",value:function(t,e,n,r,i){return m(1-t,3)*e+3*m(1-t,2)*t*n+3*(1-t)*m(t,2)*r+m(t,3)*i}},{key:"bezierCurveAdd",value:function(t,e,n,r,i){var a,o=6*e-12*n+6*r,s=-3*e+9*n-9*r+3*i,u=3*n-3*e;0==s?0!=o&&0<(a=-u/o)&&a<1&&(t?this.addX(this.sumCubic(a,e,n,r,i)):this.addY(this.sumCubic(a,e,n,r,i))):(a=m(o,2)-4*u*s)<0||(0<(u=(-o+v(a))/(2*s))&&u<1&&(t?this.addX(this.sumCubic(u,e,n,r,i)):this.addY(this.sumCubic(u,e,n,r,i))),0<(u=(-o-v(a))/(2*s))&&u<1&&(t?this.addX(this.sumCubic(u,e,n,r,i)):this.addY(this.sumCubic(u,e,n,r,i))))}},{key:"addBezierCurve",value:function(t,e,n,r,i,a,o,s){this.addPoint(t,e),this.addPoint(o,s),this.bezierCurveAdd(!0,t,n,i,o),this.bezierCurveAdd(!1,e,r,a,s)}},{key:"addQuadraticCurve",value:function(t,e,n,r,i,a){n=t+2/3*(n-t),r=e+2/3*(r-e);this.addBezierCurve(t,e,n,n+1/3*(i-t),r,r+1/3*(a-e),i,a)}},{key:"isPointInBox",value:function(t,e){var n=this.x1,r=this.y1,i=this.x2,a=this.y2;return n<=t&&t<=i&&r<=e&&e<=a}},{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}}]);var us=fs,e="toString",ls=RegExp.prototype,cs=ls[e],hs=l(function(){return"/a/b"!=cs.call({source:"a",flags:"b"})}),a=cs.name!=e;function fs(){var t=Number.NaN,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:t;C(this,fs),this.x1=e,this.y1=n,this.x2=r,this.y2=t,this.addPoint(e,n),this.addPoint(r,t)}(hs||a)&&We(RegExp.prototype,e,function(){var t=P(this),e=t.source+"",n=t.flags;return"/"+e+"/"+((void 0===n&&t instanceof RegExp&&!("flags"in ls)?Ht.call(t):n)+"")},{unsafe:!0});T(ws,[{key:"apply",value:function(t){var e=this.point,n=e.x,e=e.y;t.translate(n||0,e||0)}},{key:"unapply",value:function(t){var e=this.point,n=e.x,e=e.y;t.translate(-1*n||0,-1*e||0)}},{key:"applyToPoint",value:function(t){var e=this.point,n=e.x,e=e.y;t.applyTransform([1,0,0,1,n||0,e||0])}}]);var V=ws,B=(T(bs,[{key:"apply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(r.getRadians()),t.translate(-e,-n)}},{key:"unapply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(-1*r.getRadians()),t.translate(-e,-n)}},{key:"applyToPoint",value:function(t){var e=this.cx,n=this.cy,r=this.angle.getRadians();t.applyTransform([1,0,0,1,e||0,n||0]),t.applyTransform([y(r),p(r),-p(r),y(r),0,0]),t.applyTransform([1,0,0,1,-e||0,-n||0])}}]),bs),xe=(T(xs,[{key:"apply",value:function(t){var e=this.scale,n=e.x,e=e.y;t.scale(n,e||n)}},{key:"unapply",value:function(t){var e=this.scale,n=e.x,e=e.y;t.scale(1/n,1/e||n)}},{key:"applyToPoint",value:function(t){var e=this.scale,n=e.x,e=e.y;t.applyTransform([n||0,0,0,e||0,0,0])}}]),xs),yn=(T(ms,[{key:"apply",value:function(t){var e=this.matrix;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"unapply",value:function(t){var e=this.matrix,n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],e=e[5],s=1/(n*(+o-0*e)-r*(+a-0*e)+i*(0*a-0*o));t.transform(s*(+o-0*e),s*(0*e-+a),s*(0*i-+r),s*(+n-0*i),s*(r*e-i*o),s*(i*a-n*e))}},{key:"applyToPoint",value:function(t){t.applyTransform(this.matrix)}}]),ms),r=(I(vs,yn),vs),o=(I(ys,r),ys),hs=(I(ps,r),ps),gs=(T(ds,[{key:"apply",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].apply(t)}},{key:"unapply",value:function(t){for(var e=this.transforms,n=e.length-1;0<=n;n--)e[n].unapply(t)}},{key:"applyToPoint",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].applyToPoint(t)}}],[{key:"fromElement",value:function(t,e){var n=e.getStyle("transform",!1,!0),e=e.getStyle("transform-origin",!1,!0);return n.hasValue()?new ds(t,n.getString(),e.getString()):null}}]),ds);function ds(t,e,n){var r=this,t=(C(this,ds),this.document=t,this.transforms=[],W(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)),i=n?x(n):[];t.forEach(function(t){var e;"none"!==t&&(t=(t=t).split("("),e=(t=E(t,2))[0],t=t[1],e=[e.trim(),t.trim().replace(")","")],e=(t=E(e,2))[0],t=t[1],void 0!==(e=ds.transformTypes[e])&&r.transforms.push(new e(r.document,t,i)))})}function ps(t,e){return C(this,ps),(t=R(this,j(ps).call(this,t,e))).type="skewY",t.matrix=[1,D(t.angle.getRadians()),0,1,0,0],t}function ys(t,e){return C(this,ys),(t=R(this,j(ys).call(this,t,e))).type="skewX",t.matrix=[1,0,D(t.angle.getRadians()),1,0,0],t}function vs(t,e){var n;return C(this,vs),(n=R(this,j(vs).call(this,t,e))).type="skew",n.angle=null,n.angle=new L(t,"angle",e),n}function ms(t,e){C(this,ms),this.type="matrix",this.matrix=[],this.matrix=x(e)}function xs(t,e){C(this,xs),this.type="scale",this.scale=null;e=N.parseScale(e);0!==e.x&&0!==e.y||(e.x=Xn,e.y=Xn),this.scale=e}function bs(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],e=(C(this,bs),this.type="rotate",this.angle=null,this.cx=0,this.cy=0,x(e));this.angle=new L(t,"angle",e[0]),this.cx=(e[1]||0)+(n[0]||0),this.cy=(e[2]||0)+(n[1]||0)}function ws(t,e){C(this,ws),this.type="translate",this.point=null,this.point=N.parse(e)}gs.transformTypes={translate:V,rotate:B,scale:xe,matrix:yn,skewX:o,skewY:hs};I(Cs,g),T(Cs,[{key:"calculateOpacity",value:function(){for(var t,e=1,n=this;n;)(t=n.getStyle("opacity",!1,!0)).hasValue()&&(e*=t.getNumber()),n=n.parent;return e}},{key:"setContext",value:function(t){!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1]||(r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),n=this.getStyle("stroke-opacity"),r.isUrlDefinition()?(a=r.getFillStyleDefinition(this,i))&&(t.fillStyle=a):r.hasValue()&&("currentColor"===r.getString()&&r.setValue(this.getStyle("color").getValue()),"inherit"!==(a=r.getString())&&(t.fillStyle="none"===a?"rgba(0,0,0,0)":a)),i.hasValue()&&(r=new L(this.document,"fill",t.fillStyle).addOpacity(i).getString(),t.fillStyle=r),o.isUrlDefinition()?(a=o.getFillStyleDefinition(this,n))&&(t.strokeStyle=a):o.hasValue()&&("currentColor"===o.getString()&&o.setValue(this.getStyle("color").getValue()),"inherit"!==(i=o.getString())&&(t.strokeStyle="none"===i?"rgba(0,0,0,0)":i)),n.hasValue()&&(r=new L(this.document,"stroke",t.strokeStyle).addOpacity(n).getString(),t.strokeStyle=r),(a=this.getStyle("stroke-width")).hasValue()&&(o=a.getPixels(),t.lineWidth=o||Xn),i=this.getStyle("stroke-linecap"),n=this.getStyle("stroke-linejoin"),r=this.getStyle("stroke-miterlimit"),a=this.getStyle("paint-order"),o=this.getStyle("stroke-dasharray"),e=this.getStyle("stroke-dashoffset"),i.hasValue()&&(t.lineCap=i.getString()),n.hasValue()&&(t.lineJoin=n.getString()),r.hasValue()&&(t.miterLimit=r.getNumber()),a.hasValue()&&(t.paintOrder=a.getValue()),o.hasValue()&&"none"!==o.getString()&&(i=x(o.getString()),void 0===t.setLineDash?void 0===t.webkitLineDash?void 0===t.mozDash||1===i.length&&0===i[0]||(t.mozDash=i):t.webkitLineDash=i:t.setLineDash(i),n=e.getPixels(),void 0===t.lineDashOffset?void 0===t.webkitLineDashOffset?void 0!==t.mozDashOffset&&(t.mozDashOffset=n):t.webkitLineDashOffset=n:t.lineDashOffset=n)),this.modifiedEmSizeStack=!1,void 0!==t.font&&(r=this.getStyle("font"),a=this.getStyle("font-style"),o=this.getStyle("font-variant"),i=this.getStyle("font-weight"),e=this.getStyle("font-size"),n=this.getStyle("font-family"),r=new Xo(a.getString(),o.getString(),i.getString(),e.hasValue()?"".concat(e.getPixels(!0),"px"):"",n.getString(),Xo.parse(r.getString(),t.font)),a.setValue(r.fontStyle),o.setValue(r.fontVariant),i.setValue(r.fontWeight),e.setValue(r.fontSize),n.setValue(r.fontFamily),t.font=r.toString(),e.isPixels()&&(this.document.emSize=e.getPixels(),this.modifiedEmSizeStack=!0));var e,n,r,i,a=gs.fromElement(this.document,this),o=(a&&a.apply(t),this.getStyle("clip-path",!1,!0));o.hasValue()&&(i=o.getDefinition())&&i.apply(t),t.globalAlpha=this.calculateOpacity()}},{key:"clearContext",value:function(t){Ho(j(Cs.prototype),"clearContext",this).call(this,t),this.modifiedEmSizeStack&&this.document.popEmSize()}}]);var a=Cs,e=(I(Es,a),T(Es,[{key:"setContext",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],e=(Ho(j(Es.prototype),"setContext",this).call(this,t,e),this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline());e&&(t.textBaseline=e)}},{key:"initializeCoordinates",value:function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var e=this.getAttribute("dx"),n=this.getAttribute("dy");e.hasValue()&&(this.x+=e.getPixels("x")),n.hasValue()&&(this.y+=n.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)}},{key:"getBoundingBox",value:function(n){var r=this;if("text"!==this.type)return this.getTElementBoundingBox(n);this.initializeCoordinates(n);var i=null;return this.children.forEach(function(t,e){e=r.getChildBoundingBox(n,r,r,e);i?i.addBoundingBox(e):i=e}),i}},{key:"getFontSize",value:function(){var t=this.document,e=this.parent,t=Xo.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(t)}},{key:"getTElementBoundingBox",value:function(t){var e=this.getFontSize();return new us(this.x,this.y-e,this.x+this.measureText(t),this.y)}},{key:"getGlyph",value:function(t,e,n){var r,i,a=e[n],o=null;return t.isArabic?(r=e.length,i=e[n-1],e=e[n+1],void 0===t.glyphs[a]||(o=t.glyphs[a][0<n&&" "!==i&&(n===r-1||" "===e)?"initial":0<n&&" "!==i&&n<r-2&&" "!==e?"medial":(0===n||" "===i)&&n<r-2&&" "!==e?"terminal":"isolated"])||"glyph"!==t.glyphs[a].type||(o=t.glyphs[a])):o=t.glyphs[a],o=o||t.missingGlyph}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(t){var t=t||this.node,e=Array.from(t.parentNode.childNodes),n=e.indexOf(t),e=e.length-1,t=W(t.value||t.text||t.textContent||"");return 0===n&&(t=H(t)),t=n===e?X(t):t}},{key:"renderChildren",value:function(n){var t,r=this;"text"!==this.type?this.renderTElementChildren(n):(this.initializeCoordinates(n),this.children.forEach(function(t,e){r.renderChild(n,r,r,e)}),(t=this.document.screen.mouse).isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(n)))}},{key:"renderTElementChildren",value:function(t){var e=this.document,n=this.parent,r=this.getText(),i=n.getStyle("font-family").getDefinition();if(i)for(var a,o=i.fontFace.unitsPerEm,e=Xo.parse(e.ctx.font),s=n.getStyle("font-size").getNumber(e.fontSize),u=n.getStyle("font-style").getString(e.fontStyle),l=s/o,c=i.isRTL?r.split("").reverse().join(""):r,h=x(n.getAttribute("dx").getString()),f=c.length,g=0;g<f;g++){a=this.getGlyph(i,c,g),t.translate(this.x,this.y),t.scale(l,-l);var d=t.lineWidth;t.lineWidth=t.lineWidth*o/s,"italic"===u&&t.transform(1,0,.4,1,0,0),a.render(t),"italic"===u&&t.transform(1,0,-.4,1,0,0),t.lineWidth=d,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=s*(a.horizAdvX||i.horizAdvX)/o,void 0===h[g]||isNaN(h[g])||(this.x+=h[g])}else{e=this.x,n=this.y;"stroke"===t.paintOrder?(t.strokeStyle&&t.strokeText(r,e,n),t.fillStyle&&t.fillText(r,e,n)):(t.fillStyle&&t.fillText(r,e,n),t.strokeStyle&&t.strokeText(r,e,n))}}},{key:"getAnchorDelta",value:function(t,e,n){var r=this.getStyle("text-anchor").getString("start");if("start"===r)return 0;for(var i=e.children,a=i.length,o=null,s=0,u=n;u<a&&(o=i[u],!(n<u&&o.getAttribute("x").hasValue()||o.getAttribute("text-anchor").hasValue()));u++)s+=o.measureTextRecursive(t);return-1*("end"===r?s:s/2)}},{key:"adjustChildCoordinates",value:function(t,e,n,r){var i=n.children[r];if("function"!=typeof i.measureText)return i;var a=i.getAttribute("x"),o=i.getAttribute("y"),s=i.getAttribute("dx"),u=i.getAttribute("dy"),l=i.getAttribute("text-anchor").getString("start");return 0===r&&"textNode"!==i.type&&(a.hasValue()||a.setValue(e.getAttribute("x").getValue("0")),o.hasValue()||o.setValue(e.getAttribute("y").getValue("0")),s.hasValue()||s.setValue(e.getAttribute("dx").getValue("0")),u.hasValue()||u.setValue(e.getAttribute("dy").getValue("0"))),a.hasValue()?(i.x=a.getPixels("x")+e.getAnchorDelta(t,n,r),"start"!==l&&(a=i.measureTextRecursive(t),i.x+=-1*("end"===l?a:a/2)),s.hasValue()&&(i.x+=s.getPixels("x"))):("start"!==l&&(n=i.measureTextRecursive(t),e.x+=-1*("end"===l?n:n/2)),s.hasValue()&&(e.x+=s.getPixels("x")),i.x=e.x),e.x=i.x+i.measureText(t),o.hasValue()?(i.y=o.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(e.y+=u.getPixels("y")),i.y=e.y),e.y=i.y,i}},{key:"getChildBoundingBox",value:function(n,r,t,e){var i=this.adjustChildCoordinates(n,r,t,e),a=i.getBoundingBox(n);return a?(i.children.forEach(function(t,e){e=r.getChildBoundingBox(n,r,i,e);a.addBoundingBox(e)}),a):null}},{key:"renderChild",value:function(n,r,t,e){var i=this.adjustChildCoordinates(n,r,t,e);i.render(n),i.children.forEach(function(t,e){r.renderChild(n,r,i,e)})}},{key:"measureTextRecursive",value:function(n){return this.children.reduce(function(t,e){return t+e.measureTextRecursive(n)},this.measureText(n))}},{key:"measureText",value:function(t){var e=this.measureCache;if(~e)return e;e=this.getText(),t=this.measureTargetText(t,e);return this.measureCache=t}},{key:"measureTargetText",value:function(t,e){if(!e.length)return 0;var n=this.parent,r=n.getStyle("font-family").getDefinition();if(r){for(var i=this.getFontSize(),a=r.isRTL?e.split("").reverse().join(""):e,o=x(n.getAttribute("dx").getString()),s=a.length,u=0,l=0;l<s;l++)u+=(this.getGlyph(r,a,l).horizAdvX||r.horizAdvX)*i/r.fontFace.unitsPerEm,void 0===o[l]||isNaN(o[l])||(u+=o[l]);return u}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);n=t.measureText(e).width;return t.restore(),n}}]),Es),ks=(I(As,e),T(As,[{key:"getText",value:function(){return this.text}}]),As),Ss=(I(Ps,ks),Ps);function Ps(){var t;return C(this,Ps),(t=R(this,j(Ps).apply(this,arguments))).type="textNode",t}function As(t,e,n){return C(this,As),(t=R(this,j(As).call(this,t,e,(this instanceof As?this.constructor:void 0)===As||n))).type="tspan",t.text=0<t.children.length?"":t.getTextFromNode(),t}function Es(t,e,n){return C(this,Es),(t=R(this,j(Es).call(this,t,e,(this instanceof Es?this.constructor:void 0)===Es||n))).type="text",t.x=0,t.y=0,t.measureCache=-1,t}function Cs(){var t;return C(this,Cs),(t=R(this,j(Cs).apply(this,arguments))).modifiedEmSizeStack=!1,t}w({target:"Array",proto:!0},{fill:function(t){for(var e=_t(this),n=It(e.length),r=arguments.length,i=jt(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,a=void 0===r?n:jt(r,n);i<a;)e[i++]=t;return e}}),go("fill");T(Hs,[{key:"reset",value:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new N(0,0),this.control=new N(0,0),this.current=new N(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){return this.i>=this.tokens.length-1}},{key:"isCommandOrEnd",value:function(){if(this.isEnd())return!0;var t=this.i,e=this.tokens;return/^[A-Za-z]$/.test(e[t+1])}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0;default:return!1}}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var t=new N(this.getScalar(),this.getScalar());return this.makeAbsolute(t)}},{key:"getAsControlPoint",value:function(){var t=this.getPoint();return this.control=t}},{key:"getAsCurrentPoint",value:function(){var t=this.getPoint();return this.current=t}},{key:"getReflectedControlPoint",value:function(){var t=this.previousCommand.toLowerCase();if("c"!==t&&"s"!==t&&"q"!==t&&"t"!==t)return this.current;var t=this.current,e=t.x,t=t.y,n=this.control,r=n.x,n=n.y;return new N(2*e-r,2*t-n)}},{key:"makeAbsolute",value:function(t){var e,n;return this.isRelativeCommand()&&(e=(n=this.current).x,n=n.y,t.x+=e,t.y+=n),t}},{key:"addMarker",value:function(t,e,n){var r=this.points,i=this.angles;n&&0<i.length&&!i[i.length-1]&&(i[i.length-1]=r[r.length-1].angleTo(n)),this.addMarkerAngle(t,e?e.angleTo(t):null)}},{key:"addMarkerAngle",value:function(t,e){this.points.push(t),this.angles.push(e)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var t=this.angles,e=t.length,n=0;n<e;n++)if(!t[n])for(var r=n+1;r<e;r++)if(t[r]){t[n]=t[r];break}return t}}]);var Ts=Hs,Os=(I(Ws,a),T(Ws,[{key:"path",value:function(t){var e=this.pathParser,n=new us;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":this.pathM(t,n);break;case"L":case"l":this.pathL(t,n);break;case"H":case"h":this.pathH(t,n);break;case"V":case"v":this.pathV(t,n);break;case"C":case"c":this.pathC(t,n);break;case"S":case"s":this.pathS(t,n);break;case"Q":case"q":this.pathQ(t,n);break;case"T":case"t":this.pathT(t,n);break;case"A":case"a":this.pathA(t,n);break;case"Z":case"z":this.pathZ(t,n)}return n}},{key:"getBoundingBox",value:function(){return this.path()}},{key:"getMarkers",value:function(){var t=this.pathParser,e=t.getMarkerPoints(),n=t.getMarkerAngles();return e.map(function(t,e){return[t,n[e]]})}},{key:"renderChildren",value:function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule"),n=(""!==t.fillStyle&&("inherit"===e.getString("inherit")?t.fill():t.fill(e.getString())),""!==t.strokeStyle&&t.stroke(),this.getMarkers());if(n){var r,i,a=n.length-1,e=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(e.isUrlDefinition()&&(e=e.getDefinition(),r=(i=E(n[0],2))[0],i=i[1],e.render(t,r,i)),o.isUrlDefinition())for(var u=o.getDefinition(),l=1;l<a;l++){var c=E(n[l],2),h=c[0],c=c[1];u.render(t,h,c)}s.isUrlDefinition()&&(e=s.getDefinition(),i=(r=E(n[a],2))[0],o=r[1],e.render(t,i,o))}}},{key:"pathM",value:function(t,e){var n=this.pathParser,r=n.getAsCurrentPoint(),i=r.x,a=r.y;for(n.addMarker(r),e.addPoint(i,a),t&&t.moveTo(i,a),n.start=n.current;!n.isCommandOrEnd();){var o=n.getAsCurrentPoint(),s=o.x,u=o.y;n.addMarker(o,n.start),e.addPoint(s,u),t&&t.lineTo(s,u)}}},{key:"pathL",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getAsCurrentPoint(),a=i.x,o=i.y;n.addMarker(i,r),e.addPoint(a,o),t&&t.lineTo(a,o)}}},{key:"pathH",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=new N((n.isRelativeCommand()?r.x:0)+n.getScalar(),r.y);n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathV",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=new N(r.x,(n.isRelativeCommand()?r.y:0)+n.getScalar());n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathC",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getPoint(),a=n.getAsControlPoint(),o=n.getAsCurrentPoint();n.addMarker(o,a,i),e.addBezierCurve(r.x,r.y,i.x,i.y,a.x,a.y,o.x,o.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y)}}},{key:"pathS",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getReflectedControlPoint(),a=n.getAsControlPoint(),o=n.getAsCurrentPoint();n.addMarker(o,a,i),e.addBezierCurve(r.x,r.y,i.x,i.y,a.x,a.y,o.x,o.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y)}}},{key:"pathQ",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getAsControlPoint(),a=n.getAsCurrentPoint();n.addMarker(a,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}}},{key:"pathT",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getReflectedControlPoint(),a=(n.control=i,n.getAsCurrentPoint());n.addMarker(a,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}}},{key:"pathA",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getScalar(),a=n.getScalar(),o=n.getScalar()*(d/180),s=n.getScalar(),u=n.getScalar(),l=n.getAsCurrentPoint(),c=new N(y(o)*(r.x-l.x)/2+p(o)*(r.y-l.y)/2,-p(o)*(r.x-l.x)/2+y(o)*(r.y-l.y)/2),h=m(c.x,2)/m(i,2)+m(c.y,2)/m(a,2),h=(1<h&&(i*=v(h),a*=v(h)),(s===u?-1:1)*v((m(i,2)*m(a,2)-m(i,2)*m(c.y,2)-m(a,2)*m(c.x,2))/(m(i,2)*m(c.y,2)+m(a,2)*m(c.x,2)))),s=(isNaN(h)&&(h=0),new N(h*i*c.y/a,h*-a*c.x/i)),h=new N((r.x+l.x)/2+y(o)*s.x-p(o)*s.y,(r.y+l.y)/2+p(o)*s.x+y(o)*s.y),r=tt([1,0],[(c.x-s.x)/i,(c.y-s.y)/a]),f=[(c.x-s.x)/i,(c.y-s.y)/a],c=[(-c.x-s.x)/i,(-c.y-s.y)/a],s=tt(f,c),g=(J(f,c)<=-1&&(s=d),1-u?1:-1),f=r+(s=1<=J(f,c)?0:s)/2*g,c=new N(h.x+i*y(f),h.y+a*p(f));n.addMarkerAngle(c,f-g*d/2),n.addMarkerAngle(l,f-g*d),e.addPoint(l.x,l.y),!t||isNaN(r)||isNaN(s)||(c=a<i?i:a,f=a<i?1:i/a,g=a<i?a/i:1,t.translate(h.x,h.y),t.rotate(o),t.scale(f,g),t.arc(0,0,c,r,r+s,!!(1-u)),t.scale(1/f,1/g),t.rotate(-o),t.translate(-h.x,-h.y))}}},{key:"pathZ",value:function(t,e){var n=this.pathParser;t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath(),n.current=n.start}}]),Ws),Vs=(I(qs,a),T(qs,[{key:"clearContext",value:function(t){Ho(j(qs.prototype),"clearContext",this).call(this,t),this.document.screen.viewPort.removeCurrent()}},{key:"setContext",value:function(t){var e=this.document,n=e.screen,r=e.window,i=t.canvas,i=(n.setDefaults(t),i.style&&void 0!==t.font&&r&&void 0!==r.getComputedStyle&&(t.font=r.getComputedStyle(i).getPropertyValue("font"),(r=new L(e,"fontSize",Xo.parse(t.font).fontSize)).hasValue()&&(e.rootEmSize=r.getPixels("y"),e.emSize=e.rootEmSize)),Ho(j(qs.prototype),"setContext",this).call(this,t),this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),n.viewPort),r=i.width,i=i.height,a=(this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getAttribute("refX")),o=this.getAttribute("refY"),s=this.getAttribute("viewBox"),s=s.hasValue()?x(s.getString()):null,u=!this.root&&"visible"!==this.getAttribute("overflow").getValue("hidden"),l=0,c=0,h=0,f=0;s&&(l=s[0],c=s[1]),this.root||(r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y"),"marker"===this.type&&(h=l,f=c,c=l=0)),n.viewPort.setCurrent(r,i),s&&(r=s[2],i=s[3]),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:r,height:n.viewPort.height,desiredHeight:i,minX:l,minY:c,refX:a.getValue(),refY:o.getValue(),clip:u,clipX:h,clipY:f}),s&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(r,i))}},{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=this.getAttribute("width",!0),i=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),o=this.getAttribute("style"),s=r.getNumber(0),u=i.getNumber(0);n&&("string"==typeof n?this.getAttribute("preserveAspectRatio",!0).setValue(n):(n=this.getAttribute("preserveAspectRatio")).hasValue()&&n.setValue(n.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))),r.setValue(t),i.setValue(e),a.hasValue()||a.setValue("0 0 ".concat(s||t," ").concat(u||e)),o.hasValue()&&(n=this.getStyle("width"),r=this.getStyle("height"),n.hasValue()&&n.setValue("".concat(t,"px")),r.hasValue()&&r.setValue("".concat(e,"px")))}}]),qs),Ls=(I(Gs,Os),T(Gs,[{key:"path",value:function(t){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y"),a=this.getAttribute("rx"),o=this.getAttribute("ry"),s=a.getPixels("x"),u=o.getPixels("y");return a.hasValue()&&!o.hasValue()&&(u=s),o.hasValue()&&!a.hasValue()&&(s=u),s=_(s,r/2),u=_(u,i/2),t&&(o=(v(2)-1)/3*4,t.beginPath(),0<i&&0<r&&(t.moveTo(e+s,n),t.lineTo(e+r-s,n),t.bezierCurveTo(e+r-s+o*s,n,e+r,n+u-o*u,e+r,n+u),t.lineTo(e+r,n+i-u),t.bezierCurveTo(e+r,n+i-u+o*u,e+r-s+o*s,n+i,e+r-s,n+i),t.lineTo(e+s,n+i),t.bezierCurveTo(e+s-o*s,n+i,e,n+i-u+o*u,e,n+i-u),t.lineTo(e,n+u),t.bezierCurveTo(e,n+u-o*u,e+s-o*s,n,e+s,n),t.closePath())),new us(e,n,e+r,n+i)}},{key:"getMarkers",value:function(){return null}}]),Gs),Ns=(I($s,Os),T($s,[{key:"path",value:function(t){var e=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return t&&0<r&&(t.beginPath(),t.arc(e,n,r,0,2*d,!1),t.closePath()),new us(e-r,n-r,e+r,n+r)}},{key:"getMarkers",value:function(){return null}}]),$s),Rs=(I(_s,Os),T(_s,[{key:"path",value:function(t){var e=(v(2)-1)/3*4,n=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return t&&(t.beginPath(),t.moveTo(i+n,a),t.bezierCurveTo(i+n,a+e*r,i+e*n,a+r,i,a+r),t.bezierCurveTo(i-e*n,a+r,i-n,a+e*r,i-n,a),t.bezierCurveTo(i-n,a-e*r,i-e*n,a-r,i,a-r),t.bezierCurveTo(i+e*n,a-r,i+n,a-e*r,i+n,a),t.closePath()),new us(i-n,a-r,i+n,a+r)}},{key:"getMarkers",value:function(){return null}}]),_s),Is=(I(Fs,Os),T(Fs,[{key:"getPoints",value:function(){return[new N(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new N(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(t){var e=this.getPoints(),e=E(e,2),n=e[0],r=n.x,n=n.y,e=e[1],i=e.x,e=e.y;return t&&(t.beginPath(),t.moveTo(r,n),t.lineTo(i,e)),new us(r,n,i,e)}},{key:"getMarkers",value:function(){var t=this.getPoints(),t=E(t,2),e=t[0],t=t[1],n=e.angleTo(t);return[[e,n],[t,n]]}}]),Fs),js=(I(Bs,Os),T(Bs,[{key:"path",value:function(n){var t=this.points,e=E(t,1)[0],r=e.x,e=e.y,i=new us(r,e);return n&&(n.beginPath(),n.moveTo(r,e)),t.forEach(function(t){var e=t.x,t=t.y;i.addPoint(e,t),n&&n.lineTo(e,t)}),i}},{key:"getMarkers",value:function(){var n=this.points,r=n.length-1,i=[];return n.forEach(function(t,e){e!==r&&i.push([t,t.angleTo(n[e+1])])}),0<i.length&&i.push([n[n.length-1],i[i.length-1][1]]),i}}]),Bs),Ds=(I(Ms,js),T(Ms,[{key:"path",value:function(t){var e=Ho(j(Ms.prototype),"path",this).call(this,t),n=E(this.points,1)[0],r=n.x,n=n.y;return t&&(t.lineTo(r,n),t.closePath()),e}}]),Ms),zs=je.f;function Ms(){var t;return C(this,Ms),(t=R(this,j(Ms).apply(this,arguments))).type="polygon",t}function Bs(t,e,n){return C(this,Bs),(t=R(this,j(Bs).call(this,t,e,n))).type="polyline",t.points=[],t.points=N.parsePath(t.getAttribute("points").getString()),t}function Fs(){var t;return C(this,Fs),(t=R(this,j(Fs).apply(this,arguments))).type="line",t}function _s(){var t;return C(this,_s),(t=R(this,j(_s).apply(this,arguments))).type="ellipse",t}function $s(){var t;return C(this,$s),(t=R(this,j($s).apply(this,arguments))).type="circle",t}function Gs(){var t;return C(this,Gs),(t=R(this,j(Gs).apply(this,arguments))).type="rect",t}function qs(){var t;return C(this,qs),(t=R(this,j(qs).apply(this,arguments))).type="svg",t.root=!1,t}function Ws(t,e,n){return C(this,Ws),(t=R(this,j(Ws).call(this,t,e,n))).type="path",t.pathParser=null,t.pathParser=new Ts(t.getAttribute("d").getString()),t}function Hs(t){C(this,Hs),this.control=null,this.start=null,this.current=null,this.command="",this.tokens=[],this.i=-1,this.previousCommand="",this.points=[],this.angles=[],this.tokens=W(t.replace(/,/gm," ").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2").replace(/([0-9])([+\-])/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ")).trim().split(" ")}w({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=zs(P(t),e);return(!n||n.configurable)&&delete t[e]}});I(fu,g),T(fu,[{key:"createPattern",value:function(t,e,n){var r=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),a=new Vs(this.document,null),o=(a.attributes.viewBox=new L(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new L(this.document,"width","".concat(r,"px")),a.attributes.height=new L(this.document,"height","".concat(i,"px")),a.attributes.transform=new L(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children,this.document.createCanvas(r,i)),s=o.getContext("2d"),r=this.getAttribute("x"),i=this.getAttribute("y");r.hasValue()&&i.hasValue()&&s.translate(r.getPixels("x",!0),i.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var u=-1;u<=1;u++)for(var l=-1;l<=1;l++)s.save(),a.attributes.x=new L(this.document,"x",u*o.width),a.attributes.y=new L(this.document,"y",l*o.height),a.render(s),s.restore();return t.createPattern(o,"repeat")}}]);var Xs=fu,Us=(I(hu,g),T(hu,[{key:"render",value:function(t,e,n){var r,i,a,o;e&&(r=e.x,e=e.y,i=this.getAttribute("orient").getValue("auto"),a=this.getAttribute("markerUnits").getValue("strokeWidth"),t.translate(r,e),"auto"===i&&t.rotate(n),"strokeWidth"===a&&t.scale(t.lineWidth,t.lineWidth),t.save(),(o=new Vs(this.document,null)).type=this.type,o.attributes.viewBox=new L(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new L(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new L(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new L(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new L(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new L(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new L(this.document,"fill",this.getAttribute("fill").getValue("black")),o.attributes.stroke=new L(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(t),t.restore(),"strokeWidth"===a&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===i&&t.rotate(-n),t.translate(-r,-e))}}]),hu),Ys=(I(cu,g),T(cu,[{key:"render",value:function(){}}]),cu),Qs=(I(lu,a),T(lu,[{key:"getBoundingBox",value:function(e){var n=new us;return this.children.forEach(function(t){n.addBoundingBox(t.getBoundingBox(e))}),n}}]),lu),Zs=(I(uu,g),T(uu,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(t,e,n){var r=this,i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var a,o,i=i.stops,s=this.getGradient(t,e);return s?(i.forEach(function(t){s.addColorStop(t.offset,r.addParentOpacity(n,t.color))}),this.getAttribute("gradientTransform").hasValue()?(o=(e=(t=this.document).screen).MAX_VIRTUAL_PIXELS,e=e.viewPort,e=E(e.viewPorts,1)[0],(a=new Ls(t,null)).attributes.x=new L(t,"x",-o/3),a.attributes.y=new L(t,"y",-o/3),a.attributes.width=new L(t,"width",o),a.attributes.height=new L(t,"height",o),(o=new Qs(t,null)).attributes.transform=new L(t,"transform",this.getAttribute("gradientTransform").getValue()),o.children=[a],(a=new Vs(t,null)).attributes.x=new L(t,"x",0),a.attributes.y=new L(t,"y",0),a.attributes.width=new L(t,"width",e.width),a.attributes.height=new L(t,"height",e.height),a.children=[o],(t=(o=t.createCanvas(e.width,e.height)).getContext("2d")).fillStyle=s,a.render(t),t.createPattern(o,"no-repeat")):s):this.addParentOpacity(n,i[i.length-1].color)}},{key:"inheritStopContainer",value:function(e){var n=this;this.attributesToInherit.forEach(function(t){!n.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&n.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())})}},{key:"addParentOpacity",value:function(t,e){return t.hasValue()?new L(this.document,"color",e).addOpacity(t).getString():e}}]),uu),Ks=(I(su,Zs),T(su,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits(),e=n?e.getBoundingBox(t):null;if(n&&!e)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var r=n?e.x+e.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),i=n?e.y+e.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=n?e.x+e.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),n=n?e.y+e.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return r===a&&i===n?null:t.createLinearGradient(r,i,a,n)}}]),su),Js=(I(ou,Zs),T(ou,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits(),e=e.getBoundingBox(t);if(n&&!e)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var r=n?e.x+e.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),i=n?e.y+e.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),a=r,o=i,n=(this.getAttribute("fx").hasValue()&&(a=n?e.x+e.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=n?e.y+e.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y")),n?(e.width+e.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels()),e=this.getAttribute("fr").getPixels();return t.createRadialGradient(a,o,e,r,i,n)}}]),ou),tu=(I(au,g),au),eu="Array Iterator",nu=qe.set,ru=qe.getterFor(eu),iu=yo(Array,"Array",function(t,e){nu(this,{type:eu,target:Tt(t),index:0,kind:e})},function(){var t=ru(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");function au(t,e,n){C(this,au),(t=R(this,j(au).call(this,t,e,n))).type="stop";var e=F(0,_(1,t.getAttribute("offset").getNumber())),n=t.getStyle("stop-opacity"),r=t.getStyle("stop-color",!0);return""===r.getString()&&r.setValue("#000"),n.hasValue()&&(r=r.addOpacity(n)),t.offset=e,t.color=r.getString(),t}function ou(t,e,n){return C(this,ou),(t=R(this,j(ou).call(this,t,e,n))).type="radialGradient",t.attributesToInherit.push("cx","cy","r","fx","fy","fr"),t}function su(t,e,n){return C(this,su),(t=R(this,j(su).call(this,t,e,n))).type="linearGradient",t.attributesToInherit.push("x1","y1","x2","y2"),t}function uu(t,e,n){C(this,uu),(t=R(this,j(uu).call(this,t,e,n))).attributesToInherit=["gradientUnits"],t.stops=[];var e=co(t),r=e.stops;return e.children.forEach(function(t){"stop"===t.type&&r.push(t)}),t}function lu(){var t;return C(this,lu),(t=R(this,j(lu).apply(this,arguments))).type="g",t}function cu(){var t;return C(this,cu),(t=R(this,j(cu).apply(this,arguments))).type="defs",t}function hu(){var t;return C(this,hu),(t=R(this,j(hu).apply(this,arguments))).type="marker",t}function fu(){var t;return C(this,fu),(t=R(this,j(fu).apply(this,arguments))).type="pattern",t}ai.Arguments=ai.Array,go("keys"),go("values"),go("entries");var gu,du=c("iterator"),pu=c("toStringTag"),yu=iu.values;for(gu in jr){var vu=k[gu],mu=vu&&vu.prototype;if(mu){if(mu[du]!==yu)try{A(mu,du,yu)}catch(t){mu[du]=yu}if(mu[pu]||A(mu,pu,gu),jr[gu])for(var xu in iu)if(mu[xu]!==iu[xu])try{A(mu,xu,iu[xu])}catch(t){mu[xu]=iu[xu]}}}I(Pu,g),T(Pu,[{key:"getProperty",value:function(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}},{key:"calcValue",value:function(){var t=this.initialUnits,e=this.getProgress(),n=e.progress,r=e.from,e=e.to,e=r.getNumber()+(e.getNumber()-r.getNumber())*n;return"%"===t&&(e*=100),"".concat(e).concat(t)}},{key:"update",value:function(t){var e=this.parent,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var r=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==r||this.frozen){if("remove"===r&&!this.removed)return this.removed=!0,n.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=n.getString();return!1}this.duration+=t;r=!1;return this.begin<this.duration&&(e=this.calcValue(),(t=this.getAttribute("type")).hasValue()&&(t=t.getString(),e="".concat(t,"(").concat(e,")")),n.setValue(e),r=!0),r}},{key:"getProgress",value:function(){var t,e,n,r=this.document,i=this.values,a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return i.hasValue()?(t=a.progress*(i.getValue().length-1),e=S(t),n=$(t),a.from=new L(r,"from",parseFloat(i.getValue()[e])),a.to=new L(r,"to",parseFloat(i.getValue()[n])),a.progress=(t-e)/(n-e)):(a.from=this.from,a.to=this.to),a}}]);var bu=Pu,wu=i.trim,ku=k.parseInt,Su=/^[+-]?0[Xx]/,i=8!==ku("\t\n\v\f\r                　\u2028\u2029\ufeff08")||22!==ku("\t\n\v\f\r                　\u2028\u2029\ufeff0x16")?function(t,e){t=wu(t+"");return ku(t,e>>>0||(Su.test(t)?16:10))}:ku;function Pu(t,e,n){return C(this,Pu),(e=R(this,j(Pu).call(this,t,e,n))).type="animate",e.duration=0,e.initialValue=null,e.initialUnits="",e.removed=!1,e.frozen=!1,t.screen.animations.push(co(e)),e.begin=e.getAttribute("begin").getMilliseconds(),e.maxDuration=e.begin+e.getAttribute("dur").getMilliseconds(),e.from=e.getAttribute("from"),e.to=e.getAttribute("to"),e.values=e.getAttribute("values"),e.values.hasValue()&&e.values.setValue(e.values.getString().split(";")),e}w({global:!0,forced:parseInt!=i},{parseInt:i});I(Iu,bu),T(Iu,[{key:"calcValue",value:function(){var t,e,n=this.getProgress(),r=n.progress,i=n.from,n=n.to,i=new Wa(i.getString()),n=new Wa(n.getString());return i.ok&&n.ok?(t=i.r+(n.r-i.r)*r,e=i.g+(n.g-i.g)*r,n=i.b+(n.b-i.b)*r,"rgb(".concat(parseInt(t,10),", ").concat(parseInt(e,10),", ").concat(parseInt(n,10),")")):this.getAttribute("from").getString()}}]);var Au,Eu,Cu,Tu,Ou,i=Iu,Vu=(I(Ru,bu),T(Ru,[{key:"calcValue",value:function(){var t=this.getProgress(),n=t.progress,e=t.from,t=t.to,e=x(e.getString()),r=x(t.getString());return e.map(function(t,e){return t+(r[e]-t)*n}).join(" ")}}]),Ru),Lu=s.f,Nu=k.Symbol;function Ru(){var t;return C(this,Ru),(t=R(this,j(Ru).apply(this,arguments))).type="animateTransform",t}function Iu(){var t;return C(this,Iu),(t=R(this,j(Iu).apply(this,arguments))).type="animateColor",t}!h||"function"!=typeof Nu||"description"in Nu.prototype&&void 0===Nu().description||(Au={},Mt(Eu=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:arguments[0]+"",e=this instanceof Eu?new Nu(t):void 0===t?Nu():Nu(t);return""===t&&(Au[e]=!0),e},Nu),(Hu=Eu.prototype=Nu.prototype).constructor=Eu,Cu=Hu.toString,Tu="Symbol(test)"==Nu("test")+"",Ou=/^Symbol\((.*)\)[^)]+$/,Lu(Hu,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=Cu.call(t);if(f(Au,t))return"";t=Tu?e.slice(7,-1):e.replace(Ou,"$1");return""===t?void 0:t}}),w({global:!0,forced:!0},{Symbol:Eu})),Jt("iterator");I(xl,g),T(xl,[{key:"render",value:function(){}}]);var ju,Du,zu,Mu,Bu,Fu,_u,$u,Gu,qu,Wu,Lu=xl,Hu=(I(ml,g),ml),Xu=(I(vl,Os),vl),Uu=(I(yl,Os),yl),Yu=(I(pl,e),T(pl,[{key:"getText",value:function(){var t=this.getHrefAttribute().getDefinition();if(t){t=t.children[0];if(t)return t.getText()}return""}}]),pl),Qu=(I(dl,e),T(dl,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(t){var e,n,r,i;this.hasText?(Ho(j(dl.prototype),"renderChildren",this).call(this,t),r=this.document,e=this.x,n=this.y,i=r.screen.mouse,r=new L(r,"fontSize",Xo.parse(r.ctx.font).fontSize),i.isWorking()&&i.checkBoundingBox(this,new us(e,n-r.getPixels("y"),e+this.measureText(t),n))):0<this.children.length&&((i=new Qs(this.document,null)).children=this.children,i.parent=this,i.render(t))}},{key:"onClick",value:function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){this.document.ctx.canvas.style.cursor="pointer"}}]),dl),Zu=!l(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ku=G(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var e=s.f,r=Vt("meta"),i=0,a=Object.isExtensible||function(){return!0},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!f(t,r)){if(!a(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!f(t,r)){if(!a(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return Zu&&o.REQUIRED&&a(t)&&!f(t,r)&&n(t),t}};Ge[r]=!0}),Ju=(Ku.REQUIRED,Ku.fastKey,Ku.getWeakData,Ku.onFreeze,s.f),tl=Ku.fastKey,el=qe.set,nl=qe.getterFor,rl=(il=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Pl={getConstructor:function(t,n,r,i){function a(t,e,n){var r,i=u(t),a=o(t,e);return a?a.value=n:(i.last=a={index:r=tl(e,!0),key:e,value:n,previous:e=i.last,next:void 0,removed:!1},i.first||(i.first=a),e&&(e.next=a),h?i.size++:t.size++,"F"!==r&&(i.index[r]=a)),t}function o(t,e){var n,t=u(t),r=tl(e);if("F"!==r)return t.index[r];for(n=t.first;n;n=n.next)if(n.key==e)return n}var s=t(function(t,e){Zr(t,s,n),el(t,{type:n,index:nr(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=e&&li(e,t[i],t,r)}),u=nl(n);return Yr(s.prototype,{clear:function(){for(var t=u(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e,n,r=u(this),t=o(this,t);return t&&(e=t.next,n=t.previous,delete r.index[t.index],t.removed=!0,n&&(n.next=e),e&&(e.previous=n),r.first==t&&(r.first=e),r.last==t&&(r.last=n),h?r.size--:this.size--),!!t},forEach:function(t){for(var e,n=u(this),r=Ft(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!o(this,t)}}),Yr(s.prototype,r?{get:function(t){t=o(this,t);return t&&t.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),h&&Ju(s.prototype,"size",{get:function(){return u(this).size}}),s},setStrong:function(t,e,n){var r=e+" Iterator",i=nl(e),a=nl(r);yo(t,e,function(t,e){el(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Qr(e)}},Fu=-1!==(Mu="Map").indexOf("Map"),_u=-1!==Mu.indexOf("Weak"),$u=Fu?"set":"add",Gu=k.Map,qu=Gu&&Gu.prototype,wl={},on(Mu,"function"!=typeof(Wu=Gu)||!(_u||qu.forEach&&!l(function(){(new Gu).entries().next()})))?(Wu=Pl.getConstructor(il,Mu,Fu,$u),Ku.REQUIRED=!0):on(Mu,!0)&&(Ku=(Bu=new Wu)[$u](_u?{}:-0,1)!=Bu,al=l(function(){Bu.has(1)}),rl=gi(function(t){new Gu(t)}),sl=!_u&&l(function(){for(var t=new Gu,e=5;e--;)t[$u](e,e);return!t.has(-0)}),rl||(((Wu=il(function(t,e){Zr(t,Wu,Mu);t=Yo(new Gu,t,Wu);return null!=e&&li(e,t[$u],t,Fu),t})).prototype=qu).constructor=Wu),(al||sl)&&(gl("delete"),gl("has"),Fu&&gl("get")),(sl||Ku)&&gl($u),_u&&qu.clear&&delete qu.clear),wl.Map=Wu,w({global:!0,forced:Wu!=Gu},wl),cr(Wu,Mu),_u||Pl.setStrong(Wu,Mu,Fu),I(fl,e),T(fl,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(g){var t=this.dataArray;g&&g.beginPath(),t.forEach(function(t){var e=t.command,n=t.points;switch(e){case"L":g&&g.lineTo(n[0],n[1]);break;case"M":g&&g.moveTo(n[0],n[1]);break;case"C":g&&g.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":g&&g.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=o<a?a:o,f=o<a?1:a/o,o=o<a?o/a:1;g&&(g.translate(r,i),g.rotate(l),g.scale(f,o),g.arc(0,0,h,s,s+u,!!(1-c)),g.scale(1/f,1/o),g.rotate(-l),g.translate(-r,-i));break;case"z":g&&g.closePath()}})}},{key:"renderChildren",value:function(i){this.setTextData(i),i.save();var a=this.parent.getStyle("text-decoration").getString(),o=this.getFontSize(),s=this.glyphInfo,t=i.fillStyle;"underline"===a&&i.beginPath(),s.forEach(function(t,e){var n=t.p0,r=t.p1,t=t.text;i.save(),i.translate(n.x,n.y),i.rotate(s[e].rotation),i.fillStyle&&i.fillText(t,0,0),i.strokeStyle&&i.strokeText(t,0,0),i.restore(),"underline"===a&&(0===e&&i.moveTo(n.x,n.y+o/8),i.lineTo(r.x,r.y+o/5))}),"underline"===a&&(i.lineWidth=o/20,i.strokeStyle=t,i.stroke(),i.closePath()),i.restore()}},{key:"getLetterSpacingAt",value:function(){return this.letterSpacingCache[0<arguments.length&&void 0!==arguments[0]?arguments[0]:0]||0}},{key:"findSegmentToFitChar",value:function(t,e,n,r,i,a,o,s){t=this.measureText(t,o)," "===o&&"justify"===e&&n<r&&(t+=(r-n)/i),-1<s&&(a+=this.getLetterSpacingAt(s)),o=this.textHeight/20,e={p0:this.getEquidistantPointOnPath(a,o),p1:this.getEquidistantPointOnPath(a+t,o)};return{offset:a+=t,segment:e}}},{key:"measureText",value:function(t,e){var n=this.measuresCache,e=e||this.getText();if(n.has(e))return n.get(e);t=this.measureTargetText(t,e);return n.set(e,t),t}},{key:"setTextData",value:function(i){var a=this;if(!this.glyphInfo){var t=this.getText(),o=t.split(""),s=t.split(" ").length-1,e=x(this.parent.getAttribute("dx").getString("0")),u=this.parent.getStyle("text-anchor").getString("start"),n=this.getStyle("letter-spacing"),r=this.parent.getStyle("letter-spacing"),l=0,c=(n.hasValue()&&"inherit"!==n.getValue()?n.hasValue()&&"initial"!==n.getValue()&&"unset"!==n.getValue()&&(l=n.getPixels()):l=r.getPixels(),[]),h=t.length;this.letterSpacingCache=c;for(var f=0;f<h;f++)c.push(void 0===e[f]?l:e[f]);var n=c.reduce(function(t,e){return t+e||0},0),g=(this.textWidth=this.measureText(i),this.textHeight=this.getFontSize(),F(this.textWidth+n,0)),d=(this.glyphInfo=[],this.getPathLength()),r=this.getStyle("startOffset").getNumber(0)*d,p="end"!==u&&"right"!==u?"middle"!==u&&"center"!==u?0:-g/2:-g;p+=r,o.forEach(function(t,e){var n,t=a.findSegmentToFitChar(i,u,g,d,s,p,t,e),r=t.offset,t=t.segment;p=r,t.p0&&t.p1&&(r=a.getLineLength(t.p0.x,t.p0.y,t.p1.x,t.p1.y),r=a.getPointOnLine(0+r/2,t.p0.x,t.p0.y,t.p1.x,t.p1.y),n=z(t.p1.y-t.p0.y,t.p1.x-t.p0.x),a.glyphInfo.push({transposeX:r.x,transposeY:r.y,text:o[e],p0:t.p0,p1:t.p1,rotation:n}))})}}},{key:"parsePathData",value:function(t){if(this.pathLength=-1,!t)return[];var e=[],n=t.pathParser;for(n.reset();!n.isEnd();){var r=n.current,i=r?r.x:0,r=r?r.y:0,a="",o=[],s=(n.nextCommand(),n.command.toUpperCase());switch(n.command){case"M":case"m":a=this.pathM(n,o);break;case"L":case"l":a=this.pathL(n,o);break;case"H":case"h":a=this.pathH(n,o);break;case"V":case"v":a=this.pathV(n,o);break;case"C":case"c":this.pathC(n,o);break;case"S":case"s":a=this.pathS(n,o);break;case"Q":case"q":this.pathQ(n,o);break;case"T":case"t":a=this.pathT(n,o);break;case"A":case"a":o=this.pathA(n);break;case"Z":case"z":n.current=n.start}"Z"===s?e.push({command:"z",points:[],pathLength:0}):e.push({command:a||s,points:o,start:{x:i,y:r},pathLength:this.calcLength(i,r,a||s,o)})}return e}},{key:"pathM",value:function(t,e){var n=t.getAsCurrentPoint();for(e.push(n.x,n.y),t.start=t.current;!t.isCommandOrEnd();){var r=t.getAsCurrentPoint();return e.push(r.x,r.y),"L"}}},{key:"pathL",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getAsCurrentPoint();e.push(n.x,n.y)}return"L"}},{key:"pathH",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.current,n=new N((t.isRelativeCommand()?n.x:0)+t.getScalar(),n.y);e.push(n.x,n.y),t.current=n}return"L"}},{key:"pathV",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.current,n=new N(n.x,(t.isRelativeCommand()?n.y:0)+t.getScalar());e.push(n.x,n.y),t.current=n}return"L"}},{key:"pathC",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}}},{key:"pathS",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}return"C"}},{key:"pathQ",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getAsControlPoint(),r=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y)}}},{key:"pathT",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint(),r=(t.control=n,t.getAsCurrentPoint());e.push(n.x,n.y,r.x,r.y)}return"Q"}},{key:"pathA",value:function(t){for(;!t.isCommandOrEnd();){var e=t.current,n=t.getScalar(),r=t.getScalar(),i=t.getScalar()*(d/180),a=t.getScalar(),o=t.getScalar(),s=t.getAsCurrentPoint(),u=new N(y(i)*(e.x-s.x)/2+p(i)*(e.y-s.y)/2,-p(i)*(e.x-s.x)/2+y(i)*(e.y-s.y)/2),l=m(u.x,2)/m(n,2)+m(u.y,2)/m(r,2),l=(1<l&&(n*=v(l),r*=v(l)),(a===o?-1:1)*v((m(n,2)*m(r,2)-m(n,2)*m(u.y,2)-m(r,2)*m(u.x,2))/(m(n,2)*m(u.y,2)+m(r,2)*m(u.x,2)))),a=(isNaN(l)&&(l=0),new N(l*n*u.y/r,l*-r*u.x/n)),l=new N((e.x+s.x)/2+y(i)*a.x-p(i)*a.y,(e.y+s.y)/2+p(i)*a.x+y(i)*a.y),e=tt([1,0],[(u.x-a.x)/n,(u.y-a.y)/r]),s=[(u.x-a.x)/n,(u.y-a.y)/r],u=[(-u.x-a.x)/n,(-u.y-a.y)/r],a=tt(s,u);return J(s,u)<=-1&&(a=d),1<=J(s,u)&&(a=0),0===o&&0<a&&(a-=2*d),1===o&&a<0&&(a+=2*d),[l.x,l.y,n,r,e,a,i,o]}}},{key:"calcLength",value:function(t,e,n,r){var i=Math.abs,a=0,o=null,s=null,u=0;switch(n){case"L":return this.getLineLength(t,e,r[0],r[1]);case"C":for(o=this.getPointOnCubicBezier(a=0,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),u=.01;u<=1;u+=.01)s=this.getPointOnCubicBezier(u,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),a+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return a;case"Q":for(o=this.getPointOnQuadraticBezier(a=0,t,e,r[0],r[1],r[2],r[3]),u=.01;u<=1;u+=.01)s=this.getPointOnQuadraticBezier(u,t,e,r[0],r[1],r[2],r[3]),a+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return a;case"A":var a=0,l=r[4],c=r[5],h=r[4]+c,f=d/180;if(i(l-h)<f&&(f=i(l-h)),o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),c<0)for(u=l-f;h<u;u-=f)s=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(u=l+f;u<h;u+=f)s=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),a+=this.getLineLength(o.x,o.y,s.x,s.y)}return 0}},{key:"getPointOnLine",value:function(t,e,n,r,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:e,o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:n,s=(i-n)/(r-e+Xn),u=v(t*t/(1+s*s)),l=(r<e&&(u*=-1),s*u),c=null;if(r===e)c={x:a,y:o+l};else if((o-n)/(a-e+Xn)==s)c={x:a+u,y:o+l};else{var h=this.getLineLength(e,n,r,i);if(h<Xn)return null;var f=(a-e)*(r-e)+(o-n)*(i-n),h=this.getLineLength(a,o,a=e+(f/=h*h)*(r-e),o=n+f*(i-n)),f=v(t*t-h*h),u=v(f*f/(1+s*s));r<e&&(u*=-1),c={x:a+u,y:o+(l=s*u)}}return c}},{key:"getPointOnPath",value:function(t){var e=this.getPathLength(),n=0,r=null;if(t<-5e-5||e<t-5e-5)return null;var e=this.dataArray,i=!0,a=!1,o=void 0;try{for(var s,u,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){if(!(u=s.value)||!(u.pathLength<5e-5||n+u.pathLength+5e-5<t)){var c=t-n,h=0;switch(u.command){case"L":r=this.getPointOnLine(c,u.start.x,u.start.y,u.points[0],u.points[1],u.start.x,u.start.y);break;case"A":var f=u.points[4],g=u.points[5],d=u.points[4]+g,h=f+c/u.pathLength*g;if(g<0&&h<d||0<=g&&d<h)break;r=this.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],h,u.points[6]);break;case"C":1<(h=c/u.pathLength)&&(h=1),r=this.getPointOnCubicBezier(h,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":1<(h=c/u.pathLength)&&(h=1),r=this.getPointOnQuadraticBezier(h,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}if(r)return r;break}n+=u.pathLength}}catch(t){a=!0,o=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return null}},{key:"getLineLength",value:function(t,e,n,r){return v((n-t)*(n-t)+(r-e)*(r-e))}},{key:"getPathLength",value:function(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce(function(t,e){return 0<e.pathLength?t+e.pathLength:t},0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(t,e,n,r,i,a,o,s,u){return{x:s*et(t)+a*nt(t)+r*rt(t)+e*it(t),y:u*et(t)+o*nt(t)+i*rt(t)+n*it(t)}}},{key:"getPointOnQuadraticBezier",value:function(t,e,n,r,i,a,o){return{x:a*at(t)+r*ot(t)+e*st(t),y:o*at(t)+i*ot(t)+n*st(t)}}},{key:"getPointOnEllipticalArc",value:function(t,e,n,r,i,a){var o=y(a),a=p(a),n=n*y(i),r=r*p(i);return{x:t+(n*o-r*a),y:e+(n*a+r*o)}}},{key:"buildEquidistantCache",value:function(t,e){var n=this.getPathLength(),r=e||.25,i=t||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==r){this.equidistantCache={step:i,precision:r,points:[]};for(var a=0,o=0;o<=n;o+=r){var s=this.getPointOnPath(o),u=this.getPointOnPath(o+r);s&&u&&(i<=(a+=this.getLineLength(s.x,s.y,u.x,u.y))&&(this.equidistantCache.points.push({x:s.x,y:s.y,distance:o}),a-=i))}}}},{key:"getEquidistantPointOnPath",value:function(t,e,n){if(this.buildEquidistantCache(e,n),t<0||5e-5<t-this.getPathLength())return null;e=M(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[e]||null}}]),fl),il=(I(hl,a),T(hl,[{key:"loadImage",value:(zu=Mr(O.mark(function t(e){var n;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.createImage(e);case 3:n=t.sent,this.image=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error('ERROR: image "'.concat(e,'" not found'),t.t0);case 10:this.loaded=!0;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return zu.apply(this,arguments)})},{key:"loadSvg",value:(Du=Mr(O.mark(function t(e){var n;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:n=t.sent,this.image=n,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error('ERROR: image "'.concat(e,'" not found'),t.t0);case 13:this.loaded=!0;case 14:case"end":return t.stop()}},t,this,[[0,10]])})),function(){return Du.apply(this,arguments)})},{key:"renderChildren",value:function(t){var e=this.document,n=this.image,r=this.loaded,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");r&&n&&o&&s&&(t.save(),this.isSvg?e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:i,offsetY:a,scaleWidth:o,scaleHeight:s}).render():(r=this.image,t.translate(i,a),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:r.width,height:s,desiredHeight:r.height}),this.loaded&&(void 0===r.complete||r.complete)&&t.drawImage(r,0,0)),t.restore())}},{key:"getBoundingBox",value:function(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new us(t,e,t+n,e+r)}}]),hl),al=(I(cl,a),T(cl,[{key:"render",value:function(){}}]),cl),ol=(T(ll,[{key:"load",value:(ju=Mr(O.mark(function t(e,n){var r,i;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.document,t.next=4,r.canvg.parser.load(n);case 4:i=t.sent,i=i.getElementsByTagName("font"),Array.from(i).forEach(function(t){t=r.createElement(t);r.definitions[e]=t}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error('ERROR: font "'.concat(n,'" not found'),t.t0);case 12:this.loaded=!0;case 13:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return ju.apply(this,arguments)})}]),ll),sl=(I(ul,g),ul);function ul(i,t,e){return C(this,ul),(e=R(this,j(ul).call(this,i,t,e))).type="style",W(Array.from(t.childNodes).map(function(t){return t.data}).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"")).split("}").forEach(function(t){var e,n,t=t.trim();t&&(e=(t=t.split("{"))[0].split(","),n=t[1].split(";"),e.forEach(function(t){var r,e,t=t.trim();t&&(r=i.styles[t]||{},n.forEach(function(t){var e=t.indexOf(":"),n=t.substr(0,e).trim(),t=t.substr(e+1,t.length-e).trim();n&&t&&(r[n]=new L(i,n,t))}),i.styles[t]=r,i.stylesSpecificity[t]=Z(t),"@font-face"===t&&(e=r["font-family"].getString().replace(/"|'/g,""),r.src.getString().split(",").forEach(function(t){0<t.indexOf('format("svg")')&&((t=Y(t))&&new ol(i).load(e,t))})))}))}),e}function ll(t){C(this,ll),this.document=t,this.loaded=!1,t.fonts.push(this)}function cl(){var t;return C(this,cl),(t=R(this,j(cl).apply(this,arguments))).type="symbol",t}function hl(t,e,n){C(this,hl),(e=R(this,j(hl).call(this,t,e,n))).type="image",e.loaded=!1;n=e.getHrefAttribute().getString();if(!n)return R(e);var r=/\.svg$/.test(n);return t.images.push(co(e)),r?e.loadSvg(n):e.loadImage(n),e.isSvg=r,e}function fl(t,e,n){C(this,fl),(t=R(this,j(fl).call(this,t,e,n))).type="textPath",t.textWidth=0,t.textHeight=0,t.pathLength=-1,t.glyphInfo=null,t.letterSpacingCache=[],t.measuresCache=new Map([["",0]]);e=t.getHrefAttribute().getDefinition();return t.text=t.getTextFromNode(),t.dataArray=t.parsePathData(e),t}function gl(t){var n=qu[t];We(qu,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return(!_u||u(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return _u&&!u(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return(!_u||u(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}function dl(t,e,n){C(this,dl),(t=R(this,j(dl).call(this,t,e,n))).type="a";n=e.childNodes,e=n[0],n=0<n.length&&Array.from(n).every(function(t){return 3===t.nodeType});return t.hasText=n,t.text=n?t.getTextFromNode(e):"",t}function pl(){var t;return C(this,pl),(t=R(this,j(pl).apply(this,arguments))).type="tref",t}function yl(t,e,n){return C(this,yl),(t=R(this,j(yl).call(this,t,e,n))).type="glyph",t.horizAdvX=t.getAttribute("horiz-adv-x").getNumber(),t.unicode=t.getAttribute("unicode").getString(),t.arabicForm=t.getAttribute("arabic-form").getString(),t}function vl(){var t;return C(this,vl),(t=R(this,j(vl).apply(this,arguments))).type="missing-glyph",t.horizAdvX=0,t}function ml(t,e,n){return C(this,ml),(t=R(this,j(ml).call(this,t,e,n))).type="font-face",t.ascent=t.getAttribute("ascent").getNumber(),t.descent=t.getAttribute("descent").getNumber(),t.unitsPerEm=t.getAttribute("units-per-em").getNumber(),t}function xl(t,e,n){C(this,xl),(r=R(this,j(xl).call(this,t,e,n))).type="font",r.glyphs={},r.horizAdvX=r.getAttribute("horiz-adv-x").getNumber();var r,i=t.definitions,e=co(r).children,a=!0,n=!1,o=void 0;try{for(var s,u,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)switch(u=s.value,u.type){case"font-face":var c=(r.fontFace=u).getStyle("font-family");c.hasValue()&&(i[c.getString()]=co(r));break;case"missing-glyph":r.missingGlyph=u;break;case"glyph":var h=u;h.arabicForm?(r.isRTL=!0,r.isArabic=!0,void 0===r.glyphs[h.unicode]&&(r.glyphs[h.unicode]={}),r.glyphs[h.unicode][h.arabicForm]=h):r.glyphs[h.unicode]=h}}catch(t){n=!0,o=t}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return r}sl.parseExternalUrl=Y;I(Cl,a),T(Cl,[{key:"setContext",value:function(t){Ho(j(Cl.prototype),"setContext",this).call(this,t);var e=this.getAttribute("x"),n=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),n.hasValue()&&t.translate(0,n.getPixels("y"))}},{key:"path",value:function(t){var e=this.element;e&&e.path(t)}},{key:"renderChildren",value:function(t){var e,n,r=this.document,i=this.element;i&&("symbol"===(e=i).type&&((e=new Vs(r,null)).attributes.viewBox=new L(r,"viewBox",i.getAttribute("viewBox").getString()),e.attributes.preserveAspectRatio=new L(r,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString()),e.attributes.overflow=new L(r,"overflow",i.getAttribute("overflow").getString()),e.children=i.children),"svg"===e.type&&(i=this.getStyle("width",!1,!0),n=this.getStyle("height",!1,!0),i.hasValue()&&(e.attributes.width=new L(r,"width",i.getString())),n.hasValue()&&(e.attributes.height=new L(r,"height",n.getString()))),i=e.parent,e.parent=null,e.render(t),e.parent=i)}},{key:"getBoundingBox",value:function(t){var e=this.element;return e?e.getBoundingBox(t):null}},{key:"elementTransform",value:function(){var t=this.document,e=this.element;return gs.fromElement(t,e)}},{key:"element",get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element}}]);var Ku=Cl,bl=(I(El,g),T(El,[{key:"apply",value:function(t,e,n,r,i){for(var a=this.includeOpacity,o=this.matrix,s=t.getImageData(0,0,r,i),u=0;u<i;u++)for(var l=0;l<r;l++){var c=mt(s.data,l,u,r,0,0),h=mt(s.data,l,u,r,0,1),f=mt(s.data,l,u,r,0,2),g=mt(s.data,l,u,r,0,3),d=b(o,0,c)+b(o,1,h)+b(o,2,f)+b(o,3,g)+b(o,4,1),p=b(o,5,c)+b(o,6,h)+b(o,7,f)+b(o,8,g)+b(o,9,1),y=b(o,10,c)+b(o,11,h)+b(o,12,f)+b(o,13,g)+b(o,14,1),c=b(o,15,c)+b(o,16,h)+b(o,17,f)+b(o,18,g)+b(o,19,1);a&&(d=p=y=0,c*=g/255),xt(s.data,l,u,r,0,0,d),xt(s.data,l,u,r,0,1,p),xt(s.data,l,u,r,0,2,y),xt(s.data,l,u,r,0,3,c)}t.clearRect(0,0,r,i),t.putImageData(s,0,0)}}]),El),wl=(I(Al,g),T(Al,[{key:"apply",value:function(e,t){var n,r=this.document,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y"),u=(o||s||(n=new us,this.children.forEach(function(t){n.addBoundingBox(t.getBoundingBox(e))}),i=S(n.x1),a=S(n.y1),o=S(n.width),s=S(n.height)),t.getStyle("mask").getString()),l=(t.getStyle("mask").setValue(""),r.createCanvas(i+o,a+s)),c=l.getContext("2d");r.screen.setDefaults(c),this.renderChildren(c);new bl(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(c,0,0,i+o,a+s);var h=r.createCanvas(i+o,a+s),f=h.getContext("2d");r.screen.setDefaults(f),t.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=c.createPattern(l,"no-repeat"),f.fillRect(0,0,i+o,a+s),e.fillStyle=f.createPattern(h,"no-repeat"),e.fillRect(0,0,i+o,a+s),t.getStyle("mask").setValue(u)}},{key:"render",value:function(){}}]),Al),kl=Rt("Reflect","apply"),Sl=Function.apply,Pl=!l(function(){kl(function(){})});function Al(){var t;return C(this,Al),(t=R(this,j(Al).apply(this,arguments))).type="mask",t}function El(t,e,n){C(this,El),(t=R(this,j(El).call(this,t,e,n))).type="feColorMatrix";var r=x(t.getAttribute("values").getString());switch(t.getAttribute("type").getString("matrix")){case"saturate":var i=r[0],r=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":i=r[0]*d/180;r=[bt(i,.213,.787,-.213),bt(i,.715,-.715,-.715),bt(i,.072,-.072,.928),0,0,bt(i,.213,-.213,.143),bt(i,.715,.285,.14),bt(i,.072,-.072,-.283),0,0,bt(i,.213,-.213,-.787),bt(i,.715,-.715,.715),bt(i,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}return t.matrix=r,t.includeOpacity=t.getAttribute("includeOpacity").hasValue(),t}function Cl(){var t;return C(this,Cl),(t=R(this,j(Cl).apply(this,arguments))).type="use",t}w({target:"Reflect",stat:!0,forced:Pl},{apply:function(t,e,n){return un(t),P(n),kl?kl(t,e,n):Sl.call(t,e,n)}}),w({target:"Reflect",stat:!0,sham:!n},{getPrototypeOf:function(t){return Ao(P(t))}});function Tl(){}I(Xl,g),T(Xl,[{key:"apply",value:function(n){var r=this.document,i=Reflect.getPrototypeOf(n),t=n.beginPath,a=n.closePath;i&&(i.beginPath=Tl,i.closePath=Tl),Reflect.apply(t,n,[]),this.children.forEach(function(t){var e;void 0!==t.path&&((e=(e=void 0===t.elementTransform?null:t.elementTransform())||gs.fromElement(r,t))&&e.apply(n),t.path(n),i&&(i.closePath=a),e&&e.unapply(n))}),Reflect.apply(a,n,[]),n.clip(),i&&(i.beginPath=t,i.closePath=a)}},{key:"render",value:function(){}}]);var Pl=Xl,n=(I(Hl,g),T(Hl,[{key:"apply",value:function(t,e){var n,r,i,a,o,s,u,l,c=this.document,h=e.getBoundingBox(t);h&&(n=S(h.x1),r=S(h.y1),i=S(h.width),a=S(h.height),h=e.getStyle("filter").getString(),e.getStyle("filter").setValue(""),s=o=0,this.children.forEach(function(t){t=t.extraFilterDistance||0;o=F(o,t),s=F(s,t)}),u=c.createCanvas(i+2*o,a+2*s),l=u.getContext("2d"),c.screen.setDefaults(l),l.translate(-n+o,-r+s),e.render(l),this.children.forEach(function(t){"function"==typeof t.apply&&t.apply(l,0,0,i+2*o,a+2*s)}),t.drawImage(u,0,0,i+2*o,a+2*s,n-o,r-s,i+2*o,a+2*s),e.getStyle("filter",!0).setValue(h))}},{key:"render",value:function(){}}]),Hl),Ol=(I(Wl,g),T(Wl,[{key:"apply",value:function(){}}]),Wl),Vl=(I(ql,g),T(ql,[{key:"apply",value:function(){}}]),ql),Ll=(I(Gl,g),T(Gl,[{key:"apply",value:function(){}}]),Gl),Nl=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Rl=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],Il=function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},jl=(I($l,g),T($l,[{key:"apply",value:function(t,e,n,r,i){var a=this.document,o=this.blurRadius,s=a.window?a.window.document.body:null,t=t.canvas;t.id=a.getUniqueId(),s&&(t.style.display="none",s.appendChild(t)),kt(t,e,n,r,i,o),s&&s.removeChild(t)}}]),$l),Dl=(I(_l,g),_l),zl=(I(Fl,g),Fl),Ml=(T(Bl,[{key:"bindCreateImage",value:function(n,r){return"boolean"==typeof r?function(t,e){return n(t,"boolean"==typeof e?e:r)}:n}},{key:"popEmSize",value:function(){this.emSizeStack.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every(function(t){return t.loaded})}},{key:"isFontsLoaded",value:function(){return this.fonts.every(function(t){return t.loaded})}},{key:"createDocumentElement",value:function(t){t=this.createElement(t.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t}},{key:"createElement",value:function(t){var e=t.nodeName.replace(/^[^:]+:/,""),e=Bl.elementTypes[e];return new(void 0===e?Fo:e)(this,t)}},{key:"createTextNode",value:function(t){return new Ss(this,t)}},{key:"setViewBox",value:function(t){this.screen.setViewBox(function(e){for(var n,t=1;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?St(Object(n),!0).forEach(function(t){Br(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}({document:this},t))}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var t=this.emSizeStack;return t[t.length-1]},set:function(t){this.emSizeStack.push(t)}}]),Bl);function Bl(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.rootEmSize,n=void 0===n?12:n,r=e.emSize,r=void 0===r?12:r,i=e.createCanvas,i=void 0===i?Bl.createCanvas:i,a=e.createImage,a=void 0===a?Bl.createImage:a,e=e.anonymousCrossOrigin;C(this,Bl),this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=n,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(a,e),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}function Fl(){var t;return C(this,Fl),(t=R(this,j(Fl).apply(this,arguments))).type="desc",t}function _l(){var t;return C(this,_l),(t=R(this,j(_l).apply(this,arguments))).type="title",t}function $l(t,e,n){return C(this,$l),(t=R(this,j($l).call(this,t,e,n))).type="feGaussianBlur",t.blurRadius=S(t.getAttribute("stdDeviation").getNumber()),t.extraFilterDistance=t.blurRadius,t}function Gl(){var t;return C(this,Gl),(t=R(this,j(Gl).apply(this,arguments))).type="feComposite",t}function ql(){var t;return C(this,ql),(t=R(this,j(ql).apply(this,arguments))).type="feMorphology",t}function Wl(t,e,n){return C(this,Wl),(t=R(this,j(Wl).call(this,t,e,n))).type="feDropShadow",t.addStylesFromStyleDefinition(),t}function Hl(){var t;return C(this,Hl),(t=R(this,j(Hl).apply(this,arguments))).type="filter",t}function Xl(){var t;return C(this,Xl),(t=R(this,j(Xl).apply(this,arguments))).type="clipPath",t}Ml.createCanvas=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},Ml.createImage=function(){return Pt.apply(this,arguments)},Ml.elementTypes={svg:Vs,rect:Ls,circle:Ns,ellipse:Rs,line:Is,polyline:js,polygon:Ds,path:Os,pattern:Xs,marker:Us,defs:Ys,linearGradient:Ks,radialGradient:Js,stop:tu,animate:bu,animateColor:i,animateTransform:Vu,font:Lu,"font-face":Hu,"missing-glyph":Xu,glyph:Uu,text:e,tspan:ks,tref:Yu,a:Qu,textPath:rl,image:il,g:Qs,symbol:al,style:sl,use:Ku,mask:wl,clipPath:Pl,filter:n,feDropShadow:Ol,feMorphology:Vl,feComposite:Ll,feColorMatrix:bl,feGaussianBlur:jl,title:Dl,desc:zl};T(Kl,[{key:"fork",value:function(t,e){return Kl.from(t,e,Et({},this.options,{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))}},{key:"forkString",value:function(t,e){return Kl.fromString(t,e,Et({},this.options,{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:(Yl=Mr(O.mark(function t(){var e,n=arguments;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<n.length&&void 0!==n[0]?n[0]:{},this.start(Et({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},e)),t.next=4,this.ready();case 4:this.stop();case 5:case"end":return t.stop()}},t,this)})),function(){return Yl.apply(this,arguments)})},{key:"start",value:function(){var t=this.documentElement,e=this.screen,n=this.options;e.start(t,Et({enableRedraw:!0},n,{},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(t){this.documentElement.resize(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2])}}],[{key:"from",value:(Ul=Mr(O.mark(function t(e,n){var r,i,a=arguments;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new uo(r=2<a.length&&void 0!==a[2]?a[2]:{}),t.next=4,i.parse(n);case 4:return i=t.sent,t.abrupt("return",new Kl(e,i,r));case 6:case"end":return t.stop()}},t)})),function(){return Ul.apply(this,arguments)})},{key:"fromString",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Kl(t,new uo(n).parseFromString(e),n)}}]);var Ul,Yl,Ql=Kl,Zl=Object.freeze({__proto__:null,offscreen:function(){return{window:null,ignoreAnimation:!0,ignoreMouse:!0,createCanvas:function(t,e){return new OffscreenCanvas(t,e)},createImage:(t=Mr(O.mark(function t(e){var n,r;return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.blob();case 5:return n=t.sent,t.next=8,createImageBitmap(n);case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})};var t},node:function(t){var e=t.DOMParser,n=t.canvas;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:t.fetch,createCanvas:n.createCanvas,createImage:n.loadImage}}});function Kl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=(C(this,Kl),this.parser=new uo(n),this.screen=new Ja(t,n),this.options=n,new Ml(this,n)),n=t.createDocumentElement(e);this.document=t,this.documentElement=n}t.AElement=Qu,t.AnimateColorElement=i,t.AnimateElement=bu,t.AnimateTransformElement=Vu,t.BoundingBox=us,t.CB1=et,t.CB2=nt,t.CB3=rt,t.CB4=it,t.Canvg=Ql,t.CircleElement=Ns,t.ClipPathElement=Pl,t.DefsElement=Ys,t.DescElement=zl,t.Document=Ml,t.Element=g,t.EllipseElement=Rs,t.FeColorMatrixElement=bl,t.FeCompositeElement=Ll,t.FeDropShadowElement=Ol,t.FeGaussianBlurElement=jl,t.FeMorphologyElement=Vl,t.FilterElement=n,t.Font=Xo,t.FontElement=Lu,t.FontFaceElement=Hu,t.GElement=Qs,t.GlyphElement=Uu,t.GradientElement=Zs,t.ImageElement=il,t.LineElement=Is,t.LinearGradientElement=Ks,t.MarkerElement=Us,t.MaskElement=wl,t.Matrix=yn,t.MissingGlyphElement=Xu,t.Mouse=Qa,t.PSEUDO_ZERO=Xn,t.Parser=uo,t.PathElement=Os,t.PathParser=Ts,t.PatternElement=Xs,t.Point=N,t.PolygonElement=Ds,t.PolylineElement=js,t.Property=L,t.QB1=at,t.QB2=ot,t.QB3=st,t.RadialGradientElement=Js,t.RectElement=Ls,t.RenderedElement=a,t.Rotate=B,t.SVGElement=Vs,t.SVGFontLoader=ol,t.Scale=xe,t.Screen=Ja,t.Skew=r,t.SkewX=o,t.SkewY=hs,t.StopElement=tu,t.StyleElement=sl,t.SymbolElement=al,t.TRefElement=Yu,t.TSpanElement=ks,t.TextElement=e,t.TextPathElement=rl,t.TitleElement=Dl,t.Transform=gs,t.Translate=V,t.UnknownElement=Fo,t.UseElement=Ku,t.ViewPort=Ya,t.compressSpaces=W,t.default=Ql,t.getSelectorSpecificity=Z,t.normalizeAttributeName=U,t.parseExternalUrl=Y,t.presets=Zl,t.toNumbers=x,t.trimLeft=H,t.trimRight=X,t.vectorMagnitude=K,t.vectorsAngle=tt,t.vectorsRatio=J,Object.defineProperty(t,"__esModule",{value:!0})});