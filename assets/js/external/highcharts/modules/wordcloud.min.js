!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var t=r?r._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DrawPointUtilities.js",[],function(){return{draw:function(e,t){let{animatableAttribs:i,onComplete:o,css:r,renderer:n}=t,a=e.series&&e.series.chart.hasRendered?void 0:e.series&&e.series.options.animation,s=e.graphic;if(t.attribs={...t.attribs,class:e.getClassName()},e.shouldDraw())s||(s="text"===t.shapeType?n.text():"image"===t.shapeType?n.image(t.imageUrl||"").attr(t.shapeArgs||{}):n[t.shapeType](t.shapeArgs||{}),(e.graphic=s).add(t.group)),r&&s.css(r),s.attr(t.attribs).animate(i,!t.isNew&&a,o);else if(s){let t=()=>{e.graphic=s=s&&s.destroy(),"function"==typeof o&&o()};Object.keys(i).length?s.animate(i,void 0,()=>t()):t()}}}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){let{prototype:{pointClass:i}}=t.seriesTypes["column"],o=e["extend"];class r extends i{isValid(){return!0}}return o(r.prototype,{weight:1}),r}),e(t,"Series/Wordcloud/WordcloudSeriesDefaults.js",[],function(){return{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let r=t["deg2rad"],{extend:d,find:u,isNumber:n,isObject:c,merge:p}=e;function g(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function i(t){let r=t.axes||[];return r.length||(r=[],t.concat([t[0]]).reduce((t,e)=>{o=e[0]-t[0];let i=[-(e[1]-t[1]),o];var o;return u(r,t=>t[0]===i[0]&&t[1]===i[1])||r.push(i),e}),t.axes=r),r}function a(t,i){t=t.map(t=>{var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function m(o,r){let t=i(o),e=i(r);return!u(t.concat(e),t=>{var e=r,i=a(o,t);return!!((e=a(e,t)).min>i.max||e.max<i.min)})}function s(t,e){let i=4*t,o=Math.ceil((Math.sqrt(i)-1)/2),r=2*o+1,n=Math.pow(r,2),a=!1;return--r,t<=1e4&&("boolean"==typeof a&&i>=n-r&&(a={x:o-(n-i),y:-o}),n-=r,"boolean"==typeof a&&i>=n-r&&(a={x:-o,y:-o+(n-i)}),n-=r,(a="boolean"==typeof a?i>=n-r?{x:-o+(n-i),y:o}:{x:o,y:o-(n-i-r)}:a).x*=5,a.y*=5),a}function l(t,e){e=Math.pow(10,n(e)?e:14);return Math.round(t*e)/e}function o(t,e){var i=t[0],t=t[1],e=-r*e,o=Math.cos(e),e=Math.sin(e);return[l(i*o-t*e),l(i*e+t*o)]}function f(t,e,i){t=o([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}return{archimedeanSpiral:function(t,e){let i=e.field,o=i.width*i.width+i.height*i.height,r=.8*t,n=!1;return n=t<=1e4&&!(Math.min(Math.abs((n={x:r*Math.cos(r),y:r*Math.sin(r)}).x),Math.abs(n.y))<o)?!1:n},extendPlayingField:function(t,e){let i,o,r,n,a,s,l,h;return h=c(t)&&c(e)?(i=e.bottom-e.top,s=(a=(o=e.right-e.left)*(r=t.ratioX)>i*(n=t.ratioY)?o:i)*r,l=a*n,p(t,{width:t.width+2*s,height:t.height+2*l})):t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1,e=t<e?e/t:1;return{width:i*o,height:i*e,ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,r){let n=[t,e],a=t-i/2,s=t+i/2,l=e-o/2,h=e+o/2;return[[a,l],[s,l],[s,h],[a,h]].map(function(t){return f(t,n,-r)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let r=!1;return r=n(t)&&n(e)&&n(i)&&n(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):r},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(e,i){let o=[];for(let t=1;t<1e4;t++)o.push(e(t,i));return t=>t<=1e4&&o[t-1]},intersectionTesting:function(t,e){let i=e.placed,n=e.field,o=e.rectangle,r=e.polygon,a=e.spiral,s=t.rect=d({},o),l=1,h={x:0,y:0};for(t.polygon=r,t.rotation=e.rotation;!1!==h&&(function(i,t){function o(t){let e=g(r,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?m(n,t.polygon):e}let r=i.rect,n=i.polygon,e=i.lastCollidedWith,a=!1;return e&&!(a=o(e))&&delete i.lastCollidedWith,a=a||!!u(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}(t,i)||function(t){let e=-n.width/2,i=n.width/2,o=-n.height/2,r=n.height/2;return!(e<t.left&&i>t.right&&o<t.top&&r>t.bottom)}(s));)c(h=a(l))&&(s.left=o.left+h.x,s.right=o.right+h.x,s.top=o.top+h.y,s.bottom=o.bottom+h.y,t.polygon=function(e,i){return r.map(function(t){return[t[0]+e,t[1]+i]})}(h.x,h.y)),l++;return h},isPolygonsColliding:m,isRectanglesIntersecting:g,rectangularSpiral:function(t,e){let i=s(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:o,rotate2DToPoint:f,squareSpiral:s,updateFieldBoundaries:function(t,e){return(!n(t.left)||t.left>e.left)&&(t.left=e.left),(!n(t.right)||t.right<e.right)&&(t.right=e.right),(!n(t.top)||t.top>e.top)&&(t.top=e.top),(!n(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudSeriesDefaults.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(M,o,t,e,i,r,n){let a=o["noop"],s=t.seriesTypes["column"],{extend:v,isArray:l,isNumber:P,isObject:A,merge:h}=e,{archimedeanSpiral:d,extendPlayingField:W,getBoundingBoxFromPolygon:F,getPlayingField:j,getPolygon:C,getRandomPosition:u,getRotation:c,getScale:T,getSpiral:D,intersectionTesting:U,isPolygonsColliding:p,rectangularSpiral:g,rotate2DToOrigin:m,rotate2DToPoint:f,squareSpiral:y,updateFieldBoundaries:z}=n;class x extends s{pointAttribs(t,e){let i=o.seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){t=P(t)?t:0,e=P(e)?e:1;return Math.floor(Math.max(P(i)?i:1,t*e))}drawPoints(){let l=this.hasRendered,t=this.xAxis,e=this.yAxis,i=this.chart,h=this.group,d=this.options,u=d.animation,c=d.allowExtendPlayingField,p=i.renderer,g=[],m=this.placementStrategy[d.placementStrategy],f=d.rotation,o=this.points.map(function(t){return t.weight}),y=Math.max.apply(null,o),x=this.points.concat().sort((t,e)=>e.weight-t.weight),r=p.text().add(h),b;for(var n of(this.group.attr({scaleX:1,scaleY:1}),x)){var a=1/y*n.weight,a=v({fontSize:this.deriveFontSize(a,d.maxFontSize,d.minFontSize)+"px"},d.style),a=(r.css(a).attr({x:0,y:0,text:n.name}),r.getBBox(!0));n.dimensions={height:a.height,width:a.width}}b=j(t.len,e.len,x);var w,S=D(this.spirals[d.spiral],{field:b});for(w of x){let t=1/y*w.weight,e=v({fontSize:this.deriveFontSize(t,d.maxFontSize,d.minFontSize)+"px"},d.style),i=m(w,{data:x,field:b,placed:g,rotation:f}),o=v(this.pointAttribs(w,w.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:i.x,y:i.y,text:w.name,rotation:P(i.rotation)?i.rotation:void 0}),r=C(i.x,i.y,w.dimensions.width,w.dimensions.height,i.rotation),n=F(r),a=U(w,{rectangle:n,polygon:r,field:b,placed:g,spiral:S,rotation:i.rotation}),s;!a&&c&&(b=W(b,n),a=U(w,{rectangle:n,polygon:r,field:b,placed:g,spiral:S,rotation:i.rotation})),A(a)?(o.x=(o.x||0)+a.x,o.y=(o.y||0)+a.y,n.left+=a.x,n.right+=a.x,n.top+=a.y,n.bottom+=a.y,b=z(b,n),g.push(w),w.isNull=!1,w.isInside=!0):w.isNull=!0,u&&(s={x:o.x,y:o.y},l?(delete o.x,delete o.y):(o.x=0,o.y=0)),M.draw(w,{animatableAttribs:s,attribs:o,css:e,group:h,renderer:p,shapeArgs:void 0,shapeType:"text"})}r=r.destroy();var s=T(t.len,e.len,b);this.group.attr({scaleX:s,scaleY:s})}hasData(){return A(this)&&!0===this.visible&&l(this.points)&&0<this.points.length}getPlotBox(){var t=this.chart,e=t.inverted,i=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],o=i?i.len:t.plotWidth,r=e?e.len:t.plotHeight;return{translateX:(i?i.left:t.plotLeft)+o/2,translateY:(e?e.top:t.plotTop)+r/2,scaleX:1,scaleY:1}}}return x.defaultOptions=h(s.defaultOptions,r),v(x.prototype,{animate:a,animateDrilldown:a,animateDrillupFrom:a,isCartesian:!1,pointClass:i,setClip:a,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:u(i.width)-i.width/2,y:u(i.height)-i.height/2,rotation:c(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:c(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:d,rectangular:g,square:y},utils:{extendPlayingField:W,getRotation:c,isPolygonsColliding:p,rotate2DToOrigin:m,rotate2DToPoint:f}}),t.registerSeriesType("wordcloud",x),x}),e(t,"masters/modules/wordcloud.src.js",[t["Core/Globals.js"]],function(t){return t})});