!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],function(t){function l(t){return"treemap"!==(t.series&&t.series.type)?!t.isNull:e(t.plotY)&&null!==t.y}var e=t.isNumber;return{draw:function(t,e){var o=e.animatableAttribs,i=e.onComplete,n=e.css,r=e.renderer,a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,s=t.graphic;e.attribs=e.attribs||{},e.attribs.class=t.getClassName(),l(t)?(s||(t.graphic=s="text"===e.shapeType?r.text():r[e.shapeType](e.shapeArgs||{}),s.add(e.group)),n&&s.css(n),s.attr(e.attribs).animate(o,!e.isNew&&a,i)):s&&(r=function(){t.graphic=s=s&&s.destroy(),"function"==typeof i&&i()},Object.keys(o).length?s.animate(o,void 0,r):r())},shouldDraw:l}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.dimensions=void 0,t.options=void 0,t.polygon=void 0,t.rect=void 0,t.series=void 0,t}return e=e.extend,o=t.seriesTypes.column.prototype.pointClass,n(r,o),r.prototype.isValid=function(){return!0},e((t=r).prototype,{weight:1}),t}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){function s(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function n(t){var n=t.axes||[];return n.length||(n=[],t.concat([t[0]]).reduce(function(t,e){t=t,o=e[0]-t[0];var o,i=[-(t=e[1]-t[1]),o];return h(n,function(t){return t[0]===i[0]&&t[1]===i[1]})||n.push(i),e}),t.axes=n),n}function r(t,e){return t=t.map(function(t){return t[0]*e[0]+t[1]*e[1]}),{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function l(o,i){var t=n(o),e=n(i),t=t.concat(e);return!h(t,function(t){var e=r(o,t);return!!((t=r(i,t)).min>e.max||t.max<e.min)})}function g(o,t){function i(t){var e=s(n,t.rect);return e=e&&(o.rotation%90||t.rotation%90)?l(r,t.polygon):e}var e=!1,n=o.rect,r=o.polygon,a=o.lastCollidedWith;return a&&!(e=i(a))&&delete o.lastCollidedWith,e=e||!!h(t,function(t){var e=i(t);return e&&(o.lastCollidedWith=t),e})}function o(t,e){e=4*t;var o=Math.ceil((Math.sqrt(e)-1)/2),i=2*o+1,n=Math.pow(i,2),r=!1;return--i,t<=1e4&&("boolean"==typeof r&&n-i<=e&&(r={x:o-(n-e),y:-o}),n-=i,"boolean"==typeof r&&n-i<=e&&(r={x:-o,y:n-e-o}),n-=i,(r="boolean"==typeof r?n-i<=e?{x:n-e-o,y:o}:{x:o,y:o-(n-e-i)}:r).x*=5,r.y*=5),r}function a(t,e){return e=p(e)?e:14,e=Math.pow(10,e),Math.round(t*e)/e}function i(t,e){var o=t[0],i=(t=t[1],d*-e);return[a(o*(e=Math.cos(i))-t*(i=Math.sin(i))),a(o*i+t*e)]}function u(t,e,o){return[(t=i([t[0]-e[0],t[1]-e[1]],o))[0]+e[0],t[1]+e[1]]}var d=t.deg2rad,f=e.extend,h=e.find,p=e.isNumber,m=e.isObject,c=e.merge;return{archimedeanSpiral:function(t,e){var o=e.field,i=(e=!1,o=o.width*o.width+o.height*o.height,.8*t);return t<=1e4&&(e={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(e.x),Math.abs(e.y))<o||(e=!1)),e},extendPlayingField:function(t,e){var o,i,n;return m(t)&&m(e)&&(n=e.bottom-e.top,o=e.right-e.left,e=t.ratioX,i=t.ratioY,t=c(t,{width:t.width+(n=n*i<o*e?o:n)*e*2,height:t.height+n*i*2})),t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var o=e[0];return e=e[1],t.left=Math.min(o,t.left),t.right=Math.max(o,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,o){o=o.reduce(function(t,e){e=e.dimensions;var o=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=o*o,t},{maxHeight:0,maxWidth:0,area:0});var i=e<t?t/e:1;return{width:(o=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area)))*i,height:o*(t=t<e?e/t:1),ratioX:i,ratioY:t}},getPolygon:function(t,e,o,i,n){var r=[t,e],a=t-o/2;return t+=o/2,[[a,o=e-i/2],[t,o],[t,e+=i/2],[a,e]].map(function(t){return u(t,r,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,o,i){var n=!1;return n=p(t)&&p(e)&&p(o)&&p(i)&&0<t&&-1<e&&o<i?o+e%t*((i-o)/(t-1||1)):n},getScale:function(t,e,o){var i=2*Math.max(Math.abs(o.top),Math.abs(o.bottom));return o=2*Math.max(Math.abs(o.left),Math.abs(o.right)),Math.min(0<o?1/o*t:1,0<i?1/i*e:1)},getSpiral:function(t,e){for(var o=[],i=1;i<1e4;i++)o.push(t(i,e));return function(t){return t<=1e4&&o[t-1]}},intersectionTesting:function(t,e){var o,i,n,r,a=e.placed,s=e.field,l=e.rectangle,u=e.polygon,d=e.spiral,h=1,p={x:0,y:0},c=t.rect=f({},l);for(t.polygon=u,t.rotation=e.rotation;!1!==p&&(g(t,a)||(o=c,r=n=i=void 0,i=s.width/2,n=-s.height/2,r=s.height/2,!(-s.width/2<o.left&&i>o.right&&n<o.top&&r>o.bottom)));)p=d(h),m(p)&&(c.left=l.left+p.x,c.right=l.right+p.x,c.top=l.top+p.y,c.bottom=l.bottom+p.y,t.polygon=function(e,o,t){return t.map(function(t){return[t[0]+e,t[1]+o]})}(p.x,p.y,u)),h++;return p},isPolygonsColliding:l,isRectanglesIntersecting:s,rectangularSpiral:function(t,e){return t=o(t),e=e.field,t&&(t.x*=e.ratioX,t.y*=e.ratioY),t},rotate2DToOrigin:i,rotate2DToPoint:u,squareSpiral:o,updateFieldBoundaries:function(t,e){return(!p(t.left)||t.left>e.left)&&(t.left=e.left),(!p(t.right)||t.right<e.right)&&(t.right=e.right),(!p(t.top)||t.top>e.top)&&(t.top=e.top),(!p(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(M,o,e,t,i,n,r){var a,s,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=o.noop,d=t.seriesTypes.column,S=i.extend,h=i.isArray,P=i.isNumber,A=i.isObject,p=i.merge,j=(i=r.archimedeanSpiral,r.extendPlayingField),_=r.getBoundingBoxFromPolygon,F=r.getPlayingField,C=r.getPolygon,c=r.getRandomPosition,g=r.getRotation,W=r.getScale,O=r.getSpiral,T=r.intersectionTesting,f=r.isPolygonsColliding,m=r.rectangularSpiral,y=r.rotate2DToOrigin,x=r.rotate2DToPoint,b=r.squareSpiral,D=r.updateFieldBoundaries;function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return l(v,s=d),v.prototype.bindAxes=function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};e.prototype.bindAxes.call(this),S(this.yAxis.options,t),S(this.xAxis.options,t)},v.prototype.pointAttribs=function(t,e){return delete(t=o.seriesTypes.column.prototype.pointAttribs.call(this,t,e)).stroke,delete t["stroke-width"],t},v.prototype.deriveFontSize=function(t,e,o){return t=P(t)?t:0,e=P(e)?e:1,o=P(o)?o:1,Math.floor(Math.max(o,t*e))},v.prototype.drawPoints=function(){var l=this,u=l.hasRendered,t=l.xAxis,e=l.yAxis,d=l.group,h=l.options,p=h.animation,c=h.allowExtendPlayingField,g=l.chart.renderer,o=g.text().add(d),f=[],m=l.placementStrategy[h.placementStrategy],y=h.rotation,i=l.points.map(function(t){return t.weight}),x=Math.max.apply(null,i),b=l.points.concat().sort(function(t,e){return e.weight-t.weight}),v=(l.group.attr({scaleX:1,scaleY:1}),b.forEach(function(t){var e=l.deriveFontSize(1/x*t.weight,h.maxFontSize,h.minFontSize),e=S({fontSize:e+"px"},h.style);o.css(e).attr({x:0,y:0,text:t.name}),e=o.getBBox(!0),t.dimensions={height:e.height,width:e.width}}),F(t.len,e.len,b)),w=O(l.spirals[h.spiral],{field:v});b.forEach(function(t){var e,o=l.deriveFontSize(1/x*t.weight,h.maxFontSize,h.minFontSize),o=S({fontSize:o+"px"},h.style),i=m(t,{data:b,field:v,placed:f,rotation:y}),n=S(l.pointAttribs(t,t.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:i.x,y:i.y,text:t.name,rotation:P(i.rotation)?i.rotation:void 0}),r=C(i.x,i.y,t.dimensions.width,t.dimensions.height,i.rotation),a=_(r),s=T(t,{rectangle:a,polygon:r,field:v,placed:f,spiral:w,rotation:i.rotation});!s&&c&&(v=j(v,a),s=T(t,{rectangle:a,polygon:r,field:v,placed:f,spiral:w,rotation:i.rotation})),A(s)?(n.x=(n.x||0)+s.x,n.y=(n.y||0)+s.y,a.left+=s.x,a.right+=s.x,a.top+=s.y,a.bottom+=s.y,v=D(v,a),f.push(t),t.isNull=!1,t.isInside=!0):t.isNull=!0,p&&(e={x:n.x,y:n.y},u?(delete n.x,delete n.y):(n.x=0,n.y=0)),M.draw(t,{animatableAttribs:e,attribs:n,css:o,group:d,renderer:g,shapeArgs:void 0,shapeType:"text"})}),o=o.destroy(),t=W(t.len,e.len,v),l.group.attr({scaleX:t,scaleY:t})},v.prototype.hasData=function(){return A(this)&&!0===this.visible&&h(this.points)&&0<this.points.length},v.prototype.getPlotBox=function(){var t=this.chart,e=this[(o=t.inverted)?"yAxis":"xAxis"],o=this[o?"xAxis":"yAxis"];return{translateX:(e?e.left:t.plotLeft)+(e?e.len:t.plotWidth)/2,translateY:(o?o.top:t.plotTop)+(o?o.len:t.plotHeight)/2,scaleX:1,scaleY:1}},v.defaultOptions=p(d.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.weight}</b><br/>'}}),S((r=v).prototype,{animate:u,animateDrilldown:u,animateDrillupFrom:u,pointClass:n,setClip:u,placementStrategy:{random:function(t,e){var o=e.field;return e=e.rotation,{x:c(o.width)-o.width/2,y:c(o.height)-o.height/2,rotation:g(e.orientations,t.index,e.from,e.to)}},center:function(t,e){return e=e.rotation,{x:0,y:0,rotation:g(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:i,rectangular:m,square:b},utils:{extendPlayingField:j,getRotation:g,isPolygonsColliding:f,rotate2DToOrigin:y,rotate2DToPoint:x}}),t.registerSeriesType("wordcloud",r),r}),e(t,"masters/modules/wordcloud.src.js",[],function(){})});