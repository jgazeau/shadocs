!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/pattern-fill",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/PatternFill.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,r,s,a,n,f){let u=t["animObject"],o=r["getOptions"],{addEvent:h,defined:d,erase:p,merge:l,pick:g,removeEvent:m,wrap:c}=f,y=i.patterns=(()=>{let i=[],r=o().colors;return["M 0 0 L 5 5 M 4.5 -0.5 L 5.5 0.5 M -0.5 4.5 L 0.5 5.5","M 0 5 L 5 0 M -0.5 0.5 L 0.5 -0.5 M 4.5 5.5 L 5.5 4.5","M 2 0 L 2 5 M 4 0 L 4 5","M 0 2 L 5 2 M 0 4 L 5 4","M 0 1.5 L 2.5 1.5 L 2.5 0 M 2.5 5 L 2.5 3.5 L 5 3.5"].forEach((t,e)=>{i.push({path:t,color:r[e],width:5,height:5,patternTransform:"scale(1.4 1.4)"})}),["M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9"].forEach((t,e)=>{i.push({path:t,color:r[e+5],width:10,height:10})}),i})();function x(t,e){let i=JSON.stringify(t),r=i.length||0,a=0,n=0,o;if(e){o=Math.max(Math.floor(r/500),1);for(let t=0;t<r;t+=o)a+=i.charCodeAt(t);a&=a}for(;n<r;++n)a=(a<<5)-a+i.charCodeAt(n),a&=a;return a.toString(16).replace("-","1")}s.prototype.calculatePatternDimensions=function(i){if(!i.width||!i.height){let t=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},e=this.shapeArgs;if(e&&(t.width=e.width||t.width,t.height=e.height||t.height,t.x=e.x||t.x,t.y=e.y||t.y),i.image){var r;if(!t.width||!t.height)return i._width="defer",i._height="defer",r=this.series.chart.mapView&&this.series.chart.mapView.getSVGTransform().scaleY,void(d(r)&&r<0&&(i._inverted=!0));i.aspectRatio&&(t.aspectRatio=t.width/t.height,i.aspectRatio>t.aspectRatio?t.aspectWidth=t.height*i.aspectRatio:t.aspectHeight=t.width/i.aspectRatio),i._width=i.width||Math.ceil(t.aspectWidth||t.width),i._height=i.height||Math.ceil(t.aspectHeight||t.height)}i.width||(i._x=i.x||0,i._x+=t.x-Math.round(t.aspectWidth?Math.abs(t.aspectWidth-t.width)/2:0)),i.height||(i._y=i.y||0,i._y+=t.y-Math.round(t.aspectHeight?Math.abs(t.aspectHeight-t.height)/2:0))}},n.prototype.addPattern=function(e,i){let r,a=g(i,!0),n=u(a),o,s=e.width||e._width||32,h=e.height||e._height||32,d=e.color||"#343434",p=e.id,l=this,c;if(p||(this.idCounter=this.idCounter||0,p="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.forExport&&(p+="-export"),this.defIds=this.defIds||[],!(-1<this.defIds.indexOf(p))){this.defIds.push(p);let t={id:p,patternUnits:"userSpaceOnUse",patternContentUnits:e.patternContentUnits||"userSpaceOnUse",width:s,height:h,x:e._x||e.x||0,y:e._y||e.y||0};return e._inverted&&(t.patternTransform="scale(1, -1)",e.patternTransform&&(e.patternTransform+=" scale(1, -1)")),e.patternTransform&&(t.patternTransform=e.patternTransform),(r=this.createElement("pattern").attr(t).add(this.defs)).id=p,e.path?(o=f.isObject(e.path)?e.path:{d:e.path},e.backgroundColor&&(i=e.backgroundColor,l.rect(0,0,s,h).attr({fill:i}).add(r)),c={d:o.d},this.styledMode||(c.stroke=o.stroke||d,c["stroke-width"]=g(o.strokeWidth,2),c.fill=o.fill||"none"),o.transform&&(c.transform=o.transform),this.createElement("path").attr(c).add(r),r.color=d):e.image&&(a?this.image(e.image,0,0,s,h,function(){this.animate({opacity:g(e.opacity,1)},n),m(this.element,"load")}).attr({opacity:0}):this.image(e.image,0,0,s,h)).add(r),e.image&&a||void 0===e.opacity||[].forEach.call(r.element.childNodes,function(t){t.setAttribute("opacity",e.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[p]=r}},c(a.prototype,"getColor",function(t){let e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,Array.prototype.slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,Array.prototype.slice.call(arguments,1))}),h(a,"render",function(){let i=this.chart.isResizing;!this.isDirtyData&&!i&&this.chart.hasRendered||(this.points||[]).forEach(function(t){let e=t.options&&t.options.color;e&&e.pattern&&(!i||t.shapeArgs&&t.shapeArgs.width&&t.shapeArgs.height?t.calculatePatternDimensions(e.pattern):(e.pattern._width="defer",e.pattern._height="defer"))})}),h(s,"afterInit",function(){let t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=l(this.series.options.color,t))}),h(n,"complexColor",function(t){let e=t.args[0],i=t.args[1],r=t.args[2],a=this.chartIndex||0,n=e.pattern,o="#343434";if(!(n=void 0!==e.patternIndex&&y?y[e.patternIndex]:n))return!0;if(n.image||"string"==typeof n.path||n.path&&n.path.d){let t=r.parentNode&&r.parentNode.getAttribute("class");t=t&&-1<t.indexOf("highcharts-legend"),"defer"!==n._width&&"defer"!==n._height||s.prototype.calculatePatternDimensions.call({graphic:{element:r}},n),!t&&n.id||((n=l({},n)).id="highcharts-pattern-"+a+"-"+x(n)+x(n,!0)),this.addPattern(n,!this.forExport&&g(n.animation,this.globalAnimation,{duration:100})),o=`url(${this.url}#${n.id+(this.forExport?"-export":"")})`}else o=n.color||o;return r.setAttribute(i,o),!(e.toString=function(){return o})}),h(e,"endResize",function(){(this.renderer&&this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length&&(this.series.forEach(function(t){t.visible&&t.points.forEach(function(t){let e=t.options&&t.options.color;e&&e.pattern&&(e.pattern._width="defer",e.pattern._height="defer")})}),this.redraw(!1))}),h(e,"redraw",function(){let i={},r=this.renderer,t=(r.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});t.length&&([].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(t){let e=t.getAttribute("fill")||t.getAttribute("color")||t.getAttribute("stroke");e&&(t=e.replace(r.url,"").replace("url(#","").replace(")",""),i[t]=!0)}),t.forEach(function(t){i[t]||(p(r.defIds,t),r.patternElements[t]&&(r.patternElements[t].destroy(),delete r.patternElements[t]))}))})}),e(t,"masters/modules/pattern-fill.src.js",[],function(){})});