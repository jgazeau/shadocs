!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/sunburst",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}}),t(e,"Extensions/Breadcrumbs/Breadcrumbs.js",[e["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(i,e,t,s){let l=e["format"],r=t["composed"],{addEvent:o,defined:n,extend:a,fireEvent:d,isString:h,merge:p,objectEach:u,pick:c,pushUnique:v}=s;function g(){var e,t;this.breadcrumbs&&(e=this.resetZoomButton&&this.resetZoomButton.getBBox(),t=this.breadcrumbs.options,e&&"right"===t.position.align&&"plotBox"===t.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-e.width-t.buttonSpacing))}function b(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function m(){let e=this.breadcrumbs;var t,i;e&&!e.options.floating&&e.level&&(t=((t=(i=e.options).buttonTheme).height||0)+2*(t.padding||0)+i.buttonSpacing,"bottom"===(i=i.position.verticalAlign)?(this.marginBottom=(this.marginBottom||0)+t,e.yOffset=t):"middle"!==i?(this.plotTop+=t,e.yOffset=-t):e.yOffset=void 0)}function f(){this.breadcrumbs&&this.breadcrumbs.redraw()}function y(e){!0===e.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}class x{static compose(e,t){v(r,"Breadcrumbs")&&(o(e,"destroy",b),o(e,"afterShowResetZoom",g),o(e,"getMargins",m),o(e,"redraw",f),o(e,"selection",y),a(t.lang,i.lang))}constructor(e,t){this.elementList={},this.isDirty=!0,this.level=0,this.list=[];t=p(e.options.drilldown&&e.options.drilldown.drillUpButton,x.defaultOptions,e.options.navigation&&e.options.navigation.breadcrumbs,t);this.chart=e,this.options=t||{}}updateProperties(e){this.setList(e),this.setLevel(),this.isDirty=!0}setList(e){this.list=e}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(e){let t=this.chart,i=this.options,s=t.options.lang,r=c(i.format,i.showFullPath?"{level.name}":"← {level.name}"),o=s&&c(s.drillUpText,s.mainBreadcrumb),a=i.formatter&&i.formatter(e)||l(r,{level:e.levelOptions},t)||"";return a=(h(a)&&!a.length||"← "===a)&&n(o)?i.showFullPath?o:"← "+o:a}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){let e=this.chart,t=this.options;!this.group&&t&&(this.group=e.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:t.zIndex}).add()),t.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){let e=this.chart,t=this.list,i=this.options.buttonSpacing;this.destroyListElements();var s=this.group?this.group.getBBox().width:i,r=t[t.length-2];!e.drillUpButton&&0<this.level?e.drillUpButton=this.renderButton(r,s,i):e.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(l){if(this.group){let e=this.options,t=e.buttonTheme,i=e.position,s="chart"===e.relativeTo||"spacingBox"===e.relativeTo?void 0:"plotBox",r=this.group.getBBox(),o=2*(t.padding||0)+e.buttonSpacing,a=(i.width=r.width+o,i.height=r.height+o,p(i));l&&(a.x+=l),this.options.rtl&&(a.x+=i.width),a.y=c(a.y,this.yOffset,0),this.group.align(a,!0,s)}}renderButton(s,e,t){let r=this,i=this.chart,o=r.options,a=p(o.buttonTheme),l=i.renderer.button(r.getButtonText(s),e,t,function(e){let t,i=o.events&&o.events.click;!1!==(t=i?i.call(r,e,s):t)&&(o.showFullPath?e.newLevel=s.level:e.newLevel=r.level-1,d(r,"up",e))},a).addClass("highcharts-breadcrumbs-button").add(r.group);return i.styledMode||l.attr(o.style),l}renderSeparator(e,t){let i=this.chart,s=this.options.separator,r=i.renderer.label(s.text,e,t,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);return i.styledMode||r.css(s.style),r}update(e){p(!0,this.options,e),this.destroy(),this.isDirty=!0}updateSingleButton(){let e=this.chart,t=this.list[this.level-1];e.drillUpButton&&e.drillUpButton.attr({text:this.getButtonText(t)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(i){let s=this.elementList;u(s,(e,t)=>{!i&&s[t].updated||((e=s[t]).button&&e.button.destroy(),e.separator&&e.separator.destroy(),delete e.button,delete e.separator,delete s[t])}),i&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){u(this.elementList,e=>{e.updated=!1})}updateListElements(){function r(e,t){return h*e.getBBox().width+h*t}function o(e,t,i){e.translate(t-e.getBBox().width,i)}let a=this.elementList,l=this.options.buttonSpacing,n=this.list,d=this.options.rtl,h=d?-1:1,p=this.group?r(this.group,l):l,u,c;for(let i=0,s=n.length;i<s;++i){let e,t;var v=i===s-1;a[(c=n[i]).level]?(e=(u=a[c.level]).button,u.separator||v?u.separator&&v&&(u.separator.destroy(),delete u.separator):(p+=h*l,u.separator=this.renderSeparator(p,l),d&&o(u.separator,p,l),p+=r(u.separator,l)),a[c.level].updated=!0):(e=this.renderButton(c,p,l),d&&o(e,p,l),p+=r(e,l),v||(t=this.renderSeparator(p,l),d&&o(t,p,l),p+=r(t,l)),a[c.level]={button:e,separator:t,updated:!0}),e&&e.setState(v?2:0)}}}return x.defaultOptions=i.options,x}),t(e,"Series/ColorMapComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],function(e,s,t){var i;let r=e.seriesTypes["column"]["prototype"],{addEvent:o,defined:a}=t;return(e=i=i||{}).pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},e.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(e){let t={};return!a(e.color)||e.state&&"normal"!==e.state||(t[this.colorProp||"fill"]=e.color),t},pointAttribs:r.pointAttribs},e.compose=function(e){return o(e.prototype.pointClass,"afterSetState",l),e},i;function l(e){let t=this.series,i=t.chart.renderer;this.moveToTopOnHover&&this.graphic&&(t.stateMarkerGraphic||(t.stateMarkerGraphic=new s(i,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),"hover"===e?.state?(this.graphic.attr({id:this.id}),t.stateMarkerGraphic.attr({href:i.url+"#"+this.id,visibility:"visible"})):t.stateMarkerGraphic.attr({href:""}))}}),t(e,"Series/Treemap/TreemapAlgorithmGroup.js",[],function(){return class{constructor(e,t,i,s){this.height=e,this.width=t,this.plot=s,this.direction=i,this.startDirection=i,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(e,t){return Math.max(e/t,t/e)}}}addElement(e){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+e,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(e)}reset(){this.nW=0,this.lW=0,this.elArr=[],this.total=0}}}),t(e,"Series/Treemap/TreemapNode.js",[],function(){return class{constructor(){this.childrenTotal=0,this.visible=!1}init(e,t,i,s,r,o,a){return this.id=e,this.i=t,this.children=i,this.height=s,this.level=r,this.series=o,this.parent=a,this}}}),t(e,"Series/DrawPointUtilities.js",[],function(){return{draw:function(t,e){let{animatableAttribs:i,onComplete:s,css:r,renderer:o}=e,a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,l=t.graphic;if(e.attribs={...e.attribs,class:t.getClassName()},t.shouldDraw())l||(l="text"===e.shapeType?o.text():"image"===e.shapeType?o.image(e.imageUrl||"").attr(e.shapeArgs||{}):o[e.shapeType](e.shapeArgs||{}),(t.graphic=l).add(e.group)),r&&l.css(r),l.attr(e.attribs).animate(i,!e.isNew&&a,s);else if(l){let e=()=>{t.graphic=l=l&&l.destroy(),"function"==typeof s&&s()};Object.keys(i).length?l.animate(i,void 0,()=>e()):e()}}}}),t(e,"Series/Treemap/TreemapPoint.js",[e["Series/DrawPointUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i){let{pie:{prototype:{pointClass:s}},scatter:{prototype:{pointClass:r}}}=e.seriesTypes,{extend:o,isNumber:a,pick:l}=i;class n extends r{constructor(){super(...arguments),this.shapeType="rect"}draw(e){t.draw(this,e)}getClassName(){let e=this.series,t=e.options,i=super.getClassName();return this.node.level<=e.nodeMap[e.rootNode].level?i+=" highcharts-above-level":this.node.isLeaf||l(t.interactByLeaf,!t.allowTraversingTree)?this.node.isLeaf||(i+=" highcharts-internal-node"):i+=" highcharts-internal-node-interactive",i}isValid(){return!(!this.id&&!a(this.value))}setState(e){super.setState.apply(this,arguments),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}shouldDraw(){return a(this.plotY)&&null!==this.y}}return o(n.prototype,{setVisible:s.prototype.setVisible}),n}),t(e,"Series/Treemap/TreemapSeriesDefaults.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let i=t["isString"];return{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var e=this&&this.point?this.point:{};return i(e.name)?e.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:e.seriesTypes.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}},legendSymbol:"rectangle"}}),t(e,"Series/Treemap/TreemapUtilities.js",[],function(){return{recursive:function e(t,i,s){t=i.call(s||this,t);!1!==t&&e(t,i,s)}}}),t(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(f,e){let{extend:u,isArray:n,isNumber:d,isObject:h,merge:p,pick:y,relativeLength:r}=e;return{getColor:function(e,t){let i,s,r,o,a,l,n=t.index,d=t.mapOptionsToLevel,h=t.parentColor,p=t.parentColorIndex,u=t.series,c=t.colors,v=t.siblings,g=u.points,b=u.chart.options.chart;return e&&(i=g[e.i],s=d[e.level]||{},i&&s.colorByPoint&&(o=i.index%(c?c.length:b.colorCount),r=c&&c[o]),u.chart.styledMode||(a=y(i&&i.options.color,s&&s.color,r,h&&(e=h,(m=s&&s.colorVariation)&&"brightness"===m.key&&n&&v?f.parse(e).brighten(m.to*(n/v)).get():e),u.color)),l=y(i&&i.options.colorIndex,s&&s.colorIndex,o,p,t.colorIndex)),{color:a,colorIndex:l};var m},getLevelOptions:function(e){let o,t,i,a,s,r,l={};if(h(e))for(a=d(e.from)?e.from:1,r=e.levels,t={},o=h(e.defaults)?e.defaults:{},n(r)&&(t=r.reduce((e,t)=>{let i,s,r;return h(t)&&d(t.level)&&(s=y((r=p({},t)).levelIsConstant,o.levelIsConstant),delete r.levelIsConstant,delete r.level,h(e[i=t.level+(s?0:a-1)])?p(!0,e[i],r):e[i]=r),e},{})),s=d(e.to)?e.to:1,i=0;i<=s;i++)l[i]=p({},o,h(t[i])?t[i]:{});return l},getNodeWidth:function(e,t){var{chart:e,options:i}=e,{nodeDistance:i=0,nodeWidth:s=0}=i,{plotSizeX:e=1}=e;if("auto"!==s)return r(s,e);if("string"==typeof i&&/%$/.test(i))return e/(t+parseFloat(i)/100*(t-1));s=Number(i);return(e+s)/(t||1)-s},setTreeValues:function s(r,o){let e=o.before,t=o.idRoot,i=o.mapIdToNode[t],a=!1!==o.levelIsConstant,l=o.points[r.i],n=l&&l.options||{},d=[],h=0;r.levelDynamic=r.level-(a?0:i.level),r.name=y(l&&l.name,""),r.visible=t===r.id||!0===o.visible,(r="function"==typeof e?e(r,o):r).children.forEach((e,t)=>{var i=u({},o);u(i,{index:t,siblings:r.children.length,visible:r.visible}),e=s(e,i),d.push(e),e.visible&&(h+=e.val)});var p=y(n.value,h);return r.visible=0<=p&&(0<h||r.visible),r.children=d,r.childrenTotal=h,r.isLeaf=r.visible&&!h,r.val=p,r},updateRootId:function(e){let t,i;return h(e)&&(i=h(e.options)?e.options:{},t=y(e.rootNode,i.rootId,""),h(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Series/Treemap/TreemapSeries.js",[e["Extensions/Breadcrumbs/Breadcrumbs.js"],e["Core/Color/Color.js"],e["Series/ColorMapComposition.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Treemap/TreemapAlgorithmGroup.js"],e["Series/Treemap/TreemapNode.js"],e["Series/Treemap/TreemapPoint.js"],e["Series/Treemap/TreemapSeriesDefaults.js"],e["Series/Treemap/TreemapUtilities.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(o,e,t,i,s,p,r,a,l,n,d,h){let u=e["parse"],{composed:c,noop:v}=i,{column:g,scatter:b}=s.seriesTypes,{getColor:m,getLevelOptions:f,updateRootId:y}=d,{addEvent:x,correctFloat:S,crisp:T,defined:L,error:w,extend:P,fireEvent:A,isArray:C,isObject:R,isString:B,merge:O,pick:I,pushUnique:M,stableSort:j}=h,N=!1;function U(){var e;let t=this.xAxis,i=this.yAxis;t&&i&&(this.is("treemap")?(e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:100,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]},P(i.options,e),P(t.options,e),N=!0):N&&(i.setOptions(i.userOptions),t.setOptions(t.userOptions),N=!1))}class D extends b{static compose(e){M(c,"TreemapSeries")&&x(e,"afterBindAxes",U)}algorithmCalcPoints(e,t,i,s){let r=i.plot,o=i.elArr.length-1,a,l,n,d,h=i.lW,p=i.lH,u,c=0;for(var v of(t?(h=i.nW,p=i.nH):u=i.elArr[o],i.elArr))(t||c<o)&&(0===i.direction?(a=r.x,l=r.y,d=v/(n=h)):(a=r.x,l=r.y,n=v/(d=p)),s.push({x:a,y:l,width:n,height:S(d)}),0===i.direction?r.y=r.y+d:r.x=r.x+n),c+=1;i.reset(),0===i.direction?i.width=i.width-h:i.height=i.height-p,r.y=r.parent.y+(r.parent.height-i.height),r.x=r.parent.x+(r.parent.width-i.width),e&&(i.direction=1-i.direction),t||i.addElement(u)}algorithmFill(e,t,i){let s=[],r,o=t.direction,a=t.x,l=t.y,n=t.width,d=t.height,h,p,u,c;for(var v of i)r=t.width*t.height*(v.val/t.val),h=a,p=l,0===o?(n-=u=r/(c=d),a+=u):(d-=c=r/(u=n),l+=c),s.push({x:h,y:p,width:u,height:c}),e&&(o=1-o);return s}algorithmLowAspectRatio(e,t,i){let s=[],r={x:t.x,y:t.y,parent:t},o=t.direction,a=i.length-1,l=new p(t.height,t.width,o,r),n,d=0;for(var h of i)n=t.width*t.height*(h.val/t.val),l.addElement(n),l.lP.nR>l.lP.lR&&this.algorithmCalcPoints(e,!1,l,s,r),d===a&&this.algorithmCalcPoints(e,!0,l,s,r),++d;return s}alignDataLabel(e,t,i){let s=i.style;s&&!L(s.textOverflow)&&t.text&&t.getBBox().width>(t.text.textWidth||0)&&t.css({textOverflow:"ellipsis",width:s.width+="px"}),g.prototype.alignDataLabel.apply(this,arguments),e.dataLabel&&e.dataLabel.attr({zIndex:(e.node.zIndex||0)+1})}calculateChildrenAreas(e,t){var i,s,r=this.options,o=this.mapOptionsToLevel[e.level+1],a=I(this[o&&o.layoutAlgorithm]&&o.layoutAlgorithm,r.layoutAlgorithm),l=r.alternateStartingDirection,r=e.children.filter(e=>!e.ignore);o&&o.layoutStartingDirection&&(t.direction="vertical"===o.layoutStartingDirection?0:1),i=this[a](t,r);let n=-1;for(s of r){var d=i[++n];s.values=O(d,{val:s.childrenTotal,direction:l?1-t.direction:t.direction}),s.pointValues=O(d,{x:d.x/this.axisRatio,y:100-d.y-d.height,width:d.width/this.axisRatio}),s.children.length&&this.calculateChildrenAreas(s,s.values)}}createList(s){let r=this.chart,e=r.breadcrumbs,o=[];if(e){let e=0,t=(o.push({level:e,levelOptions:r.series[0]}),s.target.nodeMap[s.newRootId]),i=[];for(;t.parent||""===t.parent;)i.push(t),t=s.target.nodeMap[t.parent];for(var a of i.reverse())o.push({level:++e,levelOptions:a});o.length<=1&&(o.length=0)}return o}drawDataLabels(){let e,t;var i,s=this.mapOptionsToLevel;for(i of this.points.filter(function(e){return e.node.visible}))t=s[i.node.level],e={style:{}},i.node.isLeaf||(e.enabled=!1),t&&t.dataLabels&&(e=O(e,t.dataLabels),this.hasDataLabels=()=>!0),i.shapeArgs&&(e.style.width=i.shapeArgs.width,i.dataLabel&&i.dataLabel.css({width:i.shapeArgs.width+"px"})),i.dlOptions=O(e,i.options.dataLabels);super.drawDataLabels()}drawPoints(e=this.points){let t=this.chart,n=t.renderer,d=t.styledMode,h=this.options,p=d?{}:h.shadow,u=h.borderRadius,c=t.pointCount<h.animationLimit,v=h.allowTraversingTree;for(var g of e){let e=g.node.levelDynamic,t={},i={},s={},r="level-group-"+g.node.level,o=!!g.graphic,a=c&&o,l=g.shapeArgs;g.shouldDraw()&&(g.isInside=!0,u&&(i.r=u),O(!0,a?t:i,o?l:{},d?{}:this.pointAttribs(g,g.selected?"select":void 0)),this.colorAttribs&&d&&P(s,this.colorAttribs(g)),this[r]||(this[r]=n.g(r).attr({zIndex:1e3-(e||0)}).add(this.group),this[r].survive=!0)),g.draw({animatableAttribs:t,attribs:i,css:s,group:this[r],imageUrl:g.imageUrl,renderer:n,shadow:p,shapeArgs:l,shapeType:g.shapeType}),v&&g.graphic&&(g.drillId=h.interactByLeaf?this.drillToByLeaf(g):this.drillToByGroup(g))}}drillToByGroup(e){let t=!1;return t=e.node.isLeaf||e.node.level-this.nodeMap[this.rootNode].level!=1?t:e.id}drillToByLeaf(e){let t=!1,i;if(e.node.parent!==this.rootNode&&e.node.isLeaf)for(i=e.node;!t;)(i=this.nodeMap[i.parent]).parent===this.rootNode&&(t=i.id);return t}drillToNode(e,t){w(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(e,t)}drillUp(){var e=this.nodeMap[this.rootNode];e&&B(e.parent)&&this.setRootNode(e.parent,!0,{trigger:"traverseUpButton"})}getExtremes(){var{dataMin:e,dataMax:t}=super.getExtremes(this.colorValueData);return this.valueMin=e,this.valueMax=t,super.getExtremes()}getListOfParents(e,t){let i=C(e)?e:[],s=C(t)?t:[],r=i.reduce(function(e,t,i){t=I(t.parent,"");return void 0===e[t]&&(e[t]=[]),e[t].push(i),e},{"":[]});for(var o of Object.keys(r)){var a=r[o];if(""!==o&&-1===s.indexOf(o)){for(var l of a)r[""].push(l);delete r[o]}}return r}getTree(){var e=this.data.map(function(e){return e.id}),e=this.getListOfParents(this.data,e);return this.nodeMap={},this.nodeList=[],this.buildTree("",-1,0,e)}buildTree(e,t,i,s,r){let o=[],a=this.points[t],l=0,n;for(var d of s[e]||[])l=Math.max((n=this.buildTree(this.points[d].id,d,i+1,s,e)).height+1,l),o.push(n);let h=(new this.NodeClass).init(e,t,o,l,i,this,r);for(var p of o)p.parentNode=h;return this.nodeMap[h.id]=h,this.nodeList.push(h),a&&((a.node=h).point=a),h}hasData(){return!!this.processedXData.length}init(e,t){let i=this,s=O(t.drillUpButton,t.breadcrumbs),r=x(i,"setOptions",e=>{let t=e.userOptions;L(t.allowDrillToNode)&&!L(t.allowTraversingTree)&&(t.allowTraversingTree=t.allowDrillToNode,delete t.allowDrillToNode),L(t.drillUpButton)&&!L(t.traverseUpButton)&&(t.traverseUpButton=t.drillUpButton,delete t.drillUpButton)});super.init(e,t),delete i.opacity,i.eventsToUnbind.push(r),i.options.allowTraversingTree&&(i.eventsToUnbind.push(x(i,"click",i.onClickDrillToNode)),i.eventsToUnbind.push(x(i,"setRootNode",function(e){let t=i.chart;t.breadcrumbs&&t.breadcrumbs.updateProperties(i.createList(e))})),i.eventsToUnbind.push(x(i,"update",function(e,t){let i=this.chart.breadcrumbs;i&&e.options.breadcrumbs&&i.update(e.options.breadcrumbs)})),i.eventsToUnbind.push(x(i,"destroy",function(e){let t=this.chart;t.breadcrumbs&&!e.keepEventsForUpdate&&(t.breadcrumbs.destroy(),t.breadcrumbs=void 0)}))),e.breadcrumbs||(e.breadcrumbs=new o(e,s)),i.eventsToUnbind.push(x(e.breadcrumbs,"up",function(e){var t=this.level-e.newLevel;for(let e=0;e<t;e++)i.drillUp()}))}onClickDrillToNode(e){let t=e.point,i=t&&t.drillId;B(i)&&(t.setState(""),this.setRootNode(i,!0,{trigger:"click"}))}pointAttribs(e,t){let i=R(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},s=e&&i[e.node.level]||{},r=this.options,o=t&&r.states&&r.states[t]||{},a=e&&e.getClassName()||"",l={stroke:e&&e.borderColor||s.borderColor||o.borderColor||r.borderColor,"stroke-width":I(e&&e.borderWidth,s.borderWidth,o.borderWidth,r.borderWidth),dashstyle:e&&e.borderDashStyle||s.borderDashStyle||o.borderDashStyle||r.borderDashStyle,fill:e&&e.color||this.color};return-1!==a.indexOf("highcharts-above-level")?(l.fill="none",l["stroke-width"]=0):-1!==a.indexOf("highcharts-internal-node-interactive")?(e=I(o.opacity,r.opacity),l.fill=u(l.fill).setOpacity(e).get(),l.cursor="pointer"):-1!==a.indexOf("highcharts-internal-node")?l.fill="none":t&&(l.fill=u(l.fill).brighten(o.brightness).get()),l}setColorRecursive(s,r,o,a,l){var n=this&&this.chart,n=n&&n.options&&n.options.colors;if(s){let e=m(s,{colors:n,index:a,mapOptionsToLevel:this.mapOptionsToLevel,parentColor:r,parentColorIndex:o,series:this,siblings:l}),t=this.points[s.i],i=(t&&(t.color=e.color,t.colorIndex=e.colorIndex),-1);for(var d of s.children||[])this.setColorRecursive(d,e.color,e.colorIndex,++i,s.children.length)}}setPointValues(){let e=this,{points:t,xAxis:i,yAxis:s}=e,r=e.chart.styledMode;for(var o of t){var a,l,n,{pointValues:d,visible:h}=o.node;d&&h?({height:h,width:d,x:l,y:n}=d,p=o,p=!r&&e.pointAttribs(p)["stroke-width"]||0,a=T(i.toPixels(l,!0),p,!0),l=T(i.toPixels(l+d,!0),p,!0),d=T(s.toPixels(n,!0),p,!0),n=T(s.toPixels(n+h,!0),p,!0),h={x:Math.min(a,l),y:Math.min(d,n),width:Math.abs(l-a),height:Math.abs(n-d)},o.plotX=h.x+h.width/2,o.plotY=h.y+h.height/2,o.shapeArgs=h):(delete o.plotX,delete o.plotY)}var p}setRootNode(e,t,i){A(this,"setRootNode",P({newRootId:e,previousRootId:this.rootNode,redraw:I(t,!0),series:this},i),function(e){let t=e.series;t.idPreviousRoot=e.previousRootId,t.rootNode=e.newRootId,t.isDirty=!0,e.redraw&&t.chart.redraw()})}setState(e){this.options.inactiveOtherPoints=!0,super.setState(e,!1),this.options.inactiveOtherPoints=!1}setTreeValues(e){let t=this.options,i=this.rootNode,s=this.nodeMap[i],r="boolean"!=typeof t.levelIsConstant||t.levelIsConstant,o=[],a=this.points[e.i],l=0;for(var n of e.children)n=this.setTreeValues(n),o.push(n),n.ignore||(l+=n.val);j(o,(e,t)=>(e.sortIndex||0)-(t.sortIndex||0));var d=I(a&&a.options.value,l);return a&&(a.value=d),P(e,{children:o,childrenTotal:l,ignore:!(I(a&&a.visible,!0)&&0<d),isLeaf:e.visible&&!l,levelDynamic:e.level-(r?0:s.level),name:I(a&&a.name,""),sortIndex:I(a&&a.sortIndex,-d),val:d}),e}sliceAndDice(e,t){return this.algorithmFill(!0,e,t)}squarified(e,t){return this.algorithmLowAspectRatio(!0,e,t)}strip(e,t){return this.algorithmLowAspectRatio(!1,e,t)}stripes(e,t){return this.algorithmFill(!1,e,t)}translate(){let s=this,e=s.options,t=y(s),i,r,o,a;super.translate();var l=s.tree=s.getTree();i=s.nodeMap[t],""===t||i&&i.children.length||(s.setRootNode("",!1),t=s.rootNode,i=s.nodeMap[t]),s.mapOptionsToLevel=f({from:i.level+1,levels:e.levels,to:l.height,defaults:{levelIsConstant:s.options.levelIsConstant,colorByPoint:e.colorByPoint}}),n.recursive(s.nodeMap[s.rootNode],e=>{let t=e.parent,i=!1;return e.visible=!0,i=!t&&""!==t?i:s.nodeMap[t]}),n.recursive(s.nodeMap[s.rootNode].children,e=>{let t=!1;for(var i of e)i.visible=!0,i.children.length&&(t=(t||[]).concat(i.children));return t}),s.setTreeValues(l),s.axisRatio=s.xAxis.len/s.yAxis.len,s.nodeMap[""].pointValues=r={x:0,y:0,width:100,height:100},s.nodeMap[""].values=o=O(r,{width:r.width*s.axisRatio,direction:"vertical"===e.layoutStartingDirection?0:1,val:l.val}),s.calculateChildrenAreas(l,o),s.colorAxis||e.colorByPoint||s.setColorRecursive(s.tree),e.allowTraversingTree&&(a=i.pointValues,s.xAxis.setExtremes(a.x,a.x+a.width,!1),s.yAxis.setExtremes(a.y,a.y+a.height,!1),s.xAxis.setScale(),s.yAxis.setScale()),s.setPointValues()}}return D.defaultOptions=O(b.defaultOptions,l),P(D.prototype,{buildKDTree:v,colorAttribs:t.seriesMembers.colorAttribs,colorKey:"colorValue",directTouch:!0,getExtremesFromAll:!0,getSymbol:v,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:a,NodeClass:r,trackerGroups:["group","dataLabelsGroup"],utils:n}),t.compose(D),s.registerSeriesType("treemap",D),D}),t(e,"Series/Sunburst/SunburstPoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let{series:{prototype:{pointClass:i}},seriesTypes:{treemap:{prototype:{pointClass:s}}}}=e,{correctFloat:d,extend:r,pInt:h}=t;class o extends s{getDataLabelPath(e){let t=this.series.chart.renderer,i=this.shapeExisting,s=i.r+h(e.options?.distance||0),r=i.start,o=i.end,a=r+(o-r)/2,l=a<0&&a>-Math.PI||a>Math.PI,n;return r===-Math.PI/2&&d(o)===d(1.5*Math.PI)&&(r=-Math.PI+Math.PI/360,o=-Math.PI/360,l=!0),o-r>Math.PI&&(l=!1,n=!0,o-r>2*Math.PI-.01&&(r+=.01,o-=.01)),this.dataLabelPath&&(this.dataLabelPath=this.dataLabelPath.destroy()),this.dataLabelPath=t.arc({open:!0,longArc:n?1:0}).attr({start:l?r:o,end:l?o:r,clockwise:+l,x:i.x,y:i.y,r:(s+i.innerR)/2}).add(t.defs),this.dataLabelPath}isValid(){return!0}}return r(o.prototype,{getClassName:i.prototype.getClassName,haloPath:i.prototype.haloPath,setState:i.prototype.setState}),o}),t(e,"Series/Sunburst/SunburstUtilities.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let{treemap:i}=e["seriesTypes"],{isNumber:c,isObject:v,merge:g}=t;function b(t,i){let s=[];if(c(t)&&c(i)&&t<=i)for(let e=t;e<=i;e++)s.push(e);return s}return{calculateLevelSizes:function(e,t){let i=v(t)?t:{},s,r=0,o,a,l,n;if(v(e)){for(var d of(s=g({},e),a=b(c(i.from)?i.from:0,c(i.to)?i.to:0),l=Object.keys(s).filter(e=>-1===a.indexOf(+e)),o=n=c(i.diffRadius)?i.diffRadius:0,a)){let e=s[d],t=e.levelSize.unit,i=e.levelSize.value;"weight"===t?r+=i:"percentage"===t?(e.levelSize={unit:"pixels",value:i/100*o},n-=e.levelSize.value):"pixels"===t&&(n-=i)}for(var h of a){var p=s[h];"weight"===p.levelSize.unit&&(p=p.levelSize.value,s[h].levelSize={unit:"pixels",value:p/r*n})}for(var u of l)s[u].levelSize={value:0,unit:"pixels"}}return s},getLevelFromAndTo:function({level:e,height:t}){return{from:0<e?e:1,to:e+t}},range:b,recursive:i.prototype.utils.recursive}}),t(e,"Series/Sunburst/SunburstNode.js",[e["Series/Treemap/TreemapNode.js"]],function(e){return class extends e{}}),t(e,"Series/Sunburst/SunburstSeriesDefaults.js",[],function(){return{center:["50%","50%"],clip:!1,colorByPoint:!1,opacity:1,dataLabels:{allowOverlap:!0,defer:!0,rotationMode:"circular",style:{textOverflow:"ellipsis"}},rootId:void 0,levelIsConstant:!0,levelSize:{value:1,unit:"weight"},slicedOffset:10}}),t(e,"Series/Sunburst/SunburstSeries.js",[e["Series/CenteredUtilities.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Sunburst/SunburstPoint.js"],e["Series/Sunburst/SunburstUtilities.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"],e["Series/Sunburst/SunburstNode.js"],e["Series/Sunburst/SunburstSeriesDefaults.js"]],function(e,t,i,s,g,r,o,a,l){function c(e,t,i,s){return{x:e+Math.cos(i)*s,y:t+Math.sin(i)*s}}let{getCenter:n,getStartAndEndRadians:b}=e,d=t["noop"],{column:P,treemap:h}=i.seriesTypes,{getColor:p,getLevelOptions:m,setTreeValues:f,updateRootId:y}=r,{defined:A,error:x,extend:C,fireEvent:S,isNumber:R,isObject:B,isString:T,merge:O,splat:I}=o,M=180/Math.PI;function L(e,t){let i=t.mapIdToNode,s=e.parent,r=s?i[s]:void 0,o=t.series,a=o.chart,l=o.points[e.i],n=p(e,{colors:o.options.colors||a&&a.options.colors,colorIndex:o.colorIndex,index:t.index,mapOptionsToLevel:t.mapOptionsToLevel,parentColor:r&&r.color,parentColorIndex:r&&r.colorIndex,series:t.series,siblings:t.siblings});return e.color=n.color,e.colorIndex=n.colorIndex,l&&(l.color=e.color,l.colorIndex=e.colorIndex,e.sliced=e.id!==t.idRoot&&l.sliced),e}class u extends h{alignDataLabel(e,t,i){if(!i.textPath||!i.textPath.enabled)return super.alignDataLabel.apply(this,arguments)}animate(e){let t,i=this.chart,s=[i.plotWidth/2,i.plotHeight/2],r=i.plotLeft,o=i.plotTop,a=this.group;e?(t={translateX:s[0]+r,translateY:s[1]+o,scaleX:.001,scaleY:.001,rotation:10,opacity:.01},a.attr(t)):(t={translateX:r,translateY:o,scaleX:1,scaleY:1,rotation:0,opacity:1},a.animate(t,this.options.animation))}drawPoints(){let l=this,n=l.mapOptionsToLevel,d=l.shapeRoot,h=l.group,p=l.hasRendered,u=l.rootNode,c=l.idPreviousRoot,v=l.nodeMap,e=v[c],g=e&&e.shapeArgs,t=l.points,b=l.startAndEndRadians,m=l.chart,i=m&&m.options&&m.options.chart||{},f="boolean"!=typeof i.animation||i.animation,s=l.center,y={x:s[0],y:s[1]},x=s[3]/2,S=l.chart.renderer,r=!!(f&&p&&u!==c&&l.dataLabelsGroup),T,o=!1,L=!1;for(var w of(r&&(l.dataLabelsGroup.attr({opacity:0}),T=function(){o=!0,l.dataLabelsGroup&&l.dataLabelsGroup.animate({opacity:1,visibility:"inherit"})}),t)){let e,t,i=w.node,s=n[i.level],r=w.shapeExisting||{},o=i.shapeArgs||{},a=!(!i.visible||!i.shapeArgs);o.borderRadius=l.options.borderRadius,e=p&&f?function(e,t){let i=t.point,s=t.radians,r=t.innerR,o=t.idRoot,a=t.idPreviousRoot,l=t.shapeExisting,n=t.shapeRoot,d=t.shapePreviousRoot,h=t.visible,p={},u={end:e.end,start:e.start,innerR:e.innerR,r:e.r,x:e.x,y:e.y};return h?!i.graphic&&d&&((p=o===i.id?{start:s.start,end:s.end}:d.end<=e.start?{start:s.end,end:s.end}:{start:s.start,end:s.start}).innerR=p.r=r):i.graphic&&(a===i.id?u={innerR:r,r:r}:n&&(u=n.end<=l.start?{innerR:r,r:r,start:s.end,end:s.end}:{innerR:r,r:r,start:s.start,end:s.start})),{from:p,to:u}}(o,{center:y,point:w,radians:b,innerR:x,idRoot:u,idPreviousRoot:c,shapeExisting:r,shapeRoot:d,shapePreviousRoot:g,visible:a}):{to:o,from:{}},C(w,{shapeExisting:o,tooltipPos:[o.plotX,o.plotY],drillId:function(e,t){let i;return i=e.node.isLeaf?i:t===e.id?v[t].parent:e.id}(w,u),name:""+(w.name||w.id||w.index),plotX:o.plotX,plotY:o.plotY,value:i.val,isInside:a,isNull:!a}),w.dlOptions=function(e){let t=e.point,i=B(e.shapeArgs)?e.shapeArgs:{},s=B(e.optionsPoint)?e.optionsPoint.dataLabels:{},r=O({style:{}},I(B(e.level)?e.level.dataLabels:{})[0],s),o,a,l=r.rotationMode;return R(r.rotation)||("auto"!==l&&"circular"!==l||(r.useHTML&&"circular"===l&&(l="auto"),t.innerArcLength<1&&t.outerArcLength>i.radius?(o=0,t.dataLabelPath&&"circular"===l&&(r.textPath={enabled:!0})):1<t.innerArcLength&&t.outerArcLength>1.5*i.radius?"circular"===l?r.textPath={enabled:!0,attributes:{dy:5}}:l="parallel":(t.dataLabel&&t.dataLabel.textPath&&"circular"===l&&(r.textPath={enabled:!1}),l="perpendicular")),"auto"!==l&&"circular"!==l&&(t.dataLabel&&t.dataLabel.textPath&&(r.textPath={enabled:!1}),o=i.end-(i.end-i.start)/2),"parallel"===l?r.style.width=Math.min(2.5*i.radius,(t.outerArcLength+t.innerArcLength)/2):!A(r.style.width)&&i.radius&&(r.style.width=1===t.node.level?2*i.radius:i.radius),"perpendicular"===l&&t.outerArcLength<16&&(r.style.width=1),r.style.width=Math.max(r.style.width-2*(r.padding||0),1),a=o*M%180,"parallel"===l&&(a-=90),90<a?a-=180:a<-90&&(a+=180),r.rotation=a),r.textPath&&(0===t.shapeExisting.innerR&&r.textPath.enabled?(r.rotation=0,r.textPath.enabled=!1,r.style.width=Math.max(2*t.shapeExisting.r-2*(r.padding||0),1)):t.dlOptions&&t.dlOptions.textPath&&!t.dlOptions.textPath.enabled&&"circular"===l&&(r.textPath.enabled=!0),r.textPath.enabled&&(r.rotation=0,r.style.width=Math.max((t.outerArcLength+t.innerArcLength)/2-2*(r.padding||0),1))),r}({point:w,level:s,optionsPoint:w.options,shapeArgs:o}),!L&&a&&(L=!0,t=T),w.draw({animatableAttribs:e.to,attribs:C(e.from,!m.styledMode&&l.pointAttribs(w,w.selected&&"select")),onComplete:t,group:h,renderer:S,shapeType:"arc",shapeArgs:o})}r&&L?(l.hasRendered=!1,l.options.dataLabels.defer=!0,P.prototype.drawDataLabels.call(l),l.hasRendered=!0,o&&T()):P.prototype.drawDataLabels.call(l),l.idPreviousRoot=u}layoutAlgorithm(e,t,i){let r=e.start,o=e.end-r,a=e.val,l=e.x,n=e.y,d=i&&B(i.levelSize)&&R(i.levelSize.value)?i.levelSize.value:0,h=e.r,p=h+d,u=i&&R(i.slicedOffset)?i.slicedOffset:0;return(t||[]).reduce((e,t)=>{var i=1/a*t.val*o,s=c(l,n,r+i/2,u),t={x:t.sliced?s.x:l,y:t.sliced?s.y:n,innerR:h,r:p,radius:d,start:r,end:r+i};return e.push(t),r=t.end,e},[])}setRootNode(e,t,i){if(1===this.nodeMap[e].level&&1===this.nodeList.filter(e=>1===e.level).length){if(""===this.idPreviousRoot)return;e=""}super.setRootNode(e,t,i)}setShapeArgs(e,t,i){var s,r=i[e.level+1],e=e.children.filter(function(e){return e.visible}),o=this.layoutAlgorithm(t,e,r);let a=-1;for(s of e){var l=o[++a],n=l.start+(l.end-l.start)/2,d=l.innerR+(l.r-l.innerR)/2,h=l.end-l.start,n=0===l.innerR&&6.28<h?{x:l.x,y:l.y}:c(l.x,l.y,n,d),d=!s.val||s.childrenTotal>s.val?s.childrenTotal:s.val;this.points[s.i]&&(this.points[s.i].innerArcLength=h*l.innerR,this.points[s.i].outerArcLength=h*l.r),s.shapeArgs=O(l,{plotX:n.x,plotY:n.y}),s.values=O(l,{val:d}),s.children.length&&this.setShapeArgs(s,s.values,i)}}translate(){let e=this.options,t=this.center=this.getCenter(),i=this.startAndEndRadians=b(e.startAngle,e.endAngle),s=t[3]/2,r=t[2]/2,o=y(this),a=this.nodeMap,l,n=a&&a[o],d={};this.shapeRoot=n&&n.shapeArgs,this.processedXData||this.processData(),this.generatePoints(),S(this,"afterTranslate");var h,p=this.tree=this.getTree(),u=T((n=(a=this.nodeMap)[o]).parent)?n.parent:"",u=a[u],{from:c,to:v}=g.getLevelFromAndTo(n),c=(l=m({from:c,levels:this.options.levels,to:v,defaults:{colorByPoint:e.colorByPoint,dataLabels:e.dataLabels,levelIsConstant:e.levelIsConstant,levelSize:e.levelSize,slicedOffset:e.slicedOffset}}),l=g.calculateLevelSizes(l,{diffRadius:r-s,from:c,to:v}),f(p,{before:L,idRoot:o,levelIsConstant:e.levelIsConstant,mapOptionsToLevel:l,mapIdToNode:a,points:this.points,series:this}),a[""].shapeArgs={end:i.end,r:s,start:i.start,val:n.val,x:t[0],y:t[1]});for(h of(this.setShapeArgs(u,c,l),this.mapOptionsToLevel=l,this.points))d[h.id]&&x(31,!1,this.chart),d[h.id]=!0}}return u.defaultOptions=O(h.defaultOptions,l),C(u.prototype,{axisTypes:[],drawDataLabels:d,getCenter:n,isCartesian:!1,onPointSupported:!0,pointAttribs:P.prototype.pointAttribs,pointClass:s,NodeClass:a,utils:g}),i.registerSeriesType("sunburst",u),u}),t(e,"masters/modules/sunburst.src.js",[e["Core/Globals.js"],e["Extensions/Breadcrumbs/Breadcrumbs.js"]],function(e,t){return e.Breadcrumbs=e.Breadcrumbs||t,e.Breadcrumbs.compose(e.Chart,e.defaultOptions),e})});