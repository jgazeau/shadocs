!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/VariablePie/VariablePieSeriesDefaults.js",[],function(){return{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}}}),e(t,"Series/VariablePie/VariablePieSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/VariablePie/VariablePieSeriesDefaults.js"]],function(t,e,i){let a=t.seriesTypes["pie"],{arrayMax:f,arrayMin:M,clamp:m,extend:s,fireEvent:g,merge:n,pick:P}=e;class r extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.radii=void 0}calculateExtremes(){var t,e,i;let a=this.chart,s=a.plotWidth,n=a.plotHeight,r=this.options,o=2*(r.slicedOffset||0),l=this.zData,h=Math.min(s,n)-o,d={},c=this.center||this.getCenter();for(i of["minPointSize","maxPointSize"]){var p=r[i],u=/%$/.test(p),p=parseInt(p,10);d[i]=u?h*p/100:2*p}this.minPxSize=c[3]+d.minPointSize,this.maxPxSize=m(c[2],c[3]+d.minPointSize,d.maxPointSize),l.length&&(t=P(r.zMin,M(l.filter(this.zValEval))),e=P(r.zMax,f(l.filter(this.zValEval))),this.getRadii(t,e,this.minPxSize,this.maxPxSize))}getRadii(e,i,a,s){let n,r,o,l=this.zData,h=[],t=this.options,d="radius"!==t.sizeBy,c=i-e;for(let t=0;t<l.length;t++)o=(r=this.zValEval(l[t])?l[t]:e)<=e?a/2:i<=r?s/2:(n=0<c?(r-e)/c:.5,d&&(n=Math.sqrt(n)),Math.ceil(a+n*(s-a))/2),h.push(o);this.radii=h}redraw(){this.center=null,super.redraw()}getDataLabelPosition(t,e){var{center:i,options:a}=this,s=t.angle||0,n=this.radii[t.index],r=i[0]+Math.cos(s)*n,i=i[1]+Math.sin(s)*n,n=(a.slicedOffset||0)+(a.borderWidth||0),a=Math.min(n,e/5);return{distance:e,natural:{x:r+Math.cos(s)*e,y:i+Math.sin(s)*e},computed:{},alignment:t.half?"right":"left",connectorPosition:{breakAt:{x:r+Math.cos(s)*a,y:i+Math.sin(s)*a},touchingSliceAt:{x:r,y:i}}}}translate(e){this.generatePoints();let t=this.options,i=t.slicedOffset,a=t.startAngle||0,s=Math.PI/180*(a-90),n=Math.PI/180*(P(t.endAngle,a+360)-90),r=n-s,o=this.points,l=t.ignoreHiddenPoint,h=0,d,c,p,u,f,M,m;this.startAngleRad=s,this.endAngleRad=n,this.calculateExtremes(),e||(this.center=e=this.getCenter());for(let t=0;t<o.length;t++)M=o[t],m=this.radii[t],d=s+h*r,l&&!M.visible||(h+=M.percentage/100),c=s+h*r,M.shapeType="arc",M.shapeArgs={x:e[0],y:e[1],r:m,innerR:e[3]/2,start:Math.round(1e3*d)/1e3,end:Math.round(1e3*c)/1e3},(p=(c+d)/2)>1.5*Math.PI?p-=2*Math.PI:p<-Math.PI/2&&(p+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(p)*i),translateY:Math.round(Math.sin(p)*i)},u=Math.cos(p)*e[2]/2,f=Math.sin(p)*e[2]/2,M.tooltipPos=[e[0]+.7*u,e[1]+.7*f],M.half=p<-Math.PI/2||p>Math.PI/2?1:0,M.angle=p;g(this,"afterTranslate")}zValEval(t){return!("number"!=typeof t||isNaN(t))||null}}return r.defaultOptions=n(a.defaultOptions,i),s(r.prototype,{pointArrayMap:["y","z"],parallelArrays:["x","y","z"]}),t.registerSeriesType("variablepie",r),r}),e(t,"masters/modules/variable-pie.src.js",[],function(){})});