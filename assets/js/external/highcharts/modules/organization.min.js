!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(s){"use strict";var t=s?s._modules:{};function i(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e),"function"==typeof CustomEvent&&s.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){let{prototype:{pointClass:e}}=t.seriesTypes["sankey"],{defined:o,find:r,pick:a}=i;return class extends e{constructor(t,i,e){super(t,i,e),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link")}getSum(){return 1}setNodeColumn(){super.setNodeColumn();let n=this,s=n.getFromNode().fromNode;if(!o(n.options.column)&&0!==n.linksTo.length&&s&&"hanging"===s.options.layout){let e=-1,i;n.options.layout=a(n.options.layout,"hanging"),n.hangsFrom=s,r(s.linksFrom,(t,i)=>{t=t.toNode===n;return t&&(e=i),t});for(let t=0;t<s.linksFrom.length;++t)(i=s.linksFrom[t]).toNode.id===n.id?t=s.linksFrom.length:e+=function i(t){let e=t.linksFrom.length;return t.linksFrom.forEach(t=>{t.id===t.toNode.linksTo[0].id?e+=i(t.toNode):e--}),e}(i.toNode);n.column=(n.column||0)+e}}}}),i(t,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){let t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},i={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function n(e){return Object.keys(e).reduce(function(t,i){return t+i+":"+e[i]+";"},'style="')+'"'}var{description:s,image:o,title:r}=this.point;o&&(i["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",e.position="absolute",e.left=o?"30%":0,e.top=0);let a="<div "+n(t)+">";return o&&(a+='<img src="'+o+'" '+n(i)+">"),a+="<div "+n(e)+">",this.point.name&&(a+="<h4 "+n({margin:0})+">"+this.point.name+"</h4>"),r&&(a+="<p "+n({margin:0})+">"+(r||"")+"</p>"),s&&(a+="<p "+n({opacity:.75,margin:"5px"})+">"+s+"</p>"),a+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",hangingSide:"left",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),i(t,"Series/PathUtilities.js",[],function(){function l(i,e){let n=[];for(let t=0;t<i.length;t++){var s,o,r,a,h,l,d=i[t][1],p=i[t][2];"number"==typeof d&&"number"==typeof p&&(0===t?n.push(["M",d,p]):t!==i.length-1&&e?(o=i[t-1],a=i[t+1],o&&a&&(s=o[1],o=o[2],r=a[1],a=a[2],"number"==typeof s&&"number"==typeof r&&"number"==typeof o&&"number"==typeof a&&s!==r&&o!==a&&(h=s<r?1:-1,l=o<a?1:-1,n.push(["L",d-h*Math.min(Math.abs(d-s),e),p-l*Math.min(Math.abs(p-o),e)],["C",d,p,d,p,d+h*Math.min(Math.abs(d-r),e),p+l*Math.min(Math.abs(p-a),e)])))):n.push(["L",d,p]))}return n}return{applyRadius:l,getLinkPath:{default:function(t){var{x1:t,y1:i,x2:e,y2:n,width:s=0,inverted:o=!1,radius:r,parentVisible:a}=t,h=[["M",t,i],["L",t,i],["C",t,i,t,n,t,n],["L",t,n],["C",t,i,t,n,t,n],["L",t,n]];return a?l([["M",t,i],["L",t+s*(o?-.5:.5),i],["L",t+s*(o?-.5:.5),n],["L",e,n]],r):h},straight:function(t){var{x1:t,y1:i,x2:e,y2:n,width:s=0,inverted:o=!1,parentVisible:r}=t;return r?[["M",t,i],["L",t+s*(o?-1:1),n],["L",e,n]]:[["M",t,i],["L",t,n],["L",t,n]]},curved:function(t){var{x1:t,y1:i,x2:e,y2:n,offset:s=0,width:o=0,inverted:r=!1,parentVisible:a}=t;return a?[["M",t,i],["C",t+s,i,t-s+o*(r?-1:1),n,t+o*(r?-1:1),n],["L",e,n]]:[["M",t,i],["C",t,i,t,n,t,n],["L",e,n]]}}}}),i(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Series/Organization/OrganizationSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/PathUtilities.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],function(t,i,e,y,n,s,o){let p=e.seriesTypes["sankey"],{css:r,crisp:b,extend:a,isNumber:g,merge:u,pick:L}=n;o.compose(s);class h extends p{alignDataLabel(n,s,o){n=n.shapeArgs;if(o.useHTML&&n){let t=this.options.borderWidth+2*this.options.dataLabels.padding,i=n.width||0,e=n.height||0;this.chart.inverted&&(i=e,e=n.width||0),e-=t,i-=t;o=s.text;o&&(r(o.element.parentNode,{width:i+"px",height:e+"px"}),r(o.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),s.getBBox=()=>({width:i,height:e,x:0,y:0}),s.width=i,s.height=e}super.alignDataLabel.apply(this,arguments)}createNode(t){let i=super.createNode.call(this,t);return i.getSum=()=>1,i}pointAttribs(t,i){let e=p.prototype.pointAttribs.call(this,t,i),n=(t.isNode?t:t.fromNode).level,s=this.mapOptionsToLevel[n||0]||{},o=t.options,r=s.states&&s.states[i]||{},a=L(r.borderRadius,o.borderRadius,s.borderRadius,this.options.borderRadius),h=L(r.linkColor,o.linkColor,s.linkColor,this.options.linkColor,r.link&&r.link.color,o.link&&o.link.color,s.link&&s.link.color,this.options.link&&this.options.link.color),l=L(r.linkLineWidth,o.linkLineWidth,s.linkLineWidth,this.options.linkLineWidth,r.link&&r.link.lineWidth,o.link&&o.link.lineWidth,s.link&&s.link.lineWidth,this.options.link&&this.options.link.lineWidth),d=L(r.linkOpacity,o.linkOpacity,s.linkOpacity,this.options.linkOpacity,r.link&&r.link.linkOpacity,o.link&&o.link.linkOpacity,s.link&&s.link.linkOpacity,this.options.link&&this.options.link.linkOpacity);return t.isNode?g(a)&&(e.r=a):(e.stroke=h,e["stroke-width"]=l,e.opacity=d,delete e.fill),e}translateLink(d){var p=this.chart,g=this.options,u=d.fromNode,c=d.toNode,f=L(g.linkLineWidth,g.link.lineWidth,0),m=L(g.link.offset,.5),k=L(d.options.link&&d.options.link.type,g.link.type);if(u.shapeArgs&&c.shapeArgs){let t=g.hangingIndent,i="right"===g.hangingSide,e=c.options.offset,n=/%$/.test(e)&&parseInt(e,10),s=p.inverted,o=b((u.shapeArgs.x||0)+(u.shapeArgs.width||0),f),r=b((u.shapeArgs.y||0)+(u.shapeArgs.height||0)/2,f),a=b(c.shapeArgs.x||0,f),h=b((c.shapeArgs.y||0)+(c.shapeArgs.height||0)/2,f),l;s&&(o-=u.shapeArgs.width||0,a+=c.shapeArgs.width||0),l=this.colDistance?b(a+(s?1:-1)*(this.colDistance-this.nodeWidth)/2,f):b((a+o)/2,f),n&&(50<=n||n<=-50)&&(l=a=b(a+(s?-.5:.5)*(c.shapeArgs.width||0),f),h=c.shapeArgs.y||0,0<n&&(h+=c.shapeArgs.height||0)),c.hangsFrom===u&&(p.inverted?(r=i?b((u.shapeArgs.y||0)+t/2,f):b((u.shapeArgs.y||0)+(u.shapeArgs.height||0)-t/2,f),h=i?(c.shapeArgs.y||0)+t/2:(c.shapeArgs.y||0)+(c.shapeArgs.height||0)):r=b((u.shapeArgs.y||0)+t/2,f),l=a=b((c.shapeArgs.x||0)+(c.shapeArgs.width||0)/2,f)),d.plotX=l,d.plotY=(r+h)/2,d.shapeType="path","straight"===k?d.shapeArgs={d:[["M",o,r],["L",a,h]]}:"curved"===k?(p=Math.abs(a-o)*m*(s?-1:1),d.shapeArgs={d:[["M",o,r],["C",o+p,r,a-p,h,a,h]]}):d.shapeArgs={d:y.applyRadius([["M",o,r],["L",l,r],["L",l,h],["L",a,h]],L(g.linkRadius,g.link.radius))},d.dlBox={x:(o+a)/2,y:(r+h)/2,height:f,width:0}}}translateNode(t,i){super.translateNode(t,i);let e=this.chart,n=this.options,s=Math.max(Math.round(t.getSum()*this.translationFactor),n.minLinkWidth||0),o="right"===n.hangingSide,r=n.hangingIndent||0,a=n.hangingIndentTranslation,h=n.minNodeLength||10,l=Math.round(this.nodeWidth),d=t.shapeArgs,p=e.inverted?-1:1,g=t.hangsFrom;if(g)if("cumulative"===a)for(d.height-=r,e.inverted&&!o&&(d.y-=p*r);g;)d.y+=(o?1:p)*r,g=g.hangsFrom;else if("shrink"===a)for(;g&&d.height>r+h;)d.height-=r,e.inverted&&!o||(d.y+=r),g=g.hangsFrom;else d.height-=r,e.inverted&&!o||(d.y+=r);t.nodeHeight=e.inverted?d.width:d.height,t.shapeArgs&&!t.hangsFrom&&(t.shapeArgs=u(t.shapeArgs,{x:(t.shapeArgs.x||0)+l/2-(t.shapeArgs.width||0)/2,y:(t.shapeArgs.y||0)+s/2-(t.shapeArgs.height||0)/2}))}drawDataLabels(){var t=this.options.dataLabels;if(t.linkTextPath&&t.linkTextPath.enabled)for(var i of this.points)i.options.dataLabels=u(i.options.dataLabels,{useHTML:!1});super.drawDataLabels()}}return h.defaultOptions=u(p.defaultOptions,i),a(h.prototype,{pointClass:t}),e.registerSeriesType("organization",h),h}),i(t,"masters/modules/organization.src.js",[t["Core/Globals.js"]],function(t){return t})});