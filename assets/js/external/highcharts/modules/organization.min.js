!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,r,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.defined,a=e.find,h=e.pick;return r=t.seriesTypes.sankey.prototype.pointClass,i(n,r),n.prototype.getSum=function(){return 1},n.prototype.setNodeColumn=function(){r.prototype.setNodeColumn.call(this);var i=this,t=i.getFromNode().fromNode;if(!s(i.options.column)&&0!==i.linksTo.length&&t&&"hanging"===t.options.layout){i.options.layout=h(i.options.layout,"hanging"),i.hangsFrom=t;var o=-1;a(t.linksFrom,function(t,e){return(t=t.toNode===i)&&(o=e),t});for(var e=0;e<t.linksFrom.length;e++){var n=t.linksFrom[e];n.toNode.id===i.id?e=t.linksFrom.length:o+=function e(t){var i=t.linksFrom.length;return t.linksFrom.forEach(function(t){t.id===t.toNode.linksTo[0].id?i+=e(t.toNode):i--}),i}(n.toNode)}i.column=(i.column||0)+o}},n;function n(){var t=null!==r&&r.apply(this,arguments)||this;return t.fromNode=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}}),e(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var o,s,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=e.seriesTypes.sankey,h=i.css,r=i.extend,p=i.merge,d=i.pick;function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(u,s=a),u.curvedPath=function(t,e){for(var i=[],o=0;o<t.length;o++){var n,r,s,a,h,p,d=t[o][1],l=t[o][2];"number"==typeof d&&"number"==typeof l&&(0===o?i.push(["M",d,l]):o!==t.length-1&&e?(r=t[o-1],p=t[o+1],r&&p&&(n=r[1],r=r[2],s=p[1],p=p[2],"number"==typeof n&&"number"==typeof s&&"number"==typeof r&&"number"==typeof p&&n!==s&&r!==p&&(h=r<p?1:-1,i.push(["L",d-(a=n<s?1:-1)*Math.min(Math.abs(d-n),e),l-h*Math.min(Math.abs(l-r),e)],["C",d,l,d,l,d+a*Math.min(Math.abs(d-s),e),l+h*Math.min(Math.abs(l-p),e)])))):i.push(["L",d,l]))}return i},u.prototype.alignDataLabel=function(t,e,i){var o,n,r;i.useHTML&&(o=t.shapeArgs.width,n=t.shapeArgs.height,r=this.options.borderWidth+2*this.options.dataLabels.padding,this.chart.inverted&&(o=n,n=t.shapeArgs.width),n-=r,o-=r,(r=e.text)&&(h(r.element.parentNode,{width:o+"px",height:n+"px"}),h(r.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),e.getBBox=function(){return{width:o,height:n}},e.width=o,e.height=n),s.prototype.alignDataLabel.apply(this,arguments)},u.prototype.createNode=function(t){return(t=s.prototype.createNode.call(this,t)).getSum=function(){return 1},t},u.prototype.pointAttribs=function(t,e){var i=this,o=a.prototype.pointAttribs.call(i,t,e),n=i.mapOptionsToLevel[(t.isNode?t:t.fromNode).level||0]||{},r=t.options,s=n.states&&n.states[e]||{};return e=["borderRadius","linkColor","linkLineWidth","linkOpacity"].reduce(function(t,e){return t[e]=d(s[e],r[e],n[e],i.options[e]),t},{}),t.isNode?e.borderRadius&&(o.r=e.borderRadius):(o.stroke=e.linkColor,o["stroke-width"]=e.linkLineWidth,o.opacity=e.linkOpacity,delete o.fill),o},u.prototype.translateLink=function(t){var e=t.fromNode,i=t.toNode,o=Math.round(this.options.linkLineWidth)%2/2,n=Math.floor(e.shapeArgs.x+e.shapeArgs.width)+o,r=Math.floor(e.shapeArgs.y+e.shapeArgs.height/2)+o,s=Math.floor(i.shapeArgs.x)+o,a=Math.floor(i.shapeArgs.y+i.shapeArgs.height/2)+o,h=this.options.hangingIndent,p=i.options.offset,d=/%$/.test(p)&&parseInt(p,10),l=this.chart.inverted;l&&(n-=e.shapeArgs.width,s+=i.shapeArgs.width),p=Math.floor(s+(l?1:-1)*(this.colDistance-this.nodeWidth)/2)+o,d&&(50<=d||d<=-50)&&(p=s=Math.floor(s+(l?-.5:.5)*i.shapeArgs.width)+o,a=i.shapeArgs.y,0<d&&(a+=i.shapeArgs.height)),i.hangsFrom===e&&(this.chart.inverted?(r=Math.floor(e.shapeArgs.y+e.shapeArgs.height-h/2)+o,a=i.shapeArgs.y+i.shapeArgs.height):r=Math.floor(e.shapeArgs.y+h/2)+o,p=s=Math.floor(i.shapeArgs.x+i.shapeArgs.width/2)+o),t.plotY=1,t.shapeType="path",t.shapeArgs={d:u.curvedPath([["M",n,r],["L",p,r],["L",p,a],["L",s,a]],this.options.linkRadius)}},u.prototype.translateNode=function(t,e){a.prototype.translateNode.call(this,t,e),e=t.hangsFrom;var i=this.options.hangingIndent||0,o=this.chart.inverted?-1:1,n=t.shapeArgs,r=this.options.hangingIndentTranslation,s=this.options.minNodeLength||10;if(e)if("cumulative"===r)for(n.height-=i,n.y-=o*i;e;)n.y+=o*i,e=e.hangsFrom;else if("shrink"===r)for(;e&&n.height>i+s;)n.height-=i,e=e.hangsFrom;else n.height-=i,this.chart.inverted||(n.y+=i);t.nodeHeight=this.chart.inverted?n.width:n.height},u.defaultOptions=p(a.defaultOptions,{borderColor:"#666666",borderRadius:3,linkRadius:10,borderWidth:1,dataLabels:{nodeFormatter:function(){function t(i){return Object.keys(i).reduce(function(t,e){return t+e+":"+i[e]+";"},'style="')+'"'}var e={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},i={"max-height":"100%","border-radius":"50%"},o={width:"100%",padding:0,"text-align":"center","white-space":"normal"};return this.point.image&&(i["max-width"]="30%",o.width="70%"),this.series.chart.renderer.forExport&&(e.display="block",o.position="absolute",o.left=this.point.image?"30%":0,o.top=0),e="<div "+t(e)+">",this.point.image&&(e+='<img src="'+this.point.image+'" '+t(i)+">"),e+="<div "+t(o)+">",this.point.name&&(e+="<h4 "+t({margin:0})+">"+this.point.name+"</h4>"),this.point.title&&(e+="<p "+t({margin:0})+">"+(this.point.title||"")+"</p>"),this.point.description&&(e+="<p "+t({opacity:.75,margin:"5px"})+">"+this.point.description+"</p>"),e+"</div></div>"},style:{fontWeight:"normal",fontSize:"13px"},useHTML:!0},hangingIndent:20,hangingIndentTranslation:"inherit",linkColor:"#666666",linkLineWidth:1,minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}),r((i=u).prototype,{pointClass:t}),e.registerSeriesType("organization",i),i}),e(t,"masters/modules/organization.src.js",[],function(){})});