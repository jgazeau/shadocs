!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,o,e){t.hasOwnProperty(i)||(t[i]=e.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t=t?t._modules:{},"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){var e,r,o=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),s=i.defined,a=i.find,h=i.pick;return r=t.seriesTypes.sankey.prototype.pointClass,o(n,r),n.prototype.getSum=function(){return 1},n.prototype.setNodeColumn=function(){r.prototype.setNodeColumn.call(this);var o=this,t=o.getFromNode().fromNode;if(!s(o.options.column)&&0!==o.linksTo.length&&t&&"hanging"===t.options.layout){o.options.layout=h(o.options.layout,"hanging"),o.hangsFrom=t;var e=-1;a(t.linksFrom,function(t,i){return(t=t.toNode===o)&&(e=i),t});for(var i=0;i<t.linksFrom.length;i++){var n=t.linksFrom[i];n.toNode.id===o.id?i=t.linksFrom.length:e+=function i(t){var o=t.linksFrom.length;return t.linksFrom.forEach(function(t){t.id===t.toNode.linksTo[0].id?o+=i(t.toNode):o--}),o}(n.toNode)}o.column=(o.column||0)+e}},n;function n(){var t=null!==r&&r.apply(this,arguments)||this;return t.fromNode=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}}),i(t,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){function t(o){return Object.keys(o).reduce(function(t,i){return t+i+":"+o[i]+";"},'style="')+'"'}var i={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},o={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"},n=(s=this.point).description,r=s.image,s=s.title;return r&&(o["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(i.display="block",e.position="absolute",e.left=r?"30%":0,e.top=0),i="<div "+t(i)+">",r&&(i+='<img src="'+r+'" '+t(o)+">"),i+="<div "+t(e)+">",this.point.name&&(i+="<h4 "+t({margin:0})+">"+this.point.name+"</h4>"),s&&(i+="<p "+t({margin:0})+">"+(s||"")+"</p>"),n&&(i+="<p "+t({opacity:.75,margin:"5px"})+">"+n+"</p>"),i+"</div></div>"},style:{fontWeight:"normal",fontSize:"13px"},useHTML:!0},hangingIndent:20,hangingIndentTranslation:"inherit",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),i(t,"Series/PathUtilities.js",[],function(){return{curvedPath:function(t,i){for(var o=[],e=0;e<t.length;e++){var n,r,s,a,h,p,l=t[e][1],d=t[e][2];"number"==typeof l&&"number"==typeof d&&(0===e?o.push(["M",l,d]):e!==t.length-1&&i?(r=t[e-1],p=t[e+1],r&&p&&(n=r[1],r=r[2],s=p[1],p=p[2],"number"==typeof n&&"number"==typeof s&&"number"==typeof r&&"number"==typeof p&&n!==s&&r!==p&&(h=r<p?1:-1,o.push(["L",l-(a=n<s?1:-1)*Math.min(Math.abs(l-n),i),d-h*Math.min(Math.abs(d-r),i)],["C",l,d,l,d,l+a*Math.min(Math.abs(l-s),i),d+h*Math.min(Math.abs(d-p),i)])))):o.push(["L",l,d]))}return o}}}),i(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Series/Organization/OrganizationSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/PathUtilities.js"],t["Core/Utilities.js"]],function(t,i,o,f,e){var n,a,r=this&&this.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),h=o.seriesTypes.sankey,p=e.css,s=e.extend,l=e.merge,y=e.pick;function d(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(d,a=h),d.prototype.alignDataLabel=function(t,i,o){var e,n,r,s=t.shapeArgs;o.useHTML&&s&&(e=s.width||0,n=s.height||0,r=this.options.borderWidth+2*this.options.dataLabels.padding,this.chart.inverted&&(e=n,n=s.width||0),n-=r,e-=r,(s=i.text)&&(p(s.element.parentNode,{width:e+"px",height:n+"px"}),p(s.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),i.getBBox=function(){return{width:e,height:n,x:0,y:0}},i.width=e,i.height=n),a.prototype.alignDataLabel.apply(this,arguments)},d.prototype.createNode=function(t){return(t=a.prototype.createNode.call(this,t)).getSum=function(){return 1},t},d.prototype.pointAttribs=function(t,i){var o=h.prototype.pointAttribs.call(this,t,i),e=this.mapOptionsToLevel[(t.isNode?t:t.fromNode).level||0]||{},n=t.options,r=e.states&&e.states[i]||{},s=(i=y(r.borderRadius,n.borderRadius,e.borderRadius,this.options.borderRadius),y(r.linkColor,n.linkColor,e.linkColor,this.options.linkColor,r.link&&r.link.color,n.link&&n.link.color,e.link&&e.link.color,this.options.link&&this.options.link.color)),a=y(r.linkLineWidth,n.linkLineWidth,e.linkLineWidth,this.options.linkLineWidth,r.link&&r.link.lineWidth,n.link&&n.link.lineWidth,e.link&&e.link.lineWidth,this.options.link&&this.options.link.lineWidth),e=y(r.linkOpacity,n.linkOpacity,e.linkOpacity,this.options.linkOpacity,r.link&&r.link.linkOpacity,n.link&&n.link.linkOpacity,e.link&&e.link.linkOpacity,this.options.link&&this.options.link.linkOpacity);return t.isNode?i&&(o.r=i):(o.stroke=s,o["stroke-width"]=a,o.opacity=e,delete o.fill),o},d.prototype.translateLink=function(t){var i,o,e,n,r,s,a,h,p=t.fromNode,l=t.toNode,d=y(this.options.linkLineWidth,this.options.link.lineWidth),u=Math.round(d)%2/2,c=y(this.options.link.offset,.5),g=y(t.options.link&&t.options.link.type,this.options.link.type);p.shapeArgs&&l.shapeArgs&&(i=Math.floor((p.shapeArgs.x||0)+(p.shapeArgs.width||0))+u,o=Math.floor((p.shapeArgs.y||0)+(p.shapeArgs.height||0)/2)+u,e=Math.floor(l.shapeArgs.x||0)+u,n=Math.floor((l.shapeArgs.y||0)+(l.shapeArgs.height||0)/2)+u,r=this.options.hangingIndent,s=l.options.offset,a=/%$/.test(s)&&parseInt(s,10),(h=this.chart.inverted)&&(i-=p.shapeArgs.width||0,e+=l.shapeArgs.width||0),s=this.colDistance?Math.floor(e+(h?1:-1)*(this.colDistance-this.nodeWidth)/2)+u:Math.floor((e+i)/2)+u,a&&(50<=a||a<=-50)&&(s=e=Math.floor(e+(h?-.5:.5)*(l.shapeArgs.width||0))+u,n=l.shapeArgs.y||0,0<a&&(n+=l.shapeArgs.height||0)),l.hangsFrom===p&&(this.chart.inverted?(o=Math.floor((p.shapeArgs.y||0)+(p.shapeArgs.height||0)-r/2)+u,n=(l.shapeArgs.y||0)+(l.shapeArgs.height||0)):o=Math.floor((p.shapeArgs.y||0)+r/2)+u,s=e=Math.floor((l.shapeArgs.x||0)+(l.shapeArgs.width||0)/2)+u),t.plotX=s,t.plotY=(o+n)/2,t.shapeType="path","straight"===g?t.shapeArgs={d:[["M",i,o],["L",e,n]]}:"curved"===g?(p=Math.abs(e-i)*c*(h?-1:1),t.shapeArgs={d:[["M",i,o],["C",i+p,o,e-p,n,e,n]]}):t.shapeArgs={d:f.curvedPath([["M",i,o],["L",s,o],["L",s,n],["L",e,n]],y(this.options.linkRadius,this.options.link.radius))},t.dlBox={x:(i+e)/2,y:(o+n)/2,height:d,width:0})},d.prototype.translateNode=function(t,i){h.prototype.translateNode.call(this,t,i),i=t.hangsFrom;var o=this.options.hangingIndent||0,e=this.chart.inverted?-1:1,n=t.shapeArgs,r=this.options.hangingIndentTranslation,s=this.options.minNodeLength||10;if(i)if("cumulative"===r)for(n.height-=o,n.y-=e*o;i;)n.y+=e*o,i=i.hangsFrom;else if("shrink"===r)for(;i&&n.height>o+s;)n.height-=o,i=i.hangsFrom;else n.height-=o,this.chart.inverted||(n.y+=o);t.nodeHeight=this.chart.inverted?n.width:n.height},d.defaultOptions=l(h.defaultOptions,i),s((e=d).prototype,{pointClass:t}),o.registerSeriesType("organization",e),e}),i(t,"masters/modules/organization.src.js",[],function(){})});