!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Timeline/TimelinePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(i,t,e){var o,n,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=t.seriesTypes.pie.prototype.pointClass,a=e.defined,p=e.isNumber,l=e.merge,h=e.objectEach,c=e.pick;return n=t.series.prototype.pointClass,s(d,n),d.prototype.alignConnector=function(){var t=this.series,e=this.connector,i=this.dataLabel,o=this.dataLabel.options=l(t.options.dataLabels,this.options.dataLabels),n=this.series.chart,s=(r=e.getBBox()).x+i.translateX,r=r.y+i.translateY;n.inverted?r-=i.options.connectorWidth/2:s+=i.options.connectorWidth/2,e[(n=n.isInsidePlot(s,r))?"animate":"attr"]({d:this.getConnectorPath()}),t.chart.styledMode||e.attr({stroke:o.connectorColor||this.color,"stroke-width":o.connectorWidth,opacity:i[a(i.newOpacity)?"newOpacity":"opacity"]})},d.prototype.drawConnector=function(){var t=this.series;this.connector||(this.connector=t.chart.renderer.path(this.getConnectorPath()).attr({zIndex:-1}).add(this.dataLabel)),this.series.chart.isInsidePlot(this.dataLabel.x,this.dataLabel.y)&&this.alignConnector()},d.prototype.getConnectorPath=function(){var t=this.series.chart,e=this.series.xAxis.len,i=t.inverted,o=i?"x2":"y2",n=this.dataLabel,s=n.targetPosition,r={x1:this.plotX,y1:this.plotY,x2:this.plotX,y2:(p(s.y)?s:n).y},a=(n.alignAttr||n)[o[0]]<this.series.yAxis.len/2;return i&&(r={x1:this.plotY,y1:e-this.plotX,x2:s.x||n.x,y2:e-this.plotX}),a&&(r[o]+=n[i?"width":"height"]),h(r,function(t,e){r[e]-=(n.alignAttr||n)[e[0]]}),t.renderer.crispLine([["M",r.x1,r.y1],["L",r.x2,r.y2]],n.options.connectorWidth)},d.prototype.init=function(){var t=n.prototype.init.apply(this,arguments);return t.name=c(t.name,"Event"),t.y=1,t},d.prototype.isValid=function(){return null!==this.options.y},d.prototype.setState=function(){var t=n.prototype.setState;this.isNull||t.apply(this,arguments)},d.prototype.setVisible=function(t,e){var i=this.series;e=c(e,i.options.ignoreHiddenPoint),r.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()},d.prototype.applyOptions=function(t,e){return t=i.prototype.optionsToObject.call(this,t),this.userDLOptions=l(this.userDLOptions,t.dataLabels),n.prototype.applyOptions.call(this,t,e)},d;function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}}),e(t,"Series/Timeline/TimelineSeries.js",[t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Series/Timeline/TimelinePoint.js"],t["Core/Utilities.js"]],function(t,e,i,o,n){var s,c,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=(y=e.seriesTypes).column,p=y.line,l=n.addEvent,h=n.arrayMax,d=n.arrayMin,u=n.defined,y=n.extend,f=n.merge,b=n.pick;function g(){var t=null!==c&&c.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t.visibilityMap=void 0,t}return r(g,c=p),g.prototype.alignDataLabel=function(t,e,i,o){var n,s=this.chart.inverted,r=this.visibilityMap.filter(function(t){return t}),a=this.visiblePointsCount,p=r.indexOf(t),r=this.options.dataLabels,l=t.userDLOptions||{},p=r.alternate?p&&p!==a-1?2:1.5:1,a=Math.floor(this.xAxis.len/a),h=e.padding;t.visible&&(n=Math.abs(l.x||t.options.dataLabels.x),s=s?{width:(s=2*(n-h)-t.itemHeight/2)+"px",textOverflow:e.width/s*e.height/2>a*p?"ellipsis":"none"}:{width:(l.width||r.width||a*p-2*h)+"px"},e.css(s),this.chart.styledMode||e.shadow(r.shadow)),c.prototype.alignDataLabel.apply(this,arguments)},g.prototype.bindAxes=function(){var e=this;c.prototype.bindAxes.call(e),["xAxis","yAxis"].forEach(function(t){"xAxis"!==t||e[t].userOptions.type||(e[t].categories=e[t].hasNames=!0)})},g.prototype.distributeDL=function(){var i,o=this,n=o.options.dataLabels,s=1;n&&(i=n.distance||0,o.points.forEach(function(t){var e;t.options.dataLabels=f(((e={})[o.chart.inverted?"x":"y"]=n.alternate&&s%2?-i:i,e),t.userDLOptions),s++}))},g.prototype.generatePoints=function(){var i=this;c.prototype.generatePoints.apply(i),i.points.forEach(function(t,e){t.applyOptions({x:i.xData[e]},i.xData[e])})},g.prototype.getVisibilityMap=function(){return(this.data.length?this:this.userOptions).data.map(function(t){return!(!t||!1===t.visible||t.isNull)&&t})},g.prototype.getXExtremes=function(t){var i=this;return t=t.filter(function(t,e){return i.points[e].isValid()&&i.points[e].visible}),{min:d(t),max:h(t)}},g.prototype.init=function(){var t=this;c.prototype.init.apply(t,arguments),t.eventsToUnbind.push(l(t,"afterTranslate",function(){var e,i=Number.MAX_VALUE;t.points.forEach(function(t){t.isInside=t.isInside&&t.visible,t.visible&&!t.isNull&&(u(e)&&(i=Math.min(i,Math.abs(t.plotX-e))),e=t.plotX)}),t.closestPointRangePx=i})),t.eventsToUnbind.push(l(t,"drawDataLabels",function(){t.distributeDL()})),t.eventsToUnbind.push(l(t,"afterDrawDataLabels",function(){var e;t.points.forEach(function(t){if(e=t.dataLabel)return e.animate=function(t){return this.targetPosition&&(this.targetPosition=t),i.prototype.animate.apply(this,arguments)},e.targetPosition||(e.targetPosition={}),t.drawConnector()})})),t.eventsToUnbind.push(l(t.chart,"afterHideOverlappingLabel",function(){t.points.forEach(function(t){t.connector&&t.dataLabel&&t.dataLabel.oldOpacity!==t.dataLabel.newOpacity&&t.alignConnector()})}))},g.prototype.markerAttribs=function(t,e){var i=this.options.marker,o=t.marker||{},n=o.symbol||i.symbol,s=b(o.width,i.width,this.closestPointRangePx),r=b(o.height,i.height),a=0;return this.xAxis.dateTime?c.prototype.markerAttribs.call(this,t,e):(e&&(i=i.states[e]||{},e=o.states&&o.states[e]||{},a=b(e.radius,i.radius,a+(i.radiusPlus||0))),t.hasImage=n&&0===n.indexOf("url"),{x:Math.floor(t.plotX)-s/2-a/2,y:t.plotY-r/2-a/2,width:s+a,height:r+a})},g.prototype.processData=function(){var t,e=0;for(this.visibilityMap=this.getVisibilityMap(),this.visibilityMap.forEach(function(t){t&&e++}),this.visiblePointsCount=e,t=0;t<this.xData.length;t++)this.yData[t]=1;c.prototype.processData.call(this,arguments)},g.defaultOptions=f(p.defaultOptions,{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:100,formatter:function(){return(this.series.chart.styledMode?"<span>● </span>":'<span style="color:'+this.point.color+'">● </span>')+('<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||""))},style:{textOutline:"none",fontWeight:"normal",fontSize:"12px"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x"}),y((n=g).prototype,{drawLegendSymbol:t.drawRectangle,drawTracker:a.prototype.drawTracker,pointClass:o,trackerGroups:["markerGroup","dataLabelsGroup"]}),e.registerSeriesType("timeline",n),n}),e(t,"masters/modules/timeline.src.js",[],function(){})});