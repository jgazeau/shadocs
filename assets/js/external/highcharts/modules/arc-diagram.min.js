!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("modules/arc-diagram",["highcharts/modules/sankey"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var t=r?r._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/ArcDiagram/ArcDiagramPoint.js",[t["Series/NodesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){let{sankey:{prototype:{pointClass:s}}}=e["seriesTypes"],r=i["extend"];class a extends s{isValid(){return!0}}return r(a.prototype,{setState:t.setNodeState}),a}),e(t,"Series/ArcDiagram/ArcDiagramSeriesDefaults.js",[],function(){return{centeredLinks:!1,equalNodes:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{fillOpacity:1,lineWidth:0,states:{},symbol:"circle"},offset:"100%",reversed:!1}}),e(t,"Core/Foundation.js",[t["Core/Utilities.js"]],function(t){let{addEvent:s,isFunction:r,objectEach:e,removeEvent:a}=t;return{registerEventOptions:function(i,t){i.eventOptions=i.eventOptions||{},e(t.events,function(t,e){i.eventOptions[e]!==t&&(i.eventOptions[e]&&(a(i,e,i.eventOptions[e]),delete i.eventOptions[e]),r(t)&&(i.eventOptions[e]=t,s(i,e,t,{order:0})))})}}}),e(t,"Core/Legend/LegendSymbol.js",[t["Core/Utilities.js"]],function(t){var e;let{extend:x,merge:b,pick:v}=t;return(t=e=e||{}).areaMarker=function(t,e){i.call(this,t,e,!0)},t.lineMarker=i,t.rectangle=function(t,e){let i=e.legendItem||{},s=t.options,r=t.symbolHeight,a=s.squareSymbol,o=a?r:t.symbolWidth;i.symbol=this.chart.renderer.rect(a?(t.symbolWidth-r)/2:0,t.baseline-r+1,o,r,v(t.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(i.group)},e;function i(t,e,i){let s=this.legendItem=this.legendItem||{},{chart:r,options:a}=this,{baseline:o=0,symbolWidth:n,symbolHeight:h}=t,l=this.symbol||"circle",d=h/2,p=r.renderer,c=s.group,g=o-Math.round(h*(i?.4:.3)),u={},m,f=a.marker,y=0;if(r.styledMode||(u["stroke-width"]=Math.min(a.lineWidth||0,24),a.dashStyle?u.dashstyle=a.dashStyle:"square"!==a.linecap&&(u["stroke-linecap"]="round")),s.line=p.path().addClass("highcharts-graph").attr(u).add(c),i&&(s.area=p.path().addClass("highcharts-area").add(c)),u["stroke-linecap"]&&(y=Math.min(s.line.strokeWidth(),n)/2),n&&(t=[["M",y,g],["L",n-y,g]],s.line.attr({d:t}),s.area?.attr({d:[...t,["L",n-y,o],["L",y,o]]})),f&&!1!==f.enabled&&n){let t=Math.min(v(f.radius,d),d);0===l.indexOf("url")&&(f=b(f,{width:h,height:h}),t=0),s.symbol=m=p.symbol(l,n/2-t,g-t,2*t,2*t,x({context:"legend"},f)).addClass("highcharts-point").add(c),m.isMarker=!0}}}),e(t,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let t=this.series.chart["numberFormatter"];return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),e(t,"Core/Series/Series.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,e,i,s,r,l,a,o,d,p){let{animObject:c,setAnimation:g}=t,u=e["defaultOptions"],n=i["registerEventOptions"],{svg:m,win:f}=s,x=o["seriesTypes"],{arrayMax:k,arrayMin:A,clamp:D,correctFloat:w,crisp:y,defined:M,destroyObjectProperties:N,diffObjects:I,erase:b,error:O,extend:v,find:W,fireEvent:L,getClosestDistance:G,getNestedProperty:h,insertItem:S,isArray:E,isNumber:T,isString:X,merge:P,objectEach:C,pick:j,removeEvent:z,splat:V,syncTimeout:B}=p;class R{constructor(){this.zoneAxis="y"}init(t,e){let i,s=(L(this,"init",{options:e}),this),r=t.series;this.eventsToUnbind=[],s.chart=t,s.options=s.setOptions(e);var e=s.options,a=!1!==e.visible,a=(s.linkedSeries=[],s.bindAxes(),v(s,{name:e.name,state:"",visible:a,selected:!0===e.selected}),n(this,e),e.events);(a&&a.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),s.parallelArrays.forEach(function(t){s[t+"Data"]||(s[t+"Data"]=[])}),s.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(i=r[r.length-1]),s._i=j(i&&i._i,-1)+1,s.opacity=s.options.opacity,t.orderItems("series",S(this,r)),e.dataSorting&&e.dataSorting.enabled?s.setDataSortingOptions():s.points||s.data||s.setData(e.data,!1),L(this,"afterInit")}is(t){return x[t]&&this instanceof x[t]}bindAxes(){let i,s=this,r=s.options,t=s.chart;L(this,"bindAxes",null,function(){(s.axisTypes||[]).forEach(function(e){(t[e]||[]).forEach(function(t){i=t.options,(j(r[e],0)===t.index||void 0!==r[e]&&r[e]===i.id)&&(S(s,t.series),(s[e]=t).isDirty=!0)}),s[e]||s.optionalAxis===e||O(18,!0,t)})}),L(this,"afterBindAxes")}updateParallelArrays(i,s,e){let r=i.series,t=T(s)?function(t){var e="y"===t&&r.toYData?r.toYData(i):i[t];r[t+"Data"][s]=e}:function(t){Array.prototype[s].apply(r[t+"Data"],e)};r.parallelArrays.forEach(t)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length}hasMarkerChanged(t,e){t=t.marker,e=e.marker||{};return t&&(e.enabled&&!t.enabled||e.symbol!==t.symbol||e.height!==t.height||e.width!==t.width)}autoIncrement(t){let e=this.options,i=e.pointIntervalUnit,s=e.relativeXValue,r=this.chart.time,a=this.xIncrement,o,n;return a=j(a,e.pointStart,0),this.pointInterval=n=j(this.pointInterval,e.pointInterval,1),s&&T(t)&&(n*=t),i&&(o=new r.Date(a),"day"===i?r.set("Date",o,r.get("Date",o)+n):"month"===i?r.set("Month",o,r.get("Month",o)+n):"year"===i&&r.set("FullYear",o,r.get("FullYear",o)+n),n=o.getTime()-a),s&&T(t)?a+n:(this.xIncrement=a+n,a)}setDataSortingOptions(){let t=this.options;v(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),M(t.pointRange)||(t.pointRange=1)}setOptions(t){let e;var i=this.chart,s=i.options.plotOptions,r=i.userOptions||{},t=P(t),a=i.styledMode,o={plotOptions:s,userOptions:t},n=(L(this,"setOptions",o),o.plotOptions[this.type]),r=r.plotOptions||{},h=r.series||{},l=u.plotOptions[this.type]||{},d=r[this.type]||{};this.userOptions=o.userOptions;let p=P(n,s.series,d,t),c=(this.tooltipOptions=P(u.tooltip,u.plotOptions.series?.tooltip,l?.tooltip,i.userOptions.tooltip,r.series?.tooltip,d.tooltip,t.tooltip),this.stickyTracking=j(t.stickyTracking,d.stickyTracking,h.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||p.stickyTracking),null===n.marker&&delete p.marker,this.zoneAxis=p.zoneAxis||"y",this.zones=(p.zones||[]).map(t=>({...t})));return!p.negativeColor&&!p.negativeFillColor||p.zones||(e={value:p[this.zoneAxis+"Threshold"]||p.threshold||0,className:"highcharts-negative"},a||(e.color=p.negativeColor,e.fillColor=p.negativeFillColor),c.push(e)),c.length&&M(c[c.length-1].value)&&c.push(a?{}:{color:this.color,fillColor:this.fillColor}),L(this,"afterSetOptions",{options:p}),p}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){let s,r,a=this.chart,o=t+"Index",n=t+"Counter",h=i?.length||a.options.chart.colorCount;e||(M(r=j("color"===t?this.options.colorIndex:void 0,this[o]))?s=r:(a.series.length||(a[n]=0),s=a[n]%h,a[n]+=1),i&&(e=i[s])),void 0!==s&&(this[o]=s),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}findPointIndex(e,t){let i,s,r;var a=e.id,o=e.x,n=this.points,h=this.options.dataSorting;if(a){a=this.chart.get(a);a instanceof l&&(i=a)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let t=t=>!t.touched&&t.index===e.index;if(h&&h.matchByName?t=t=>!t.touched&&t.name===e.name:this.options.relativeXValue&&(t=t=>!t.touched&&t.options.x===e.x),!(i=W(n,t)))return}return i&&void 0!==(r=i&&i.index)&&(s=!0),-1!==(r=void 0===r&&T(o)?this.xData.indexOf(o,t):r)&&void 0!==r&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),r=!s&&T(r)&&n[r]&&n[r].touched?void 0:r}updateData(t,e){let r=this.options,a=r.dataSorting,o=this.points,n=[],h=this.requireSorting,l=t.length===o.length,d,i,s,p,c=!0;if(this.xIncrement=null,t.forEach(function(t,e){var i=M(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},s=i.x;i.id||T(s)?(-1===(s=this.findPointIndex(i,p))||void 0===s?n.push(t):o[s]&&t!==r.data[s]?(o[s].update(t,!1,null,!1),o[s].touched=!0,h&&(p=s+1)):o[s]&&(o[s].touched=!0),(!l||e!==s||a&&a.enabled||this.hasDerivedData)&&(d=!0)):n.push(t)},this),d)for(i=o.length;i--;)(s=o[i])&&!s.touched&&s.remove&&s.remove(!1,e);else!l||a&&a.enabled?c=!1:(t.forEach(function(t,e){t===o[e].y||o[e].destroyed||o[e].update(t,!1,null,!1)}),n.length=0);return o.forEach(function(t){t&&(t.touched=!1)}),!!c&&(n.forEach(function(t){this.addPoint(t,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=k(this.xData),this.autoIncrement()),!0)}setData(e,t=!0,i,s){let r=this,a=r.points,o=a&&a.length||0,n=r.options,h=r.chart,l=n.dataSorting,d=r.xAxis,p=n.turboThreshold,c=this.xData,g=this.yData,u=r.pointArrayMap,m=u&&u.length,f=n.keys,y,x,b,v=0,S=1,C;h.options.chart.allowMutatingData||(n.data&&delete r.options.data,r.userOptions.data&&delete r.userOptions.data,C=P(!0,e));var k=(e=C||e||[]).length;if(l&&l.enabled&&(e=this.sortData(e)),!(b=h.options.chart.allowMutatingData&&!1!==s&&k&&o&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.boosted?this.updateData(e,i):b)){r.xIncrement=null,r.colorCounter=0,this.parallelArrays.forEach(function(t){r[t+"Data"].length=0});let t=p&&p<k;if(t){var s=r.getFirstValidPoint(e),A=r.getFirstValidPoint(e,k-1,-1),D=t=>!(!E(t)||!f&&!T(t[0]));if(T(s)&&T(A))for(y=0;y<k;y++)c[y]=this.autoIncrement(),g[y]=e[y];else if(D(s)&&D(A))if(m)if(s.length===m)for(y=0;y<k;y++)c[y]=this.autoIncrement(),g[y]=e[y];else for(y=0;y<k;y++)x=e[y],c[y]=x[0],g[y]=x.slice(1,m+1);else if(f&&(v=f.indexOf("x"),S=f.indexOf("y"),v=0<=v?v:0,S=0<=S?S:1),1===s.length&&(S=0),v===S)for(y=0;y<k;y++)c[y]=this.autoIncrement(),g[y]=e[y][S];else for(y=0;y<k;y++)x=e[y],c[y]=x[v],g[y]=x[S];else t=!1}if(!t)for(y=0;y<k;y++)x={series:r},r.pointClass.prototype.applyOptions.apply(x,[e[y]]),r.updateParallelArrays(x,y);for(g&&X(g[0])&&O(14,!0,h),r.data=[],r.options.data=r.userOptions.data=e,y=o;y--;)a[y]?.destroy();d&&(d.minRange=d.userMinRange),r.isDirty=h.isDirtyBox=!0,r.isDirtyData=!!a,i=!1}"point"===n.legendType&&(this.processData(),this.generatePoints()),t&&h.redraw(i)}sortData(r){function a(t,e){return M(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}}let i=this,s=i.options.dataSorting.sortKey||"y";return r.forEach(function(t,e){r[e]=a(i,t),r[e].index=e},this),r.concat().sort((t,e)=>{t=h(s,t),e=h(s,e);return e<t?-1:t<e?1:0}).forEach(function(t,e){t.x=e},this),i.linkedSeries&&i.linkedSeries.forEach(function(i){let t=i.options,s=t.data;t.dataSorting&&t.dataSorting.enabled||!s||(s.forEach(function(t,e){s[e]=a(i,t),r[e]&&(s[e].x=r[e].x,s[e].index=e)}),i.setData(s,!1))}),r}getProcessedData(t){let e=this,i=e.xAxis,s=e.options.cropThreshold,r=i?.logarithmic,a=e.isCartesian,o,n,h=0,l,d,p,c=e.xData,g=e.yData,u=!1,m=c.length;i&&(d=(l=i.getExtremes()).min,p=l.max,u=!(!i.categories||i.names.length)),a&&e.sorted&&!t&&(!s||s<m||e.forceCrop)&&(c[m-1]<d||c[0]>p?(c=[],g=[]):e.yData&&(c[0]<d||c[m-1]>p)&&(c=(o=this.cropData(e.xData,e.yData,d,p)).xData,g=o.yData,h=o.start,n=!0));t=G([r?c.map(r.log2lin):c],()=>e.requireSorting&&!u&&O(15,!1,e.chart));return{xData:c,yData:g,cropped:n,cropStart:h,closestPointRange:t}}processData(t){var e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;e=this.getProcessedData();this.cropped=e.cropped,this.cropStart=e.cropStart,this.processedXData=e.xData,this.processedYData=e.yData,this.closestPointRange=this.basePointRange=e.closestPointRange,L(this,"afterProcessData")}cropData(t,e,i,s){let r=t.length,a,o,n=0,h=r;for(a=0;a<r;a++)if(t[a]>=i){n=Math.max(0,a-1);break}for(o=a;o<r;o++)if(t[o]>s){h=o+1;break}return{xData:t.slice(n,h),yData:e.slice(n,h),start:n,end:h}}generatePoints(){let t=this.options,e=this.processedData||t.data,i=this.processedXData,s=this.processedYData,r=this.pointClass,a=i.length,o=this.cropStart||0,n=this.hasGroupedData,h=t.keys,l=[],d=t.dataGrouping&&t.dataGrouping.groupAll?o:0,p,c,g,u,m=this.data;if(!m&&!n){let t=[];t.length=e.length,m=this.data=t}for(h&&n&&(this.options.keys=!1),u=0;u<a;u++)c=o+u,n?((g=new r(this,[i[u]].concat(V(s[u])))).dataGroup=this.groupMap[d+u],g.dataGroup.options&&(g.options=g.dataGroup.options,v(g,g.dataGroup.options),delete g.dataLabels)):(g=m[c])||void 0===e[c]||(m[c]=g=new r(this,e[c],i[u])),g&&(g.index=n?d+u:c,l[u]=g);if(this.options.keys=h,m&&(a!==(p=m.length)||n))for(u=0;u<p;u++)u!==o||n||(u+=a),m[u]&&(m[u].destroyElements(),m[u].plotX=void 0);this.data=m,this.points=l,L(this,"afterGeneratePoints")}getXExtremes(t){return{min:A(t),max:k(t)}}getExtremes(t,e){let i=this.xAxis,s=this.yAxis,r=[],a=this.requireSorting&&!this.is("column")?1:0,o=!!s&&s.positiveValuesOnly,n=e||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:h,processedYData:l}=this,d,p,c,g,u,m,f,y=0,x=0,b=0;this.cropped&&n&&(C=this.getProcessedData(!0),h=C.xData,l=C.yData);var v=(t=t||this.stackedYData||l||[]).length,S=h||this.xData;for(i&&(y=(d=i.getExtremes()).min,x=d.max),m=0;m<v;m++)if(g=S[m],p=(T(u=t[m])||E(u))&&((T(u)?0<u:u.length)||!o),c=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(S[m+a]||g)>=y&&(S[m-a]||g)<=x,p&&c)if(f=u.length)for(;f--;)T(u[f])&&(r[b++]=u[f]);else r[b++]=u;var C={activeYData:r,dataMin:A(r),dataMax:k(r)};return L(this,"afterGetExtremes",{dataExtremes:C}),C}applyExtremes(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){let s=t.length,r=e;for(;0<=r&&r<s;){if(M(t[r]))return t[r];r+=i}}translate(){this.processedXData||this.processData(),this.generatePoints();let t=this.options,h=t.stacking,l=this.xAxis,d=l.categories,p=this.enabledDataSorting,c=this.yAxis,g=this.points,e=g.length,u=this.pointPlacementToXValue(),m=!!u,f=t.threshold,y=t.startFromThreshold?f:0,x,b,v,S,C=Number.MAX_VALUE;function k(t){return D(t,-1e5,1e5)}for(x=0;x<e;x++){let t,e=g[x],i=e.x,s,r,a=e.y,o=e.low,n=h&&c.stacking?.stacks[(this.negStacks&&a<(y?0:f)?"-":"")+this.stackKey];b=l.translate(i,!1,!1,!1,!0,u),e.plotX=T(b)?w(k(b)):void 0,h&&this.visible&&n&&n[i]&&(S=this.getStackIndicator(S,i,this.index),!e.isNull&&S.key&&(r=(s=n[i]).points[S.key]),s&&E(r)&&(o=r[0],a=r[1],o===y&&S.key===n[i].base&&(o=j(T(f)?f:c.min)),c.positiveValuesOnly&&M(o)&&o<=0&&(o=void 0),e.total=e.stackTotal=j(s.total),e.percentage=M(e.y)&&s.total?e.y/s.total*100:void 0,e.stackY=a,this.irregularWidths||s.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),e.yBottom=M(o)?k(c.translate(o,!1,!0,!1,!0)):void 0,this.dataModify&&(a=this.dataModify.modifyValue(a,x)),T(a)&&void 0!==e.plotX&&(t=T(t=c.translate(a,!1,!0,!1,!0))?k(t):void 0),e.plotY=t,e.isInside=this.isPointInside(e),e.clientX=m?w(l.translate(i,!1,!1,!1,!0,u)):b,e.negative=(e.y||0)<(f||0),e.category=j(d&&d[e.x],e.x),e.isNull||!1===e.visible||(void 0!==v&&(C=Math.min(C,Math.abs(b-v))),v=b),e.zone=this.zones.length?e.getZone():void 0,!e.graphic&&this.group&&p&&(e.isNew=!0)}this.closestPointRangePx=C,L(this,"afterTranslate")}getValidPoints(t,s,r){let a=this.chart;return(t||this.points||[]).filter(function(t){var{plotX:e,plotY:i}=t;return!(!(r||!t.isNull&&T(i))||s&&!a.isInsidePlot(e,i,{inverted:a.inverted}))&&!1!==t.visible})}getClipBox(){let{chart:t,xAxis:e,yAxis:i}=this,{x:s,y:r,width:a,height:o}=P(t.clipBox);return e&&e.len!==t.plotSizeX&&(a=e.len),i&&i.len!==t.plotSizeY&&(o=i.len),t.inverted&&!this.invertible&&([a,o]=[o,a]),{x:s,y:r,width:a,height:o}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,r=t.renderer,a=this.getClipBox(),o=this.getSharedClipKey(),n=s[o];n?n.animate(a):s[o]=n=r.clipRect(a),e&&e.clip(!1===this.options.clip?void 0:n),i&&i.clip()}animate(e){let{chart:s,group:i,markerGroup:r}=this,a=s.inverted,o=c(this.options.animation),n=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join(","),h=s.sharedClips[n],l=s.sharedClips[n+"m"];if(e&&i){let t=this.getClipBox();h?h.attr("height",t.height):(t.width=0,a&&(t.x=s.plotHeight),h=s.renderer.clipRect(t),s.sharedClips[n]=h,e={x:-99,y:-99,width:a?s.plotWidth+199:99,height:a?99:s.plotHeight+199},l=s.renderer.clipRect(e),s.sharedClips[n+"m"]=l),i.clip(h),r?.clip(l)}else if(h&&!h.hasClass("highcharts-animating")){let t=this.getClipBox(),i=o.step;(r?.element.childNodes.length||1<s.series.length)&&(o.step=function(t,e){i&&i.apply(e,arguments),"width"===e.prop&&l?.element&&l.attr(a?"height":"width",t+99)}),h.addClass("highcharts-animating").animate(t,o)}}afterAnimate(){this.setClip(),C(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,L(this,"afterAnimate")}drawPoints(t=this.points){let e,i,s,r,a,o,n,h=this.chart,l=h.styledMode,{colorAxis:d,options:p}=this,c=p.marker,g=this[this.specialGroup||"markerGroup"],u=this.xAxis,m=j(c.enabled,!u||!!u.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(e=0;e<t.length;e++){var f,y;r=(s=(i=t[e]).graphic)?"animate":"attr",a=i.marker||{},o=!!i.marker,(m&&void 0===a.enabled||a.enabled)&&!i.isNull&&!1!==i.visible?(y=j(a.symbol,this.symbol,"rect"),n=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=u.reversed?-(n.width||0):u.width),f=!1!==i.isInside,!s&&f&&(0<(n.width||0)||i.hasImage)&&(i.graphic=s=h.renderer.symbol(y,n.x,n.y,n.width,n.height,o?a:c).add(g),this.enabledDataSorting&&h.hasRendered&&(s.attr({x:i.startXPos}),r="animate")),s&&"animate"===r&&s[f?"show":"hide"](f).animate(n),s&&(y=this.pointAttribs(i,l||!i.selected?void 0:"select"),l?d&&s.css({fill:y.fill}):s[r](y)),s&&s.addClass(i.getClassName(),!0)):s&&(i.graphic=s.destroy())}}markerAttribs(t,e){let i=this.options,s=i.marker,r=t.marker||{},a=r.symbol||s.symbol,o={},n,h,l=j(r.radius,s&&s.radius),d=(e&&(n=s.states[e],l=j((h=r.states&&r.states[e])&&h.radius,n&&n.radius,l&&l+(n&&n.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(l=0),t.pos());return T(l)&&d&&(i.crisp&&(d[0]=y(d[0],t.hasImage?0:"rect"===a?s?.lineWidth||0:1)),o.x=d[0]-l,o.y=d[1]-l),l&&(o.width=o.height=2*l),o}pointAttribs(t,e){let i=this.options.marker,s=t&&t.options,r=s&&s.marker||{},a=s&&s.color,o=t&&t.color,n=t&&t.zone&&t.zone.color,h,l,d=this.color,p,c,g=j(r.lineWidth,i.lineWidth);return d=a||n||o||d,p=r.fillColor||i.fillColor||d,c=r.lineColor||i.lineColor||d,h=i.states[e=e||"normal"]||{},g=j((l=r.states&&r.states[e]||{}).lineWidth,h.lineWidth,g+j(l.lineWidthPlus,h.lineWidthPlus,0)),p=l.fillColor||h.fillColor||p,{stroke:c=l.lineColor||h.lineColor||c,"stroke-width":g,fill:p,opacity:j(l.opacity,h.opacity,1)}}destroy(i){let t,e,s,r=this,a=r.chart,o=/AppleWebKit\/533/.test(f.navigator.userAgent),n=r.data||[];for(L(r,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(r.axisTypes||[]).forEach(function(t){(s=r[t])&&s.series&&(b(s.series,r),s.isDirty=s.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=n.length;t--;)(e=n[t])&&e.destroy&&e.destroy();for(var h of r.zones)N(h,void 0,!0);p.clearTimeout(r.animationTimeout),C(r,function(t,e){t instanceof d&&!t.survive&&t[o&&"group"===e?"hide":"destroy"]()}),a.hoverSeries===r&&(a.hoverSeries=void 0),b(a.series,r),a.orderItems("series"),C(r,function(t,e){i&&"hcEvents"===e||delete r[e]})}applyZones(){let{area:u,chart:t,graph:m,zones:i,points:s,xAxis:f,yAxis:y,zoneAxis:r}=this,{inverted:x,renderer:b}=t,a=this[r+"Axis"],{isXAxis:v,len:o=0}=a||{},n=(m?.strokeWidth()||0)/2+1,h=(t,e=0,i=0)=>{let{translated:s=0,lineClip:r}=t,a=(i=x?o-i:i)-s;r?.push(["L",e,Math.abs(a)<n?i-n*(a<=0?-1:1):s])};if(i.length&&(m||u)&&a&&T(a.min)){let e=a.getExtremes().max,p=i=>{i.forEach((t,e)=>{"M"!==t[0]&&"L"!==t[0]||(i[e]=[t[0],v?o-t[1]:t[1],v?t[2]:o-t[2]])})};if(i.forEach(t=>{t.lineClip=[],t.translated=D(a.toPixels(j(t.value,e),!0)||0,0,o)}),m&&!this.showLine&&m.hide(),u&&u.hide(),"y"===r&&s.length<f.len)for(var l of s){var{plotX:l,plotY:d,zone:S}=l,C=S&&i[i.indexOf(S)-1];S&&h(S,l,d),C&&h(C,l,d)}let c=[],g=a.toPixels(a.getExtremes().min,!0);i.forEach(t=>{let e=t.lineClip||[],i=Math.round(t.translated||0),{clip:s,simpleClip:r}=(f.reversed&&e.reverse(),t),a=0,o=0,n=f.len,h=y.len;v?(a=i,n=g):(o=i,h=g);var l=[["M",a,o],["L",n,o],["L",n,h],["L",a,h],["Z"]],d=[l[0],...e,l[1],l[2],...c,l[3],l[4]];c=e.reverse(),g=i,x&&(p(d),u&&p(l)),s?(s.animate({d:d}),r?.animate({d:l})):(s=t.clip=b.path(d),u&&(r=t.simpleClip=b.path(l))),m&&t.graph?.clip(s),u&&t.area?.clip(r)})}else this.visible&&(m&&m.show(),u&&u.show())}plotGroup(t,e,i,s,r){let a=this[t],o=!a,n={visibility:i,zIndex:s||.1};return M(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(n.opacity=this.opacity),a||(this[t]=a=this.chart.renderer.g().add(r)),a.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(M(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(a.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),a.attr(n)[o?"attr":"animate"](this.getPlotBox(e)),a}getPlotBox(t){let e=this.xAxis,i=this.yAxis,s=this.chart,r=s.inverted&&!s.polar&&e&&this.invertible&&"series"===t;return s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:r?90:0,rotationOriginX:r?(e.len-i.len)/2:0,rotationOriginY:r?(e.len+i.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(t){let e=this["eventsToUnbind"];t||z(this),e.length&&(e.forEach(t=>{t()}),e.length=0)}render(){let t=this,{chart:e,options:i,hasRendered:s}=t,r=c(i.animation),a=t.visible?"inherit":"hidden",o=i.zIndex,n=e.seriesGroup,h=t.finishedAnimating?0:r.duration;L(this,"render"),t.plotGroup("group","series",a,o,n),t.markerGroup=t.plotGroup("markerGroup","markers",a,o,n),!1!==i.clip&&t.setClip(),h&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),h&&t.animate?.(),s||(h&&r.defer&&(h+=r.defer),t.animationTimeout=B(()=>{t.afterAnimate()},h||0)),t.isDirty=!1,t.hasRendered=!0,L(t,"afterRender")}redraw(){var t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){var{xAxis:i,yAxis:s}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let n=this,e=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree,B(function(){n.kdTree=function t(e,i,s){let r,a;var o=e?.length;if(o)return r=n.kdAxisArray[i%s],e.sort((t,e)=>(t[r]||0)-(e[r]||0)),{point:e[a=Math.floor(o/2)],left:t(e.slice(0,a),i+1,s),right:t(e.slice(a+1),i+1,s)}}(n.getValidPoints(void 0,!n.directTouch),e,e),n.buildingKdTree=!1},n.options.kdNow||"touchstart"===t?.type?0:1)}searchKDTree(t,e,i){let u=this,[m,f]=this.kdAxisArray,y=e?"distX":"dist",s=-1<(u.options.findNearestPointBy||"").indexOf("y")?2:1,x=!!u.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function t(e,i,s,r){let a=i.point,o=u.kdAxisArray[s%r],n,h,l=a;c=a,g=(d=e)[m],p=c[m],g=M(g)&&M(p)?g-p:null,p=d[f],d=c[f],p=M(p)&&M(d)?p-d:0,d=x&&c.marker?.radius||0,c.dist=Math.sqrt((g&&g*g||0)+p*p)-d,c.distX=M(g)?Math.abs(g)-d:Number.MAX_VALUE;var d,p=(e[o]||0)-(a[o]||0)+(x&&a.marker?.radius||0),c=p<0?"left":"right",g=p<0?"right":"left";return i[c]&&(l=(n=t(e,i[c],s+1,r))[y]<l[y]?n:a),l=i[g]&&Math.sqrt(p*p)<l[y]?(h=t(e,i[g],s+1,r))[y]<l[y]?h:l:l}(t,this.kdTree,s,s)}pointPlacementToXValue(){let{options:t,xAxis:e}=this,i=t.pointPlacement;return"between"===i&&(i=e.reversed?-.5:.5),T(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){var{chart:e,xAxis:i,yAxis:s}=this,{plotX:t=-1,plotY:r=-1}=t;return 0<=r&&r<=(s?s.len:e.plotHeight)&&0<=t&&t<=(i?i.len:e.plotWidth)}drawTracker(){let t=this,e=t.options,i=e.trackByArea,s=[].concat((i?t.areaPath:t.graphPath)||[]),r=t.chart,a=r.pointer,o=r.renderer,n=r.options.tooltip?.snap||0,h=()=>{e.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},l="rgba(192,192,192,"+(m?1e-4:.002)+")",d=t.tracker;d?d.attr({d:s}):t.graph&&(t.tracker=d=o.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||d.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:l,fill:i?l:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*n)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(t=>{t&&(t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",t=>{a?.onTrackerMouseOut(t)}),e.cursor&&!r.styledMode&&t.css({cursor:e.cursor}),t.on("touchstart",h))})),L(this,"afterDrawTracker")}addPoint(t,e,i,s,r){let a,o,n=this.options,h=this.data,l=this.chart,d=this.xAxis,p=d&&d.hasNames&&d.names,c=n.data,g=this.xData;e=j(e,!0);var u={series:this},m=(this.pointClass.prototype.applyOptions.apply(u,[t]),u.x);if(o=g.length,this.requireSorting&&m<g[o-1])for(a=!0;o&&g[o-1]>m;)o--;this.updateParallelArrays(u,"splice",[o,0,0]),this.updateParallelArrays(u,o),p&&u.name&&(p[m]=u.name),c.splice(o,0,t),(a||this.processedData)&&(this.data.splice(o,0,null),this.processData()),"point"===n.legendType&&this.generatePoints(),i&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(u,"shift"),c.shift())),!1!==r&&L(this,"addPoint",{point:u}),this.isDirty=!0,this.isDirtyData=!0,e&&l.redraw(s)}removePoint(t,e,i){function s(){n&&n.length===a.length&&n.splice(t,1),a.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(o||{series:r},"splice",[t,1]),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&h.redraw()}let r=this,a=r.data,o=a[t],n=r.points,h=r.chart;g(i,h),e=j(e,!0),o?o.firePointEvent("remove",null,s):s()}remove(t,e,i,s){let r=this,a=r.chart;function o(){r.destroy(s),a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(s),j(t,!0)&&a.redraw(e)}!1!==i?L(r,"remove",null,o):o()}update(t,e){L(this,"update",{options:t=I(t,this.userOptions)});let i=this,s=i.chart,r=i.userOptions,a=i.initialType||i.type,o=s.options.plotOptions,n=x[a].prototype,h=i.finishedAnimating&&{animation:!1},l={},d,p,c=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],g=t.type||r.type||s.options.chart.type,u=!(this.hasDerivedData||g&&g!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(t=>i.hasOptionChanged(t))),m=(g=g||a,u&&(c.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==t.visible&&c.push("area","graph"),i.parallelArrays.forEach(function(t){c.push(t+"Data")}),t.data&&(t.dataSorting&&v(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=P(r,{index:(void 0===r.index?i:r).index,pointStart:o?.series?.pointStart??r.pointStart??i.xData?.[0]},!u&&{data:i.options.data},t,h),u&&t.data&&(t.data=i.options.data),(c=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(c)).forEach(function(t){c[t]=i[t],delete i[t]}),!1);if(x[g]){if(m=g!==i.type,i.remove(!1,!1,!1,!0),m)if(s.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,x[g].prototype);else{var f=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(p in n)i[p]=void 0;v(i,x[g].prototype),f?i.hcEvents=f:delete i.hcEvents}}else O(17,!0,s,{missingModuleFor:g});if(c.forEach(function(t){i[t]=c[t]}),i.init(s,t),u&&this.points)for(var y of(!1===(d=i.options).visible?(l.graphic=1,l.dataLabel=1):(this.hasMarkerChanged(d,r)&&(l.graphic=1),i.hasDataLabels?.()||(l.dataLabel=1)),this.points))y&&y.series&&(y.resolveColor(),Object.keys(l).length&&y.destroyElements(l),!1===d.showInLegend&&y.legendItem&&s.legend.destroyItem(y));i.initialType=a,s.linkSeries(),s.setSortedData(),m&&i.linkedSeries.length&&(i.isDirtyData=!0),L(this,"afterUpdate"),j(e,!0)&&s.redraw(!!u&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){var e=this.chart,i=this.options[t],e=e.options.plotOptions,s=this.userOptions[t],e=j(e?.[this.type]?.[t],e?.series?.[t]);return s&&!M(e)?i!==s:i!==j(e,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries,i=t.pointer;i?.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&L(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&L(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach(function(t){t.setState("",!0)})}setState(e,t){let i=this,s=i.options,r=i.graph,a=s.inactiveOtherPoints,o=s.states,n=j(o[e||"normal"]&&o[e||"normal"].animation,i.chart.options.chart.animation),h=s.lineWidth,l=s.opacity;if(e=e||"",i.state!==e&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),e&&t.addClass("highcharts-series-"+e))}),i.state=e,!i.chart.styledMode)){if(o[e]&&!1===o[e].enabled)return;if(e&&(h=o[e].lineWidth||h+(o[e].lineWidthPlus||0),l=j(o[e].opacity,l)),r&&!r.dashstyle&&T(h))for(var d of[r,...this.zones.map(t=>t.graph)])d?.animate({"stroke-width":h},n);a||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(t){t&&t.animate({opacity:l},n)})}t&&a&&i.points&&i.setAllPointsToState(e||void 0)}setAllPointsToState(e){this.points.forEach(function(t){t.setState&&t.setState(e)})}setVisible(e,t){let i=this,s=i.chart,r=s.options.chart.ignoreHiddenSeries,a=i.visible,o=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!a:e,e?"show":"hide");["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(t=>{i[t]?.[o]()}),s.hoverSeries!==i&&s.hoverPoint?.series!==i||i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&s.series.forEach(t=>{t.options.stacking&&t.visible&&(t.isDirty=!0)}),i.linkedSeries.forEach(t=>{t.setVisible(e,!1)}),r&&(s.isDirtyBox=!0),L(i,o),!1!==t&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),L(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){r[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}return R.defaultOptions=a,R.types=o.seriesTypes,R.registerType=o.registerSeriesType,v(R.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:l,requireSorting:!0,sorted:!0}),o.series=R}),e(t,"Core/Renderer/RendererRegistry.js",[t["Core/Globals.js"]],function(s){var t,r;let a;return r=t={rendererTypes:{},getRendererType:function(t=a){return r.rendererTypes[t]||r.rendererTypes[a]},registerRendererType:function(t,e,i){r.rendererTypes[t]=e,a&&!i||(a=t,s.Renderer=e)}},t}),e(t,"Core/Renderer/SVG/SVGLabel.js",[t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,e){let{defined:a,extend:o,isNumber:n,merge:s,pick:d,removeEvent:i}=e;class p extends t{constructor(t,e,i,s,r,a,o,n,h,l){let d;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=s,this.anchorX=a,this.anchorY=o,this.baseline=h,this.className=l,this.addClass("button"===l?"highcharts-no-tooltip":"highcharts-label"),l&&this.addClass("highcharts-"+l),this.text=t.text(void 0,0,0,n).attr({zIndex:1}),"string"==typeof r&&((d=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=p.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||d,this.deferredAttr={},this.alignFactor=0}alignSetter(t){t={left:0,center:.5,right:1}[t];t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&n(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(i){if(i){let e={};i=s(i),p.textProps.forEach(t=>{void 0!==i[t]&&(e[t]=i[t],delete i[t])}),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return t.prototype.css.call(this,i)}destroy(){i(this.element,"mouseenter"),i(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:i,height:s=0,translateX:r=0,translateY:a=0,width:o=0}=this,n=d(this.paddingLeft,i),h=e??(this.rotation||0),l={width:o,height:s,x:r+this.bBox.x-n,y:a+this.bBox.y-i+this.baselineOffset};return l=h?this.getRotatedBox(l,h):l}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:d(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&a(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){n(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=t}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t=this.text,e={},i=this.padding,s=this.bBox=n(this.widthSetting)&&n(this.heightSetting)&&!this.textAlign||!a(t.textStr)?p.emptyBBox:t.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||s.height||0)+2*i;var r=this.renderer.fontMetrics(t);if(this.baselineOffset=i+Math.min((this.text.firstLineMetrics||r).b,s.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-r.h)/2),this.needsBox&&!t.textPath){if(!this.box){let t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();t.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)}r=this.getCrispAdjust(),e.x=r,e.y=(this.baseline?-this.baselineOffset:0)+r,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(o(e,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text;if(!i.textPath){this.updateBoxSize();let t=this.baseline?0:this.baselineOffset,e=d(this.paddingLeft,this.padding);a(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(e+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),e===i.x&&t===i.y||(i.attr("x",e),i.hasBoxWidthChanged&&(this.bBox=i.getBBox(!0)),void 0!==t&&i.attr("y",t)),i.x=e,i.y=t}}widthSetter(t){this.widthSetting=n(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){var t=this.padding,e=d(this.paddingLeft,t),t=d(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return p.emptyBBox={width:0,height:0,x:0,y:0},p.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],p}),e(t,"Core/Renderer/SVG/Symbols.js",[t["Core/Utilities.js"]],function(t){let{defined:v,isNumber:d,pick:S}=t;function r(u,m,f,y,x){let b=[];if(x){let t=x.start||0,e=S(x.r,f),i=S(x.r,y||f),s=2e-4/(x.borderRadius?1:Math.max(e,1)),r=Math.abs((x.end||0)-t-2*Math.PI)<s,a=(x.end||0)-(r?s:0),o=x.innerR,n=S(x.open,r),h=Math.cos(t),l=Math.sin(t),d=Math.cos(a),p=Math.sin(a),c=S(x.longArc,a-t-Math.PI<s?0:1),g=["A",e,i,0,c,S(x.clockwise,1),u+e*d,m+i*p];g.params={start:t,end:a,cx:u,cy:m},b.push(["M",u+e*h,m+i*l],g),v(o)&&((g=["A",o,o,0,c,v(x.clockwise)?1-x.clockwise:0,u+o*h,m+o*l]).params={start:a,end:t,cx:u,cy:m},b.push(n?["M",u+o*d,m+o*p]:["L",u+o*d,m+o*p],g)),n||b.push(["Z"])}return b}function e(t,e,i,s,r){return r&&r.r?p(t,e,i,s,r):[["M",t,e],["L",t+i,e],["L",t+i,e+s],["L",t,e+s],["Z"]]}function p(t,e,i,s,r){r=r?.r||0;return[["M",t+r,e],["L",t+i-r,e],["A",r,r,0,0,1,t+i,e+r],["L",t+i,e+s-r],["A",r,r,0,0,1,t+i-r,e+s],["L",t+r,e+s],["A",r,r,0,0,1,t,e+s-r],["L",t,e+r],["A",r,r,0,0,1,t+r,e],["Z"]]}return{arc:r,callout:function(t,e,i,s,r){let a=Math.min(r&&r.r||0,i,s),o=a+6,n=r&&r.anchorX,h=r&&r.anchorY||0,l=p(t,e,i,s,{r:a});return!d(n)||n<i&&0<n&&h<s&&0<h||(i-o<t+n?e+o<h&&h<e+s-o?l.splice(3,1,["L",t+i,h-6],["L",t+i+6,h],["L",t+i,h+6],["L",t+i,e+s-a]):n<i?(r=h<e+o,l.splice(r?2:5,0,["L",n,h],["L",t+i-a,r?e:e+s])):l.splice(3,1,["L",t+i,s/2],["L",n,h],["L",t+i,s/2],["L",t+i,e+s-a]):t+n<o?e+o<h&&h<e+s-o?l.splice(7,1,["L",t,h+6],["L",t-6,h],["L",t,h-6],["L",t,e+a]):0<n?(r=h<e+o,l.splice(r?1:6,0,["L",n,h],["L",t+a,r?e:e+s])):l.splice(7,1,["L",t,s/2],["L",n,h],["L",t,s/2],["L",t,e+a]):s<h&&n<i-o?l.splice(5,1,["L",n+6,e+s],["L",n,e+s+6],["L",n-6,e+s],["L",t+a,e+s]):h<0&&o<n&&l.splice(1,1,["L",n-6,e],["L",n,e-6],["L",n+6,e],["L",i-a,e])),l},circle:function(t,e,i,s){return r(t+i/2,e+s/2,i/2,s/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s/2],["L",t+i/2,e+s],["L",t,e+s/2],["Z"]]},rect:e,roundedRect:p,square:e,triangle:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s],["L",t,e+s],["Z"]]},"triangle-down":function(t,e,i,s){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+s],["Z"]]}}}),e(t,"Core/Renderer/SVG/TextBuilder.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(h,t,e){let{doc:p,SVG_NS:c,win:r}=t,{attr:g,extend:l,fireEvent:i,isString:d,objectEach:a,pick:u}=e;return class{constructor(t){var e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){let e=this.svgElement,i=e.element,t=e.renderer,s=u(e.textStr,"").toString(),r=-1!==s.indexOf("<"),a=i.childNodes,o=!e.added&&t.box,n=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join(",");if(n!==e.textCache){e.textCache=n,delete e.actualWidth;for(let t=a.length;t--;)i.removeChild(a[t]);if(r||this.ellipsis||this.width||e.textPath||-1!==s.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(s))){if(""!==s){o&&o.appendChild(i);let t=new h(s);this.modifyTree(t.nodes),t.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),o&&o.removeChild(i)}}else i.appendChild(p.createTextNode(this.unescapeEntities(s)));d(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){var t;let h=this.svgElement,l=g(h.element,"x");for(h.firstLineMetrics=void 0;(t=h.element.firstChild)&&/^[\s\u200B]*$/.test(t.textContent||" ");)h.element.removeChild(t);[].forEach.call(h.element.querySelectorAll("tspan.highcharts-br"),(t,e)=>{t.nextSibling&&t.previousSibling&&(0===e&&1===t.previousSibling.nodeType&&(h.firstLineMetrics=h.renderer.fontMetrics(t.previousSibling)),g(t,{dy:this.getLineHeight(t.nextSibling),x:l}))});let d=this.width||0;if(d){let i=(i,s)=>{let t=i.textContent||"",r=t.replace(/([^\^])-/g,"$1- ").split(" "),e=!this.noWrap&&(1<r.length||1<h.element.childNodes.length),a=this.getLineHeight(s),o=0,n=h.actualWidth;if(this.ellipsis)t&&this.truncate(i,t,void 0,0,Math.max(0,d-.8*a),(t,e)=>t.substring(0,e)+"…");else if(e){let t=[],e=[];for(;s.firstChild&&s.firstChild!==i;)e.push(s.firstChild),s.removeChild(s.firstChild);for(;r.length;)r.length&&!this.noWrap&&0<o&&(t.push(i.textContent||""),i.textContent=r.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,r,0===o&&n||0,d,(t,e)=>r.slice(0,e).join(" ").replace(/- /g,"-")),n=h.actualWidth,o++;e.forEach(t=>{s.insertBefore(t,i)}),t.forEach(t=>{s.insertBefore(p.createTextNode(t),i);let e=p.createElementNS(c,"tspan");e.textContent="​",g(e,{dy:a,x:l}),s.insertBefore(e,i)})}},s=e=>{[].slice.call(e.childNodes).forEach(t=>{t.nodeType===r.Node.TEXT_NODE?i(t,e):(-1!==t.className.baseVal.indexOf("highcharts-br")&&(h.actualWidth=0),s(t))})};s(h.element)}}getLineHeight(t){t=t.nodeType===r.Node.TEXT_NODE?t.parentElement:t;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(n){let h=(e,i)=>{let{attributes:s={},children:t,style:r={},tagName:a}=e,o=this.renderer.styledMode;if("b"===a||"strong"===a?o?s.class="highcharts-strong":r.fontWeight="bold":"i"!==a&&"em"!==a||(o?s.class="highcharts-emphasized":r.fontStyle="italic"),r&&r.color&&(r.fill=r.color),"br"===a){s.class="highcharts-br",e.textContent="​";let t=n[i+1];t&&t.textContent&&(t.textContent=t.textContent.replace(/^ +/gm,""))}else"a"===a&&t&&t.some(t=>"#text"===t.tagName)&&(e.children=[{children:t,tagName:"tspan"}]);"#text"!==a&&"a"!==a&&(e.tagName="tspan"),l(e,{attributes:s,style:r}),t&&t.filter(t=>"#text"!==t.tagName).forEach(h)};n.forEach(h),i(this.svgElement,"afterModifyTree",{nodes:n})}truncate(r,t,a,o,e,i){function s(t,e){let i=e||t,s=r.parentNode;if(s&&void 0===p[i]&&s.getSubStringLength)try{p[i]=o+s.getSubStringLength(0,a?i+1:i)}catch(t){}return p[i]}let n,h,l=this.svgElement,d=l["rotation"],p=[],c=a?1:0,g=(t||a||"").length,u=g;if(l.rotation=0,o+(h=s(r.textContent.length))>e){for(;c<=g;)u=Math.ceil((c+g)/2),a&&(n=i(a,u)),h=s(u,n&&n.length-1),c===g?c=g+1:h>e?g=u-1:c=u;0===g?r.textContent="":t&&g===t.length-1||(r.textContent=n||i(t||a,u))}a&&a.splice(0,u),l.actualWidth=h,l.rotation=d}unescapeEntities(i,s){return a(this.renderer.escapes,function(t,e){s&&-1!==s.indexOf(t)||(i=i.toString().replace(RegExp(t,"g"),e))}),i}}}),e(t,"Core/Renderer/SVG/SVGRenderer.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Renderer/SVG/TextBuilder.js"],t["Core/Utilities.js"]],function(x,t,e,i,s,r,l,a,o,n){let h,b=t["defaultOptions"],{charts:m,deg2rad:d,doc:f,isFirefox:p,isMS:v,isWebKit:c,noop:g,SVG_NS:u,symbolSizes:y,win:S}=i,{addEvent:C,attr:k,createElement:A,crisp:D,css:w,defined:M,destroyObjectProperties:O,extend:L,isArray:E,isNumber:T,isObject:P,isString:N,merge:j,pick:B,pInt:I,replaceNested:W,uniqueKey:G}=n;class R{constructor(t,e,i,s,r,a,o){let n,h,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),d=l.element;o||l.css(this.getStyle(s||{})),t.appendChild(d),k(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&k(d,"xmlns",this.SVG_NS),this.box=d,this.boxWrapper=l,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 11.4.7")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=r,this.styledMode=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=l.getStyle("font-size"),this.setSize(e,i,!1),p&&t.getBoundingClientRect&&((n=function(){w(t,{left:0,top:0}),h=t.getBoundingClientRect(),w(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=C(S,"resize",n))}definition(t){return new x([t]).addToDOM(this.defs.element)}getReferenceURL(){var t,e;if((p||c)&&f.getElementsByTagName("base").length&&(M(h)||(t=G(),t=new x([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(f.body),w(t,{position:"fixed",top:0,left:0,zIndex:9e5}),e=f.elementFromPoint(6,6),h="hitme"===(e&&e.id),f.body.removeChild(t)),h))return W(S.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"]);return""}getStyle(t){return this.style=L({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),O(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(e){var t=["highcharts-drop-shadow-"+this.chartIndex,...Object.keys(e).map(t=>t+"-"+e[t])].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=j({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},e);return this.defs.element.querySelector("#"+t)||this.definition({tagName:"filter",attributes:{id:t,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),t}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new o(t).buildSVG()}getContrast(t){t=e.parse(t).rgba.map(t=>{t/=255;return t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4)}),t=.2126*t[0]+.7152*t[1]+.0722*t[2];return(.05+t)/.05<1.05/(.05+t)?"#FFFFFF":"#000000"}button(t,e,i,s,r={},a,o,n,h,l){let d=this.label(t,e,i,h,void 0,void 0,l,void 0,"button"),p=this.styledMode,c=arguments,g=0,u=(r=j(b.global.buttonTheme,r),p&&(delete r.fill,delete r.stroke,delete r["stroke-width"]),r.states||{}),m=r.style||{},f=(delete r.states,delete r.style,[x.filterUserAttributes(r)]),y=[m];return p||["hover","select","disabled"].forEach((t,e)=>{f.push(j(f[0],x.filterUserAttributes(c[e+5]||u[t]||{}))),y.push(f[e+1].style),delete f[e+1].style}),C(d.element,v?"mouseover":"mouseenter",function(){3!==g&&d.setState(1)}),C(d.element,v?"mouseout":"mouseleave",function(){3!==g&&d.setState(g)}),d.setState=(t=0)=>{1!==t&&(d.state=g=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t]),p||(d.attr(f[t]),t=y[t],P(t)&&d.css(t))},d.attr(f[0]),p||(d.css(L({cursor:"default"},m)),l&&d.text.css({pointerEvents:"none"})),d.on("touchstart",t=>t.stopPropagation()).on("click",function(t){3!==g&&s.call(d,t)})}crispLine(t,e){let[i,s]=t;return M(i[1])&&i[1]===s[1]&&(i[1]=s[1]=D(i[1],e)),M(i[2])&&i[2]===s[2]&&(i[2]=s[2]=D(i[2],e)),t}path(t){let e=this.styledMode?{}:{fill:"none"};return E(t)?e.d=t:P(t)&&L(e,t),this.createElement("path").attr(e)}circle(t,e,i){let s=P(t)?t:void 0===t?{}:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},r.attr(s)}arc(t,e,i,s,r,a){let o,n=(P(t)?(e=(o=t).y,i=o.r,s=o.innerR,r=o.start,a=o.end,t=o.x):o={innerR:s,start:r,end:a},this.symbol("arc",t,e,i,i,o));return n.r=i,n}rect(t,e,i,s,r,a){let o=P(t)?t:void 0===t?{}:{x:t,y:e,r:r,width:Math.max(i||0,0),height:Math.max(s||0,0)},n=this.createElement("rect");return this.styledMode||(void 0!==a&&(o["stroke-width"]=a,L(o,n.crisp(o))),o.fill="none"),n.rSetter=function(t,e,i){n.r=t,k(i,{rx:t,ry:t})},n.rGetter=function(){return n.r||0},n.attr(o)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:B(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(e,t,i,s,r,a){function o(t){h.attr({href:e}),a.call(h,t)}let n={preserveAspectRatio:"none"},h=(T(t)&&(n.x=t),T(i)&&(n.y=i),T(s)&&(n.width=s),T(r)&&(n.height=r),this.createElement("image").attr(n));if(a){h.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let t=new S.Image;C(t,"load",o),t.src=e,t.complete&&o({})}else h.attr({href:e});return h}symbol(t,i,s,e,r,d){let a,o,n,h,l=this,p=/^url\((.*?)\)$/,c=p.test(t),g=!c&&(this.symbols[t]?t:"circle"),u=g&&this.symbols[g];if(u)"number"==typeof i&&(o=u.call(this.symbols,i||0,s||0,e||0,r||0,d)),a=this.path(o),l.styledMode||a.attr("fill","none"),L(a,{symbolName:g||void 0,x:i,y:s,width:e,height:r}),d&&L(a,d);else if(c){n=t.match(p)[1];let e=a=this.image(n);e.imgwidth=B(d&&d.width,y[n]&&y[n].width),e.imgheight=B(d&&d.height,y[n]&&y[n].height),h=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach(t=>{e[t+"Setter"]=function(t,e){this[e]=t;let{alignByTranslate:i,element:s,width:r,height:a,imgwidth:o,imgheight:n}=this,h="width"===e?o:n,l=1;d&&"within"===d.backgroundSize&&r&&a&&o&&n?(l=Math.min(r/o,a/n),k(s,{width:Math.round(o*l),height:Math.round(n*l)})):s&&h&&s.setAttribute(e,h),!i&&o&&n&&this.translate(((r||0)-o*l)/2,((a||0)-n*l)/2)}}),M(i)&&e.attr({x:i,y:s}),e.isImg=!0,M(e.imgwidth)&&M(e.imgheight)?h(e):(e.attr({width:0,height:0}),A("img",{onload:function(){let t=m[l.chartIndex];0===this.width&&(w(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),y[n]={width:this.width,height:this.height},e.imgwidth=this.width,e.imgheight=this.height,e.element&&h(e),this.parentNode&&this.parentNode.removeChild(this),l.imgCount--,l.imgCount||!t||t.hasLoaded||t.onload()},src:n}),this.imgCount++)}return a}clipRect(t,e,i,s){return this.rect(t,e,i,s,0)}text(t,e,i,s){let r={};if(s&&(this.allowHTML||!this.forExport))return this.html(t,e,i);r.x=Math.round(e||0),i&&(r.y=Math.round(i)),M(t)&&(r.text=t);let a=this.createElement("text").attr(r);return s&&(!this.forExport||this.allowHTML)||(a.xSetter=function(i,s,t){let r=t.getElementsByTagName("tspan"),a=t.getAttribute(s);for(let t=0,e;t<r.length;t++)(e=r[t]).getAttribute(s)===a&&e.setAttribute(s,i);t.setAttribute(s,i)}),a}fontMetrics(t){var t=I(r.prototype.getStyle.call(t,"font-size")||0),e=t<24?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:s}}pathToSegments(e){let i=[],s=[],r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let t=0;t<e.length;t++)N(s[0])&&T(e[t])&&s.length===r[s[0].toUpperCase()]&&e.splice(t,0,s[0].replace("M","L").replace("m","l")),"string"==typeof e[t]&&(s.length&&i.push(s.slice(0)),s.length=0),s.push(e[t]);return i.push(s.slice(0)),i}label(t,e,i,s,r,a,o,n,h){return new l(this,t,e,i,s,r,a,o,n,h)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}return L(R.prototype,{Element:r,SVG_NS:u,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:a,draw:g}),s.registerRendererType("svg",R,!0),R}),e(t,"Series/ArcDiagram/ArcDiagramSeries.js",[t["Series/ArcDiagram/ArcDiagramPoint.js"],t["Series/ArcDiagram/ArcDiagramSeriesDefaults.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],function(t,e,i,s,r,a,o,n,h){h.compose(n);let{symbols:p}=a["prototype"],{column:l,sankey:c}=r["seriesTypes"],{crisp:g,extend:d,merge:u,pick:m,relativeLength:f}=o;class y extends c{createNodeColumns(){let d=this,c=d.chart,g=i.compose([],d);return g.sankeyColumn.maxLength=c.inverted?c.plotHeight:c.plotWidth,g.sankeyColumn.getTranslationFactor=t=>{let e=g.slice(),i=this.options.minLinkWidth||0,s,r=0,a,o,n=0,h=1,l=0,d=(c.plotSizeX||0)-(t.options.marker&&t.options.marker.lineWidth||0)-(g.length-1)*t.nodePadding;for(;g.length;){for(r=d/g.sankeyColumn.sum(),s=!1,a=g.length;a--;){o=g[a].getSum()*r*h;var p=Math.min(c.plotHeight,c.plotWidth);o>p?h=Math.min(p/o,h):o<i&&(g.splice(a,1),d-=i,o=i,s=!0),l+=o*(1-h)/2,n=Math.max(n,o)}if(!s)break}return g.length=0,e.forEach(t=>{t.scale=h,g.push(t)}),g.sankeyColumn.maxRadius=n,g.sankeyColumn.scale=h,g.sankeyColumn.additionalSpace=l,r},g.sankeyColumn.offset=function(e,i){let s=e.series.options.equalNodes,r=d.nodePadding,a=Math.min(c.plotWidth,c.plotHeight,(g.sankeyColumn.maxLength||0)/d.nodes.length-r),o=g.sankeyColumn.additionalSpace||0,n;for(let t=0;t<g.length;t++){var h=g[t].getSum()*(g.sankeyColumn.scale||0),l=s?a:Math.max(h*i,d.options.minLinkWidth||0);if(n=h?l+r:0,g[t]===e)return{relativeLeft:o+f(e.options.offset||0,n)};o+=n}},d.nodes.forEach(function(t){t.column=0,g.push(t)}),[g]}translateLink(i){let t=i.fromNode,e=i.toNode,s=this.chart,r=this.translationFactor,a=i.options,o=this.options,n=m(a.linkWeight,o.linkWeight,Math.max((i.weight||0)*r*t.scale,this.options.minLinkWidth||0)),h=i.series.options.centeredLinks,l=t.nodeY,d=(t,e)=>{e=(t.offset(i,e)||0)*r;return Math.min(t.nodeX+e,t.nodeX+(t.shapeArgs&&t.shapeArgs.height||0)-n)},p=h?t.nodeX+((t.shapeArgs.height||0)-n)/2:d(t,"linksFrom"),c=h?e.nodeX+((e.shapeArgs.height||0)-n)/2:d(e,"linksTo"),g=l;p>c&&([p,c]=[c,p]),o.reversed&&([p,c]=[c,p],g=(s.plotSizeY||0)-g),i.shapeType="path",i.linkBase=[p,p+n,c,c+n];var u=(c+n-p)/Math.abs(c+n-p)*m(o.linkRadius,Math.min(Math.abs(c+n-p)/2,t.nodeY-Math.abs(n)));i.shapeArgs={d:[["M",p,g],["A",(c+n-p)/2,u,0,0,1,c+n,g],["L",c,g],["A",(c-p-n)/2,u-n,0,0,0,p+n,g],["Z"]]},i.dlBox={x:p+(c-p)/2,y:g-u,height:n,width:0},i.tooltipPos=s.inverted?[(s.plotSizeY||0)-i.dlBox.y-n/2,(s.plotSizeX||0)-i.dlBox.x]:[i.dlBox.x,i.dlBox.y+n/2],i.y=i.plotY=1,i.x=i.plotX=1,i.color||(i.color=t.color)}translateNode(s,t){var r=this.translationFactor,a=this.chart,o=a.inverted?a.plotWidth:a.plotHeight,n=this.options,o=Math.min(a.plotWidth,a.plotHeight,o/s.series.nodes.length-this.nodePadding),e=s.getSum()*(t.sankeyColumn.scale||0),o=n.equalNodes?o:Math.max(e*r,this.options.minLinkWidth||0),i=n.marker?.lineWidth||0,h=t.sankeyColumn.offset(s,r),r=g(m(h&&h.absoluteLeft,(t.sankeyColumn.left(r)||0)+(h&&h.relativeLeft||0)),i),h=u(n.marker,s.options.marker),l=h.symbol,d=h.radius,h=parseInt(n.offset,10)*((a.inverted?a.plotWidth:a.plotHeight)-(g(this.colDistance*(s.column||0)+(h.lineWidth||0)/2,i)+(t.sankeyColumn.scale||0)*(t.sankeyColumn.maxRadius||0)/2))/100;if(s.sum=e){s.nodeX=r,s.nodeY=h;let t=s.options.width||n.width||o,e=s.options.height||n.height||o,i=h;n.reversed&&(i=(a.plotSizeY||0)-h,a.inverted&&(i=(a.plotSizeY||0)-h)),this.mapOptionsToLevel&&(s.dlOptions=c.getDLOptions({level:this.mapOptionsToLevel[s.level],optionsPoint:s.options})),s.plotX=1,s.plotY=1,s.tooltipPos=a.inverted?[(a.plotSizeY||0)-i-e/2,(a.plotSizeX||0)-r-t/2]:[r+t/2,i+e/2],s.shapeType="path",s.shapeArgs={d:p[l||"circle"](r,i-(d||e)/2,d||t,d||e),width:d||t,height:d||e},s.dlBox={x:r+t/2,y:i,height:0,width:0}}else s.dlOptions={enabled:!1}}drawDataLabels(){var t;this.options.dataLabels&&(t=this.options.dataLabels.textPath,l.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,l.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t)}pointAttribs(t,e){if(t&&t.isNode){let{...t}=s.prototype.pointAttribs.apply(this,arguments);return t}return super.pointAttribs.apply(this,arguments)}markerAttribs(t){return t.isNode?super.markerAttribs.apply(this,arguments):{}}}return y.defaultOptions=u(c.defaultOptions,e),d(y.prototype,{orderNodes:!1}),y.prototype.pointClass=t,r.registerSeriesType("arcdiagram",y),y}),e(t,"masters/modules/arc-diagram.src.js",[t["Core/Globals.js"]],function(t){return t})});