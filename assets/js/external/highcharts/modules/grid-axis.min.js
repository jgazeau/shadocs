!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t=t?t._modules:{},"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(o,n,a,h){function s(s,t){var r={width:0,height:0};return t.forEach(function(t){var i,e;t=s[t],h.isObject(t,!0)&&(t=(i=h.isObject(t.label,!0)?t.label:{}).getBBox?i.getBBox().height:0,i.textStr&&!z(i.textPxLength)&&(i.textPxLength=i.getBBox().width),e=z(i.textPxLength)?Math.round(i.textPxLength):0,i.textStr&&(e=Math.round(i.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(e,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(r.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),r}function r(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function d(t){var i,e,s,r,n,o,h,a,d,l,c,f,u,g;!0===(this.options.grid||{}).enabled&&(u=this.axisTitle,i=this.height,e=this.horiz,s=this.left,r=this.offset,n=this.opposite,o=this.options,h=this.top,a=this.width,g=this.tickSize(),d=u&&u.getBBox().width,l=o.title.x,c=o.title.y,f=E(o.title.margin,e?5:10),u=this.chart.renderer.fontMetrics(o.title.style.fontSize,u).f,g=(e?h+i:s)+(e?1:-1)*(n?-1:1)*(g?g[0]/2:0)+(this.side===L.bottom?u:0),t.titlePosition.x=e?s-(d||0)/2-f+l:g+(n?a:0)+r+l,t.titlePosition.y=e?g-(n?i:0)+(n?u:-u)/2+r+c:h-f+c)}function l(){var t=this.chart,i=void 0===(i=this.options.grid)?{}:i,e=this.userOptions;if(i.enabled&&((s=this.options).labels.align=E(s.labels.align,"center"),this.categories||(s.showLastLabel=!1),this.labelRotation=0,s.labels.rotation=0),i.columns)for(var s=this.grid.columns=[],r=this.grid.columnIndex=0;++r<i.columns.length;){var n=C(e,i.columns[i.columns.length-r-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete n.grid.columns,(n=new o(this.chart,n)).grid.isColumn=!0,n.grid.columnIndex=r,M(t.axes,n),M(t[this.coll],n),s.push(n)}}function c(){var t=this.grid,i=this.options;if(!0===(i.grid||{}).enabled){var e,s,r,n,o=this.min||0,h=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&((e=i.lineWidth)&&(s=(e=this.getLinePath(e))[0],r=e[1],n=((this.tickSize("tick")||[1])[0]-1)*(this.side===L.top||this.side===L.left?-1:1),"M"===s[0]&&"L"===r[0]&&(this.horiz?(s[2]+=n,r[2]+=n):(s[1]+=n,r[1]+=n)),!this.horiz&&this.chart.marginRight&&(s=[s,["L",this.left,s[2]||0]],n=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(h+this.tickmarkOffset)],r=[["M",r[1]||0,this.toPixels(h+this.tickmarkOffset)],n],this.grid.upperBorder||0==o%1||(this.grid.upperBorder=this.grid.renderBorder(s)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.upperBorder.animate({d:s})),this.grid.lowerBorder||0==h%1||(this.grid.lowerBorder=this.grid.renderBorder(r)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.lowerBorder.animate({d:r}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.axisLineExtra.animate({d:e})):this.grid.axisLineExtra=this.grid.renderBorder(e),this.axisLine[this.showAxis?"show":"hide"]())),(t&&t.columns||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(t=this.tickmarkOffset,i=this.tickPositions[this.tickPositions.length-1],e=this.tickPositions[0],s=r=void 0;(r=this.hiddenLabels.pop())&&r.element;)r.show();for(;(s=this.hiddenMarks.pop())&&s.element;)s.show();(r=this.ticks[e].label)&&(t<o-e?this.hiddenLabels.push(r.hide()):r.show()),(r=this.ticks[i].label)&&(t<i-h?this.hiddenLabels.push(r.hide()):r.show()),(o=this.ticks[i].mark)&&i-h<t&&0<i-h&&this.ticks[i].isLast&&this.hiddenMarks.push(o.hide())}}}function f(){var t=this.tickPositions&&this.tickPositions.info,i=this.options,e=this.userOptions.labels||{};(i.grid||{}).enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!B(e.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",B(e.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function u(t){var d,i=this.options,e=(t=t.userOptions,i&&h.isObject(i.grid,!0)?i.grid:{});!0===e.enabled&&(d=C(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(B(t.linkedTo)&&!B(t.tickPixelInterval)&&(d.tickPixelInterval=350),B(t.tickPixelInterval)||!B(t.linkedTo)||B(t.tickPositioner)||B(t.tickInterval)||(d.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){for(var s=d.units||[],r=void 0,n=1,o="year",h=0;h<s.length;h++){var a=s[h];if(a&&a[0]===e.unitName){r=h;break}}return(s=z(r)&&s[r+1])?(o=s[0]||"year",n=(n=s[1])&&n[0]||1):"year"===e.unitName&&(n=10*e.count),e=T[o],this.tickInterval=e*n,this.chart.time.getTimeTicks({unitRange:e,count:n,unitName:o},t,i,this.options.startOfWeek)}})),C(!0,this.options,d),this.horiz&&(i.minPadding=E(t.minPadding,0),i.maxPadding=E(t.maxPadding,0)),z(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth))}function g(t){var i=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&i&&C(!0,this.options,i[i.length-1])}function p(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function m(t){var i=n.defaultLeftAxisOptions,e=this.horiz,s=this.maxLabelDimensions,r=this.options.grid;(r=void 0===r?{}:r).enabled&&s&&(i=2*Math.abs(i.labels.x),e=e?r.cellHeight||i+s.height:i+s.width,A(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function x(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function k(i){var t=this.grid;(t.columns||[]).forEach(function(t){return t.destroy(i.keepEvents)}),t.columns=void 0}function b(t){var i=(t=t.userOptions||{}).grid||{};i.enabled&&B(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor),this.grid||(this.grid=new I(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function v(t){var i,e=this.label,s=this.axis,r=s.reversed,n=s.chart,o=s.options.grid||{},h=s.options.labels,a=h.align,d=L[s.side],l=t.tickmarkOffset,c=s.tickPositions,f=this.pos-l,c=z(c[t.index+1])?c[t.index+1]-l:(s.max||0)+l,l=(u=s.tickSize("tick"))?u[0]:0,u=u?u[1]/2:0;!0===o.enabled&&("top"===d?i=(o=s.top+s.offset)-l:"bottom"===d?o=(i=n.chartHeight-s.bottom+s.offset)+l:(o=s.top+s.len-(s.translate(r?c:f)||0),i=s.top+s.len-(s.translate(r?f:c)||0)),"right"===d?r=(d=n.chartWidth-s.right+s.offset)+l:"left"===d?d=(r=s.left+s.offset)-l:(d=Math.round(s.left+(s.translate(r?c:f)||0))-u,r=Math.min(Math.round(s.left+(s.translate(r?f:c)||0))-u,s.left+s.len)),this.slotWidth=r-d,t.pos.x="left"===a?d:"right"===a?r:d+(r-d)/2,t.pos.y=i+(o-i)/2,n=n.renderer.fontMetrics(h.style.fontSize,e&&e.element),e=e?e.getBBox().height:0,h.useHTML?t.pos.y+=n.b+-e/2:(e=Math.round(e/n.h),t.pos.y+=(n.b-(n.h-n.f))/2+-((e-1)*n.h)/2),t.pos.x+=s.horiz&&h.x||0)}function P(t){var i,e,s,r,n,o=t.axis,h=t.value;o.options.grid&&o.options.grid.enabled&&(s=o.tickPositions,i=(o.linkedParent||o).series[0],e=h===s[0],s=h===s[s.length-1],n=void 0,(r=i&&S(i.options.data,function(t){return t[o.isXAxis?"x":"y"]===h}))&&i.is("gantt")&&(n=C(r),a.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(n)),t.isFirst=e,t.isLast=s,t.point=n)}function y(){var t=this.options,i=this.categories,e=this.tickPositions,s=e[0],r=e[e.length-1],n=this.linkedParent&&this.linkedParent.min||this.min,o=this.linkedParent&&this.linkedParent.max||this.max,h=this.tickInterval;!0!==(t.grid||{}).enabled||i||!this.horiz&&!this.isLinked||(s<n&&n<s+h&&!t.startOnTick&&(e[0]=n),o<r&&r-h<o&&!t.endOnTick&&(e[e.length-1]=o))}function w(t){var i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}var L,t,i=a.dateFormats,O=h.addEvent,B=h.defined,M=h.erase,S=h.find,A=h.isArray,z=h.isNumber,C=h.merge,E=h.pick,T=h.timeUnits,W=h.wrap,D=((t=L=L||{})[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left",[]),I=(e.prototype.isOuterAxis=function(){var e=this.axis,t=e.grid.columnIndex,i=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,s=t?e.linkedParent:e,r=-1,n=0;return(e.chart[e.coll]||[]).forEach(function(t,i){t.side!==e.side||t.options.isInternal||(n=i,t===s&&(r=i))}),n===r&&(!z(t)||i.length===t)},e.prototype.renderBorder=function(t){var i=this.axis,e=i.chart.renderer,s=i.options;return t=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder),e.styledMode||t.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),t},e);function e(t){this.axis=t}return i.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},i.W=function(t){var i=this,e=new this.Date(t),s=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)}),(this.get("Day",e)+6)%7);return t=new this.Date(e.valueOf()),this.set("Date",t,this.get("Date",e)-s+3),s=new this.Date(this.get("FullYear",t),0,1),4!==this.get("Day",s)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",s))%7)),(1+Math.floor((t.valueOf()-s.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return-1===D.indexOf(t)&&(D.push(t),t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=s,W(t.prototype,"unsquish",w),O(t,"init",b),O(t,"afterGetOffset",r),O(t,"afterGetTitlePosition",d),O(t,"afterInit",l),O(t,"afterRender",c),O(t,"afterSetAxisTranslation",f),O(t,"afterSetOptions",u),O(t,"afterSetOptions",g),O(t,"afterSetScale",p),O(t,"afterTickSize",m),O(t,"trimTicks",y),O(t,"destroy",k)),-1===D.indexOf(i)&&O(i,"afterSetChartSize",x),-1===D.indexOf(e)&&(O(e,"afterGetLabelPosition",v),O(e,"labelFormat",P)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});