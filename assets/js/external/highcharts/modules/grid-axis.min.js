!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(h,l,s){var b;let t=l["dateFormats"],{addEvent:r,defined:n,erase:a,find:d,isArray:o,isNumber:P,merge:c,pick:k,timeUnits:g,wrap:u}=s,f=(b={top:0,0:"top",right:1,1:"right",bottom:2,2:"bottom",left:3,3:"left"},[]);function p(t){return s.isObject(t,!0)}function m(n,t){let o={width:0,height:0};return t.forEach(function(t){let i=n[t],e,s=0,r;p(i)&&(e=(r=p(i.label)?i.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!P(r.textPxLength)&&(r.textPxLength=r.getBBox().width),s=P(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(s=Math.round(r.getBBox().width)),o.height=Math.max(e,o.height),o.width=Math.max(s,o.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,o.width+=this.options.labels.indentation*(t-1)),o}function x(){let t=this["grid"];(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function y(x){if(!0===(this.options.grid||{}).enabled){let{axisTitle:t,height:i,horiz:e,left:s,offset:r,opposite:n,options:o,top:h,width:a}=this,l=this.tickSize(),d=t&&t.getBBox().width,c=o.title.x,g=o.title.y,u=k(o.title.margin,e?5:10),f=t?this.chart.renderer.fontMetrics(t).f:0,p=l?l[0]/2:0,m=(e?h+i:s)+(e?1:-1)*(n?-1:1)*p+(this.side===b.bottom?f:0);x.titlePosition.x=e?s-(d||0)/2-u+c:m+(n?a:0)+r+c,x.titlePosition.y=e?m-(n?i:0)+(n?f:-f)/2+r+g:h-u+g}}function w(){var{chart:r,options:{grid:n={}},userOptions:o}=this;if(n.enabled){var i=this;let t=i.options;t.labels.align=k(t.labels.align,"center"),i.categories||(t.showLastLabel=!1),i.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1}if(n.columns){let e=this.grid.columns=[],s=this.grid.columnIndex=0;for(;++s<n.columns.length;){let t=c(o,n.columns[n.columns.length-s-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),i=(delete t.grid.columns,new h(this.chart,t,"yAxis"));i.grid.isColumn=!0,i.grid.columnIndex=s,a(r.axes,i),a(r[this.coll]||[],i),e.push(i)}}}function v(){let t=this.grid,n=this.options,i=n.grid||{};if(!0===i.enabled){var o=this.min||0,h=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var a=n.lineWidth;if(a){let t=this.getLinePath(a),i=t[0],e=t[1],s=(this.tickSize("tick")||[1])[0],r=(s-1)*(this.side===b.top||this.side===b.left?-1:1);"M"===i[0]&&"L"===e[0]&&(this.horiz?(i[2]+=r,e[2]+=r):(i[1]+=r,e[1]+=r)),!this.horiz&&this.chart.marginRight&&(a=["L",this.left,i[2]||0],a=[i,a],l=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(h+this.tickmarkOffset)],l=[["M",e[1]||0,this.toPixels(h+this.tickmarkOffset)],l],this.grid.upperBorder||o%1==0||(this.grid.upperBorder=this.grid.renderBorder(a)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:n.lineColor,"stroke-width":n.lineWidth}),this.grid.upperBorder.animate({d:a})),this.grid.lowerBorder||h%1==0||(this.grid.lowerBorder=this.grid.renderBorder(l)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:n.lineColor,"stroke-width":n.lineWidth}),this.grid.lowerBorder.animate({d:l}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:n.lineColor,"stroke-width":n.lineWidth}),this.grid.axisLineExtra.animate({d:t})):this.grid.axisLineExtra=this.grid.renderBorder(t),this.axisLine[this.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach(t=>t.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){let t,i;for(var a=this.tickmarkOffset,l=this.tickPositions[this.tickPositions.length-1],s=this.tickPositions[0];(t=this.hiddenLabels.pop())&&t.element;)t.show();for(;(i=this.hiddenMarks.pop())&&i.element;)i.show();(t=this.ticks[s].label)&&(a<o-s?this.hiddenLabels.push(t.hide()):t.show()),(t=this.ticks[l].label)&&(a<l-h?this.hiddenLabels.push(t.hide()):t.show());let e=this.ticks[l].mark;e&&l-h<a&&0<l-h&&this.ticks[l].isLast&&this.hiddenMarks.push(e.hide())}}}function L(){let t=this.tickPositions&&this.tickPositions.info,i=this.options,e=i.grid||{},s=this.userOptions.labels||{};e.enabled&&(this.horiz?(this.series.forEach(t=>{t.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!n(s.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",n(s.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function B(t){let l,i=this.options,e=t.userOptions,s=i&&p(i.grid)?i.grid:{};!0===s.enabled&&(l=c(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(n(e.linkedTo)&&!n(e.tickPixelInterval)&&(l.tickPixelInterval=350),n(e.tickPixelInterval)||!n(e.linkedTo)||n(e.tickPositioner)||n(e.tickInterval)||(l.tickPositioner=function(r,n){var o=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(o){let i=l.units||[],e,t=1,s="year";for(let t=0;t<i.length;t++){var h=i[t];if(h&&h[0]===o.unitName){e=t;break}}var a=P(e)&&i[e+1],a=(a?(s=a[0]||"year",a=a[1],t=a&&a[0]||1):"year"===o.unitName&&(t=10*o.count),g[s]);return this.tickInterval=a*t,this.chart.time.getTimeTicks({unitRange:a,count:t,unitName:s},r,n,this.options.startOfWeek)}})),c(!0,this.options,l),this.horiz&&(i.minPadding=k(e.minPadding,0),i.maxPadding=k(e.maxPadding,0)),P(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=s.borderWidth))}function O(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&c(!0,this.options,i[i.length-1])}function M(){(this.grid.columns||[]).forEach(t=>t.setScale())}function S(t){var i,{horiz:e,maxLabelDimensions:s,options:{grid:r={}}}=this;r.enabled&&s&&(i=2*this.options.labels.distance,e=e?r.cellHeight||i+s.height:i+s.width,o(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function T(){this.axes.forEach(t=>{(t.grid&&t.grid.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function A(i){let t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(i.keepEvents)),t.columns=void 0}function C(t){let i=t.userOptions||{},e=i.grid||{};e.enabled&&n(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),this.grid||(this.grid=new D(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function E(r){let n=this.label,o=this.axis,h=o.reversed,a=o.chart,t=o.options,i=t.grid||{},l=o.options.labels,d=l.align,c=b[o.side],e=r.tickmarkOffset,s=o.tickPositions,g=this.pos-e,u=P(s[r.index+1])?s[r.index+1]-e:(o.max||0)+e,f=o.tickSize("tick"),p=f?f[0]:0,m=f?f[1]/2:0;if(!0===i.enabled){let t,i,e,s;var x,k;"top"===c?i=(t=o.top+o.offset)-p:"bottom"===c?t=(i=a.chartHeight-o.bottom+o.offset)+p:(t=o.top+o.len-(o.translate(h?u:g)||0),i=o.top+o.len-(o.translate(h?g:u)||0)),"right"===c?s=(e=a.chartWidth-o.right+o.offset)+p:"left"===c?e=(s=o.left+o.offset)-p:(e=Math.round(o.left+(o.translate(h?u:g)||0))-m,s=Math.min(Math.round(o.left+(o.translate(h?g:u)||0))-m,o.left+o.len)),this.slotWidth=s-e,r.pos.x="left"===d?e:"right"===d?s:e+(s-e)/2,r.pos.y=i+(t-i)/2,n&&(x=a.renderer.fontMetrics(n),k=n.getBBox().height,l.useHTML?r.pos.y+=x.b+-k/2:(k=Math.round(k/x.h),r.pos.y+=(x.b-(x.h-x.f))/2+-((k-1)*x.h)/2)),r.pos.x+=o.horiz&&l.x||0}}function W(o){let{axis:h,value:a}=o;if(h.options.grid&&h.options.grid.enabled){let t,i=h.tickPositions,e=(h.linkedParent||h).series[0],s=a===i[0],r=a===i[i.length-1],n=e&&d(e.options.data,function(t){return t[h.isXAxis?"x":"y"]===a});n&&e.is("gantt")&&(t=c(n),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t)),o.isFirst=s,o.isLast=r,o.point=t}}function z(){let t=this.options,i=t.grid||{},e=this.categories,s=this.tickPositions,r=s[0],n=s[s.length-1],o=this.linkedParent&&this.linkedParent.min,h=this.linkedParent&&this.linkedParent.max,a=o||this.min,l=h||this.max,d=this.tickInterval;!0!==i.enabled||e||!this.horiz&&!this.isLinked||(r<a&&a<r+d&&!t.startOnTick&&(s[0]=a),l<n&&n-d<l&&!t.endOnTick&&(s[s.length-1]=l))}function I(t){var{options:{grid:i={}}}=this;return!0===i.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}class D{constructor(t){this.axis=t}isOuterAxis(){let e=this.axis,t=e.chart,i=e.grid.columnIndex,s=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,r=i?e.linkedParent:e,n=-1,o=0;return(t[e.coll]||[]).forEach((t,i)=>{t.side!==e.side||t.options.isInternal||(o=i,t===r&&(n=i))}),o===n&&(!P(i)||s.length===i)}renderBorder(t){let i=this.axis,e=i.chart.renderer,s=i.options,r=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||r.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),r}}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){let i=this,e=new this.Date(t),s=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)}),(this.get("Day",e)+6)%7),r=new this.Date(e.valueOf()),n=(this.set("Date",r,this.get("Date",e)-s+3),new this.Date(this.get("FullYear",r),0,1));return 4!==this.get("Day",n)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",n))%7)),(1+Math.floor((r.valueOf()-n.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return s.pushUnique(f,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=m,u(t.prototype,"unsquish",I),r(t,"init",C),r(t,"afterGetOffset",x),r(t,"afterGetTitlePosition",y),r(t,"afterInit",w),r(t,"afterRender",v),r(t,"afterSetAxisTranslation",L),r(t,"afterSetOptions",B),r(t,"afterSetOptions",O),r(t,"afterSetScale",M),r(t,"afterTickSize",S),r(t,"trimTicks",z),r(t,"destroy",A)),s.pushUnique(f,i)&&r(i,"afterSetChartSize",T),s.pushUnique(f,e)&&(r(e,"afterGetLabelPosition",E),r(e,"labelFormat",W)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});