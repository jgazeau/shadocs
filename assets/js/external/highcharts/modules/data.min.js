!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){let a=e["doc"],{createElement:i,discardElement:o,merge:n,objectEach:l}=t,s={ajax:function(s){let e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},r=new XMLHttpRequest;function t(e,t){s.error&&s.error(e,t)}if(!s.url)return!1;r.open((s.type||"get").toUpperCase(),s.url,!0),s.headers&&s.headers["Content-Type"]||r.setRequestHeader("Content-Type",e[s.dataType||"json"]||e.text),l(s.headers,function(e,t){r.setRequestHeader(t,e)}),s.responseType&&(r.responseType=s.responseType),r.onreadystatechange=function(){let e;if(4===r.readyState){if(200===r.status){if("blob"!==s.responseType&&(e=r.responseText,"json"===s.dataType))try{e=JSON.parse(e)}catch(e){if(e instanceof Error)return t(r,e)}return s.success&&s.success(e,r)}t(r,r.responseText)}},s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),r.send(s.data)},getJSON:function(e,t){s.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,s){let r=i("form",n({method:"post",action:e,enctype:"multipart/form-data"},s),{display:"none"},a.body);l(t,function(e,t){i("input",{type:"hidden",name:t,value:e},void 0,r)}),r.submit(),o(r)}};return s}),t(e,"Extensions/Data.js",[e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s,r,o,a,i){let n=t["getOptions"],u=s["doc"],m=r["ajax"],f=a["seriesTypes"],{addEvent:l,defined:v,extend:d,fireEvent:x,isNumber:T,merge:c,objectEach:g,pick:C,splat:R}=i;function p(e){return!(!e||!(e.rowsURL||e.csvURL||e.columnsURL))}class h{static data(e,t={},s){return new h(e,t,s)}static rowsToColumns(e){let t,s,r,a,i;if(e)for(t=0,i=[],s=e.length;t<s;t++)for(r=0,a=e[t].length;r<a;r++)i[r]||(i[r]=[]),i[r][t]=e[t][r];return i}constructor(e,t={},s){this.rowsToColumns=h.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){if(!e)return NaN;let t=new Date,s=+e[3];return s>t.getFullYear()-2e3?s+=1900:s+=2e3,Date.UTC(s,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,e[1]-1,+e[2]):NaN}}},this.chart=s,this.chartOptions=t,this.options=e,this.rawColumns=[],this.init(e,t,s)}init(e,t,s){let r=e.decimalPoint,a;t&&(this.chartOptions=t),s&&(this.chart=s),"."!==r&&","!==r&&(r=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=C(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=r&&RegExp("^(-?[0-9]+)"+r+"([0-9]+)$"),void 0!==this.liveDataTimeout&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),a=!p(e)),!(a=(a=(a=(a=a||this.fetchLiveData())||!!this.parseCSV().length)||!!this.parseTable().length)||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete()}getColumnDistribution(){function n(e){return(f[e||"line"].prototype.pointArrayMap||[0]).length}function l(e){return f[e||"line"].prototype.pointArrayMap}let u=this.chartOptions,e=this.options,t=[],d=u&&u.chart&&u.chart.type,h=[],m=[],s=e&&e.seriesMapping||u&&u.series&&u.series.map(function(){return{x:0}})||[],c=0,p,r=((u&&u.series||[]).forEach(e=>{h.push(n(e.type||d))}),s.forEach(e=>{t.push(e.x||0)}),0===t.length&&t.push(0),s.forEach(e=>{let s=new y,t=h[c]||n(d),r=u&&u.series||[],a=r[c]||{},i=l(a.type||d),o=i||["y"];for(!v(e.x)&&!a.isCartesian&&i||s.addColumnReader(e.x,"x"),g(e,function(e,t){"x"!==t&&s.addColumnReader(e,t)}),p=0;p<t;p++)s.hasReader(o[p])||s.addColumnReader(void 0,o[p]);m.push(s),c++}),l(d));void 0===r&&(r=["y"]),this.valueCount={global:n(d),xColumns:t,individual:h,seriesBuilders:m,globalPointArrayMap:r}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()}parseCSV(e){let h=this,m=this.columns=[],c=e||this.options,p=void 0!==c.startColumn&&c.startColumn?c.startColumn:0,f=c.endColumn||Number.MAX_VALUE,g=[],u={",":0,";":0,"\t":0},t=c.csv,s=void 0!==c.startRow&&c.startRow?c.startRow:0,r=c.endRow||Number.MAX_VALUE,C,a,i=0;if(t=t&&c.beforeParse?c.beforeParse.call(this,t):t){if(a=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),(!s||s<0)&&(s=0),(!r||r>=a.length)&&(r=a.length-1),c.itemDelimiter)C=c.itemDelimiter;else{let n,l,e;C=null,n=0,l=0,e=!1,a.some(function(t,e){let s=!1,r,a,i,o="";if(13<e)return!0;for(let e=0;e<t.length;e++){if(r=t[e],a=t[e+1],i=t[e-1],"#"===r)return;if('"'===r)if(s){if('"'!==i&&'"'!==a){for(;" "===a&&e<t.length;)a=t[++e];void 0!==u[a]&&u[a]++,s=!1}}else s=!0;else void 0!==u[r]?(isNaN(Date.parse(o=o.trim()))&&!isNaN(o)&&isFinite(o)||u[r]++,o=""):o+=r;","===r&&l++,"."===r&&n++}}),e=u[";"]>u[","]?";":(u[","],u[";"],","),c.decimalPoint||(n>l?c.decimalPoint=".":c.decimalPoint=",",h.decimalRegex=RegExp("^(-?[0-9]+)"+c.decimalPoint+"([0-9]+)$")),C=e}let e=0;for(i=s;i<=r;i++)"#"===a[i][0]?e++:function(t,e){let s=0,r="",a="",i="",o="",n=0,l=0;function u(e){r=t[e],a=t[e-1],i=t[e+1]}function d(e){g.length<l+1&&g.push([e]),g[l][g[l].length-1]!==e&&g[l].push(e)}function h(){if(p>n||n>f)return++n,void(o="");!isNaN(parseFloat(o))&&isFinite(o)?(o=parseFloat(o),d("number")):isNaN(Date.parse(o))?d("string"):(o=o.replace(/\//g,"-"),d("date")),m.length<l+1&&m.push([]),m[l][e]=o,o="",++l,++n}if(t.trim().length&&"#"!==t.trim()[0]){for(;s<t.length;s++)if(u(s),'"'===r)for(u(++s);s<t.length&&('"'!==r||'"'===a||'"'===i);)('"'!==r||'"'===r&&'"'!==a)&&(o+=r),u(++s);else r===C?h():o+=r;h()}}(a[i],i-s-e);c.columnTypes&&0!==c.columnTypes.length||!g.length||!g[0].length||"date"!==g[0][1]||c.dateFormat||(c.dateFormat=function(e,t){let s="YYYY/mm/dd",r=[],a=[],i,o=[],n,l=0,u=!1,d;for((!t||t>e.length)&&(t=e.length);l<t;l++)if(void 0!==e[l]&&e[l]&&e[l].length)for(d=0,i=e[l].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),o=["","",""];d<i.length;d++)d<o.length&&(i[d]=parseInt(i[d],10),i[d]&&(a[d]=(!a[d]||a[d]<i[d]?i:a)[d],void 0!==r[d]?r[d]!==i[d]&&(r[d]=!1):r[d]=i[d],31<i[d]?i[d]<100?o[d]="YY":o[d]="YYYY":12<i[d]&&i[d]<=31?(o[d]="dd",u=!0):o[d].length||(o[d]="mm")));if(u){for(d=0;d<r.length;d++)!1!==r[d]?12<a[d]&&"YY"!==o[d]&&"YYYY"!==o[d]&&(o[d]="YY"):12<a[d]&&"mm"===o[d]&&(o[d]="dd");return 3===o.length&&"dd"===o[1]&&"dd"===o[2]&&(o[2]="YY"),n=o.join("/"),(c.dateFormats||h.dateFormats)[n]?n:(x("deduceDateFailed"),s)}return s}(m[0])),this.dataFound()}return m}parseTable(){let t=this.options,i=this.columns||[],o=t.startRow||0,s=t.endRow||Number.MAX_VALUE,n=t.startColumn||0,l=t.endColumn||Number.MAX_VALUE;if(t.table){let e=t.table;"string"==typeof e&&(e=u.getElementById(e)),[].forEach.call(e.getElementsByTagName("tr"),(e,a)=>{a>=o&&a<=s&&[].forEach.call(e.children,(e,t)=>{let s=i[t-n],r=1;if(("TD"===e.tagName||"TH"===e.tagName)&&t>=n&&t<=l)for(i[t-n]||(i[t-n]=[]),i[t-n][a-o]=e.innerHTML;a-o>=r&&void 0===s[a-o-r];)s[a-o-r]=null,r++})}),this.dataFound()}return i}fetchLiveData(){let o=this,n=this.chart,l=this.options,u=l.enablePolling,t=c(l),d=0,h=1e3*(l.dataRefreshRate||2);return!!p(l)&&(h<1e3&&(h=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function a(i){function e(e,t,s){return e&&/^(http|\/|\.\/|\.\.\/)/.test(e)?(i&&(clearTimeout(o.liveDataTimeout),n.liveDataURL=e),m({url:e,dataType:s||"json",success:function(e){n&&n.series&&t(e),r()},error:function(e,t){return++d<3&&r(),l.error&&l.error(t,e)}}),1):(e&&l.error&&l.error("Invalid URL"),0);function r(){u&&n.liveDataURL===e&&(o.liveDataTimeout=setTimeout(a,h))}}e(t.csvURL,function(e){n.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){n.update({data:{rows:e}})})||e(t.columnsURL,function(e){n.update({data:{columns:e}})})}(!0),p(l))}parseGoogleSpreadsheet(){let r=this,a=this.options,i=a.googleSpreadsheetKey,o=this.chart,n=Math.max(1e3*(a.dataRefreshRate||2),4e3);return i&&(delete a.googleSpreadsheetKey,function t(s){var e=["https://sheets.googleapis.com/v4/spreadsheets",i,"values",(()=>{if(a.googleSpreadsheetRange)return a.googleSpreadsheetRange;let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=(e.charAt(a.startColumn||0)||"A")+((a.startRow||0)+1),s=e.charAt(C(a.endColumn,-1))||"ZZ";return v(a.endRow)&&(s+=a.endRow+1),t+":"+s})(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+a.googleAPIKey].join("/");m({url:e,dataType:"json",success:function(e){s(e),a.enablePolling&&(r.liveDataTimeout=setTimeout(function(){t(s)},n))},error:function(e,t){return a.error&&a.error(t,e)}})}(function(e){let t=e.values;if(!t||0===t.length)return!1;let s=t.reduce((e,t)=>Math.max(e,t.length),0);t.forEach(t=>{for(let e=0;e<s;e++)void 0===t[e]&&(t[e]=null)}),o&&o.series?o.update({data:{columns:t}}):(r.columns=t,r.dataFound())})),!1}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^-?[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e}parseTypes(){let e=this.columns||[],t=e.length;for(;t--;)this.parseColumn(e[t],t)}parseColumn(e,t){let s=this.rawColumns,r=this.columns,a=this.firstRowAsNames,i=-1!==this.valueCount.xColumns.indexOf(t),o=[],n=this.chartOptions,l=this.options.columnTypes||[],u=l[t],d=i&&(n&&n.xAxis&&"category"===R(n.xAxis)[0].type||"string"===u),h=v(e.name),m=e.length,c,p,f,g,C,x,y;for(s[t]||(s[t]=[]);m--;)c=o[m]||e[m],f=this.trim(c),p=parseFloat(g=this.trim(c,!0)),void 0===s[t][m]&&(s[t][m]=f),d||0===m&&a&&!h?e[m]=""+f:+g===p?(31536e6<(e[m]=p)&&"float"!==u?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[m+1]&&(y=p>e[m+1])):(f&&f.length&&(C=this.parseDate(c)),i&&T(C)&&"float"!==u?(o[m]=c,e[m]=C,e.isDatetime=!0,void 0!==e[m+1]&&((x=C>e[m+1])!==y&&void 0!==y&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,m=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),y=x)):(e[m]=""===f?null:f,0!==m&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)));if(i&&e.mixed&&(r[t]=s[t]),i&&y&&this.options.sort)for(t=0;t<r.length;t++)r[t].reverse(),a&&r[t].unshift(r[t].pop())}parseDate(e){let t=this.options.parseDate,s,r,a,i=this.options.dateFormat||this.dateFormat,o;if(t)s=t(e);else if("string"==typeof e){if(i)(a=this.dateFormats[i])||(a=this.dateFormats["YYYY/mm/dd"]),(o=e.match(a.regex))&&(s=a.parser(o));else for(r in this.dateFormats)if(a=this.dateFormats[r],o=e.match(a.regex)){this.dateFormat=i=r,this.alternativeFormat=a.alternative,s=a.parser(o);break}o||(e.match(/:.+(GMT|UTC|[Z+-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(o=Date.parse(e))&&null!==o&&o.getTime?s=o.getTime()-6e4*o.getTimezoneOffset():T(o)&&(s=o-6e4*new Date(o).getTimezoneOffset()))}return s}getData(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){let e,t,s,r,a,i,o,n,l,u,d,h,m=this.columns,c=this.options,p=[];if(m.length,c.complete||c.afterComplete){if(this.firstRowAsNames)for(r=0;r<m.length;r++){let e=m[r];v(e.name)||(e.name=C(e.shift(),"").toString())}for(o=0,t=[],u=function(e,t){let s,r,a,i=[],o=[];for(r=0;r<e;r+=1)i.push(!0);for(s=0;s<t.length;s+=1)for(r=0,a=t[s].getReferencedColumnIndexes();r<a.length;r+=1)i[a[r]]=!1;for(r=0;r<i.length;r+=1)i[r]&&o.push(r);return o}(m.length,this.valueCount.seriesBuilders);o<this.valueCount.seriesBuilders.length;o++)(l=this.valueCount.seriesBuilders[o]).populateColumns(u)&&p.push(l);for(;0<u.length;){for((l=new y).addColumnReader(0,"x"),-1!==(h=u.indexOf(0))&&u.splice(h,1),r=0;r<this.valueCount.global;r++)l.addColumnReader(void 0,this.valueCount.globalPointArrayMap[r]);l.populateColumns(u)&&p.push(l)}if(0<p.length&&0<p[0].readers.length&&void 0!==(d=m[p[0].readers[0].columnIndex])&&(d.isDatetime?e="datetime":d.isNumeric||(e="category")),"category"===e)for(o=0;o<p.length;o++)for(i=0,l=p[o];i<l.readers.length;i++)"x"===l.readers[i].configName&&(l.readers[i].configName="name");for(o=0;o<p.length;o++){for(a=0,l=p[o],s=[];a<m[0].length;a++)s[a]=l.read(m,a);t[o]={data:s},l.name&&(t[o].name=l.name),"category"===e&&(t[o].turboThreshold=0)}n={series:t},e&&(n.xAxis={type:e},"category"===e&&(n.xAxis.uniqueNames=!1)),c.complete&&c.complete(n),c.afterComplete&&c.afterComplete(n)}}update(e,t){let s=this.chart,r=s.options;e&&(e.afterComplete=function(e){e&&(e.xAxis&&s.xAxis[0]&&e.xAxis.type===s.xAxis[0].options.type&&delete e.xAxis,s.update(e,t,!0))},c(!0,r.data,e),r.data&&r.data.googleSpreadsheetKey&&!e.columns&&delete r.data.columns,this.init(r.data))}}l(e,"init",function(e){let r=this,a=e.args[1],t=n().data,i=e.args[0]||{};var s;(t||i&&i.data)&&!r.hasDataDef&&(r.hasDataDef=!0,s=c(t,i.data),r.data=new h(d(s,{afterComplete:function(e){let t,s;if(Object.hasOwnProperty.call(i,"series"))if("object"==typeof i.series)for(t=Math.max(i.series.length,e&&e.series?e.series.length:0);t--;)s=i.series[t]||{},i.series[t]=c(s,e&&e.series?e.series[t]:{});else delete i.series;i=c(e,i),r.init(i,a)}}),i,r),e.preventDefault())});class y{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(t){let s=!0;return this.readers.forEach(e=>{void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(e=>{void 0===e.columnIndex&&(s=!1)}),s}read(s,r){let a=this.pointIsArray,i=a?[]:{};if(this.readers.forEach(e=>{var t=s[e.columnIndex][r];a?i.push(t):0<e.configName.indexOf(".")?o.prototype.setNestedProperty(i,t,e.configName):i[e.configName]=t}),void 0===this.name&&2<=this.readers.length){let t=[];this.readers.forEach(function(e){"x"!==e.configName&&"name"!==e.configName&&"y"!==e.configName||void 0===e.columnIndex||t.push(e.columnIndex)}),2<=t.length&&(t.shift(),t.sort(function(e,t){return e-t})),this.name=s[C(t.shift(),0)].name}return i}addColumnReader(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)}getReferencedColumnIndexes(){let e,t,s=[];for(e=0;e<this.readers.length;e+=1)void 0!==(t=this.readers[e]).columnIndex&&s.push(t.columnIndex);return s}hasReader(e){let t;for(t=0;t<this.readers.length;t+=1)if(this.readers[t].configName===e)return!0}}return h}),t(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],function(e,t,s){e.ajax=t.ajax,e.data=s.data,e.getJSON=t.getJSON,e.post=t.post,e.Data=s,e.HttpUtilities=t})});