!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.SVGRenderer,t._Highcharts.Point,t._Highcharts.Color,t._Highcharts.SVGElement):"function"==typeof define&&define.amd?define("highcharts/modules/treegraph",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.SVGRenderer,t.Point,t.Color,t.SVGElement)}):"object"==typeof exports?exports["highcharts/modules/treegraph"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.SVGRenderer,t._Highcharts.Point,t._Highcharts.Color,t._Highcharts.SVGElement):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.SVGRenderer,t.Highcharts.Point,t.Highcharts.Color,t.Highcharts.SVGElement)}("undefined"==typeof window?this:window,(it,st,ot,rt,at,lt)=>(()=>{"use strict";var i={28:t=>{t.exports=lt},260:t=>{t.exports=rt},512:t=>{t.exports=st},540:t=>{t.exports=ot},620:t=>{t.exports=at},944:t=>{t.exports=it}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;e=s[t]={exports:{}};return i[t](e,e.exports,o),e.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(o.d(t,{default:()=>et}),o(944)),e=o.n(e);function h(e,i){let s=[];for(let t=0;t<e.length;t++){var o,r,a,l,n,h,d=e[t][1],p=e[t][2];"number"==typeof d&&"number"==typeof p&&(0===t?s.push(["M",d,p]):t!==e.length-1&&i?(r=e[t-1],l=e[t+1],r&&l&&(o=r[1],r=r[2],a=l[1],l=l[2],"number"==typeof o&&"number"==typeof a&&"number"==typeof r&&"number"==typeof l&&o!==a&&r!==l&&(n=o<a?1:-1,h=r<l?1:-1,s.push(["L",d-n*Math.min(Math.abs(d-o),i),p-h*Math.min(Math.abs(p-r),i)],["C",d,p,d,p,d+n*Math.min(Math.abs(d-a),i),p+h*Math.min(Math.abs(p-l),i)])))):s.push(["L",d,p]))}return s}var r=o(512),r=o.n(r),a=o(540),a=o.n(a);let{prototype:{NodeClass:l}}=r()["seriesTypes"]["treemap"],n=class extends l{constructor(){super(...arguments),this.mod=0,this.shift=0,this.change=0,this.children=[],this.preX=0,this.hidden=!1,this.wasVisited=!1,this.collapsed=!1}nextLeft(){return this.getLeftMostChild()||this.thread}nextRight(){return this.getRightMostChild()||this.thread}getAncestor(t,e){return t.ancestor.children[0]===this.children[0]?t.ancestor:e}getLeftMostSibling(){var t=this.getParent();if(t)for(var e of t.children)if(e&&e.point.visible)return e}hasChildren(){var e=this.children;for(let t=0;t<e.length;t++)if(e[t].point.visible)return!0;return!1}getLeftSibling(){var t=this.getParent();if(t){var e=t.children;for(let t=this.relativeXPosition-1;0<=t;t--)if(e[t]&&e[t].point.visible)return e[t]}}getLeftMostChild(){var e=this.children;for(let t=0;t<e.length;t++)if(e[t].point.visible)return e[t]}getRightMostChild(){var e=this.children;for(let t=e.length-1;0<=t;t--)if(e[t].point.visible)return e[t]}getParent(){return this.parentNode}getFirstChild(){var e=this.children;for(let t=0;t<e.length;t++)if(e[t].point.visible)return e[t]}};var d=o(260),p=o.n(d);let{prototype:{pointClass:c}}=r()["seriesTypes"]["treemap"],{addEvent:u,fireEvent:f,merge:g}=e();class v extends c{constructor(){super(...arguments),this.dataLabelOnHidden=!0,this.isLink=!1,this.setState=p().prototype.setState}draw(){super.draw.apply(this,arguments);let t=this.graphic;t&&t.animate({visibility:this.visible?"inherit":"hidden"}),this.renderCollapseButton()}renderCollapseButton(){let t=this.series,e=this.graphic&&this.graphic.parentGroup,i=t.mapOptionsToLevel[this.node.level||0]||{},s=g(t.options.collapseButton,i.collapseButton,this.options.collapseButton),{width:o,height:r,shape:a,style:l}=s,n=this.series.chart,h=!this.visible||!this.collapsed&&s.onlyOnHover&&"hover"!==this.state?0:1;var d,p,c;this.shapeArgs&&(this.collapseButtonOptions=s,this.collapseButton?this.node.children.length&&s.enabled?({x:d,y:p}=this.getCollapseBtnPosition(s),this.collapseButton.attr({text:this.collapsed?"+":"-",rotation:90*!!n.inverted,rotationOriginX:o/2,rotationOriginY:r/2,visibility:this.visible?"inherit":"hidden"}).animate({x:d,y:p,opacity:h})):(this.collapseButton.destroy(),delete this.collapseButton):this.node.children.length&&s.enabled&&({x:d,y:p}=this.getCollapseBtnPosition(s),c=s.fillColor||this.color||"#cccccc",this.collapseButton=n.renderer.label(this.collapsed?"+":"-",d,p,a).attr({height:r-4,width:o-4,padding:2,fill:c,rotation:90*!!n.inverted,rotationOriginX:o/2,rotationOriginY:r/2,stroke:s.lineColor||"#ffffff","stroke-width":s.lineWidth,"text-align":"center",align:"center",zIndex:1,opacity:h,visibility:this.visible?"inherit":"hidden"}).addClass("highcharts-tracker").addClass("highcharts-collapse-button").removeClass("highcharts-no-tooltip").css(g({color:"string"==typeof c?n.renderer.getContrast(c):"#333333"},l)).add(e),this.collapseButton.element.point=this))}toggleCollapse(t){let e=this.series;this.update({collapsed:t??!this.collapsed},!1,void 0,!1),f(e,"toggleCollapse"),e.redraw()}destroy(){this.collapseButton&&(this.collapseButton.destroy(),delete this.collapseButton,this.collapseButton=void 0),this.linkToParent&&(this.linkToParent.destroy(),delete this.linkToParent),super.destroy.apply(this,arguments)}getCollapseBtnPosition(t){var e=this.series.chart.inverted,i=t.width,s=t.height,{x:o=0,y:r=0,width:a=0,height:l=0}=this.shapeArgs||{};return{x:o+t.x+(e?-.3*s:a+-.3*i),y:r+l/2-s/2+t.y}}}u(v,"mouseOut",function(){let t=this.collapseButton,e=this.collapseButtonOptions;t&&e?.onlyOnHover&&!this.collapsed&&t.animate({opacity:0})}),u(v,"mouseOver",function(){this.collapseButton&&this.visible&&this.collapseButton.animate({opacity:1},this.series.options.states?.hover?.animation)}),u(v,"click",function(){this.toggleCollapse()});var d=o(620),W=o.n(d);let{extend:y,isArray:I,isNumber:b,isObject:x,merge:m,pick:L,relativeLength:V}=e(),k={getColor:function(t,e){let i,s,o,r,a,l,n=e.index,h=e.mapOptionsToLevel,d=e.parentColor,p=e.parentColorIndex,c=e.series,u=e.colors,f=e.siblings,g=c.points,v=c.chart.options.chart;return t&&(i=g[t.i],s=h[t.level]||{},i&&s.colorByPoint&&(r=i.index%(u?u.length:v.colorCount),o=u&&u[r]),c.chart.styledMode||(a=L(i&&i.options.color,s&&s.color,o,d&&(t=d,(y=s&&s.colorVariation)&&"brightness"===y.key&&n&&f?W().parse(t).brighten(y.to*(n/f)).get():t),c.color)),l=L(i&&i.options.colorIndex,s&&s.colorIndex,r,p,e.colorIndex)),{color:a,colorIndex:l};var y},getLevelOptions:function(t){let r,e,i,a,s,o,l={};if(x(t))for(a=b(t.from)?t.from:1,o=t.levels,e={},r=x(t.defaults)?t.defaults:{},I(o)&&(e=o.reduce((t,e)=>{let i,s,o;return x(e)&&b(e.level)&&(s=L((o=m({},e)).levelIsConstant,r.levelIsConstant),delete o.levelIsConstant,delete o.level,x(t[i=e.level+(s?0:a-1)])?m(!0,t[i],o):t[i]=o),t},{})),s=b(t.to)?t.to:1,i=0;i<=s;i++)l[i]=m({},r,x(e[i])?e[i]:{});return l},getNodeWidth:function(t,e){var{chart:t,options:i}=t,{nodeDistance:i=0,nodeWidth:s=0}=i,{plotSizeX:t=1}=t;if("auto"!==s)return V(s,t);if("string"==typeof i&&/%$/.test(i))return t/(e+parseFloat(i)/100*(e-1));s=Number(i);return(t+s)/(e||1)-s},setTreeValues:function s(o,r){let t=r.before,e=r.idRoot,i=r.mapIdToNode[e],a=!1!==r.levelIsConstant,l=r.points[o.i],n=l&&l.options||{},h=[],d=0;o.levelDynamic=o.level-(a?0:i.level),o.name=L(l&&l.name,""),o.visible=e===o.id||!0===r.visible,(o="function"==typeof t?t(o,r):o).children.forEach((t,e)=>{var i=y({},r);y(i,{index:e,siblings:o.children.length,visible:o.visible}),t=s(t,i),h.push(t),t.visible&&(d+=t.val)});var p=L(n.value,d);return o.visible=0<=p&&(0<d||o.visible),o.children=h,o.childrenTotal=d,o.isLeaf=o.visible&&!d,o.val=p,o},updateRootId:function(t){let e,i;return x(t)&&(i=x(t.options)?t.options:{},e=L(t.rootNode,i.rootId,""),x(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}},{pick:E,extend:D}=e(),{prototype:{pointClass:_}}=r()["seriesTypes"]["column"],z=class extends _{constructor(t,e,i,s){super(t,e,i),this.dataLabelOnNull=!0,this.formatPrefix="link",this.isLink=!0,this.node={},this.formatPrefix="link",this.dataLabelOnNull=!0,s&&(this.fromNode=s.node.parentNode.point,this.visible=s.visible,this.toNode=s,this.id=this.toNode.id+"-"+this.fromNode.id)}update(t,e,i,s){var o={id:this.id,formatPrefix:this.formatPrefix};p().prototype.update.call(this,t,!this.isLink&&e,i,s),this.visible=this.toNode.visible,D(this,o),E(e,!0)&&this.series.chart.redraw(i)}};class P{static createDummyNode(t,e,i){let s=new n;return s.id=t.id+"-"+i,s.ancestor=t,s.children.push(e),s.parent=t.id,s.parentNode=t,s.point=e.point,s.level=e.level-i,s.relativeXPosition=e.relativeXPosition,s.visible=e.visible,t.children[e.relativeXPosition]=s,e.oldParentNode=t,e.relativeXPosition=0,e.parentNode=s,e.parent=s.id,s}calculatePositions(t){var e=t.nodeList,t=(this.resetValues(e),t.tree);t&&(this.calculateRelativeX(t,0),this.beforeLayout(e),this.firstWalk(t),this.secondWalk(t,-t.preX),this.afterLayout(e))}beforeLayout(t){for(var e of t)for(var i of e.children)if(i&&1<i.level-e.level){let t=i.level-e.level-1;for(;0<t;)i=P.createDummyNode(e,i,t),t--}}resetValues(t){for(var e of t)e.mod=0,e.ancestor=e,e.shift=0,e.thread=void 0,e.change=0,e.preX=0}calculateRelativeX(t,e){var i=t.children;for(let t=0,e=i.length;t<e;++t)this.calculateRelativeX(i[t],t);t.relativeXPosition=e}firstWalk(e){let i;if(e.hasChildren()){let t=e.getLeftMostChild();for(var s of e.children)this.firstWalk(s),t=this.apportion(s,t);this.executeShifts(e);var o=e.getLeftMostChild(),r=e.getRightMostChild(),o=(o.preX+r.preX)/2;(i=e.getLeftSibling())?(e.preX=i.preX+1,e.mod=e.preX-o):e.preX=o}else(i=e.getLeftSibling())?(e.preX=i.preX+1,e.mod=e.preX):e.preX=0}secondWalk(t,e){for(var i of(t.yPosition=t.preX+e,t.xPosition=t.level,t.children))this.secondWalk(i,e+t.mod)}executeShifts(i){let s=0,o=0;for(let e=i.children.length-1;0<=e;e--){let t=i.children[e];t.preX+=s,t.mod+=s,o+=t.change,s+=t.shift+o}}apportion(n,h){var d=n.getLeftSibling();if(d){let t=n,e=n,i=d,s=t.getLeftMostSibling(),o=t.mod,r=e.mod,a=i.mod,l=s.mod;for(;i&&i.nextRight()&&t&&t.nextLeft();){i=i.nextRight(),s=s.nextLeft(),t=t.nextLeft(),(e=e.nextRight()).ancestor=n;var p=i.preX+a-(t.preX+o)+1;0<p&&(this.moveSubtree(n.getAncestor(i,h),n,p),o+=p,r+=p),a+=i.mod,o+=t.mod,l+=s.mod,r+=e.mod}i&&i.nextRight()&&!e.nextRight()&&(e.thread=i.nextRight(),e.mod+=a-r),t&&t.nextLeft()&&!s.nextLeft()&&(s.thread=t.nextLeft(),s.mod+=o-l),h=n}return h}moveSubtree(t,e,i){var s=e.relativeXPosition-t.relativeXPosition;e.change-=i/s,e.shift+=i,e.preX+=i,e.mod+=i,t.change+=i/s}afterLayout(t){for(var e of t)e.oldParentNode&&(e.relativeXPosition=e.parentNode.relativeXPosition,e.parent=e.oldParentNode.parent,e.parentNode=e.oldParentNode,delete e.oldParentNode.children[e.relativeXPosition],e.oldParentNode.children[e.relativeXPosition]=e,e.oldParentNode=void 0)}}d=o(28),d=o.n(d);let Y=e()["deg2rad"],{addEvent:C,merge:G,uniqueKey:F,defined:T,extend:j}=e();function q(o,t){t=G(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t);let r=this.renderer.url,a=this.text||this,e=a.textPath,{attributes:l,enabled:n}=t;return o=o||e&&e.path,e&&e.undo(),o&&n?(t=C(a,"afterModifyTree",i=>{if(o&&n){let t=o.attr("id"),e=(t||o.attr("id",t=F()),{x:0,y:0});T(l.dx)&&(e.dx=l.dx,delete l.dx),T(l.dy)&&(e.dy=l.dy,delete l.dy),a.attr(e),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());var s=i.nodes.slice(0);i.nodes.length=0,i.nodes[0]={tagName:"textPath",attributes:j(l,{"text-anchor":l.textAnchor,href:r+"#"+t}),children:s}}}),a.textPath={path:o,undo:t}):(a.attr({dx:0,dy:0}),delete a.textPath),this.added&&(a.textCache="",this.renderer.buildText(a)),this}function $(h){let i=h.bBox,d=this.element?.querySelector("textPath");if(d){let s=[],{b:o,h:t}=this.renderer.fontMetrics(this.element),r=t-o,e=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),a=d.innerHTML.replace(e,"").split(/<tspan class="highcharts-br"[^>]*>/),l=a.length,n=(t,e)=>{var{x:e,y:i}=e,t=(d.getRotationOfChar(t)-90)*Y,s=Math.cos(t),t=Math.sin(t);return[[e-r*s,i-r*t],[e+o*s,i+o*t]]};for(let e=0,i=0;i<l;i++){var p=a[i].length;for(let t=0;t<p;t+=5)try{var c=e+t+i,[u,f]=n(c,d.getStartPositionOfChar(c));0===t?(s.push(f),s.push(u)):(0===i&&s.unshift(f),i===l-1&&s.push(u))}catch(h){break}e+=p-1;try{var g=e+i,v=d.getEndPositionOfChar(g),[y,b]=n(g,v);s.unshift(b),s.unshift(y)}catch(h){break}}s.length&&s.push(s[0].slice()),i.polygon=s}return i}function K(t){let e=t.labelOptions,i=t.point,s=e[i.formatPrefix+"TextPath"]||e.textPath;s&&!e.useHTML&&(this.setTextPath(i.getDataLabelPath?.(this)||i.graphic,s),i.dataLabelPath&&!s.enabled&&(i.dataLabelPath=i.dataLabelPath.destroy()))}let U={getLinkPath:{default:function(t){var{x1:t,y1:e,x2:i,y2:s,width:o=0,inverted:r=!1,radius:a,parentVisible:l}=t,n=[["M",t,e],["L",t,e],["C",t,e,t,s,t,s],["L",t,s],["C",t,e,t,s,t,s],["L",t,s]];return l?h([["M",t,e],["L",t+o*(r?-.5:.5),e],["L",t+o*(r?-.5:.5),s],["L",i,s]],a):n},straight:function(t){var{x1:t,y1:e,x2:i,y2:s,width:o=0,inverted:r=!1,parentVisible:a}=t;return a?[["M",t,e],["L",t+o*(r?-1:1),s],["L",i,s]]:[["M",t,e],["L",t,s],["L",t,s]]},curved:function(t){var{x1:t,y1:e,x2:i,y2:s,offset:o=0,width:r=0,inverted:a=!1,parentVisible:l}=t;return l?[["M",t,e],["C",t+o,e,t-o+r*(a?-1:1),s,t+r*(a?-1:1),s],["L",i,s]]:[["M",t,e],["C",t,e,t,s,t,s],["L",i,s]]}}}["getLinkPath"],{series:{prototype:w},seriesTypes:{treemap:M,column:X}}=r(),J=a()["prototype"]["symbols"],{getLevelOptions:Q,getNodeWidth:Z}=k,{arrayMax:tt,crisp:N,extend:O,merge:S,pick:B,relativeLength:A,splat:R}=e();{a=d(),C(a,"afterGetBBox",$),C(a,"beforeAddingDataLabel",K);let t=a.prototype;t.setTextPath||(t.setTextPath=q)}class H extends M{constructor(){super(...arguments),this.nodeList=[],this.links=[]}init(){super.init.apply(this,arguments),this.layoutAlgorythm=new P;let i=this,t=this.chart.labelCollectors;t.some(t=>"collectorFunc"===t.name)||t.push(function(){let t=[];if(i.options.dataLabels&&!R(i.options.dataLabels)[0].allowOverlap)for(var e of i.links||[])e.dataLabel&&t.push(e.dataLabel);return t})}getLayoutModifiers(){let t=this.chart,h=this,d=t.plotSizeX,p=t.plotSizeY,c=tt(this.points.map(t=>t.node.xPosition)),u=1/0,f=-1/0,g=1/0,v=-1/0,y=0,b=0,x=0,m=0;this.points.forEach(n=>{if(!this.options.fillSpace||n.visible){let t=n.node,e=h.mapOptionsToLevel[n.node.level]||{},i=S(this.options.marker,e.marker,n.options.marker),s=i.width??Z(this,c),o=A(i.radius||0,Math.min(d,p)),r=i.symbol,a="circle"!==r&&i.height?A(i.height,p):2*o,l="circle"!==r&&s?A(s,d):2*o;t.nodeSizeX=l,t.nodeSizeY=a,t.xPosition<=u&&(u=t.xPosition,b=Math.max(l+(i.lineWidth||0),b)),t.xPosition>=f&&(f=t.xPosition,y=Math.max(l+(i.lineWidth||0),y)),t.yPosition<=g&&(g=t.yPosition,m=Math.max(a+(i.lineWidth||0),m)),t.yPosition>=v&&(v=t.yPosition,x=Math.max(a+(i.lineWidth||0),x))}});var e=v===g?1:(p-(m+x)/2)/(v-g),i=v===g?p/2:-e*g+m/2,s=f===u?1:(d-(y+y)/2)/(f-u);return{ax:s,bx:f===u?d/2:-s*u+b/2,ay:e,by:i}}getLinks(){let i=this,s=[];return this.data.forEach(t=>{var e=i.mapOptionsToLevel[t.node.level||0]||{};t.node.parent?(e=S(e,t.options),!t.linkToParent||t.linkToParent.destroyed?(e=new i.LinkClass(i,e,void 0,t),t.linkToParent=e):(t.collapsed=B(t.collapsed,(this.mapOptionsToLevel[t.node.level]||{}).collapsed),t.linkToParent.visible=t.linkToParent.toNode.visible),t.linkToParent.index=s.push(t.linkToParent)-1):t.linkToParent&&(i.links.splice(t.linkToParent.index),t.linkToParent.destroy(),delete t.linkToParent)}),s}buildTree(t,e,i,s,o){var r=this.points[e];return i=r&&r.level||i,super.buildTree.call(this,t,e,i,s,o)}markerAttribs(){return{}}setCollapsedStatus(t,e){let i=t.point;i&&(i.collapsed=B(i.collapsed,(this.mapOptionsToLevel[t.level]||{}).collapsed),e=!1!==(i.visible=e)&&!i.collapsed),t.children.forEach(t=>{this.setCollapsedStatus(t,e)})}drawTracker(){X.prototype.drawTracker.apply(this,arguments),X.prototype.drawTracker.call(this,this.links)}translate(){let t=this.options,e=k.updateRootId(this),i;w.translate.call(this);var s=this.tree=this.getTree();i=this.nodeMap[e],""===e||i&&i.children.length||(this.setRootNode("",!1),e=this.rootNode,i=this.nodeMap[e]),this.mapOptionsToLevel=Q({from:i.level+1,levels:t.levels,to:s.height,defaults:{levelIsConstant:this.options.levelIsConstant,colorByPoint:t.colorByPoint}}),this.setCollapsedStatus(s,!0),this.links=this.getLinks(),this.setTreeValues(s),this.layoutAlgorythm.calculatePositions(this),this.layoutModifier=this.getLayoutModifiers(),this.points.forEach(t=>{this.translateNode(t)}),this.points.forEach(t=>{t.linkToParent&&this.translateLink(t.linkToParent)}),t.colorByPoint||this.setColorRecursive(this.tree)}translateLink(a){var l=a.fromNode,n=a.toNode,h=this.options.link?.lineWidth||0,d=B(this.options.link?.curveFactor,.5),p=B(a.options.link?.type,this.options.link?.type,"default");if(l.shapeArgs&&n.shapeArgs){let t=l.shapeArgs.width||0,e=this.chart.inverted,i=N((l.shapeArgs.y||0)+(l.shapeArgs.height||0)/2,h),s=N((n.shapeArgs.y||0)+(n.shapeArgs.height||0)/2,h),o=N((l.shapeArgs.x||0)+t,h),r=N(n.shapeArgs.x||0,h);e&&(o-=t,r+=n.shapeArgs.width||0);l=n.node.xPosition-l.node.xPosition,l=(a.shapeType="path",(Math.abs(r-o)+t)/l-t);a.plotX=N((r+o)/2,h),a.plotY=s,a.shapeArgs={d:U[p]({x1:o,y1:i,x2:r,y2:s,width:l,offset:l*d*(e?-1:1),inverted:e,parentVisible:n.visible,radius:this.options.link?.radius})},a.dlBox={x:(o+r)/2,y:(i+s)/2,height:h,width:0},a.tooltipPos=e?[(this.chart.plotSizeY||0)-a.dlBox.y,(this.chart.plotSizeX||0)-a.dlBox.x]:[a.dlBox.x,a.dlBox.y]}}drawNodeLabels(t){let s,e,i=this.mapOptionsToLevel;for(var o of t){if(e=i[o.node.level],s={style:{}},e&&e.dataLabels&&(s=S(s,e.dataLabels),this.hasDataLabels=()=>!0),o.shapeArgs&&this.options.dataLabels){let t={},{width:e=0,height:i=0}=o.shapeArgs;this.chart.inverted&&([e,i]=[i,e]),R(this.options.dataLabels)[0].style?.width||(t.width=e+"px"),R(this.options.dataLabels)[0].style?.lineClamp||(t.lineClamp=Math.floor(i/16)),O(s.style,t),o.dataLabel?.css(t)}o.dlOptions=S(s,o.options.dataLabels)}w.drawDataLabels.call(this,t)}alignDataLabel(t,e){let i=t.visible;t.visible=!0,super.alignDataLabel.apply(this,arguments),e.animate({opacity:+(!1!==i)},void 0,function(){i||e.hide()}),t.visible=i}drawDataLabels(){this.options.dataLabels&&(this.options.dataLabels=R(this.options.dataLabels),this.drawNodeLabels(this.points),w.drawDataLabels.call(this,this.links))}destroy(){if(this.links){for(var t of this.links)t.destroy();this.links.length=0}return w.destroy.apply(this,arguments)}pointAttribs(t,e){var i=t&&this.mapOptionsToLevel[t.node.level||0]||{},s=t&&t.options,o=i.states&&i.states[e]||{};t&&(t.options.marker=S(this.options.marker,i.marker,t.options.marker));let r=B(o&&o.link&&o.link.color,s&&s.link&&s.link.color,i&&i.link&&i.link.color,this.options.link&&this.options.link.color),a=B(o&&o.link&&o.link.lineWidth,s&&s.link&&s.link.lineWidth,i&&i.link&&i.link.lineWidth,this.options.link&&this.options.link.lineWidth),l=w.pointAttribs.call(this,t,e);return t&&(t.isLink&&(l.stroke=r,l["stroke-width"]=a,delete l.fill),t.visible||(l.opacity=0)),l}drawPoints(){M.prototype.drawPoints.apply(this,arguments),X.prototype.drawPoints.call(this,this.links)}translateNode(t){let e=this.chart,i=t.node,s=e.plotSizeY,o=e.plotSizeX,{ax:r,bx:a,ay:l,by:n}=this.layoutModifier,h=r*i.xPosition+a,d=l*i.yPosition+n,p=this.mapOptionsToLevel[i.level]||{},c=S(this.options.marker,p.marker,t.options.marker).symbol,u=i.nodeSizeY,f=i.nodeSizeX,g=this.options.reversed,v=i.x=e.inverted?o-f/2-h:h-f/2,y=i.y=g?d-u/2:s-d-u/2,b=B(t.options.borderRadius,p.borderRadius,this.options.borderRadius),x=J[c||"circle"];var m,L,k,P,C;void 0===x?(t.hasImage=!0,t.shapeType="image",t.imageUrl=c.match(/^url\((.*?)\)$/)[1]):t.shapeType="path",!t.visible&&t.linkToParent?(m=t.linkToParent.fromNode)&&({x:L=0,y:k=0,width:P=0,height:C=0}=m.shapeArgs||{},t.shapeArgs||(t.shapeArgs={}),t.hasImage||O(t.shapeArgs,{d:x(L,k,P,C,b?{r:b}:void 0)}),O(t.shapeArgs,{x:L,y:k}),t.plotX=m.plotX,t.plotY=m.plotY):(t.plotX=v,t.plotY=y,t.shapeArgs={x:v,y:y,width:f,height:u,cursor:t.node.isLeaf?"default":"pointer"},t.hasImage||(t.shapeArgs.d=x(v,y,f,u,b?{r:b}:void 0))),t.tooltipPos=e.inverted?[s-y-u/2,o-v-f/2]:[v+f/2,y]}}H.defaultOptions=S(M.defaultOptions,{reversed:!1,marker:{radius:10,lineWidth:0,symbol:"circle",fillOpacity:1,states:{}},link:{color:"#666666",lineWidth:1,radius:10,cursor:"default",type:"curved"},collapseButton:{onlyOnHover:!0,enabled:!0,lineWidth:1,x:0,y:0,height:18,width:18,shape:"circle",style:{cursor:"pointer",fontWeight:"bold",fontSize:"1em"}},fillSpace:!1,tooltip:{linkFormat:"{point.fromNode.id} â†’ {point.toNode.id}",pointFormat:"{point.id}"},dataLabels:{defer:!0,linkTextPath:{attributes:{startOffset:"50%"}},enabled:!0,linkFormatter:()=>"",padding:5,style:{textOverflow:"none"}},nodeDistance:30,nodeWidth:void 0}),O(H.prototype,{forceDL:!0,pointClass:v,NodeClass:n,LinkClass:z,isCartesian:!1}),r().registerSeriesType("treegraph",H);let et=e();return t.default})());