!function(n){"object"==typeof module&&module.exports?module.exports=n.default=n:"function"==typeof define&&define.amd?define("highcharts/modules/pathfinder",["highcharts"],function(t){return n(t),n.Highcharts=t,n}):n("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function n(t,n,i,r){t.hasOwnProperty(n)||(t[n]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:t[n]}})))}n(t=t?t._modules:{},"Extensions/ArrowSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],function(t){function e(t,n,i,r){return[["M",t,n+r/2],["L",t+i,n],["L",t,n+r/2],["L",t+i,n+r]]}function a(t,n,i,r){return[["M",t+i,n],["L",t,n+r/2],["L",t+i,n+r],["Z"]]}function n(t,n,i,r){return a(t,n,i/2,r)}return(t=t.prototype.symbols).arrow=e,t["arrow-filled"]=a,t["arrow-filled-half"]=n,t["arrow-half"]=function(t,n,i,r){return e(t,n,i/2,r)},t["triangle-left"]=a,t["triangle-left-half"]=n,t}),n(t,"Gantt/Connection.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,n,i,r){function p(t){var n=t.shapeArgs;return n?{xMin:n.x||0,xMax:(n.x||0)+(n.width||0),yMin:n.y||0,yMax:(n.y||0)+(n.height||0)}:(n=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-n.width/2,xMax:t.plotX+n.width/2,yMin:t.plotY-n.height/2,yMax:t.plotY+n.height/2}:null}var e=t.defaultOptions,o=r.defined,a=r.error,s=(t=r.extend,r.merge),h=r.objectEach,c=n.deg2rad,x=Math.max,M=Math.min;function d(t,n,i){this.toPoint=this.pathfinder=this.graphics=this.fromPoint=this.chart=void 0,this.init(t,n,i)}return t(e,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),d.prototype.init=function(t,n,i){this.fromPoint=t,this.toPoint=n,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder},d.prototype.renderPath=function(t,n,i){var r=this.chart,e=r.styledMode,a=r.pathfinder,o=!r.options.chart.forExport&&!1!==i,s=this.graphics&&this.graphics.path;a.group||(a.group=r.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(r.seriesGroup)),a.group.translate(r.plotLeft,r.plotTop),s&&s.renderer||(s=r.renderer.path().add(a.group),e||s.attr({opacity:0})),s.attr(n),t={d:t},e||(t.opacity=1),s[o?"animate":"attr"](t,i),this.graphics=this.graphics||{},this.graphics.path=s},d.prototype.addMarker=function(t,n,i){var r,e,a=(o=this.fromPoint.series.chart).pathfinder,o=o.renderer,s="start"===t?this.fromPoint:this.toPoint,h=s.getPathfinderAnchorPoint(n);n.enabled&&((i="start"===t?i[1]:i[i.length-2])&&"M"===i[0]||"L"===i[0])&&(i={x:i[1],y:i[2]},i=s.getRadiansToVector(i,h),h=s.getMarkerVector(i,n.radius,h),i=-i/c,n.width&&n.height?(r=n.width,e=n.height):r=e=2*n.radius,this.graphics=this.graphics||{},h={x:h.x-r/2,y:h.y-e/2,width:r,height:e,rotation:i,rotationOriginX:h.x,rotationOriginY:h.y},this.graphics[t]?this.graphics[t].animate(h):(this.graphics[t]=o.symbol(n.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(h).add(a.group),o.styledMode||this.graphics[t].attr({fill:n.color||this.fromPoint.color,stroke:n.lineColor,"stroke-width":n.lineWidth,opacity:0}).animate({opacity:1},s.series.options.animation)))},d.prototype.getPath=function(t){var n=this.pathfinder,i=this.chart,r=n.algorithms[t.type],e=n.chartObstacles;return"function"!=typeof r?(a('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(r.requiresObstacles&&!e&&(e=n.chartObstacles=n.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,n.chartObstacleMetrics=n.getObstacleMetrics(e)),r(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),s({chartObstacles:e,lineObstacles:n.lineObstacles||[],obstacleMetrics:n.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:n.getAlgorithmStartDirection(t.startMarker)},t)))},d.prototype.render=function(){var t=this.fromPoint,n=t.series,i=n.chart,r=i.pathfinder,e=s(i.options.connectors,n.options.connectors,t.options.connectors,this.options),a={};i.styledMode||(a.stroke=e.lineColor||t.color,a["stroke-width"]=e.lineWidth,e.dashStyle&&(a.dashstyle=e.dashStyle)),a.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,e=s(a,e),o(e.marker.radius)||(e.marker.radius=M(x(Math.ceil((e.algorithmMargin||8)/2)-1,1),5)),i=(t=this.getPath(e)).path,t.obstacles&&(r.lineObstacles=r.lineObstacles||[],r.lineObstacles=r.lineObstacles.concat(t.obstacles)),this.renderPath(i,a,n.options.animation),this.addMarker("start",s(e.marker,e.startMarker),i),this.addMarker("end",s(e.marker,e.endMarker),i)},d.prototype.destroy=function(){this.graphics&&(h(this.graphics,function(t){t.destroy()}),delete this.graphics)},n.Connection=r=d,t(i.prototype,{getPathfinderAnchorPoint:function(t){var n=p(this);switch(t.align){case"right":var i="xMax";break;case"left":i="xMin"}switch(t.verticalAlign){case"top":var r="yMin";break;case"bottom":r="yMax"}return{x:i?n[i]:(n.xMin+n.xMax)/2,y:r?n[r]:(n.yMin+n.yMax)/2}},getRadiansToVector:function(t,n){var i;return o(n)||(i=p(this))&&(n={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(n.y-t.y,t.x-n.x)},getMarkerVector:function(t,n,i){for(var r=2*Math.PI,e=p(this),a=e.xMax-e.xMin,o=e.yMax-e.yMin,s=Math.atan2(o,a),h=!1,c=o/2,x=e.xMin+(a/=2),M=x,d=e=e.yMin+c,l=1,y=1;t<-Math.PI;)t+=r;for(;t>Math.PI;)t-=r;return r=Math.tan(t),-s<t&&t<=s?(y=-1,h=!0):s<t&&t<=Math.PI-s?y=-1:t>Math.PI-s||t<=-(Math.PI-s)?(l=-1,h=!0):l=-1,h?(M+=l*a,d+=y*a*r):(M+=o/(2*r)*l,d+=y*c),i.x!==x&&(M=i.x),i.y!==e&&(d=i.y),{x:M+n*Math.cos(t),y:d-n*Math.sin(t)}}}),r}),n(t,"Gantt/PathfinderAlgorithms.js",[t["Core/Utilities.js"]],function(t){function b(t,n,i){i=i||0;var r,e,a=t.length-1;for(n-=1e-7;i<=a;)if(0<(e=n-t[r=a+i>>1].xMin))i=1+r;else{if(!(e<0))return r;a=r-1}return 0<i?i-1:0}function P(t,n){for(var i,r=b(t,n.x+1)+1;r--;)if((i=t[r].xMax>=n.x)&&(i=t[r],i=n.x<=i.xMax&&n.x>=i.xMin&&n.y<=i.yMax&&n.y>=i.yMin),i)return r;return-1}function k(t){var n=[];if(t.length){n.push(["M",t[0].start.x,t[0].start.y]);for(var i=0;i<t.length;++i)n.push(["L",t[i].end.x,t[i].end.y])}return n}function O(t,n){t.yMin=A(t.yMin,n.yMin),t.yMax=C(t.yMax,n.yMax),t.xMin=A(t.xMin,n.xMin),t.xMax=C(t.xMax,n.xMax)}function n(t,n,x){function l(t,n,i){for(var r,e,a=t.x<n.x?1:-1,o=t.x<n.x?(r=t,n):(r=n,t),s=t.y<n.y?(e=t,n):(e=n,t),h=a<0?C(b(m,o.x),m.length-1):0;m[h]&&(0<a&&m[h].xMin<=o.x||a<0&&m[h].xMax>=r.x);){if(m[h].xMin<=o.x&&m[h].xMax>=r.x&&m[h].yMin<=s.y&&m[h].yMax>=e.y)return i?{y:t.y,x:t.x<n.x?m[h].xMin-1:m[h].xMax+1,obstacle:m[h]}:{x:t.x,y:t.y<n.y?m[h].yMin-1:m[h].yMax+1,obstacle:m[h]};h+=a}return n}function M(t,n,i,r,e){var a=e.soft,o=e.hard,s=r?"x":"y",h={x:n.x,y:n.y},c={x:n.x,y:n.y},x=(e=t[s+"Max"]>=a[s+"Max"],a=t[s+"Min"]<=a[s+"Min"],t[s+"Max"]>=o[s+"Max"]),o=t[s+"Min"]<=o[s+"Min"],M=j(t[s+"Min"]-n[s]),d=j(t[s+"Max"]-n[s]);return i=j(M-d)<10?n[s]<i[s]:d<M,c[s]=t[s+"Min"],h[s]=t[s+"Max"],t=l(n,c,r)[s]!==c[s],n=l(n,h,r)[s]!==h[s],i=t?!n||i:!n&&i,i=a?!e||i:!e&&i,o?!x||i:!x&&i}var i,r,e,a,o,s=w(x.startDirectionX,j(n.x-t.x)>j(n.y-t.y)),h=s?"x":"y",c=[],d=!1,y=x.obstacleMetrics,p=C(t.x,n.x)-y.maxWidth-10,f=A(t.x,n.x)+y.maxWidth+10,u=C(t.y,n.y)-y.maxHeight-10,g=A(t.y,n.y)+y.maxHeight+10,m=x.chartObstacles,v=b(m,p),y=b(m,f);for(-1<(y=P(m=m.slice(v,y+1),n))&&(r=m[y],e=n,a=t,o=C(r.xMax-e.x,e.x-r.xMin)<C(r.yMax-e.y,e.y-r.yMin),a=M(r,e,a,o,{soft:x.hardBounds,hard:x.hardBounds}),i=o?{y:e.y,x:r[a?"xMax":"xMin"]+(a?1:-1)}:{x:e.x,y:r[a?"yMax":"yMin"]+(a?1:-1)},c.push({end:n,start:i}),n=i);-1<(y=P(m,n));)v=n[h]-t[h]<0,(i={x:n.x,y:n.y})[h]=m[y][v?h+"Max":h+"Min"]+(v?1:-1),c.push({end:n,start:i}),n=i;return{path:k(t=(t=function t(n,i,r){if(n.x===i.x&&n.y===i.y)return[];var e,a,o=r?"x":"y",s=x.obstacleOptions.margin,h={soft:{xMin:p,xMax:f,yMin:u,yMax:g},hard:x.hardBounds},c=P(m,n);return-1<c?(h=M(c=m[c],n,i,r,h),O(c,x.hardBounds),e=r?{y:n.y,x:c[h?"xMax":"xMin"]+(h?1:-1)}:{x:n.x,y:c[h?"yMax":"yMin"]+(h?1:-1)},-1<(a=P(m,e))&&(O(a=m[a],x.hardBounds),e[o]=h?A(c[o+"Max"]-s+1,(a[o+"Min"]+c[o+"Max"])/2):C(c[o+"Min"]+s-1,(a[o+"Max"]+c[o+"Min"])/2),d=n.x===e.x&&n.y===e.y&&(d&&(e[o]=h?A(c[o+"Max"],a[o+"Max"])+1:C(c[o+"Min"],a[o+"Min"])-1),!d)),n=[{start:n,end:e}]):(n=[{start:n,end:{x:(o=l(n,{x:(r?i:n).x,y:(r?n:i).y},r)).x,y:o.y}}],o[r?"x":"y"]!==i[r?"x":"y"]&&(h=M(o.obstacle,o,i,!r,h),O(o.obstacle,x.hardBounds),h={x:r?o.x:o.obstacle[h?"xMax":"xMin"]+(h?1:-1),y:r?o.obstacle[h?"yMax":"yMin"]+(h?1:-1):o.y},n=n.concat(t({x:o.x,y:o.y},h,r=!r)))),n.concat(t(n[n.length-1].end,i,!r))}(t,n,s)).concat(c.reverse())),obstacles:t}}var w=t.pick,C=Math.min,A=Math.max,j=Math.abs;(t=function(t,n,i){function e(t,n,i,r,e){return(t={x:t.x,y:t.y})[n]=i[r||n]+(e||0),t}function r(t,n,i){var r=j(n[i]-t[i+"Min"])>j(n[i]-t[i+"Max"]);return e(n,i,t,i+(r?"Max":"Min"),r?1:-1)}var a,o=[],s=w(i.startDirectionX,j(n.x-t.x)>j(n.y-t.y))?"x":"y",h=i.chartObstacles,c=P(h,t),x=-1<(i=P(h,n))?(a={start:i=r(a=h[i],n,s),end:n},i):n;return-1<c&&(i=r(h=h[c],t,s),o.push({start:t,end:i}),i[s]>=t[s]==i[s]>=x[s]&&(n=t[s="y"===s?"x":"y"]<n[s],o.push({start:i,end:e(i,s,h,s+(n?"Max":"Min"),n?1:-1)}),s="y"===s?"x":"y")),i=e(t=o.length?o[o.length-1].end:t,s,x),o.push({start:t,end:i}),s=e(i,"y"===s?"x":"y",x),o.push({start:i,end:s}),o.push(a),{path:k(o),obstacles:o}}).requiresObstacles=!0;return n.requiresObstacles=!0,{fastAvoid:n,straight:function(t,n){return{path:[["M",t.x,t.y],["L",n.x,n.y]],obstacles:[{start:t,end:n}]}},simpleConnect:t}}),n(t,"Gantt/Pathfinder.js",[t["Gantt/Connection.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"],t["Gantt/PathfinderAlgorithms.js"]],function(M,t,n,i,d,r,e){function p(t){var n=t.shapeArgs;return n?{xMin:n.x||0,xMax:(n.x||0)+(n.width||0),yMin:n.y||0,yMax:(n.y||0)+(n.height||0)}:(n=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-n.width/2,xMax:t.plotX+n.width/2,yMin:t.plotY-n.height/2,yMax:t.plotY+n.height/2}:null}function x(t){function s(t,n,i){i=y(i,10);var r=t.yMax+i>n.yMin-i&&t.yMin-i<n.yMax+i,e=t.xMax+i>n.xMin-i&&t.xMin-i<n.xMax+i,a=r?t.xMin>n.xMax?t.xMin-n.xMax:n.xMin-t.xMax:1/0,o=e?t.yMin>n.yMax?t.yMin-n.yMax:n.yMin-t.yMax:1/0;return e&&r?i?s(t,n,Math.floor(i/2)):1/0:u(a,o)}for(var n,i,r=t.length,e=0,a=[];e<r;++e)for(n=e+1;n<r;++n)(i=s(t[e],t[n]))<80&&a.push(i);return a.push(80),c(Math.floor(a.sort(function(t,n){return t-n})[Math.floor(a.length/10)]/2-1),1)}n=n.defaultOptions;var a=r.addEvent,l=r.defined,o=r.error,s=r.extend,h=r.merge,y=r.pick,f=r.splat,c=Math.max,u=Math.min,g=(s(n,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),m.prototype.init=function(t){this.chart=t,this.connections=[],a(t,"redraw",function(){this.pathfinder.update()})},m.prototype.update=function(t){var r=this.chart,e=this,n=e.connections;e.connections=[],r.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(n){var i,t=n.options;t&&t.dependency&&(t.connect=t.dependency),t=n.options&&n.options.connect&&f(n.options.connect),n.visible&&!1!==n.isInside&&t&&t.forEach(function(t){(i=r.get("string"==typeof t?t:t.to))instanceof d&&i.series.visible&&i.visible&&!1!==i.isInside&&e.connections.push(new M(n,i,"string"==typeof t?{}:t))})})});for(var i=0,a=void 0,o=void 0,s=n.length,h=e.connections.length;i<s;++i){for(var o=!1,c=n[i],a=0;a<h;++a){var x=e.connections[a];if((c.options&&c.options.type)===(x.options&&x.options.type)&&c.fromPoint===x.fromPoint&&c.toPoint===x.toPoint){x.graphics=c.graphics,o=!0;break}}o||c.destroy()}delete this.chartObstacles,delete this.lineObstacles,e.renderConnections(t)},m.prototype.renderConnections=function(t){t?this.chart.series.forEach(function(n){function t(){var t=n.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===n&&t.render()}),n.pathfinderRemoveRenderEvent&&(n.pathfinderRemoveRenderEvent(),delete n.pathfinderRemoveRenderEvent)}!1===n.options.animation?t():n.pathfinderRemoveRenderEvent=a(n,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})},m.prototype.getChartObstacles=function(t){for(var n,i=[],r=this.chart.series,e=y(t.algorithmMargin,0),a=0,o=r.length;a<o;++a)if(r[a].visible&&!r[a].options.isInternal)for(var s=0,h=r[a].points.length,c=void 0,c=void 0;s<h;++s)(c=r[a].points[s]).visible&&(c=p(c))&&i.push({xMin:c.xMin-e,xMax:c.xMax+e,yMin:c.yMin-e,yMax:c.yMax+e});return i=i.sort(function(t,n){return t.xMin-n.xMin}),l(t.algorithmMargin)||(n=t.algorithmMargin=x(i),i.forEach(function(t){t.xMin-=n,t.xMax+=n,t.yMin-=n,t.yMax+=n})),i},m.prototype.getObstacleMetrics=function(t){for(var n,i=0,r=0,e=t.length;e--;)i<(n=t[e].xMax-t[e].xMin)&&(i=n),r<(n=t[e].yMax-t[e].yMin)&&(r=n);return{maxHeight:r,maxWidth:i}},m.prototype.getAlgorithmStartDirection=function(t){var n="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return"left"!==t.align&&"right"!==t.align?n&&void 0:n||void 0},m);function m(t){this.lineObstacles=this.group=this.connections=this.chartObstacleMetrics=this.chartObstacles=this.chart=void 0,this.init(t)}return g.prototype.algorithms=e,i.Pathfinder=g,s(d.prototype,{getPathfinderAnchorPoint:function(t){var n=p(this);switch(t.align){case"right":var i="xMax";break;case"left":i="xMin"}switch(t.verticalAlign){case"top":var r="yMin";break;case"bottom":r="yMax"}return{x:i?n[i]:(n.xMin+n.xMax)/2,y:r?n[r]:(n.yMin+n.yMax)/2}},getRadiansToVector:function(t,n){var i;return l(n)||(i=p(this))&&(n={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(n.y-t.y,t.x-n.x)},getMarkerVector:function(t,n,i){for(var r=2*Math.PI,e=p(this),a=e.xMax-e.xMin,o=e.yMax-e.yMin,s=Math.atan2(o,a),h=!1,c=o/2,x=e.xMin+(a/=2),M=x,d=e=e.yMin+c,l=1,y=1;t<-Math.PI;)t+=r;for(;t>Math.PI;)t-=r;return r=Math.tan(t),-s<t&&t<=s?(y=-1,h=!0):s<t&&t<=Math.PI-s?y=-1:t>Math.PI-s||t<=-(Math.PI-s)?(l=-1,h=!0):l=-1,h?(M+=l*a,d+=y*a*r):(M+=o/(2*r)*l,d+=y*c),i.x!==x&&(M=i.x),i.y!==e&&(d=i.y),{x:M+n*Math.cos(t),y:d-n*Math.sin(t)}}}),t.prototype.callbacks.push(function(t){!1!==t.options.connectors.enabled&&(((t=t).options.pathfinder||t.series.reduce(function(t,n){return n.options&&h(!0,n.options.connectors=n.options.connectors||{},n.options.pathfinder),t||n.options&&n.options.pathfinder},!1))&&(h(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),o('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new g(this),this.pathfinder.update(!0))}),g}),n(t,"masters/modules/pathfinder.src.js",[],function(){})});