!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(n,t){var e,s,i,r=t.addEvent,o=t.find,f=t.fireEvent,a=t.isArray,u=t.isNumber,g=t.pick;function l(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function d(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function h(){var t=this.brokenAxis;if(t&&t.hasBreaks){for(var e=this.tickPositions,i=this.tickPositions.info,s=[],r=0;r<e.length;r++)t.isInAnyBreak(e[r])||s.push(e[r]);this.tickPositions=s,this.tickPositions.info=i}}function c(){this.brokenAxis||(this.brokenAxis=new i(this))}function p(){var t=this.options.connectNulls,e=this.points,i=this.xAxis,s=this.yAxis;if(this.isDirty)for(var r=e.length;r--;){var o=e[r],n=!(null===o.y&&!1===t)&&(i&&i.brokenAxis&&i.brokenAxis.isInAnyBreak(o.x,!0)||s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!n&&!1!==o.options.visible}}function m(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function x(i,t){var s,r,o,n,e,a=this,l=a.points;i&&i.brokenAxis&&i.brokenAxis.hasBreaks&&(e=i.brokenAxis,t.forEach(function(t){s=e&&e.breakArray||[],r=i.isXAxis?i.min:g(a.options.threshold,i.min),l.forEach(function(e){n=g(e["stack"+t.toUpperCase()],e[t]),s.forEach(function(t){u(r)&&u(n)&&(o=!1,r<t.from&&n>t.to||r>t.from&&n<t.from?o="pointBreak":(r<t.from&&n>t.from&&n<t.to||r>t.from&&n>t.to&&n<t.from)&&(o="pointInBreak"),o&&f(i,o,{point:e,brk:t}))})})}))}function k(){var t,e=(i=this.currentDataGrouping)&&i.gapSize,i=this.points.slice(),s=this.yAxis,r=this.options.gapSize,o=i.length-1;if(r&&0<o)for("value"!==this.options.gapUnit&&(r*=this.basePointRange),e&&r<e&&e>=this.basePointRange&&(r=e),t=void 0;o--;)t&&!1!==t.visible||(t=i[o+1]),e=i[o],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>r&&(t=(e.x+t.x)/2,i.splice(o+1,0,{isNull:!0,x:t}),s.stacking&&this.options.stacking&&((t=s.stacking.stacks[this.stackKey][t]=new n(s,s.options.stackLabels,!1,t,this.stack)).total=0)),t=e);return this.getGraphPath(i)}function v(t){this.hasBreaks=!1,this.axis=t}return t=e=e||{},s=[],t.compose=function(t,e){var i;return-1===s.indexOf(t)&&(s.push(t),t.keepProps.push("brokenAxis"),r(t,"init",c),r(t,"afterInit",l),r(t,"afterSetTickPositions",h),r(t,"afterSetOptions",d)),-1===s.indexOf(e)&&(s.push(e),(i=e.prototype).drawBreaks=x,i.gappedPath=k,r(e,"afterGeneratePoints",p),r(e,"afterRender",m)),t},v.isInBreak=function(t,e){var i=t.repeat||1/0,s=t.from,r=t.to-t.from;return e=s<=e?(e-s)%i:i-(s-e)%i,t.inclusive?e<=r:e<r&&0!==e},v.lin2Val=function(t){var e,i=this.brokenAxis;if(!(i=i&&i.breakArray)||!u(t))return t;for(e=0;e<i.length;e++){var s=i[e];if(s.from>=t)break;(s.to<t||v.isInBreak(s,t))&&(t+=s.len)}return t},v.val2Lin=function(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!u(t))return t;for(var i=t,s=0;s<e.length;s++){var r=e[s];if(r.to<=t)i-=r.len;else{if(r.from>=t)break;if(v.isInBreak(r,t)){i-=t-r.from;break}}}return i},v.prototype.findBreakAt=function(e,t){return o(t,function(t){return t.from<e&&e<t.to})},v.prototype.isInAnyBreak=function(t,e){var i,s,r=this.axis,o=r.options.breaks||[],n=o.length;if(n&&u(t)){for(;n--;)v.isInBreak(o[n],t)&&(i=!0,s=s||g(o[n].showPoints,!r.isXAxis));var a=i&&e?i&&!s:i}return a},v.prototype.setBreaks=function(t,e){var c=this,p=c.axis,i=a(t)&&!!t.length;p.isDirty=c.hasBreaks!==i,c.hasBreaks=i,p.options.breaks=p.userOptions.breaks=t,p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),i||p.val2lin!==v.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=v.lin2Val,p.val2lin=v.val2Lin,p.setExtremes=function(t,e,i,s,r){if(c.hasBreaks){for(var o,n=this.options.breaks||[];o=c.findBreakAt(t,n);)t=o.to;for(;o=c.findBreakAt(e,n);)e=o.from;e<t&&(e=t)}p.constructor.prototype.setExtremes.call(this,t,e,i,s,r)},p.setAxisTranslation=function(){var t,e,i,s,r,o,n,a,l,d,h;p.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks&&(t=p.options.breaks||[],e=[],i=[],s=g(p.pointRangePadding,0),r=0,n=p.userMin||p.min,a=p.userMax||p.max,t.forEach(function(t){o=t.repeat||1/0,u(n)&&u(a)&&(v.isInBreak(t,n)&&(n+=t.to%o-n%o),v.isInBreak(t,a)&&(a-=a%o-t.from%o))}),t.forEach(function(t){if(h=t.from,o=t.repeat||1/0,u(n)&&u(a)){for(;n<h-o;)h-=o;for(;h<n;)h+=o;for(l=h;l<a;l+=o)e.push({value:l,move:"in"}),e.push({value:l+t.to-t.from,move:"out",size:t.breakSize})}}),e.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),d=0,h=n,e.forEach(function(t){1===(d+="in"===t.move?1:-1)&&"in"===t.move&&(h=t.value),0===d&&u(h)&&(i.push({from:h,to:t.value,len:t.value-h-(t.size||0)}),r+=t.value-h-(t.size||0))}),c.breakArray=i,u(n)&&u(a)&&u(p.min)&&(c.unitLength=a-n-r+s,f(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:c.unitLength&&(p.transA*=(a-p.min+s)/c.unitLength),s&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=n,p.max=a))}),g(e,!0)&&p.chart.redraw()},i=v,t.Additions=i,e}),e(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(n,o,l,a){function s(s,t){var r={width:0,height:0};return t.forEach(function(t){var e,i;t=s[t],a.isObject(t,!0)&&(t=(e=a.isObject(t.label,!0)?t.label:{}).getBBox?e.getBBox().height:0,e.textStr&&!E(e.textPxLength)&&(e.textPxLength=e.getBBox().width),i=E(e.textPxLength)?Math.round(e.textPxLength):0,e.textStr&&(i=Math.round(e.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(i,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(r.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),r}function r(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function d(t){var e,i,s,r,o,n,a,l,d,h,c,p,f,u;!0===(this.options.grid||{}).enabled&&(f=this.axisTitle,e=this.height,i=this.horiz,s=this.left,r=this.offset,o=this.opposite,n=this.options,a=this.top,l=this.width,u=this.tickSize(),d=f&&f.getBBox().width,h=n.title.x,c=n.title.y,p=L(n.title.margin,i?5:10),f=this.chart.renderer.fontMetrics(n.title.style.fontSize,f).f,u=(i?a+e:s)+(i?1:-1)*(o?-1:1)*(u?u[0]/2:0)+(this.side===P.bottom?f:0),t.titlePosition.x=i?s-(d||0)/2-p+h:u+(o?l:0)+r+h,t.titlePosition.y=i?u-(o?e:0)+(o?f:-f)/2+r+c:a-p+c)}function h(){var t=this.chart,e=void 0===(e=this.options.grid)?{}:e,i=this.userOptions;if(e.enabled&&((s=this.options).labels.align=L(s.labels.align,"center"),this.categories||(s.showLastLabel=!1),this.labelRotation=0,s.labels.rotation=0),e.columns)for(var s=this.grid.columns=[],r=this.grid.columnIndex=0;++r<e.columns.length;){var o=I(i,e.columns[e.columns.length-r-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete o.grid.columns,(o=new n(this.chart,o)).grid.isColumn=!0,o.grid.columnIndex=r,B(t.axes,o),B(t[this.coll],o),s.push(o)}}function c(){var t=this.grid,e=this.options;if(!0===(e.grid||{}).enabled){var i,s,r,o,n=this.min||0,a=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&((i=e.lineWidth)&&(s=(i=this.getLinePath(i))[0],r=i[1],o=((this.tickSize("tick")||[1])[0]-1)*(this.side===P.top||this.side===P.left?-1:1),"M"===s[0]&&"L"===r[0]&&(this.horiz?(s[2]+=o,r[2]+=o):(s[1]+=o,r[1]+=o)),!this.horiz&&this.chart.marginRight&&(s=[s,["L",this.left,s[2]||0]],o=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],r=[["M",r[1]||0,this.toPixels(a+this.tickmarkOffset)],o],this.grid.upperBorder||0==n%1||(this.grid.upperBorder=this.grid.renderBorder(s)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.upperBorder.animate({d:s})),this.grid.lowerBorder||0==a%1||(this.grid.lowerBorder=this.grid.renderBorder(r)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.lowerBorder.animate({d:r}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.axisLineExtra.animate({d:i})):this.grid.axisLineExtra=this.grid.renderBorder(i),this.axisLine[this.showAxis?"show":"hide"]())),(t&&t.columns||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(t=this.tickmarkOffset,e=this.tickPositions[this.tickPositions.length-1],i=this.tickPositions[0],s=r=void 0;(r=this.hiddenLabels.pop())&&r.element;)r.show();for(;(s=this.hiddenMarks.pop())&&s.element;)s.show();(r=this.ticks[i].label)&&(t<n-i?this.hiddenLabels.push(r.hide()):r.show()),(r=this.ticks[e].label)&&(t<e-a?this.hiddenLabels.push(r.hide()):r.show()),(n=this.ticks[e].mark)&&e-a<t&&0<e-a&&this.ticks[e].isLast&&this.hiddenMarks.push(n.hide())}}}function p(){var t=this.tickPositions&&this.tickPositions.info,e=this.options,i=this.userOptions.labels||{};(e.grid||{}).enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!T(i.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",T(i.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function f(t){var d,e=this.options,i=(t=t.userOptions,e&&a.isObject(e.grid,!0)?e.grid:{});!0===i.enabled&&(d=I(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(T(t.linkedTo)&&!T(t.tickPixelInterval)&&(d.tickPixelInterval=350),T(t.tickPixelInterval)||!T(t.linkedTo)||T(t.tickPositioner)||T(t.tickInterval)||(d.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var s=d.units||[],r=void 0,o=1,n="year",a=0;a<s.length;a++){var l=s[a];if(l&&l[0]===i.unitName){r=a;break}}return(s=E(r)&&s[r+1])?(n=s[0]||"year",o=(o=s[1])&&o[0]||1):"year"===i.unitName&&(o=10*i.count),i=N[n],this.tickInterval=i*o,this.chart.time.getTimeTicks({unitRange:i,count:o,unitName:n},t,e,this.options.startOfWeek)}})),I(!0,this.options,d),this.horiz&&(e.minPadding=L(t.minPadding,0),e.maxPadding=L(t.maxPadding,0)),E(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth))}function u(t){var e=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&e&&I(!0,this.options,e[e.length-1])}function g(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function m(t){var e=o.defaultLeftAxisOptions,i=this.horiz,s=this.maxLabelDimensions,r=this.options.grid;(r=void 0===r?{}:r).enabled&&s&&(e=2*Math.abs(e.labels.x),i=i?r.cellHeight||e+s.height:e+s.width,w(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i,0])}function x(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function k(e){var t=this.grid;(t.columns||[]).forEach(function(t){return t.destroy(e.keepEvents)}),t.columns=void 0}function v(t){var e=(t=t.userOptions||{}).grid||{};e.enabled&&T(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),this.grid||(this.grid=new j(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function b(t){var e,i=this.label,s=this.axis,r=s.reversed,o=s.chart,n=s.options.grid||{},a=s.options.labels,l=a.align,d=P[s.side],h=t.tickmarkOffset,c=s.tickPositions,p=this.pos-h,c=E(c[t.index+1])?c[t.index+1]-h:(s.max||0)+h,h=(f=s.tickSize("tick"))?f[0]:0,f=f?f[1]/2:0;!0===n.enabled&&("top"===d?e=(n=s.top+s.offset)-h:"bottom"===d?n=(e=o.chartHeight-s.bottom+s.offset)+h:(n=s.top+s.len-(s.translate(r?c:p)||0),e=s.top+s.len-(s.translate(r?p:c)||0)),"right"===d?r=(d=o.chartWidth-s.right+s.offset)+h:"left"===d?d=(r=s.left+s.offset)-h:(d=Math.round(s.left+(s.translate(r?c:p)||0))-f,r=Math.min(Math.round(s.left+(s.translate(r?p:c)||0))-f,s.left+s.len)),this.slotWidth=r-d,t.pos.x="left"===l?d:"right"===l?r:d+(r-d)/2,t.pos.y=e+(n-e)/2,o=o.renderer.fontMetrics(a.style.fontSize,i&&i.element),i=i?i.getBBox().height:0,a.useHTML?t.pos.y+=o.b+-i/2:(i=Math.round(i/o.h),t.pos.y+=(o.b-(o.h-o.f))/2+-((i-1)*o.h)/2),t.pos.x+=s.horiz&&a.x||0)}function y(t){var e,i,s,r,o,n=t.axis,a=t.value;n.options.grid&&n.options.grid.enabled&&(s=n.tickPositions,e=(n.linkedParent||n).series[0],i=a===s[0],s=a===s[s.length-1],o=void 0,(r=e&&C(e.options.data,function(t){return t[n.isXAxis?"x":"y"]===a}))&&e.is("gantt")&&(o=I(r),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(o)),t.isFirst=i,t.isLast=s,t.point=o)}function A(){var t=this.options,e=this.categories,i=this.tickPositions,s=i[0],r=i[i.length-1],o=this.linkedParent&&this.linkedParent.min||this.min,n=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(t.grid||{}).enabled||e||!this.horiz&&!this.isLinked||(s<o&&o<s+a&&!t.startOnTick&&(i[0]=o),n<r&&r-a<n&&!t.endOnTick&&(i[i.length-1]=n))}function G(t){var e=this.options.grid;return!0===(void 0===e?{}:e).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}var P,t,e=l.dateFormats,O=a.addEvent,T=a.defined,B=a.erase,C=a.find,w=a.isArray,E=a.isNumber,I=a.merge,L=a.pick,N=a.timeUnits,S=a.wrap,M=((t=P=P||{})[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left",[]),j=(i.prototype.isOuterAxis=function(){var i=this.axis,t=i.grid.columnIndex,e=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,s=t?i.linkedParent:i,r=-1,o=0;return(i.chart[i.coll]||[]).forEach(function(t,e){t.side!==i.side||t.options.isInternal||(o=e,t===s&&(r=e))}),o===r&&(!E(t)||e.length===t)},i.prototype.renderBorder=function(t){var e=this.axis,i=e.chart.renderer,s=e.options;return t=i.path(t).addClass("highcharts-axis-line").add(e.axisBorder),i.styledMode||t.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),t},i);function i(t){this.axis=t}return e.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},e.W=function(t){var e=this,i=new this.Date(t),s=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){e.set(t,i,0)}),(this.get("Day",i)+6)%7);return t=new this.Date(i.valueOf()),this.set("Date",t,this.get("Date",i)-s+3),s=new this.Date(this.get("FullYear",t),0,1),4!==this.get("Day",s)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",s))%7)),(1+Math.floor((t.valueOf()-s.valueOf())/6048e5)).toString()},{compose:function(t,e,i){return-1===M.indexOf(t)&&(M.push(t),t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=s,S(t.prototype,"unsquish",G),O(t,"init",v),O(t,"afterGetOffset",r),O(t,"afterGetTitlePosition",d),O(t,"afterInit",h),O(t,"afterRender",c),O(t,"afterSetAxisTranslation",p),O(t,"afterSetOptions",f),O(t,"afterSetOptions",u),O(t,"afterSetScale",g),O(t,"afterTickSize",m),O(t,"trimTicks",A),O(t,"destroy",k)),-1===M.indexOf(e)&&O(e,"afterSetChartSize",x),-1===M.indexOf(i)&&(O(i,"afterGetLabelPosition",b),O(i,"labelFormat",y)),t}}}),e(t,"Gantt/Tree.js",[t["Core/Utilities.js"]],function(t){function s(t,s){var r=t.reduce(function(t,e){var i=g(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(r).forEach(function(t,e){var i=r[t];""!==t&&-1===s.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),r}function p(s,t,r,e,o,n){var a,l,d=0,h=0,i=n&&n.after,c=n&&n.before;return t={data:e,depth:r-1,id:s,level:r,parent:t},"function"==typeof c&&c(t,n),c=(o[s]||[]).map(function(t){var e=p(t.id,s,r+1,t,o,n),i=t.start;return t=!0===t.milestone?i:t.end,a=!u(a)||i<a?i:a,l=!u(l)||l<t?t:l,d=d+1+e.descendants,h=Math.max(e.height+1,h),e}),e&&(e.start=g(e.start,a),e.end=g(e.end,l)),f(t,{children:c,descendants:d,height:h}),"function"==typeof i&&i(t,n),t}var f=t.extend,u=t.isNumber,g=t.pick;return{getListOfParents:s,getNode:p,getTree:function(t,e){var i=t.map(function(t){return t.id});return t=s(t,i),p("",null,1,null,t,e)}}}),e(t,"Core/Axis/TreeGrid/TreeGridTick.js",[t["Core/Utilities.js"]],function(t){function e(){this.treeGrid||(this.treeGrid=new n(this))}function i(t,e,i,s,r,o,n,a,l){var d=A(this.options&&this.options.labels,o),h=(o=this.pos,this.axis),c="treegrid"===h.options.type;return t=t.apply(this,[e,i,s,r,d,n,a,l]),c&&(e=d&&b(d.symbol,!0)?d.symbol:{},d=d&&y(d.indentation)?d.indentation:0,o=(o=(h=h.treeGrid.mapOfPosToGridNode)&&h[o])&&o.depth||1,t.x+=(e.width||0)+2*(e.padding||0)+(o-1)*d),t}function s(t){var e,i,s,r,o,n,a,l,d=this,h=d.pos,c=d.axis,p=d.label,f=c.treeGrid.mapOfPosToGridNode,u=c.options,g=A(d.options&&d.options.labels,u&&u.labels),m=g&&b(g.symbol,!0)?g.symbol:{},x=(f=f&&f[h])&&f.depth,u="treegrid"===u.type,k=-1<c.tickPositions.indexOf(h),h=c.chart.styledMode;u&&f&&p&&p.element&&p.addClass("highcharts-treegrid-node-level-"+x),t.apply(d,Array.prototype.slice.call(arguments,1)),u&&p&&p.element&&f&&f.descendants&&0<f.descendants&&(c=c.treeGrid.isCollapsed(f),x=d,u={color:!h&&p.styles&&p.styles.color||"",collapsed:c,group:p.parentGroup,options:m,renderer:p.renderer,show:k,xy:p.xy},f=!(x=x.treeGrid).labelIcon,k=u.renderer,e=u.xy,i=u.options,s=i.width||0,r=i.height||0,o=e.x-s/2-(i.padding||0),e=e.y-r/2,n=u.collapsed?90:180,a=u.show&&y(e),(l=x.labelIcon)||(x.labelIcon=l=k.path(k.symbols[i.type](i.x||0,i.y||0,s,r)).addClass("highcharts-label-icon").add(u.group)),l[a?"show":"hide"](),k.styledMode||l.attr({cursor:"pointer",fill:A(u.color,"#666666"),"stroke-width":1,stroke:i.lineColor,strokeWidth:i.lineWidth||0}),l[f?"attr":"animate"]({translateX:o,translateY:e,rotation:n}),m="highcharts-treegrid-node-"+(c?"expanded":"collapsed"),p.addClass("highcharts-treegrid-node-"+(c?"collapsed":"expanded")).removeClass(m),h||p.css({cursor:"pointer"}),[p,d.treeGrid.labelIcon].forEach(function(t){t&&!t.attachedTreeGridEvents&&(v(t.element,"mouseover",function(){p.addClass("highcharts-treegrid-node-active"),p.renderer.styledMode||p.css({textDecoration:"underline"})}),v(t.element,"mouseout",function(){var t=b(g.style)?g.style:{};p.removeClass("highcharts-treegrid-node-active"),p.renderer.styledMode||p.css({textDecoration:t.textDecoration})}),v(t.element,"click",function(){d.treeGrid.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}var v=t.addEvent,b=t.isObject,y=t.isNumber,A=t.pick,r=t.wrap,o=[],n=(a.compose=function(t){-1===o.indexOf(t)&&(o.push(t),v(t,"init",e),r(t.prototype,"getLabelPosition",i),r(t.prototype,"renderLabel",s),t.prototype.collapse=function(t){this.treeGrid.collapse(t)},t.prototype.expand=function(t){this.treeGrid.expand(t)},t.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})},a.prototype.collapse=function(t){var e=this.tick,i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.collapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,A(t,!0)))},a.prototype.destroy=function(){this.labelIcon&&this.labelIcon.destroy()},a.prototype.expand=function(t){var e=this.tick,i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.expand(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,A(t,!0)))},a.prototype.toggleCollapse=function(t){var e=this.tick,i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.toggleCollapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,A(t,!0)))},a);function a(t){this.tick=t}return n}),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(u,t){var h=t.extend,n=t.isArray,a=t.isNumber,l=t.isObject,d=t.merge,g=t.pick;return{getColor:function(t,e){var i,s,r,o=e.index,n=e.mapOptionsToLevel,a=e.parentColor,l=e.parentColorIndex,d=e.series,h=e.colors,c=e.siblings,p=d.points,f=d.chart.options.chart;return t&&(p=p[t.i],t=n[t.level]||{},p&&t.colorByPoint&&(s=p.index%(h?h.length:f.colorCount),r=h&&h[s]),d.chart.styledMode||(h=p&&p.options.color,f=t&&t.color,(i=a)&&(i=(i=t&&t.colorVariation)&&"brightness"===i.key&&o&&c?u.parse(a).brighten(o/c*i.to).get():a),i=g(h,f,r,i,d.color)),r=g(p&&p.options.colorIndex,t&&t.colorIndex,s,l,e.colorIndex)),{color:i,colorIndex:r}},getLevelOptions:function(t){var e={};if(l(t)){var r=a(t.from)?t.from:1,i=t.levels,s={},o=l(t.defaults)?t.defaults:{};for(n(i)&&(s=i.reduce(function(t,e){var i,s;return l(e)&&a(e.level)&&(i=d({},e),s=g(i.levelIsConstant,o.levelIsConstant),delete i.levelIsConstant,delete i.level,e=e.level+(s?0:r-1),l(t[e])?d(!0,t[e],i):t[e]=i),t},{})),i=a(t.to)?t.to:1,t=0;t<=i;t++)e[t]=d({},o,l(s[t])?s[t]:{})}return e},setTreeValues:function s(r,o){var t=o.before,e=o.idRoot,i=o.mapIdToNode[e],n=o.points[r.i],a=n&&n.options||{},l=[],d=0;return r.levelDynamic=r.level-(!1!==o.levelIsConstant?0:i.level),r.name=g(n&&n.name,""),r.visible=e===r.id||!0===o.visible,(r="function"==typeof t?t(r,o):r).children.forEach(function(t,e){var i=h({},o);h(i,{index:e,siblings:r.children.length,visible:r.visible}),t=s(t,i),l.push(t),t.visible&&(d+=t.val)}),t=g(a.value,d),r.visible=0<=t&&(0<d||r.visible),r.children=l,r.childrenTotal=d,r.isLeaf=r.visible&&!d,r.val=t,r},updateRootId:function(t){var e;return l(t)&&(e=l(t.options)?t.options:{},e=g(t.rootNode,e.rootId,""),l(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}}}),e(t,"Core/Axis/TreeGrid/TreeGridAxis.js",[t["Core/Axis/BrokenAxis.js"],t["Core/Axis/GridAxis.js"],t["Gantt/Tree.js"],t["Core/Axis/TreeGrid/TreeGridTick.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],function(o,n,f,a,t,e){function r(t,e){var i=t.collapseEnd||0;return t=t.collapseStart||0,e<=i&&(t-=.5),{from:t,to:i,showPoints:!1}}function l(t,e,i){var n,a,l=[],s=[],d={},h="boolean"==typeof e&&e,c={},p=-1;return t=f.getTree(t,{after:function(t){t=c[t.pos];var e=0,i=0;t.children.forEach(function(t){i+=(t.descendants||0)+1,e=Math.max((t.height||0)+1,e)}),t.descendants=i,t.height=e,t.collapsed&&s.push(t)},before:function(t){var e,i=v(t.data,!0)?t.data:{},s=b(i.name)?i.name:"",r=d[t.parent],r=v(r,!0)?c[r.pos]:null,o=function(t){return t.name===s};h&&v(r,!0)&&(e=x(r.children,o))?(o=e.pos,e.nodes.push(t)):o=p++,c[o]||(c[o]=e={depth:r?r.depth+1:0,name:s,id:i.id,nodes:[t],children:[],pos:o},-1!==o&&l.push(s),v(r,!0)&&r.children.push(e)),b(t.id)&&(d[t.id]=t),e&&!0===i.collapsed&&(e.collapsed=!0),t.pos=o}}),n=i,c=(a=function(t,i,e){var s=i+(-1===i?0:n-1),r=(s-i)/2,o=i+r;return t.nodes.forEach(function(t){var e=t.data;v(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=o}),(e[o]=t).pos=o,t.tickmarkOffset=.5+r,t.collapseStart=s+.5,t.children.forEach(function(t){a(t,s+1,e),s=(t.collapseEnd||0)-.5}),t.collapseEnd=s+.5,e})(c[-1],-1,{}),{categories:l,mapOfIdToNode:d,mapOfPosToGridNode:c,collapsedNodes:s,tree:t}}function d(a){a.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(t){var e=(i=t.options||{}).labels,s=i.uniqueNames,i=i.max,r=0;if(!t.treeGrid.mapOfPosToGridNode||t.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})){var o=t.series.reduce(function(e,i){return i.visible&&((i.options.data||[]).forEach(function(t){i.options.keys&&i.options.keys.length&&(t=i.pointClass.prototype.optionsToObject.call({series:i},t),i.pointClass.setGanttPointAliases(t)),v(t,!0)&&(t.seriesIndex=r,e.push(t))}),!0===s&&r++),e},[]);if(i&&o.length<i)for(var n=o.length;n<=i;n++)o.push({name:n+"â€‹"});i=l(o,s||!1,!0===s?r:1),t.categories=i.categories,t.treeGrid.mapOfPosToGridNode=i.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=i.tree,t.series.forEach(function(t){var e=(t.options.data||[]).map(function(e){return k(e)&&t.options.keys&&t.options.keys.length&&o.forEach(function(t){0<=e.indexOf(t.x)&&0<=e.indexOf(t.x2)&&(e=t)}),v(e,!0)?y(e):e});t.visible&&t.setData(e,!1)}),t.treeGrid.mapOptionsToLevel=g({defaults:e,from:1,levels:e&&e.levels,to:t.treeGrid.tree&&t.treeGrid.tree.height}),"beforeRender"===a.type&&(t.treeGrid.collapsedNodes=i.collapsedNodes)}})}function h(t,e){var i,s,r=this.treeGrid.mapOptionsToLevel||{},o=this.ticks,n=o[e];"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode?((r=r[(s=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(i={labels:r}),!n&&u?o[e]=new u(this,e,void 0,void 0,{category:s.name,tickmarkOffset:s.tickmarkOffset,options:i}):(n.parameters.category=s.name,n.options=i,n.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function c(t,e,i){var s=this,r="treegrid"===i.type;s.treeGrid||(s.treeGrid=new P(s)),r&&(m(e,"beforeRender",d),m(e,"beforeRedraw",d),m(e,"addSeries",function(t){t.options.data&&(t=l(t.options.data,i.uniqueNames||!1,1),s.treeGrid.collapsedNodes=(s.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))}),m(s,"foundExtremes",function(){s.treeGrid.collapsedNodes&&s.treeGrid.collapsedNodes.forEach(function(e){var t=s.treeGrid.collapse(e);s.brokenAxis&&(s.brokenAxis.setBreaks(t,!1),s.treeGrid.collapsedNodes&&(s.treeGrid.collapsedNodes=s.treeGrid.collapsedNodes.filter(function(t){return e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd})))})}),m(s,"afterBreaks",function(){"yAxis"===s.coll&&!s.staticScale&&s.chart.options.chart.height&&(s.isDirty=!0)}),i=y({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(s,[e,i]),r&&(s.hasNames=!0,s.options.showLastLabel=!0)}function p(t){var e=this.options;"treegrid"===e.type?(this.min=s(this.userMin,e.min,this.dataMin),this.max=s(this.userMax,e.max,this.dataMax),i(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):t.apply(this,Array.prototype.slice.call(arguments,1))}var u,g=t.getLevelOptions,m=e.addEvent,x=e.find,i=e.fireEvent,k=e.isArray,v=e.isObject,b=e.isString,y=e.merge,s=e.pick,A=e.wrap,G=[],P=(O.compose=function(t,e,i,s){var r;return-1===G.indexOf(t)&&(G.push(t),-1===t.keepProps.indexOf("treeGrid")&&t.keepProps.push("treeGrid"),r=t.prototype,A(r,"generateTick",h),A(r,"init",c),A(r,"setTickInterval",p),r.utils={getNode:f.getNode}),-1===G.indexOf(s)&&(G.push(s),u=u||s),n.compose(t,e,s),o.compose(t,i),a.compose(s),t},O.prototype.setCollapsedStatus=function(s){var t=this.axis,r=t.chart;t.series.forEach(function(t){var e,i=t.options.data;s.id&&i&&(e=r.get(s.id),t=i[t.data.indexOf(e)],e&&t&&(e.collapsed=s.collapsed,t.collapsed=s.collapsed))})},O.prototype.collapse=function(t){var e=this.axis,i=e.options.breaks||[],s=r(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i},O.prototype.expand=function(t){var e=this.axis,i=e.options.breaks||[],s=r(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])},O.prototype.getTickPositions=function(){var i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,r=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){return!(s<=(e=+e)&&e<=r)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(e)||t.push(e),t},[])},O.prototype.isCollapsed=function(t){var e=this.axis,i=e.options.breaks||[],s=r(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})},O.prototype.toggleCollapse=function(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)},O);function O(t){this.axis=t}return P}),e(t,"masters/modules/treegrid.src.js",[t["Core/Globals.js"],t["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(t,e){e.compose(t.Axis,t.Chart,t.Series,t.Tick)})});