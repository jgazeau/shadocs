!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.StackItem,t._Highcharts.Axis,t._Highcharts.Color):"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts/highcharts"],function(t){return e(t,t.StackItem,t.Axis,t.Color)}):"object"==typeof exports?exports["highcharts/modules/treegrid"]=e(t._Highcharts,t._Highcharts.StackItem,t._Highcharts.Axis,t._Highcharts.Color):t.Highcharts=e(t.Highcharts,t.Highcharts.StackItem,t.Highcharts.Axis,t.Highcharts.Color)}("undefined"==typeof window?this:window,(qt,Ut,Vt,Kt)=>(()=>{"use strict";let d;var x,W={184:t=>{t.exports=Ut},532:t=>{t.exports=Vt},620:t=>{t.exports=Kt},944:t=>{t.exports=qt}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;e=i[t]={exports:{}};return W[t](e,e.exports,s),e.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(s.d(t,{default:()=>Xt}),s(944)),h=s.n(e),e=s(184),z=s.n(e);let{addEvent:r,find:H,fireEvent:f,isArray:R,isNumber:u,pick:m}=h();{function D(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function j(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function _(){let s=this.brokenAxis;if(s?.hasBreaks){let e=this.tickPositions,t=this.tickPositions.info,i=[];for(let t=0;t<e.length;t++)s.isInAnyBreak(e[t])||i.push(e[t]);this.tickPositions=i,this.tickPositions.info=t}}function F(){this.brokenAxis||(this.brokenAxis=new M(this))}function X(){let{isDirty:t,options:{connectNulls:s},points:r,xAxis:o,yAxis:n}=this;if(t){let i=r.length;for(;i--;){let t=r[i],e=(null!==t.y||!1!==s)&&(o?.brokenAxis?.isInAnyBreak(t.x,!0)||n?.brokenAxis?.isInAnyBreak(t.y,!0));t.visible=!e&&!1!==t.options.visible}}}function q(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,m(this.pointArrayMap,["y"]))}function U(s,t){let r,o,n,a=this,l=a.points;if(s?.brokenAxis?.hasBreaks){let i=s.brokenAxis;t.forEach(function(t){r=i?.breakArray||[],o=s.isXAxis?s.min:m(a.options.threshold,s.min);let e=s?.options?.breaks?.filter(function(e){let i=!0;for(let t=0;t<r.length;t++){var s=r[t];if(s.from===e.from&&s.to===e.to){i=!1;break}}return i});l.forEach(function(i){n=m(i["stack"+t.toUpperCase()],i[t]),r.forEach(function(e){if(u(o)&&u(n)){let t="";o<e.from&&n>e.to||o>e.from&&n<e.from?t="pointBreak":(o<e.from&&n>e.from&&n<e.to||o>e.from&&n>e.to&&n<e.from)&&(t="pointInBreak"),t&&f(s,t,{point:i,brk:e})}}),e?.forEach(function(t){f(s,"pointOutsideOfBreak",{point:i,brk:t})})})})}}function V(){let t=this.currentDataGrouping,i=t?.gapSize,s=this.points.slice(),r=this.yAxis,o=this.options.gapSize,n=s.length-1;if(o&&0<n){let t,e;for("value"!==this.options.gapUnit&&(o*=this.basePointRange),i&&i>o&&i>=this.basePointRange&&(o=i);n--;){var a;e&&!1!==e.visible||(e=s[n+1]),t=s[n],!1!==e.visible&&!1!==t.visible&&(e.x-t.x>o&&(a=(t.x+e.x)/2,s.splice(n+1,0,{isNull:!0,x:a}),r.stacking&&this.options.stacking&&((r.stacking.stacks[this.stackKey][a]=new(z())(r,r.options.stackLabels,!1,a,this.stack)).total=0)),e=t)}}return this.getGraphPath(s)}(e=S=S||{}).compose=function(e,i){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),r(e,"init",F),r(e,"afterInit",D),r(e,"afterSetTickPositions",_),r(e,"afterSetOptions",j);let t=i.prototype;t.drawBreaks=U,t.gappedPath=V,r(i,"afterGeneratePoints",X),r(i,"afterRender",q)}return e};class M{static isInBreak(t,e){var i=t.repeat||1/0,s=t.from,r=t.to-t.from,s=s<=e?(e-s)%i:i-(s-e)%i;return t.inclusive?s<=r:s<r&&0!=s}static lin2Val(t){var e=this.brokenAxis?.breakArray;if(!e||!u(t))return t;let i=t,s,r;for(r=0;r<e.length&&!((s=e[r]).from>=i);r++)(s.to<i||M.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(t){var e=this.brokenAxis?.breakArray;if(!e||!u(t))return t;let i=t,s,r;for(r=0;r<e.length;r++)if((s=e[r]).to<=t)i-=s.len;else{if(s.from>=t)break;if(M.isInBreak(s,t)){i-=t-s.from;break}}return i}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(e,t){return H(t,function(t){return t.from<e&&e<t.to})}isInAnyBreak(t,e){let i=this.axis,s=i.options.breaks||[],r=s.length,o,n,a;if(r&&u(t)){for(;r--;)M.isInBreak(s[r],t)&&(o=!0,n=n||m(s[r].showPoints,!i.isXAxis));a=o&&e?o&&!n:o}return a}setBreaks(t,e){let c=this,p=c.axis,i=p.chart.time,s=R(t)&&!!t.length&&!!Object.keys(t[0]).length;p.isDirty=c.hasBreaks!==s,c.hasBreaks=s,t?.forEach(t=>{t.from=i.parse(t.from)||0,t.to=i.parse(t.to)||0}),t!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=t),p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),s||p.val2lin!==M.val2Lin||(delete p.val2lin,delete p.lin2val),s&&(p.userOptions.ordinal=!1,p.lin2val=M.lin2Val,p.val2lin=M.val2Lin,p.setExtremes=function(i,s,t,e,r){if(c.hasBreaks){let t,e=this.options.breaks||[];for(;t=c.findBreakAt(i,e);)i=t.to;for(;t=c.findBreakAt(s,e);)s=t.from;s<i&&(s=i)}p.constructor.prototype.setExtremes.call(this,i,s,t,e,r)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks){let t=p.options.breaks||[],e=[],i=[],s=m(p.pointRangePadding,0),r=0,o,n,a=p.userMin||p.min,l=p.userMax||p.max,d,h;t.forEach(function(t){n=t.repeat||1/0,u(a)&&u(l)&&(M.isInBreak(t,a)&&(a+=t.to%n-a%n),M.isInBreak(t,l)&&(l-=l%n-t.from%n))}),t.forEach(function(t){if(d=t.from,n=t.repeat||1/0,u(a)&&u(l)){for(;d-n>a;)d-=n;for(;d<a;)d+=n;for(h=d;h<l;h+=n)e.push({value:h,move:"in"}),e.push({value:h+t.to-t.from,move:"out",size:t.breakSize})}}),e.sort(function(t,e){return t.value===e.value?("in"!==t.move)-("in"!==e.move):t.value-e.value}),o=0,d=a,e.forEach(function(t){1===(o+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===o&&u(d)&&(i.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),r+=t.value-d-(t.size||0))}),c.breakArray=i,u(a)&&u(l)&&u(p.min)&&(c.unitLength=l-a-r+s,f(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:c.unitLength&&(p.transA*=(l-p.min+s)/c.unitLength),s&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=a,p.max=l)}}),m(e,!0)&&p.chart.redraw()}}e.Additions=M}let o=S;var e=s(532),K=s.n(e);let n=h()["dateFormats"],{addEvent:a,defined:l,erase:c,find:Y,isArray:J,isNumber:b,merge:p,pick:k,timeUnits:Q,wrap:g}=h();function v(t){return h().isObject(t,!0)}function Z(o,t){let n={width:0,height:0};return t.forEach(function(t){let e=o[t],i,s=0,r;v(e)&&(i=(r=v(e.label)?e.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!b(r.textPxLength)&&(r.textPxLength=r.getBBox().width),s=b(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(s=Math.round(r.getBBox().width)),n.height=Math.max(i,n.height),n.width=Math.max(s,n.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,n.width+=this.options.labels.indentation*(t-1)),n}function $(t){var e=this["grid"],i=3===this.side;if(i||t.apply(this),!e?.isColumn){let t=e?.columns||[];(t=i?t.slice().reverse():t).forEach(t=>{t.getOffset()})}i&&t.apply(this)}function tt(g){if(!0===(this.options.grid||{}).enabled){let{axisTitle:t,height:e,horiz:i,left:s,offset:r,opposite:o,options:n,top:a,width:l}=this,d=this.tickSize(),h=t?.getBBox().width,c=n.title.x,p=n.title.y,f=k(n.title.margin,i?5:10),u=t?this.chart.renderer.fontMetrics(t).f:0,m=(i?a+e:s)+(i?1:-1)*(o?-1:1)*(d?d[0]/2:0)+(this.side===x.bottom?u:0);g.titlePosition.x=i?s-(h||0)/2-f+c:m+(o?l:0)+r+c,g.titlePosition.y=i?m-(o?e:0)+(o?u:-u)/2+r+p:a-f+p}}function et(){var{chart:r,options:{grid:o={}},userOptions:n}=this;if(o.enabled){var e=this;let t=e.options;t.labels.align=k(t.labels.align,"center"),e.categories||(t.showLastLabel=!1),e.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1}if(o.columns){let i=this.grid.columns=[],s=this.grid.columnIndex=0;for(;++s<o.columns.length;){let t=p(n,o.columns[s],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),e=new(K())(this.chart,t,"yAxis");e.grid.isColumn=!0,e.grid.columnIndex=s,c(r.axes,e),c(r[this.coll]||[],e),i.push(e)}}}function it(){let{axisTitle:t,grid:e,options:r}=this;if(!0===(r.grid||{}).enabled){var n=this.min||0,a=this.max||0,o=this.ticks[this.tickPositions[0]];if(t&&!this.chart.styledMode&&o?.slotWidth&&!this.options.title.style.width&&t.css({width:o.slotWidth+"px"}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid?.isOuterAxis()&&this.axisLine){var l,o=r.lineWidth;if(o){let t=this.getLinePath(o),e=t[0],i=t[1],s=(this.tickSize("tick")||[1])[0]*(this.side===x.top||this.side===x.left?-1:1);"M"===e[0]&&"L"===i[0]&&(this.horiz?(e[2]+=s,i[2]+=s):(e[1]+=s,i[1]+=s)),!this.horiz&&this.chart.marginRight&&(o=["L",this.left,e[2]||0],o=[e,o],l=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],l=[["M",i[1]||0,this.toPixels(a+this.tickmarkOffset)],l],this.grid.upperBorder||n%1==0||(this.grid.upperBorder=this.grid.renderBorder(o)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.upperBorder.animate({d:o})),this.grid.lowerBorder||a%1==0||(this.grid.lowerBorder=this.grid.renderBorder(l)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.lowerBorder.animate({d:l}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.axisLineExtra.animate({d:t})):this.grid.axisLineExtra=this.grid.renderBorder(t),this.axisLine[this.showAxis?"show":"hide"]()}}if((e?.columns||[]).forEach(t=>t.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent?.scrollbar)&&this.tickPositions.length){let t,e,i=this.tickmarkOffset,s=this.tickPositions[this.tickPositions.length-1],r=this.tickPositions[0];for(;(t=this.hiddenLabels.pop())&&t.element;)t.show();for(;(e=this.hiddenMarks.pop())&&e.element;)e.show();(t=this.ticks[r].label)&&(i<n-r?this.hiddenLabels.push(t.hide()):t.show()),(t=this.ticks[s].label)&&(i<s-a?this.hiddenLabels.push(t.hide()):t.show());let o=this.ticks[s].mark;o&&s-a<i&&0<s-a&&this.ticks[s].isLast&&this.hiddenMarks.push(o.hide())}}}function st(){let t=this.tickPositions?.info,e=this.options,i=e.grid||{},s=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(t=>{t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!l(s.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",l(s.x)||(e.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function rt(t){let d,e=this.options,i=t.userOptions,s=e&&v(e.grid)?e.grid:{};!0===s.enabled&&(d=p(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(l(i.linkedTo)&&!l(i.tickPixelInterval)&&(d.tickPixelInterval=350),l(i.tickPixelInterval)||!l(i.linkedTo)||l(i.tickPositioner)||l(i.tickInterval)||l(i.units)||(d.tickPositioner=function(r,o){var n=this.linkedParent?.tickPositions?.info;if(n){let e=d.units||[],i,t=1,s="year";for(let t=0;t<e.length;t++){var a=e[t];if(a&&a[0]===n.unitName){i=t;break}}var l=b(i)&&e[i+1],l=(l?(s=l[0]||"year",l=l[1],t=l?.[0]||1):"year"===n.unitName&&(t=10*n.count),Q[s]);return this.tickInterval=l*t,this.chart.time.getTimeTicks({unitRange:l,count:t,unitName:s},r,o,this.options.startOfWeek)}})),p(!0,this.options,d),this.horiz&&(e.minPadding=k(i.minPadding,0),e.maxPadding=k(i.maxPadding,0)),b(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=s.borderWidth))}function ot(t){var t=t.userOptions?.grid||{},e=t.columns;t.enabled&&e&&p(!0,this.options,e[0])}function nt(){(this.grid.columns||[]).forEach(t=>t.setScale())}function at(t){var e,{horiz:i,maxLabelDimensions:s,options:{grid:r={}}}=this;r.enabled&&s&&(e=2*this.options.labels.distance,i=i?r.cellHeight||e+s.height:e+s.width,J(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i,0])}function lt(){this.axes.forEach(t=>{(t.grid?.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function dt(e){let t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(e.keepEvents)),t.columns=void 0}function ht(t){let e=t.userOptions||{},i=e.grid||{};i.enabled&&l(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),this.grid||(this.grid=new mt(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function ct(r){let o=this.label,n=this.axis,a=n.reversed,l=n.chart,t=n.options.grid||{},d=n.options.labels,h=d.align,c=x[n.side],e=r.tickmarkOffset,i=n.tickPositions,p=this.pos-e,f=b(i[r.index+1])?i[r.index+1]-e:(n.max||0)+e,s=n.tickSize("tick"),u=s?s[0]:0,m=s?s[1]/2:0;if(!0===t.enabled){let t,e,i,s;var g,k;"top"===c?e=(t=n.top+n.offset)-u:"bottom"===c?t=(e=l.chartHeight-n.bottom+n.offset)+u:(t=n.top+n.len-(n.translate(a?f:p)||0),e=n.top+n.len-(n.translate(a?p:f)||0)),"right"===c?s=(i=l.chartWidth-n.right+n.offset)+u:"left"===c?i=(s=n.left+n.offset)-u:(i=Math.round(n.left+(n.translate(a?f:p)||0))-m,s=Math.min(Math.round(n.left+(n.translate(a?p:f)||0))-m,n.left+n.len)),this.slotWidth=s-i,r.pos.x="left"===h?i:"right"===h?s:i+(s-i)/2,r.pos.y=e+(t-e)/2,o&&(g=l.renderer.fontMetrics(o),k=o.getBBox().height,d.useHTML?r.pos.y+=g.b+-k/2:(k=Math.round(k/g.h),r.pos.y+=(g.b-(g.h-g.f))/2+-((k-1)*g.h)/2)),r.pos.x+=n.horiz&&d.x||0}}function pt(n){let{axis:a,value:l}=n;if(a.options.grid?.enabled){let t,e=a.tickPositions,i=(a.linkedParent||a).series[0],s=l===e[0],r=l===e[e.length-1],o=i&&Y(i.options.data,function(t){return t[a.isXAxis?"x":"y"]===l});o&&i.is("gantt")&&(t=p(o),h().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t,a.chart)),n.isFirst=s,n.isLast=r,n.point=t}}function ft(){let t=this.options,e=t.grid||{},i=this.categories,s=this.tickPositions,r=s[0],o=s[1],n=s[s.length-1],a=s[s.length-2],l=this.linkedParent?.min,d=this.linkedParent?.max,h=l||this.min,c=d||this.max,p=this.tickInterval,f=b(h)&&r+p<=h&&h<o,u=b(h)&&r<h&&h<r+p,m=b(c)&&c<n&&n-p<c,g=b(c)&&c<=n-p&&a<c;!0!==e.enabled||i||!this.isXAxis&&!this.isLinked||(!u&&!f||t.startOnTick||(s[0]=h),!m&&!g||t.endOnTick||(s[s.length-1]=c))}function ut(t){var{options:{grid:e={}}}=this;return!0===e.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}(S=x=x||{})[S.top=0]="top",S[S.right=1]="right",S[S.bottom=2]="bottom",S[S.left=3]="left";class mt{constructor(t){this.axis=t}isOuterAxis(){let i=this.axis,t=i.chart,e=i.grid.columnIndex,s=i.linkedParent?.grid.columns||i.grid.columns||[],r=e?i.linkedParent:i,o=-1,n=0;return 3===i.side&&!t.inverted&&s.length?!i.linkedParent:((t[i.coll]||[]).forEach((t,e)=>{t.side!==i.side||t.options.isInternal||(n=e,t===r&&(o=e))}),n===o&&(!b(e)||s.length===e))}renderBorder(t){let e=this.axis,i=e.chart.renderer,s=e.options,r=i.path(t).addClass("highcharts-axis-line").add(e.axisGroup);return i.styledMode||r.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),r}}n.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},n.W=function(t){let e=this.toParts(t),i=(e[7]+6)%7,s=e.slice(0);s[2]=e[2]-i+3;t=this.toParts(this.makeTime(s[0],0,1));return 4!==t[7]&&(e[1]=0,e[2]=1+(11-t[7])%7),(1+Math.floor((this.makeTime(s[0],s[1],s[2])-this.makeTime(t[0],t[1],t[2]))/6048e5)).toString()};let gt={compose:function(t,e,i){return t.keepProps.includes("grid")||(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=Z,g(t.prototype,"unsquish",ut),g(t.prototype,"getOffset",$),a(t,"init",ht),a(t,"afterGetTitlePosition",tt),a(t,"afterInit",et),a(t,"afterRender",it),a(t,"afterSetAxisTranslation",st),a(t,"afterSetOptions",rt),a(t,"afterSetOptions",ot),a(t,"afterSetScale",nt),a(t,"afterTickSize",at),a(t,"trimTicks",ft),a(t,"destroy",dt),a(e,"afterSetChartSize",lt),a(i,"afterGetLabelPosition",ct),a(i,"labelFormat",pt)),t}},{extend:kt,isNumber:xt,pick:bt}=h();function y(s,t,r,e,o,n){let i=n&&n.after,a=n&&n.before,l={data:e,depth:r-1,id:s,level:r,parent:t||""},d=0,h=0,c,p;"function"==typeof a&&a(l,n);t=(o[s]||[]).map(t=>{var e=y(t.id,s,r+1,t,o,n),i=t.start||NaN,t=!0===t.milestone?i:t.end||NaN;return c=!xt(c)||i<c?i:c,p=!xt(p)||t>p?t:p,d=d+1+e.descendants,h=Math.max(e.height+1,h),e});return e&&(e.start=bt(e.start,c),e.end=bt(e.end,p)),kt(l,{children:t,descendants:d,height:h}),"function"==typeof i&&i(l,n),l}let P={getNode:y,getTree:function(t,e){return y("",null,1,null,function(){let r=[],i=t.reduce((t,e)=>{var{parent:i="",id:s}=e;return void 0===t[i]&&(t[i]=[]),t[i].push(e),s&&r.push(s),t},{});return Object.keys(i).forEach(t=>{var e;""!==t&&-1===r.indexOf(t)&&(e=i[t].map(function(t){let{...e}=t;return e}),i[""].push(...e),delete i[t])}),i}(),e)}},{addEvent:B,removeEvent:vt,isObject:T,isNumber:yt,pick:w,wrap:Pt}=h();function Gt(){this.treeGrid||(this.treeGrid=new G(this))}function At(t,e,i,s,r,o,n,a,l){let d,h=w(this.options?.labels,o),c=this.pos,p=this.axis,f="treegrid"===p.type,u=t.apply(this,[e,i,s,r,h,n,a,l]);return f&&({width:o=0,padding:t=5*!p.linkedParent}=h&&T(h.symbol,!0)?h.symbol:{},e=h&&yt(h.indentation)?h.indentation:0,d=(p.treeGrid.mapOfPosToGridNode?.[c])?.depth||1,u.x+=o+2*t+(d-1)*e),u}function Ot(p){let f,{pos:t,axis:e,label:u,treeGrid:i,options:s}=this,r=i?.labelIcon,o=u?.element,{treeGrid:n,options:a,chart:l,tickPositions:d}=e,h=n.mapOfPosToGridNode,c=w(s?.labels,a?.labels),m=c&&T(c.symbol,!0)?c.symbol:{},g=h?.[t],{descendants:k,depth:x}=g||{},b=g&&k&&0<k,v="treegrid"===e.type&&o,y=-1<d.indexOf(t),P="highcharts-treegrid-node-",G=P+"level-",A=l.styledMode;if(v&&g&&u.removeClass(RegExp(G+".*")).addClass(G+x),p.apply(this,Array.prototype.slice.call(arguments,1)),v&&b){f=n.isCollapsed(g);{var p=this,O={color:!A&&u.styles.color||"",collapsed:f,group:u.parentGroup,options:m,renderer:u.renderer,show:y,xy:u.xy};let t=p.treeGrid,e=!t.labelIcon,i=O.renderer,s=O.xy,r=O.options,o=r.width||0,n=r.height||0,a=r.padding??p.axis.linkedParent?0:5,l={x:s.x-o/2-a,y:s.y-n/2},d=O.collapsed?90:180,h=O.show&&yt(l.y),c=t.labelIcon;c||(t.labelIcon=c=i.path(i.symbols[r.type](r.x||0,r.y||0,o,n)).addClass("highcharts-label-icon").add(O.group)),c[h?"show":"hide"](),i.styledMode||c.attr({cursor:"pointer",fill:w(O.color,"#666666"),"stroke-width":1,stroke:r.lineColor,strokeWidth:r.lineWidth||0}),c[e?"attr":"animate"]({translateX:l.x,translateY:l.y,rotation:d})}u.addClass(P+(f?"collapsed":"expanded")).removeClass(P+(f?"expanded":"collapsed")),A||u.css({cursor:"pointer"}),[u,r].forEach(t=>{t&&!t.attachedTreeGridEvents&&(B(t.element,"mouseover",function(){u.addClass("highcharts-treegrid-node-active"),u.renderer.styledMode||u.css({textDecoration:"underline"})}),B(t.element,"mouseout",function(){var t=T(c.style)?c.style:{};u.removeClass("highcharts-treegrid-node-active"),u.renderer.styledMode||u.css({textDecoration:t.textDecoration||"none"})}),B(t.element,"click",function(){i.toggleCollapse()}),t.attachedTreeGridEvents=!0)})}else r&&(vt(o),u?.css({cursor:"default"}),r.destroy())}class G{static compose(t){let e=t.prototype;e.toggleCollapse||(B(t,"init",Gt),Pt(e,"getLabelPosition",At),Pt(e,"renderLabel",Ot),e.collapse=function(t){this.treeGrid.collapse(t)},e.expand=function(t){this.treeGrid.expand(t)},e.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){let e=this.tick,i=e.axis,s=i.brokenAxis;var r;s&&i.treeGrid.mapOfPosToGridNode&&(r=e.pos,r=i.treeGrid.mapOfPosToGridNode[r],r=i.treeGrid.collapse(r),s.setBreaks(r,w(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){let{pos:e,axis:i}=this.tick,{treeGrid:s,brokenAxis:r}=i,o=s.mapOfPosToGridNode;var n;r&&o&&(n=o[e],n=s.expand(n),r.setBreaks(n,w(t,!0)))}toggleCollapse(t){let e=this.tick,i=e.axis,s=i.brokenAxis;var r;s&&i.treeGrid.mapOfPosToGridNode&&(r=e.pos,r=i.treeGrid.mapOfPosToGridNode[r],r=i.treeGrid.toggleCollapse(r),s.setBreaks(r,w(t,!0)))}}e=s(620),s.n(e);let{isArray:Bt,isNumber:A,isObject:O,merge:E,pick:Tt}=h(),wt={getLevelOptions:function(t){let o,e,i,n,s,r,a={};if(O(t))for(n=A(t.from)?t.from:1,r=t.levels,e={},o=O(t.defaults)?t.defaults:{},Bt(r)&&(e=r.reduce((t,e)=>{let i,s,r;return O(e)&&A(e.level)&&(s=Tt((r=E({},e)).levelIsConstant,o.levelIsConstant),delete r.levelIsConstant,delete r.level,O(t[i=e.level+(s?0:n-1)])?E(!0,t[i],r):t[i]=r),t},{})),s=A(t.to)?t.to:1,i=0;i<=s;i++)a[i]=E({},o,O(e[i])?e[i]:{});return a}}["getLevelOptions"],{addEvent:I,isArray:Et,splat:It,find:Nt,fireEvent:Ct,isObject:N,isString:Lt,merge:St,pick:Mt,removeEvent:Wt,wrap:C}=h();function L(t,e){let i=t.collapseEnd||0,s=t.collapseStart||0;return e<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function zt(t,e,i){let a=[],r=[],l={},d=e||!1,h={},c=-1,s=P.getTree(t,{after:function(t){let e=h[t.pos],i=0,s=0;e.children.forEach(function(t){s+=(t.descendants||0)+1,i=Math.max((t.height||0)+1,i)}),e.descendants=s,e.height=i,e.collapsed&&r.push(e)},before:function(t){let e,i,s=N(t.data,!0)?t.data:{},r=Lt(s.name)?s.name:"",o=l[t.parent],n=N(o,!0)?h[o.pos]:null;d&&N(n,!0)&&(e=Nt(n.children,function(t){return t.name===r}))?(i=e.pos,e.nodes.push(t)):i=c++,h[i]||(h[i]=e={depth:n?n.depth+1:0,name:r,id:s.id,nodes:[t],children:[],pos:i},-1!==i&&a.push(r),N(n,!0)&&n.children.push(e)),Lt(t.id)&&(l[t.id]=t),e&&!0===s.collapsed&&(e.collapsed=!0),t.pos=i}});return{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:h=function(t,a){let l=function(t,i,e){let s=t.nodes,r=i+(-1===i?0:a-1),o=(r-i)/2,n=i+o;return s.forEach(function(t){let e=t.data;N(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=n}),(e[n]=t).pos=n,t.tickmarkOffset=.5+o,t.collapseStart=r+.5,t.children.forEach(function(t){l(t,r+1,e),r=(t.collapseEnd||0)-.5}),t.collapseEnd=r+.5,e};return l(t[-1],-1,{})}(h,i),collapsedNodes:r,tree:s}}function Ht(h){let c=h.target;c.axes.filter(t=>"treegrid"===t.type).forEach(function(t){let e=t.options||{},i=e.labels,n=t.uniqueNames,s=c.time.parse(e.max),r=!t.treeGrid.mapOfPosToGridNode||t.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}),a=0,l,d;if(r){let o=[];if(l=t.series.reduce(function(e,i){let t=i.options.data||[],s=t[0],r=Array.isArray(s)&&!s.find(t=>"object"==typeof t);return o.push(r),i.visible&&(t.forEach(function(t){(r||i.options.keys?.length)&&(t=i.pointClass.prototype.optionsToObject.call({series:i},t),i.pointClass.setGanttPointAliases(t,c)),N(t,!0)&&(t.seriesIndex=a,e.push(t))}),!0===n&&a++),e},[]),s&&l.length<s)for(let t=l.length;t<=s;t++)l.push({name:t+"â€‹"});t.categories=(d=zt(l,n||!1,!0===n?a:1)).categories,t.treeGrid.mapOfPosToGridNode=d.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=d.tree,t.series.forEach(function(t,e){var i=(t.options.data||[]).map(function(i){return(o[e]||Et(i)&&t.options.keys&&t.options.keys.length)&&l.forEach(function(t){let e=It(i);0<=e.indexOf(t.x||0)&&0<=e.indexOf(t.x2||0)&&(i=t)}),N(i,!0)?St(i):i});t.visible&&t.setData(i,!1)}),t.treeGrid.mapOptionsToLevel=wt({defaults:i,from:1,levels:i?.levels,to:t.treeGrid.tree?.height}),"beforeRender"===h.type&&(t.treeGrid.collapsedNodes=d.collapsedNodes)}})}function Rt(t,e){let i=this.treeGrid.mapOptionsToLevel||{},s="treegrid"===this.type,r=this.ticks,o=r[e],n,a,l;s&&this.treeGrid.mapOfPosToGridNode?((n=i[(l=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(a={labels:n}),!o&&d?r[e]=o=new d(this,e,void 0,void 0,{category:l.name,tickmarkOffset:l.tickmarkOffset,options:a}):(o.parameters.category=l.name,o.options=a,o.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function Dt(t,e,i,s){let r=this,o="treegrid"===i.type;r.treeGrid||(r.treeGrid=new Ft(r)),o&&(I(e,"beforeRender",Ht),I(e,"beforeRedraw",Ht),I(e,"addSeries",function(t){t.options.data&&(t=zt(t.options.data,i.uniqueNames||!1,1),r.treeGrid.collapsedNodes=(r.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))}),I(r,"foundExtremes",function(){r.treeGrid.collapsedNodes&&r.treeGrid.collapsedNodes.forEach(function(e){var t=r.treeGrid.collapse(e);r.brokenAxis&&(r.brokenAxis.setBreaks(t,!1),r.treeGrid.collapsedNodes&&(r.treeGrid.collapsedNodes=r.treeGrid.collapsedNodes.filter(t=>e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd)))})}),I(r,"afterBreaks",function(){"yAxis"===r.coll&&!r.staticScale&&r.chart.options.chart.height&&(r.isDirty=!0)}),i=St({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),t.apply(r,[e,i,s]),o&&(r.hasNames=!0,r.options.showLastLabel=!0)}function jt(t){let e=this.options,i=this.chart.time,s="number"==typeof e.linkedTo?this.chart[this.coll]?.[e.linkedTo]:void 0;var r;"treegrid"===this.type?(this.min=this.userMin??i.parse(e.min)??this.dataMin,this.max=this.userMax??i.parse(e.max)??this.dataMax,Ct(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],s&&(r=s.getExtremes(),this.min=Mt(r.min,r.dataMin),this.max=Mt(r.max,r.dataMax),this.tickPositions=s.tickPositions),this.linkedParent=s):t.apply(this,Array.prototype.slice.call(arguments,1))}function _t(t){let i=this;"treegrid"===this.type&&i.visible&&i.tickPositions.forEach(function(t){let e=i.ticks[t];e.label?.attachedTreeGridEvents&&(Wt(e.label.element),e.label.attachedTreeGridEvents=!1)}),t.apply(i,Array.prototype.slice.call(arguments,1))}class Ft{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){let t=e.prototype;e.keepProps.push("treeGrid"),C(t,"generateTick",Rt),C(t,"init",Dt),C(t,"setTickInterval",jt),C(t,"redraw",_t),t.utils={getNode:P.getNode},d=d||s}return gt.compose(e,t,s),o.compose(e,i),G.compose(s),e}constructor(t){this.axis=t}setCollapsedStatus(r){let t=this.axis,o=t.chart;t.series.forEach(function(i){var s=i.options.data;if(r.id&&s){let t=o.get(r.id),e=s[i.data.indexOf(t)];t&&e&&(t.collapsed=r.collapsed,e.collapsed=r.collapsed)}})}collapse(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,r=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){e=+e;return e>=s&&e<=r&&!i.brokenAxis?.isInAnyBreak(e)&&t.push(e),t},[])}isCollapsed(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}var S=h();(class{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){let t=e.prototype;e.keepProps.push("treeGrid"),C(t,"generateTick",Rt),C(t,"init",Dt),C(t,"setTickInterval",jt),C(t,"redraw",_t),t.utils={getNode:P.getNode},d=d||s}return gt.compose(e,t,s),o.compose(e,i),G.compose(s),e}constructor(t){this.axis=t}setCollapsedStatus(r){let t=this.axis,o=t.chart;t.series.forEach(function(i){var s=i.options.data;if(r.id&&s){let t=o.get(r.id),e=s[i.data.indexOf(t)];t&&e&&(t.collapsed=r.collapsed,e.collapsed=r.collapsed)}})}collapse(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,r=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){return(e=+e)>=s&&e<=r&&!i.brokenAxis?.isInAnyBreak(e)&&t.push(e),t},[])}isCollapsed(t){let e=this.axis,i=e.options.breaks||[],s=L(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}).compose(S.Axis,S.Chart,S.Series,S.Tick);let Xt=h();return t.default})());