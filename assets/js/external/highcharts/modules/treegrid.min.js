!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],function(l,s){var e;let{addEvent:o,find:r,fireEvent:u,isArray:n,isNumber:f,pick:g}=s;{var t=e=e||{};let i=[];function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function d(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function h(){let s=this.brokenAxis;if(s?.hasBreaks){let t=this.tickPositions,e=this.tickPositions.info,i=[];for(let e=0;e<t.length;e++)s.isInAnyBreak(t[e])||i.push(t[e]);this.tickPositions=i,this.tickPositions.info=e}}function c(){this.brokenAxis||(this.brokenAxis=new b(this))}function p(){let{isDirty:e,options:{connectNulls:o},points:r,xAxis:n,yAxis:a}=this;if(e){let s=r.length;for(;s--;){let e=r[s],t=null===e.y&&!1===o,i=!t&&(n?.brokenAxis?.isInAnyBreak(e.x,!0)||a?.brokenAxis?.isInAnyBreak(e.y,!0));e.visible=!i&&!1!==e.options.visible}}}function m(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function k(s,e){let o,r,n,a=this,l=a.points;if(s?.brokenAxis?.hasBreaks){let i=s.brokenAxis;e.forEach(function(e){o=i?.breakArray||[],r=s.isXAxis?s.min:g(a.options.threshold,s.min);let t=s?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<o.length;e++){var s=o[e];if(s.from===t.from&&s.to===t.to){i=!1;break}}return i});l.forEach(function(i){n=g(i["stack"+e.toUpperCase()],i[e]),o.forEach(function(t){if(f(r)&&f(n)){let e="";r<t.from&&n>t.to||r>t.from&&n<t.from?e="pointBreak":(r<t.from&&n>t.from&&n<t.to||r>t.from&&n>t.to&&n<t.from)&&(e="pointInBreak"),e&&u(s,e,{point:i,brk:t})}}),t?.forEach(function(e){u(s,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function x(){let e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),o=this.yAxis,r=this.options.gapSize,n=s.length-1;if(r&&0<n){let e,t;for("value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);n--;){var a;t&&!1!==t.visible||(t=s[n+1]),e=s[n],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>r&&(a=(e.x+t.x)/2,s.splice(n+1,0,{isNull:!0,x:a}),o.stacking&&this.options.stacking&&((o.stacking.stacks[this.stackKey][a]=new l(o,o.options.stackLabels,!1,a,this.stack)).total=0)),t=e)}}return this.getGraphPath(s)}t.compose=function(e,t){if(s.pushUnique(i,e)&&(e.keepProps.push("brokenAxis"),o(e,"init",c),o(e,"afterInit",a),o(e,"afterSetTickPositions",h),o(e,"afterSetOptions",d)),s.pushUnique(i,t)){let e=t.prototype;e.drawBreaks=k,e.gappedPath=x,o(t,"afterGeneratePoints",p),o(t,"afterRender",m)}return e};class b{static isInBreak(e,t){var i=e.repeat||1/0,s=e.from,o=e.to-e.from,s=s<=t?(t-s)%i:i-(s-t)%i;return e.inclusive?s<=o:s<o&&0!=s}static lin2Val(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;let s=e,o,r;for(r=0;r<i.length&&!((o=i[r]).from>=s);r++)(o.to<s||b.isInBreak(o,s))&&(s+=o.len);return s}static val2Lin(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;let s=e,o,r;for(r=0;r<i.length;r++)if((o=i[r]).to<=e)s-=o.len;else{if(o.from>=e)break;if(b.isInBreak(o,e)){s-=e-o.from;break}}return s}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return r(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){let i=this.axis,s=i.options.breaks||[],o=s.length,r,n,a;if(o&&f(e)){for(;o--;)b.isInBreak(s[o],e)&&(r=!0,n=n||g(s[o].showPoints,!i.isXAxis));a=r&&t?r&&!n:r}return a}setBreaks(e,t){let c=this,p=c.axis,i=n(e)&&!!e.length&&!!Object.keys(e[0]).length;p.isDirty=c.hasBreaks!==i,c.hasBreaks=i,e!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=e),p.forceRedraw=!0,p.series.forEach(function(e){e.isDirty=!0}),i||p.val2lin!==b.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=b.lin2Val,p.val2lin=b.val2Lin,p.setExtremes=function(t,i,e,s,o){if(c.hasBreaks){let e;for(var r=this.options.breaks||[];e=c.findBreakAt(t,r);)t=e.to;for(;e=c.findBreakAt(i,r);)i=e.from;i<t&&(i=t)}p.constructor.prototype.setExtremes.call(this,t,i,e,s,o)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks){let e=p.options.breaks||[],t=[],i=[],s=g(p.pointRangePadding,0),o=0,r,n,a=p.userMin||p.min,l=p.userMax||p.max,d,h;e.forEach(function(e){n=e.repeat||1/0,f(a)&&f(l)&&(b.isInBreak(e,a)&&(a+=e.to%n-a%n),b.isInBreak(e,l)&&(l-=l%n-e.from%n))}),e.forEach(function(e){if(d=e.from,n=e.repeat||1/0,f(a)&&f(l)){for(;d-n>a;)d-=n;for(;d<a;)d+=n;for(h=d;h<l;h+=n)t.push({value:h,move:"in"}),t.push({value:h+e.to-e.from,move:"out",size:e.breakSize})}}),t.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),r=0,d=a,t.forEach(function(e){1===(r+="in"===e.move?1:-1)&&"in"===e.move&&(d=e.value),0===r&&f(d)&&(i.push({from:d,to:e.value,len:e.value-d-(e.size||0)}),o+=e.value-d-(e.size||0))}),c.breakArray=i,f(a)&&f(l)&&f(p.min)&&(c.unitLength=l-a-o+s,u(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:c.unitLength&&(p.transA*=(l-p.min+s)/c.unitLength),s&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=a,p.max=l)}}),g(t,!0)&&p.chart.redraw()}}t.Additions=b}return e}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(a,d,s){var b;let e=d["dateFormats"],{addEvent:o,defined:r,erase:l,find:h,isArray:n,isNumber:v,merge:c,pick:x,timeUnits:p,wrap:u}=s,f=(b={top:0,0:"top",right:1,1:"right",bottom:2,2:"bottom",left:3,3:"left"},[]);function g(e){return s.isObject(e,!0)}function m(r,e){let n={width:0,height:0};return e.forEach(function(e){let t=r[e],i,s=0,o;g(t)&&(i=(o=g(t.label)?t.label:{}).getBBox?o.getBBox().height:0,o.textStr&&!v(o.textPxLength)&&(o.textPxLength=o.getBBox().width),s=v(o.textPxLength)?Math.round(o.textPxLength):0,o.textStr&&(s=Math.round(o.getBBox().width)),n.height=Math.max(i,n.height),n.width=Math.max(s,n.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,n.width+=this.options.labels.indentation*(e-1)),n}function k(){let e=this["grid"];(e&&e.columns||[]).forEach(function(e){e.getOffset()})}function y(k){if(!0===(this.options.grid||{}).enabled){let{axisTitle:e,height:t,horiz:i,left:s,offset:o,opposite:r,options:n,top:a,width:l}=this,d=this.tickSize(),h=e&&e.getBBox().width,c=n.title.x,p=n.title.y,u=x(n.title.margin,i?5:10),f=e?this.chart.renderer.fontMetrics(e).f:0,g=d?d[0]/2:0,m=(i?a+t:s)+(i?1:-1)*(r?-1:1)*g+(this.side===b.bottom?f:0);k.titlePosition.x=i?s-(h||0)/2-u+c:m+(r?l:0)+o+c,k.titlePosition.y=i?m-(r?t:0)+(r?f:-f)/2+o+p:a-u+p}}function G(){var{chart:o,options:{grid:r={}},userOptions:n}=this;if(r.enabled){var t=this;let e=t.options;e.labels.align=x(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,e.minTickInterval=1}if(r.columns){let i=this.grid.columns=[],s=this.grid.columnIndex=0;for(;++s<r.columns.length;){let e=c(n,r.columns[r.columns.length-s-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),t=(delete e.grid.columns,new a(this.chart,e,"yAxis"));t.grid.isColumn=!0,t.grid.columnIndex=s,l(o.axes,t),l(o[this.coll]||[],t),i.push(t)}}}function P(){let e=this.grid,r=this.options,t=r.grid||{};if(!0===t.enabled){var n=this.min||0,a=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var l=r.lineWidth;if(l){let e=this.getLinePath(l),t=e[0],i=e[1],s=(this.tickSize("tick")||[1])[0],o=(s-1)*(this.side===b.top||this.side===b.left?-1:1);"M"===t[0]&&"L"===i[0]&&(this.horiz?(t[2]+=o,i[2]+=o):(t[1]+=o,i[1]+=o)),!this.horiz&&this.chart.marginRight&&(l=["L",this.left,t[2]||0],l=[t,l],d=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],d=[["M",i[1]||0,this.toPixels(a+this.tickmarkOffset)],d],this.grid.upperBorder||n%1==0||(this.grid.upperBorder=this.grid.renderBorder(l)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.upperBorder.animate({d:l})),this.grid.lowerBorder||a%1==0||(this.grid.lowerBorder=this.grid.renderBorder(d)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.lowerBorder.animate({d:d}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.axisLineExtra.animate({d:e})):this.grid.axisLineExtra=this.grid.renderBorder(e),this.axisLine[this.showAxis?"show":"hide"]()}}if((e&&e.columns||[]).forEach(e=>e.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){let e,t;for(var l=this.tickmarkOffset,d=this.tickPositions[this.tickPositions.length-1],s=this.tickPositions[0];(e=this.hiddenLabels.pop())&&e.element;)e.show();for(;(t=this.hiddenMarks.pop())&&t.element;)t.show();(e=this.ticks[s].label)&&(l<n-s?this.hiddenLabels.push(e.hide()):e.show()),(e=this.ticks[d].label)&&(l<d-a?this.hiddenLabels.push(e.hide()):e.show());let i=this.ticks[d].mark;i&&d-a<l&&0<d-a&&this.ticks[d].isLast&&this.hiddenMarks.push(i.hide())}}}function A(){let e=this.tickPositions&&this.tickPositions.info,t=this.options,i=t.grid||{},s=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(e=>{e.options.pointRange=0}),e&&t.dateTimeLabelFormats&&t.labels&&!r(s.align)&&(!1===t.dateTimeLabelFormats[e.unitName].range||1<e.count)&&(t.labels.align="left",r(s.x)||(t.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function T(e){let d,t=this.options,i=e.userOptions,s=t&&g(t.grid)?t.grid:{};!0===s.enabled&&(d=c(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(r(i.linkedTo)&&!r(i.tickPixelInterval)&&(d.tickPixelInterval=350),r(i.tickPixelInterval)||!r(i.linkedTo)||r(i.tickPositioner)||r(i.tickInterval)||(d.tickPositioner=function(o,r){var n=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(n){let t=d.units||[],i,e=1,s="year";for(let e=0;e<t.length;e++){var a=t[e];if(a&&a[0]===n.unitName){i=e;break}}var l=v(i)&&t[i+1],l=(l?(s=l[0]||"year",l=l[1],e=l&&l[0]||1):"year"===n.unitName&&(e=10*n.count),p[s]);return this.tickInterval=l*e,this.chart.time.getTimeTicks({unitRange:l,count:e,unitName:s},o,r,this.options.startOfWeek)}})),c(!0,this.options,d),this.horiz&&(t.minPadding=x(i.minPadding,0),t.maxPadding=x(i.maxPadding,0)),v(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=s.borderWidth))}function O(e){var e=e.userOptions,e=e&&e.grid||{},t=e.columns;e.enabled&&t&&c(!0,this.options,t[t.length-1])}function C(){(this.grid.columns||[]).forEach(e=>e.setScale())}function B(e){var t,{horiz:i,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(t=2*this.options.labels.distance,i=i?o.cellHeight||t+s.height:t+s.width,n(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function I(){this.axes.forEach(e=>{(e.grid&&e.grid.columns||[]).forEach(e=>{e.setAxisSize(),e.setAxisTranslation()})})}function N(t){let e=this["grid"];(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function w(e){let t=e.userOptions||{},i=t.grid||{};i.enabled&&r(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor),this.grid||(this.grid=new j(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function E(o){let r=this.label,n=this.axis,a=n.reversed,l=n.chart,e=n.options,t=e.grid||{},d=n.options.labels,h=d.align,c=b[n.side],i=o.tickmarkOffset,s=n.tickPositions,p=this.pos-i,u=v(s[o.index+1])?s[o.index+1]-i:(n.max||0)+i,f=n.tickSize("tick"),g=f?f[0]:0,m=f?f[1]/2:0;if(!0===t.enabled){let e,t,i,s;var k,x;"top"===c?t=(e=n.top+n.offset)-g:"bottom"===c?e=(t=l.chartHeight-n.bottom+n.offset)+g:(e=n.top+n.len-(n.translate(a?u:p)||0),t=n.top+n.len-(n.translate(a?p:u)||0)),"right"===c?s=(i=l.chartWidth-n.right+n.offset)+g:"left"===c?i=(s=n.left+n.offset)-g:(i=Math.round(n.left+(n.translate(a?u:p)||0))-m,s=Math.min(Math.round(n.left+(n.translate(a?p:u)||0))-m,n.left+n.len)),this.slotWidth=s-i,o.pos.x="left"===h?i:"right"===h?s:i+(s-i)/2,o.pos.y=t+(e-t)/2,r&&(k=l.renderer.fontMetrics(r),x=r.getBBox().height,d.useHTML?o.pos.y+=k.b+-x/2:(x=Math.round(x/k.h),o.pos.y+=(k.b-(k.h-k.f))/2+-((x-1)*k.h)/2)),o.pos.x+=n.horiz&&d.x||0}}function L(n){let{axis:a,value:l}=n;if(a.options.grid&&a.options.grid.enabled){let e,t=a.tickPositions,i=(a.linkedParent||a).series[0],s=l===t[0],o=l===t[t.length-1],r=i&&h(i.options.data,function(e){return e[a.isXAxis?"x":"y"]===l});r&&i.is("gantt")&&(e=c(r),d.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(e)),n.isFirst=s,n.isLast=o,n.point=e}}function S(){let e=this.options,t=e.grid||{},i=this.categories,s=this.tickPositions,o=s[0],r=s[s.length-1],n=this.linkedParent&&this.linkedParent.min,a=this.linkedParent&&this.linkedParent.max,l=n||this.min,d=a||this.max,h=this.tickInterval;!0!==t.enabled||i||!this.horiz&&!this.isLinked||(o<l&&l<o+h&&!e.startOnTick&&(s[0]=l),d<r&&r-h<d&&!e.endOnTick&&(s[s.length-1]=d))}function M(e){var{options:{grid:t={}}}=this;return!0===t.enabled&&this.categories?this.tickInterval:e.apply(this,Array.prototype.slice.call(arguments,1))}class j{constructor(e){this.axis=e}isOuterAxis(){let i=this.axis,e=i.chart,t=i.grid.columnIndex,s=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,o=t?i.linkedParent:i,r=-1,n=0;return(e[i.coll]||[]).forEach((e,t)=>{e.side!==i.side||e.options.isInternal||(n=t,e===o&&(r=t))}),n===r&&(!v(t)||s.length===t)}renderBorder(e){let t=this.axis,i=t.chart.renderer,s=t.options,o=i.path(e).addClass("highcharts-axis-line").add(t.axisBorder);return i.styledMode||o.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),o}}return e.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},e.W=function(e){let t=this,i=new this.Date(e),s=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(e){t.set(e,i,0)}),(this.get("Day",i)+6)%7),o=new this.Date(i.valueOf()),r=(this.set("Date",o,this.get("Date",i)-s+3),new this.Date(this.get("FullYear",o),0,1));return 4!==this.get("Day",r)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",r))%7)),(1+Math.floor((o.valueOf()-r.valueOf())/6048e5)).toString()},{compose:function(e,t,i){return s.pushUnique(f,e)&&(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=m,u(e.prototype,"unsquish",M),o(e,"init",w),o(e,"afterGetOffset",k),o(e,"afterGetTitlePosition",y),o(e,"afterInit",G),o(e,"afterRender",P),o(e,"afterSetAxisTranslation",A),o(e,"afterSetOptions",T),o(e,"afterSetOptions",O),o(e,"afterSetScale",C),o(e,"afterTickSize",B),o(e,"trimTicks",S),o(e,"destroy",N)),s.pushUnique(f,t)&&o(t,"afterSetChartSize",I),s.pushUnique(f,i)&&(o(i,"afterGetLabelPosition",E),o(i,"labelFormat",L)),e}}}),t(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){let{extend:u,isNumber:f,pick:g}=e;function m(s,e,o,t,r,n){let i=n&&n.after,a=n&&n.before,l={data:t,depth:o-1,id:s,level:o,parent:e||""},d=0,h=0,c,p;"function"==typeof a&&a(l,n);e=(r[s]||[]).map(e=>{var t=m(e.id,s,o+1,e,r,n),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return c=!f(c)||i<c?i:c,p=!f(p)||e>p?e:p,d=d+1+t.descendants,h=Math.max(t.height+1,h),t});return t&&(t.start=g(t.start,c),t.end=g(t.end,p)),u(l,{children:e,descendants:d,height:h}),"function"==typeof i&&i(l,n),l}return{getNode:m,getTree:function(e,t){return m("",null,1,null,e.reduce((e,t)=>{var i=g(t.parent,"");return void 0===e[i]&&(e[i]=[]),e[i].push(t),e},{}),t)}}}),t(e,"Core/Axis/TreeGrid/TreeGridTick.js",[e["Core/Utilities.js"]],function(t){let{addEvent:d,isObject:b,isNumber:v,pick:y,wrap:i}=t,s=[];function o(){this.treeGrid||(this.treeGrid=new e(this))}function r(e,t,i,s,o,r,n,a,l){let d=y(this.options&&this.options.labels,r),h=this.pos,c=this.axis,p=c.options,u="treegrid"===p.type,f=e.apply(this,[t,i,s,o,d,n,a,l]);return u&&(r=d&&b(d.symbol,!0)?d.symbol:{},e=d&&v(d.indentation)?d.indentation:0,s=(i=(t=c.treeGrid.mapOfPosToGridNode)&&t[h])&&i.depth||1,f.x+=(r.width||0)+2*(r.padding||0)+(s-1)*e),f}function n(c){let p=this,e=p.pos,t=p.axis,u=p.label,i=t.treeGrid.mapOfPosToGridNode,s=t.options,o=y(p.options&&p.options.labels,s&&s.labels),f=o&&b(o.symbol,!0)?o.symbol:{},r=i&&i[e],n=r&&r.depth,a="treegrid"===s.type,g=-1<t.tickPositions.indexOf(e),l="highcharts-treegrid-node-",m=t.chart.styledMode;if(a&&r&&u&&u.element&&u.addClass(l+"level-"+n),c.apply(p,Array.prototype.slice.call(arguments,1)),a&&u&&u.element&&r&&r.descendants&&0<r.descendants){c=t.treeGrid.isCollapsed(r);{var k=p,x={color:!m&&u.styles&&u.styles.color||"",collapsed:c,group:u.parentGroup,options:f,renderer:u.renderer,show:g,xy:u.xy};let e=k.treeGrid,t=!e.labelIcon,i=x.renderer,s=x.xy,o=x.options,r=o.width||0,n=o.height||0,a={x:s.x-r/2-(o.padding||0),y:s.y-n/2},l=x.collapsed?90:180,d=x.show&&v(a.y),h=e.labelIcon;h||(e.labelIcon=h=i.path(i.symbols[o.type](o.x||0,o.y||0,r,n)).addClass("highcharts-label-icon").add(x.group)),h[d?"show":"hide"](),i.styledMode||h.attr({cursor:"pointer",fill:y(x.color,"#666666"),"stroke-width":1,stroke:o.lineColor,strokeWidth:o.lineWidth||0}),h[t?"attr":"animate"]({translateX:a.x,translateY:a.y,rotation:l})}k=l+(c?"expanded":"collapsed"),u.addClass(l+(c?"collapsed":"expanded")).removeClass(k),m||u.css({cursor:"pointer"}),[u,p.treeGrid.labelIcon].forEach(e=>{e&&!e.attachedTreeGridEvents&&(d(e.element,"mouseover",function(){u.addClass("highcharts-treegrid-node-active"),u.renderer.styledMode||u.css({textDecoration:"underline"})}),d(e.element,"mouseout",function(){var e=u,t=o;t=b(t.style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration})}),d(e.element,"click",function(){p.treeGrid.toggleCollapse()}),e.attachedTreeGridEvents=!0)})}}class e{static compose(e){t.pushUnique(s,e)&&(d(e,"init",o),i(e.prototype,"getLabelPosition",r),i(e.prototype,"renderLabel",n),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,y(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.expand(o),s.setBreaks(o,y(e,!0)))}toggleCollapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,y(e,!0)))}}return class{static compose(e){t.pushUnique(s,e)&&(d(e,"init",o),i(e.prototype,"getLabelPosition",r),i(e.prototype,"renderLabel",n),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,y(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.expand(o),s.setBreaks(o,y(e,!0)))}toggleCollapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,y(e,!0)))}}}),t(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(x,e){let{extend:f,isArray:l,isNumber:d,isObject:h,merge:c,pick:b}=e;return{getColor:function(e,t){let i,s,o,r,n,a,l=t.index,d=t.mapOptionsToLevel,h=t.parentColor,c=t.parentColorIndex,p=t.series,u=t.colors,f=t.siblings,g=p.points,m=p.chart.options.chart;return e&&(i=g[e.i],s=d[e.level]||{},i&&s.colorByPoint&&(r=i.index%(u?u.length:m.colorCount),o=u&&u[r]),p.chart.styledMode||(n=b(i&&i.options.color,s&&s.color,o,h&&(e=h,(k=s&&s.colorVariation)&&"brightness"===k.key&&l&&f?x.parse(e).brighten(k.to*(l/f)).get():e),p.color)),a=b(i&&i.options.colorIndex,s&&s.colorIndex,r,c,t.colorIndex)),{color:n,colorIndex:a};var k},getLevelOptions:function(e){let t={},r,i,s,n,o,a;if(h(e))for(n=d(e.from)?e.from:1,a=e.levels,i={},r=h(e.defaults)?e.defaults:{},l(a)&&(i=a.reduce((e,t)=>{let i,s,o;return h(t)&&d(t.level)&&(s=b((o=c({},t)).levelIsConstant,r.levelIsConstant),delete o.levelIsConstant,delete o.level,h(e[i=t.level+(s?0:n-1)])?c(!0,e[i],o):e[i]=o),e},{})),o=d(e.to)?e.to:1,s=0;s<=o;s++)t[s]=c({},r,h(i[s])?i[s]:{});return t},setTreeValues:function s(o,r){let e=r.before,t=r.idRoot,i=r.mapIdToNode,n=i[t],a=!1!==r.levelIsConstant,l=r.points,d=l[o.i],h=d&&d.options||{},c=[],p=0;o.levelDynamic=o.level-(a?0:n.level),o.name=b(d&&d.name,""),o.visible=t===o.id||!0===r.visible,(o="function"==typeof e?e(o,r):o).children.forEach((e,t)=>{var i=f({},r);f(i,{index:t,siblings:o.children.length,visible:o.visible}),e=s(e,i),c.push(e),e.visible&&(p+=e.val)});var u=b(h.value,p);return o.visible=0<=u&&(0<p||o.visible),o.children=c,o.childrenTotal=p,o.isLeaf=o.visible&&!p,o.val=u,o},updateRootId:function(e){let t,i;return h(e)&&(i=h(e.options)?e.options:{},t=b(e.rootNode,i.rootId,""),h(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/TreeGrid/TreeGridAxis.js",[e["Core/Axis/BrokenAxis.js"],e["Core/Axis/GridAxis.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGrid/TreeGridTick.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(o,r,n,a,e,l){let d,h=e["getLevelOptions"],{addEvent:c,find:p,fireEvent:i,isArray:u,isObject:f,isString:g,merge:m,pick:s,wrap:k}=l,x=[];function b(e,t){let i=e.collapseEnd||0,s=e.collapseStart||0;return t<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function v(e,t,i){let a=[],o=[],l={},d="boolean"==typeof t&&t,h={},c=-1,s=n.getTree(e,{after:function(e){let t=h[e.pos],i=0,s=0;t.children.forEach(function(e){s+=(e.descendants||0)+1,i=Math.max((e.height||0)+1,i)}),t.descendants=s,t.height=i,t.collapsed&&o.push(t)},before:function(e){let t,i,s=f(e.data,!0)?e.data:{},o=g(s.name)?s.name:"",r=l[e.parent],n=f(r,!0)?h[r.pos]:null;d&&f(n,!0)&&(t=p(n.children,function(e){return e.name===o}))?(i=t.pos,t.nodes.push(e)):i=c++,h[i]||(h[i]=t={depth:n?n.depth+1:0,name:o,id:s.id,nodes:[e],children:[],pos:i},-1!==i&&a.push(o),f(n,!0)&&n.children.push(t)),g(e.id)&&(l[e.id]=e),t&&!0===s.collapsed&&(t.collapsed=!0),e.pos=i}});return{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:h=function(e,a){let l=function(e,i,t){let s=e.nodes,o=i+(-1===i?0:a-1),r=(o-i)/2,n=i+r;return s.forEach(function(e){let t=e.data;f(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=n}),(t[n]=e).pos=n,e.tickmarkOffset=.5+r,e.collapseStart=o+.5,e.children.forEach(function(e){l(e,o+1,t),o=(e.collapseEnd||0)-.5}),e.collapseEnd=o+.5,t};return l(e[-1],-1,{})}(h,i),collapsedNodes:o,tree:s}}function y(d){let e=d.target,t=e.axes;t.filter(function(e){return"treegrid"===e.options.type}).forEach(function(e){let t=e.options||{},i=t.labels,s=t.uniqueNames,o=t.max,r=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty}),n=0,a,l;if(r){if(a=e.series.reduce(function(t,i){return i.visible&&((i.options.data||[]).forEach(function(e){i.options.keys&&i.options.keys.length&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e)),f(e,!0)&&(e.seriesIndex=n,t.push(e))}),!0===s&&n++),t},[]),o&&a.length<o)for(let e=a.length;e<=o;e++)a.push({name:e+"​"});l=v(a,s||!1,!0===s?n:1),e.categories=l.categories,e.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=l.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(t){return u(t)&&e.options.keys&&e.options.keys.length&&a.forEach(function(e){0<=t.indexOf(e.x)&&0<=t.indexOf(e.x2)&&(t=e)}),f(t,!0)?m(t):t});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=h({defaults:i,from:1,levels:i&&i.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===d.type&&(e.treeGrid.collapsedNodes=l.collapsedNodes)}})}function G(e,t){let i=this.treeGrid.mapOptionsToLevel||{},s="treegrid"===this.options.type,o=this.ticks,r=o[t],n,a,l;s&&this.treeGrid.mapOfPosToGridNode?((n=i[(l=this.treeGrid.mapOfPosToGridNode[t]).depth])&&(a={labels:n}),!r&&d?o[t]=r=new d(this,t,void 0,void 0,{category:l.name,tickmarkOffset:l.tickmarkOffset,options:a}):(r.parameters.category=l.name,r.options=a,r.addLabel())):e.apply(this,Array.prototype.slice.call(arguments,1))}function P(e,t,i,s){let o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new T(o)),r&&(c(t,"beforeRender",y),c(t,"beforeRedraw",y),c(t,"addSeries",function(e){e.options.data&&(e=v(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),c(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),c(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=m({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),e.apply(o,[t,i,s]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function A(e){var t=this.options;"treegrid"===t.type?(this.min=s(this.userMin,t.min,this.dataMin),this.max=s(this.userMax,t.max,this.dataMax),i(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):e.apply(this,Array.prototype.slice.call(arguments,1))}class T{static compose(t,e,i,s){if(l.pushUnique(x,t)){-1===t.keepProps.indexOf("treeGrid")&&t.keepProps.push("treeGrid");let e=t.prototype;k(e,"generateTick",G),k(e,"init",P),k(e,"setTickInterval",A),e.utils={getNode:n.getNode}}return l.pushUnique(x,s)&&!d&&(d=s),r.compose(t,e,s),o.compose(t,i),a.compose(s),t}constructor(e){this.axis=e}setCollapsedStatus(o){let e=this.axis,r=e.chart;e.series.forEach(function(i){var s=i.options.data;if(o.id&&s){let e=r.get(o.id),t=s[i.data.indexOf(e)];e&&t&&(e.collapsed=o.collapsed,t.collapsed=o.collapsed)}})}collapse(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return!(t>=s&&t<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}return class{static compose(t,e,i,s){if(l.pushUnique(x,t)){-1===t.keepProps.indexOf("treeGrid")&&t.keepProps.push("treeGrid");let e=t.prototype;k(e,"generateTick",G),k(e,"init",P),k(e,"setTickInterval",A),e.utils={getNode:n.getNode}}return l.pushUnique(x,s)&&!d&&(d=s),r.compose(t,e,s),o.compose(t,i),a.compose(s),t}constructor(e){this.axis=e}setCollapsedStatus(o){let e=this.axis,r=e.chart;e.series.forEach(function(i){var s=i.options.data;if(o.id&&s){let e=r.get(o.id),t=s[i.data.indexOf(e)];e&&t&&(e.collapsed=o.collapsed,t.collapsed=o.collapsed)}})}collapse(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){return!((t=+t)>=s&&t<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){let t=this.axis,i=t.options.breaks||[],s=b(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}}),t(e,"masters/modules/treegrid.src.js",[e["Core/Globals.js"],e["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(e,t){t.compose(e.Axis,e.Chart,e.Series,e.Tick)})});