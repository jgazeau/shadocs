"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(n,i){const{addEvent:s,find:o,fireEvent:u,isArray:r,isNumber:f,pick:g}=i;var t;{var e=t=t||{};function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function l(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function d(){const e=this.brokenAxis;if(e&&e.hasBreaks){const i=this.tickPositions,t=this.tickPositions.info,s=[];for(let t=0;t<i.length;t++)e.isInAnyBreak(i[t])||s.push(i[t]);this.tickPositions=s,this.tickPositions.info=t}}function c(){this.brokenAxis||(this.brokenAxis=new b(this))}function h(){const{isDirty:e,options:{connectNulls:i},points:s,xAxis:o,yAxis:r}=this;if(e){let t=s.length;for(;t--;){const e=s[t],n=!(null===e.y&&!1===i)&&(o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(e.x,!0)||r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(e.y,!0));e.visible=!n&&!1!==e.options.visible}}}function p(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function m(i,t){const e=this,s=e.points;let o,r,n,a;if(i&&i.brokenAxis&&i.brokenAxis.hasBreaks){const l=i.brokenAxis;t.forEach(function(t){o=l&&l.breakArray||[],r=i.isXAxis?i.min:g(e.options.threshold,i.min),s.forEach(function(e){a=g(e["stack"+t.toUpperCase()],e[t]),o.forEach(function(t){f(r)&&f(a)&&(n=!1,r<t.from&&a>t.to||r>t.from&&a<t.from?n="pointBreak":(r<t.from&&a>t.from&&a<t.to||r>t.from&&a>t.to&&a<t.from)&&(n="pointInBreak"),n&&u(i,n,{point:e,brk:t}))})})})}}function k(){var t,e=(i=this.currentDataGrouping)&&i.gapSize,i=this.points.slice();const s=this.yAxis;let o=this.options.gapSize,r=i.length-1;if(o&&0<r)for("value"!==this.options.gapUnit&&(o*=this.basePointRange),e&&e>o&&e>=this.basePointRange&&(o=e);r--;)t&&!1!==t.visible||(t=i[r+1]),e=i[r],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>o&&(t=(e.x+t.x)/2,i.splice(r+1,0,{isNull:!0,x:t}),s.stacking&&this.options.stacking&&((t=s.stacking.stacks[this.stackKey][t]=new n(s,s.options.stackLabels,!1,t,this.stack)).total=0)),t=e);return this.getGraphPath(i)}const x=[];e.compose=function(t,e){if(i.pushUnique(x,t)&&(t.keepProps.push("brokenAxis"),s(t,"init",c),s(t,"afterInit",a),s(t,"afterSetTickPositions",d),s(t,"afterSetOptions",l)),i.pushUnique(x,e)){const t=e.prototype;t.drawBreaks=m,t.gappedPath=k,s(e,"afterGeneratePoints",h),s(e,"afterRender",p)}return t};class b{static isInBreak(t,e){var i=t.repeat||1/0,s=t.from,o=t.to-t.from;return e=s<=e?(e-s)%i:i-(s-e)%i,t.inclusive?e<=o:e<o&&0!==e}static lin2Val(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!f(t))return t;let i,s;for(s=0;s<e.length&&!((i=e[s]).from>=t);s++)(i.to<t||b.isInBreak(i,t))&&(t+=i.len);return t}static val2Lin(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!f(t))return t;let i=t,s,o;for(o=0;o<e.length;o++)if((s=e[o]).to<=t)i-=s.len;else{if(s.from>=t)break;if(b.isInBreak(s,t)){i-=t-s.from;break}}return i}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(e,t){return o(t,function(t){return t.from<e&&e<t.to})}isInAnyBreak(t,e){var i=this.axis,s=i.options.breaks||[];let o=s.length,r,n,a;if(o&&f(t)){for(;o--;)b.isInBreak(s[o],t)&&(r=!0,n=n||g(s[o].showPoints,!i.isXAxis));a=r&&e?r&&!n:r}return a}setBreaks(t,e){const h=this,p=h.axis,i=r(t)&&!!t.length;p.isDirty=h.hasBreaks!==i,h.hasBreaks=i,p.options.breaks=p.userOptions.breaks=t,p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),i||p.val2lin!==b.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=b.lin2Val,p.val2lin=b.val2Lin,p.setExtremes=function(e,i,t,s,o){if(h.hasBreaks){const p=this.options.breaks||[];let t;for(;t=h.findBreakAt(e,p);)e=t.to;for(;t=h.findBreakAt(i,p);)i=t.from;i<e&&(i=e)}p.constructor.prototype.setExtremes.call(this,e,i,t,s,o)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks){const t=p.options.breaks||[],l=[],d=[],c=g(p.pointRangePadding,0);let e=0,i,s,o=p.userMin||p.min,r=p.userMax||p.max,n,a;t.forEach(function(t){s=t.repeat||1/0,f(o)&&f(r)&&(b.isInBreak(t,o)&&(o+=t.to%s-o%s),b.isInBreak(t,r)&&(r-=r%s-t.from%s))}),t.forEach(function(t){if(n=t.from,s=t.repeat||1/0,f(o)&&f(r)){for(;n-s>o;)n-=s;for(;n<o;)n+=s;for(a=n;a<r;a+=s)l.push({value:a,move:"in"}),l.push({value:a+t.to-t.from,move:"out",size:t.breakSize})}}),l.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),i=0,n=o,l.forEach(function(t){1===(i+="in"===t.move?1:-1)&&"in"===t.move&&(n=t.value),0===i&&f(n)&&(d.push({from:n,to:t.value,len:t.value-n-(t.size||0)}),e+=t.value-n-(t.size||0))}),h.breakArray=d,f(o)&&f(r)&&f(p.min)&&(h.unitLength=r-o-e+c,u(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:h.unitLength&&(p.transA*=(r-p.min+c)/h.unitLength),c&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=o,p.max=r)}}),g(e,!0)&&p.chart.redraw()}}e.Additions=b}return t}),e(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(n,l,r){function s(s,t){const o={width:0,height:0};return t.forEach(function(t){t=s[t];let e,i;r.isObject(t,!0)&&(t=(i=r.isObject(t.label,!0)?t.label:{}).getBBox?i.getBBox().height:0,i.textStr&&!B(i.textPxLength)&&(i.textPxLength=i.getBBox().width),e=B(i.textPxLength)?Math.round(i.textPxLength):0,i.textStr&&(e=Math.round(i.getBBox().width)),o.height=Math.max(t,o.height),o.width=Math.max(e,o.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(o.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),o}function o(){const t=this["grid"];(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function a(t){if(!0===(this.options.grid||{}).enabled){const{axisTitle:a,height:l,horiz:d,left:c,offset:h,opposite:p,options:u,top:f,width:g}=this;var e=this.tickSize(),i=a&&a.getBBox().width,s=u.title.x,o=u.title.y,r=N(u.title.margin,d?5:10),n=a?this.chart.renderer.fontMetrics(a).f:0,e=(d?f+l:c)+(d?1:-1)*(p?-1:1)*(e?e[0]/2:0)+(this.side===L.bottom?n:0);t.titlePosition.x=d?c-(i||0)/2-r+s:e+(p?g:0)+h+s,t.titlePosition.y=d?e-(p?l:0)+(p?n:-n)/2+h+o:f-r+o}}function d(){var e,{chart:i,options:{grid:s={}},userOptions:o}=this;if(s.enabled&&((e=this.options).labels.align=N(e.labels.align,"center"),this.categories||(e.showLastLabel=!1),this.labelRotation=0,e.labels.rotation=0),s.columns){e=this.grid.columns=[];let t=this.grid.columnIndex=0;for(;++t<s.columns.length;){var r=I(o,s.columns[s.columns.length-t-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete r.grid.columns,(r=new n(this.chart,r)).grid.isColumn=!0,r.grid.columnIndex=t,O(i.axes,r),O(i[this.coll],r),e.push(r)}}}function c(){var i=this.grid,s=this.options;if(!0===(s.grid||{}).enabled){var o,t,e,r,n=this.min||0,a=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&((o=s.lineWidth)&&(t=(o=this.getLinePath(o))[0],e=o[1],r=((this.tickSize("tick")||[1])[0]-1)*(this.side===L.top||this.side===L.left?-1:1),"M"===t[0]&&"L"===e[0]&&(this.horiz?(t[2]+=r,e[2]+=r):(t[1]+=r,e[1]+=r)),!this.horiz&&this.chart.marginRight&&(t=[t,["L",this.left,t[2]||0]],r=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],e=[["M",e[1]||0,this.toPixels(a+this.tickmarkOffset)],r],this.grid.upperBorder||0==n%1||(this.grid.upperBorder=this.grid.renderBorder(t)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),this.grid.upperBorder.animate({d:t})),this.grid.lowerBorder||0==a%1||(this.grid.lowerBorder=this.grid.renderBorder(e)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),this.grid.lowerBorder.animate({d:e}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),this.grid.axisLineExtra.animate({d:o})):this.grid.axisLineExtra=this.grid.renderBorder(o),this.axisLine[this.showAxis?"show":"hide"]())),(i&&i.columns||[]).forEach(t=>t.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){i=this.tickmarkOffset,s=this.tickPositions[this.tickPositions.length-1],o=this.tickPositions[0];let t,e;for(;(t=this.hiddenLabels.pop())&&t.element;)t.show();for(;(e=this.hiddenMarks.pop())&&e.element;)e.show();(t=this.ticks[o].label)&&(i<n-o?this.hiddenLabels.push(t.hide()):t.show()),(t=this.ticks[s].label)&&(i<s-a?this.hiddenLabels.push(t.hide()):t.show()),(n=this.ticks[s].mark)&&s-a<i&&0<s-a&&this.ticks[s].isLast&&this.hiddenMarks.push(n.hide())}}}function h(){const t=this.tickPositions&&this.tickPositions.info,e=this.options,i=this.userOptions.labels||{};(e.grid||{}).enabled&&(this.horiz?(this.series.forEach(t=>{t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!A(i.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",A(i.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function p(t){const e=this.options;t=t.userOptions;var i=e&&r.isObject(e.grid,!0)?e.grid:{};let a;!0===i.enabled&&(a=I(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(A(t.linkedTo)&&!A(t.tickPixelInterval)&&(a.tickPixelInterval=350),A(t.tickPixelInterval)||!A(t.linkedTo)||A(t.tickPositioner)||A(t.tickInterval)||(a.tickPositioner=function(i,s){var o=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(o){var r=a.units||[];let e;var n=1;let t="year";for(let t=0;t<r.length;t++){const s=r[t];if(s&&s[0]===o.unitName){e=t;break}}return(r=B(e)&&r[e+1])?(t=r[0]||"year",n=(n=r[1])&&n[0]||1):"year"===o.unitName&&(n=10*o.count),o=w[t],this.tickInterval=o*n,this.chart.time.getTimeTicks({unitRange:o,count:n,unitName:t},i,s,this.options.startOfWeek)}})),I(!0,this.options,a),this.horiz&&(e.minPadding=N(t.minPadding,0),e.maxPadding=N(t.maxPadding,0)),B(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth))}function u(t){var e=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&e&&I(!0,this.options,e[e.length-1])}function f(){(this.grid.columns||[]).forEach(t=>t.setScale())}function g(t){var e,{horiz:i,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(e=2*this.options.labels.distance,e=i?o.cellHeight||e+s.height:e+s.width,C(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function m(){this.axes.forEach(t=>{(t.grid&&t.grid.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function k(e){const t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(e.keepEvents)),t.columns=void 0}function x(t){var e=(t=t.userOptions||{}).grid||{};e.enabled&&A(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),this.grid||(this.grid=new i(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function b(e){var i=this.label;const s=this.axis;var o=s.reversed,r=s.chart,n=s.options.grid||{},a=s.options.labels,l=a.align,d=L[s.side],c=e.tickmarkOffset,h=s.tickPositions,p=this.pos-c,h=B(h[e.index+1])?h[e.index+1]-c:(s.max||0)+c,c=(u=s.tickSize("tick"))?u[0]:0,u=u?u[1]/2:0;if(!0===n.enabled){let t;"top"===d?(n=s.top+s.offset,t=n-c):"bottom"===d?n=(t=r.chartHeight-s.bottom+s.offset)+c:(n=s.top+s.len-(s.translate(o?h:p)||0),t=s.top+s.len-(s.translate(o?p:h)||0)),"right"===d?o=(d=r.chartWidth-s.right+s.offset)+c:"left"===d?d=(o=s.left+s.offset)-c:(d=Math.round(s.left+(s.translate(o?h:p)||0))-u,o=Math.min(Math.round(s.left+(s.translate(o?p:h)||0))-u,s.left+s.len)),this.slotWidth=o-d,e.pos.x="left"===l?d:"right"===l?o:d+(o-d)/2,e.pos.y=t+(n-t)/2,i&&(r=r.renderer.fontMetrics(i),i=i.getBBox().height,e.pos.y=a.useHTML?e.pos.y+(r.b+-i/2):e.pos.y+((r.b-(r.h-r.f))/2+-((Math.round(i/r.h)-1)*r.h)/2)),e.pos.x+=s.horiz&&a.x||0}}function v(e){const{axis:i,value:s}=e;if(i.options.grid&&i.options.grid.enabled){var o=i.tickPositions;const n=(i.linkedParent||i).series[0],a=s===o[0];var o=s===o[o.length-1],r=n&&T(n.options.data,function(t){return t[i.isXAxis?"x":"y"]===s});let t;r&&n.is("gantt")&&(t=I(r),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t)),e.isFirst=a,e.isLast=o,e.point=t}}function y(){const t=this.options,e=this.categories,i=this.tickPositions,s=i[0],o=i[i.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,n=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(t.grid||{}).enabled||e||!this.horiz&&!this.isLinked||(s<r&&r<s+a&&!t.startOnTick&&(i[0]=r),n<o&&o-a<n&&!t.endOnTick&&(i[i.length-1]=n))}function G(t){var{options:{grid:e={}}}=this;return!0===e.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}const t=l["dateFormats"],{addEvent:P,defined:A,erase:O,find:T,isArray:C,isNumber:B,merge:I,pick:N,timeUnits:w,wrap:E}=r;var L,e;(e=L=L||{})[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left";const S=[];class i{constructor(t){this.axis=t}isOuterAxis(){const i=this.axis,t=i.grid.columnIndex,e=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,s=t?i.linkedParent:i;let o=-1,r=0;return(i.chart[i.coll]||[]).forEach((t,e)=>{t.side!==i.side||t.options.isInternal||(r=e,t===s&&(o=e))}),r===o&&(!B(t)||e.length===t)}renderBorder(t){const e=this.axis,i=e.chart.renderer,s=e.options;return t=i.path(t).addClass("highcharts-axis-line").add(e.axisBorder),i.styledMode||t.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),t}}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){const e=this,i=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){e.set(t,i,0)});var s=(this.get("Day",i)+6)%7;return t=new this.Date(i.valueOf()),this.set("Date",t,this.get("Date",i)-s+3),s=new this.Date(this.get("FullYear",t),0,1),4!==this.get("Day",s)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",s))%7)),(1+Math.floor((t.valueOf()-s.valueOf())/6048e5)).toString()},{compose:function(t,e,i){return r.pushUnique(S,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=s,E(t.prototype,"unsquish",G),P(t,"init",x),P(t,"afterGetOffset",o),P(t,"afterGetTitlePosition",a),P(t,"afterInit",d),P(t,"afterRender",c),P(t,"afterSetAxisTranslation",h),P(t,"afterSetOptions",p),P(t,"afterSetOptions",u),P(t,"afterSetScale",f),P(t,"afterTickSize",g),P(t,"trimTicks",y),P(t,"destroy",k)),r.pushUnique(S,e)&&P(e,"afterSetChartSize",m),r.pushUnique(S,i)&&(P(i,"afterGetLabelPosition",b),P(i,"labelFormat",v)),t}}}),e(t,"Gantt/Tree.js",[t["Core/Utilities.js"]],function(t){function s(t,s){const o=t.reduce(function(t,e){var i=g(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(o).forEach(function(t,e){const i=o[t];""!==t&&-1===s.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),o}function p(s,t,o,e,r,n){let a=0,l=0,i=n&&n.after;var d=n&&n.before;t={data:e,depth:o-1,id:s,level:o,parent:t};let c,h;return"function"==typeof d&&d(t,n),d=(r[s]||[]).map(function(t){var e=p(t.id,s,o+1,t,r,n),i=t.start;return t=!0===t.milestone?i:t.end,c=!f(c)||i<c?i:c,h=!f(h)||t>h?t:h,a=a+1+e.descendants,l=Math.max(e.height+1,l),e}),e&&(e.start=g(e.start,c),e.end=g(e.end,h)),u(t,{children:d,descendants:a,height:l}),"function"==typeof i&&i(t,n),t}const{extend:u,isNumber:f,pick:g}=t;return{getListOfParents:s,getNode:p,getTree:function(t,e){var i=t.map(function(t){return t.id});return t=s(t,i),p("",null,1,null,t,e)}}}),e(t,"Core/Axis/TreeGrid/TreeGridTick.js",[t["Core/Utilities.js"]],function(e){function i(){this.treeGrid||(this.treeGrid=new t(this))}function s(t,e,i,s,o,r,n,a,l){var d=y(this.options&&this.options.labels,r),c=(r=this.pos,this.axis),h="treegrid"===c.options.type;return t=t.apply(this,[e,i,s,o,d,n,a,l]),h&&(e=d&&b(d.symbol,!0)?d.symbol:{},d=d&&v(d.indentation)?d.indentation:0,r=(r=(c=c.treeGrid.mapOfPosToGridNode)&&c[r])&&r.depth||1,t.x+=(e.width||0)+2*(e.padding||0)+(r-1)*d),t}function o(e){const i=this;var s=i.pos,o=i.axis;const r=i.label;var n=o.treeGrid.mapOfPosToGridNode,a=o.options;const l=y(i.options&&i.options.labels,a&&a.labels);var d=l&&b(l.symbol,!0)?l.symbol:{},c=(n=n&&n[s])&&n.depth,a="treegrid"===a.type,h=-1<o.tickPositions.indexOf(s),s=o.chart.styledMode;if(a&&n&&r&&r.element&&r.addClass("highcharts-treegrid-node-level-"+c),e.apply(i,Array.prototype.slice.call(arguments,1)),a&&r&&r.element&&n&&n.descendants&&0<n.descendants){o=o.treeGrid.isCollapsed(n);{c=i,e={color:!s&&r.styles&&r.styles.color||"",collapsed:o,group:r.parentGroup,options:d,renderer:r.renderer,show:h,xy:r.xy};const m=!(c=c.treeGrid).labelIcon,k=e.renderer;var a=e.xy,n=e.options,h=n.width||0,p=n.height||0,u=a.x-h/2-(n.padding||0),a=a.y-p/2,f=e.collapsed?90:180,g=e.show&&v(a);let t=c.labelIcon;t||(c.labelIcon=t=k.path(k.symbols[n.type](n.x||0,n.y||0,h,p)).addClass("highcharts-label-icon").add(e.group)),t[g?"show":"hide"](),k.styledMode||t.attr({cursor:"pointer",fill:y(e.color,"#666666"),"stroke-width":1,stroke:n.lineColor,strokeWidth:n.lineWidth||0}),t[m?"attr":"animate"]({translateX:u,translateY:a,rotation:f})}d="highcharts-treegrid-node-"+(o?"expanded":"collapsed"),r.addClass("highcharts-treegrid-node-"+(o?"collapsed":"expanded")).removeClass(d),s||r.css({cursor:"pointer"}),[r,i.treeGrid.labelIcon].forEach(t=>{t&&!t.attachedTreeGridEvents&&(x(t.element,"mouseover",function(){r.addClass("highcharts-treegrid-node-active"),r.renderer.styledMode||r.css({textDecoration:"underline"})}),x(t.element,"mouseout",function(){var t=b(l.style)?l.style:{};r.removeClass("highcharts-treegrid-node-active"),r.renderer.styledMode||r.css({textDecoration:t.textDecoration})}),x(t.element,"click",function(){i.treeGrid.toggleCollapse()}),t.attachedTreeGridEvents=!0)})}}const{addEvent:x,isObject:b,isNumber:v,pick:y,wrap:r}=e,n=[];class t{static compose(t){e.pushUnique(n,t)&&(x(t,"init",i),r(t.prototype,"getLabelPosition",s),r(t.prototype,"renderLabel",o),t.prototype.collapse=function(t){this.treeGrid.collapse(t)},t.prototype.expand=function(t){this.treeGrid.expand(t)},t.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.collapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.expand(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}toggleCollapse(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.toggleCollapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}}return class{static compose(t){e.pushUnique(n,t)&&(x(t,"init",i),r(t.prototype,"getLabelPosition",s),r(t.prototype,"renderLabel",o),t.prototype.collapse=function(t){this.treeGrid.collapse(t)},t.prototype.expand=function(t){this.treeGrid.expand(t)},t.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.collapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.expand(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}toggleCollapse(t){var e=this.tick;const i=e.axis,s=i.brokenAxis;s&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.toggleCollapse(i.treeGrid.mapOfPosToGridNode[e.pos]),s.setBreaks(e,y(t,!0)))}}}),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(g,t){const{extend:c,isArray:n,isNumber:a,isObject:l,merge:d,pick:m}=t;return{getColor:function(t,e){var i,s,o=e.index,r=e.mapOptionsToLevel,n=e.parentColor,a=e.parentColorIndex,l=e.series,d=e.colors,c=e.siblings,h=l.points,p=l.chart.options.chart;let u,f;return t&&(h=h[t.i],t=r[t.level]||{},h&&t.colorByPoint&&(u=h.index%(d?d.length:p.colorCount),s=d&&d[u]),l.chart.styledMode||(d=h&&h.options.color,p=t&&t.color,(i=n)&&(i=(i=t&&t.colorVariation)&&"brightness"===i.key&&o&&c?g.parse(n).brighten(o/c*i.to).get():n),i=m(d,p,s,i,l.color)),f=m(h&&h.options.colorIndex,t&&t.colorIndex,u,a,e.colorIndex)),{color:i,colorIndex:f}},getLevelOptions:function(t){let e={},o,i,r;if(l(t)){r=a(t.from)?t.from:1;var s=t.levels;for(i={},o=l(t.defaults)?t.defaults:{},n(s)&&(i=s.reduce((t,e)=>{let i,s;return l(e)&&a(e.level)&&(s=d({},e),i=m(s.levelIsConstant,o.levelIsConstant),delete s.levelIsConstant,delete s.level,e=e.level+(i?0:r-1),l(t[e])?d(!0,t[e],s):t[e]=s),t},{})),s=a(t.to)?t.to:1,t=0;t<=s;t++)e[t]=d({},o,l(i[t])?i[t]:{})}return e},setTreeValues:function s(o,r){var t=r.before;const e=r.idRoot,i=r.mapIdToNode[e],n=r.points[o.i],a=n&&n.options||{},l=[];let d=0;return o.levelDynamic=o.level-(!1!==r.levelIsConstant?0:i.level),o.name=m(n&&n.name,""),o.visible=e===o.id||!0===r.visible,(o="function"==typeof t?t(o,r):o).children.forEach((t,e)=>{var i=c({},r);c(i,{index:e,siblings:o.children.length,visible:o.visible}),t=s(t,i),l.push(t),t.visible&&(d+=t.val)}),t=m(a.value,d),o.visible=0<=t&&(0<d||o.visible),o.children=l,o.childrenTotal=d,o.isLeaf=o.visible&&!d,o.val=t,o},updateRootId:function(t){var e;return l(t)&&(e=l(t.options)?t.options:{},e=m(t.rootNode,e.rootId,""),l(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}}}),e(t,"Core/Axis/TreeGrid/TreeGridAxis.js",[t["Core/Axis/BrokenAxis.js"],t["Core/Axis/GridAxis.js"],t["Gantt/Tree.js"],t["Core/Axis/TreeGrid/TreeGridTick.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],function(r,n,h,a,t,l){function o(t,e){var i=t.collapseEnd||0;return t=t.collapseStart||0,e<=i&&(t-=.5),{from:t,to:i,showPoints:!1}}function d(t,e,i){const n=[],s=[],a={},l="boolean"==typeof e&&e;let d={},c=-1;return t=h.getTree(t,{after:function(t){t=d[t.pos];let e=0,i=0;t.children.forEach(function(t){i+=(t.descendants||0)+1,e=Math.max((t.height||0)+1,e)}),t.descendants=i,t.height=e,t.collapsed&&s.push(t)},before:function(t){const e=b(t.data,!0)?t.data:{},i=v(e.name)?e.name:"";var s=a[t.parent],s=b(s,!0)?d[s.pos]:null,o=function(t){return t.name===i};let r;l&&b(s,!0)&&(r=k(s.children,o))?(o=r.pos,r.nodes.push(t)):o=c++,d[o]||(d[o]=r={depth:s?s.depth+1:0,name:i,id:e.id,nodes:[t],children:[],pos:o},-1!==o&&n.push(i),b(s,!0)&&s.children.push(r)),v(t.id)&&(a[t.id]=t),r&&!0===e.collapsed&&(r.collapsed=!0),t.pos=o}}),d=function(t,n){const a=function(t,i,e){let s=i+(-1===i?0:n-1);const o=(s-i)/2,r=i+o;return t.nodes.forEach(function(t){const e=t.data;b(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=r}),(e[r]=t).pos=r,t.tickmarkOffset=.5+o,t.collapseStart=s+.5,t.children.forEach(function(t){a(t,s+1,e),s=(t.collapseEnd||0)-.5}),t.collapseEnd=s+.5,e};return a(t[-1],-1,{})}(d,i),{categories:n,mapOfIdToNode:a,mapOfPosToGridNode:d,collapsedNodes:s,tree:t}}function c(n){n.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(t){var e=t.options||{};const i=e.labels,s=e.uniqueNames;e=e.max;let o=0,r;if(!t.treeGrid.mapOfPosToGridNode||t.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})){if(r=t.series.reduce(function(e,i){return i.visible&&((i.options.data||[]).forEach(function(t){i.options.keys&&i.options.keys.length&&(t=i.pointClass.prototype.optionsToObject.call({series:i},t),i.pointClass.setGanttPointAliases(t)),b(t,!0)&&(t.seriesIndex=o,e.push(t))}),!0===s&&o++),e},[]),e&&r.length<e)for(let t=r.length;t<=e;t++)r.push({name:t+"â€‹"});e=d(r,s||!1,!0===s?o:1),t.categories=e.categories,t.treeGrid.mapOfPosToGridNode=e.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=e.tree,t.series.forEach(function(t){var e=(t.options.data||[]).map(function(e){return x(e)&&t.options.keys&&t.options.keys.length&&r.forEach(function(t){0<=e.indexOf(t.x)&&0<=e.indexOf(t.x2)&&(e=t)}),b(e,!0)?y(e):e});t.visible&&t.setData(e,!1)}),t.treeGrid.mapOptionsToLevel=g({defaults:i,from:1,levels:i&&i.levels,to:t.treeGrid.tree&&t.treeGrid.tree.height}),"beforeRender"===n.type&&(t.treeGrid.collapsedNodes=e.collapsedNodes)}})}function p(t,e){var i=this.treeGrid.mapOptionsToLevel||{};const s=this.ticks;let o=s[e],r,n;"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode?((i=i[(n=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(r={labels:i}),!o&&A?s[e]=new A(this,e,void 0,void 0,{category:n.name,tickmarkOffset:n.tickmarkOffset,options:r}):(o.parameters.category=n.name,o.options=r,o.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function u(t,e,i){const s=this,o="treegrid"===i.type;s.treeGrid||(s.treeGrid=new O(s)),o&&(m(e,"beforeRender",c),m(e,"beforeRedraw",c),m(e,"addSeries",function(t){t.options.data&&(t=d(t.options.data,i.uniqueNames||!1,1),s.treeGrid.collapsedNodes=(s.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))}),m(s,"foundExtremes",function(){s.treeGrid.collapsedNodes&&s.treeGrid.collapsedNodes.forEach(function(e){var t=s.treeGrid.collapse(e);s.brokenAxis&&(s.brokenAxis.setBreaks(t,!1),s.treeGrid.collapsedNodes&&(s.treeGrid.collapsedNodes=s.treeGrid.collapsedNodes.filter(t=>e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd)))})}),m(s,"afterBreaks",function(){"yAxis"===s.coll&&!s.staticScale&&s.chart.options.chart.height&&(s.isDirty=!0)}),i=y({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(s,[e,i]),o&&(s.hasNames=!0,s.options.showLastLabel=!0)}function f(t){var e=this.options;"treegrid"===e.type?(this.min=s(this.userMin,e.min,this.dataMin),this.max=s(this.userMax,e.max,this.dataMax),i(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):t.apply(this,Array.prototype.slice.call(arguments,1))}const g=t["getLevelOptions"],{addEvent:m,find:k,fireEvent:i,isArray:x,isObject:b,isString:v,merge:y,pick:s,wrap:G}=l,P=[];let A;class O{static compose(t,e,i,s){if(l.pushUnique(P,t)){-1===t.keepProps.indexOf("treeGrid")&&t.keepProps.push("treeGrid");const o=t.prototype;G(o,"generateTick",p),G(o,"init",u),G(o,"setTickInterval",f),o.utils={getNode:h.getNode}}return l.pushUnique(P,s)&&(A=A||s),n.compose(t,e,s),r.compose(t,i),a.compose(s),t}constructor(t){this.axis=t}setCollapsedStatus(s){const t=this.axis,o=t.chart;t.series.forEach(function(t){var e=t.options.data;if(s.id&&e){const i=o.get(s.id);t=e[t.data.indexOf(i)],i&&t&&(i.collapsed=s.collapsed,t.collapsed=s.collapsed)}})}collapse(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){return!((e=+e)>=s&&e<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(e)||t.push(e),t},[])}isCollapsed(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}return class{static compose(t,e,i,s){if(l.pushUnique(P,t)){-1===t.keepProps.indexOf("treeGrid")&&t.keepProps.push("treeGrid");const o=t.prototype;G(o,"generateTick",p),G(o,"init",u),G(o,"setTickInterval",f),o.utils={getNode:h.getNode}}return l.pushUnique(P,s)&&(A=A||s),n.compose(t,e,s),r.compose(t,i),a.compose(s),t}constructor(t){this.axis=t}setCollapsedStatus(s){const t=this.axis,o=t.chart;t.series.forEach(function(t){var e=t.options.data;if(s.id&&e){const i=o.get(s.id);t=e[t.data.indexOf(i)],i&&t&&(i.collapsed=s.collapsed,t.collapsed=s.collapsed)}})}collapse(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){return!((e=+e)>=s&&e<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(e)||t.push(e),t},[])}isCollapsed(t){const e=this.axis,i=e.options.breaks||[],s=o(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}}),e(t,"masters/modules/treegrid.src.js",[t["Core/Globals.js"],t["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(t,e){e.compose(t.Axis,t.Chart,t.Series,t.Tick)})});