"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Item/ItemPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var{series:i,seriesTypes:{pie:s}}=t;t=e.extend;class o extends s.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}}return t(o.prototype,{haloPath:i.prototype.pointClass.prototype.haloPath}),o}),e(t,"Series/Item/ItemSeries.js",[t["Core/Globals.js"],t["Series/Item/ItemPoint.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,i,s,o){i=i.defaultOptions;const{pie:r}=s["seriesTypes"],{defined:C,extend:b,fireEvent:n,isNumber:a,merge:h,pick:S}=o;class l extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)}drawDataLabels(){this.center&&this.slots?e.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})}drawPoints(){let c=this,u=this.options,f=c.chart.renderer,t=u.marker,g=this.borderWidth%2?.5:1,m=0,y=this.getRows(),v=Math.ceil(this.total/y),w=this.chart.plotWidth/v,M=this.chart.plotHeight/y,A=this.itemSize||Math.min(w,M);this.points.forEach(function(e){let i,s;var o,r,n,a,h=(l=e.marker||{}).symbol||t.symbol,l=S(l.radius,t.radius),p=C(l)?2*l:A,d=p*u.itemPadding;if(e.graphics=i=e.graphics||[],c.chart.styledMode||(s=c.pointAttribs(e,e.selected&&"select")),!e.isNull&&e.visible){e.graphic||(e.graphic=f.g("point").add(c.group));for(let t=0;t<(e.y||0);t++)a=c.center&&c.slots?(n=(a=c.slots.shift()).x-A/2,a.y-A/2):"horizontal"===u.layout?(n=m%v*w,M*Math.floor(m/v)):(n=w*Math.floor(m/y),m%y*M),n+=d,a+=d,r=o=Math.round(p-2*d),c.options.crisp&&(n=Math.round(n)-g,a=Math.round(a)+g),n={x:n,y:a,width:o,height:r},void 0!==l&&(n.r=l),s&&b(n,s),(a=i[t])?a.animate(n):a=f.symbol(h,void 0,void 0,void 0,void 0,{backgroundSize:"within"}).attr(n).add(e.graphic),a.isActive=!0,i[t]=a,m++}i.forEach((t,e)=>{t&&(t.isActive?t.isActive=!1:(t.destroy(),i.splice(e,1)))})})}getRows(){let t=this.options.rows,e,i;if(!t)if(i=this.chart.plotWidth/this.chart.plotHeight,t=Math.sqrt(this.total),1<i)for(t=Math.ceil(t);0<t&&!((e=this.total/t)/t>i);)t--;else for(t=Math.floor(t);t<this.total&&!((e=this.total/t)/t<i);)t++;return t}getSlots(){function t(t){0<j&&(t.row.colCount--,j--)}let i=this.center,e=i[2],s=i[3],o,r=this.slots,n,a,h,l,p,d,c,u,f=0,g,m=this.endAngleRad-this.startAngleRad,y=Number.MAX_VALUE,v,w,M,A=this.options.rows,C=(e-s)/e,b=0==m%(2*Math.PI),S=this.total||0;for(;y>S+(w&&b?w.length:0);)for(v=y,y=r.length=0,w=M,M=[],f++,g=e/f/2,A?0<=(s=(g-A)/g*e)?g=A:(s=0,C=1):g=Math.floor(g*C),o=g;0<o;o--)h=(s+o/g*(e-s-f))/2,l=m*h,p=Math.ceil(l/f),M.push({rowRadius:h,rowLength:l,colCount:p}),y+=p+1;if(w){for(var j=v-this.total-(b?w.length:0);0<j;)w.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,e){return e.angle-t.angle}).slice(0,Math.min(j,Math.ceil(w.length/2))).forEach(t);return w.forEach(function(t){var e=t.rowRadius;for(d=(t=t.colCount)?m/t:0,u=0;u<=t;u+=1)c=this.startAngleRad+u*d,n=i[0]+Math.cos(c)*e,a=i[1]+Math.sin(c)*e,r.push({x:n,y:a,angle:c})},this),r.sort(function(t,e){return t.angle-e.angle}),this.itemSize=f,r}}translate(t){0===this.total&&a(this.options.startAngle)&&a(this.options.endAngle)&&(this.center=this.getCenter()),this.slots||(this.slots=[]),a(this.options.startAngle)&&a(this.options.endAngle)?(e.seriesTypes.pie.prototype.translate.apply(this,arguments),this.slots=this.getSlots()):(this.generatePoints(),n(this,"afterTranslate"))}}return l.defaultOptions=h(r.defaultOptions,{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:h(i.plotOptions.line.marker,{radius:null}),rows:void 0,crisp:!1,showInLegend:!0,startAngle:void 0}),b(l.prototype,{markerAttribs:void 0}),l.prototype.pointClass=t,s.registerSeriesType("item",l),l}),e(t,"masters/modules/item-series.src.js",[],function(){})});