"use strict";!function(n){"object"==typeof module&&module.exports?module.exports=n.default=n:"function"==typeof define&&define.amd?define("highcharts/modules/full-screen",["highcharts"],function(e){return n(e),n.Highcharts=e,n}):n("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function n(e,n,t,s){e.hasOwnProperty(n)||(e[n]=s.apply(null,t),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:e[n]}})))}n(e=e?e._modules:{},"Extensions/Exporting/Fullscreen.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(r,n){function t(){this.fullscreen=new e(this)}const{addEvent:i,fireEvent:o}=n,s=[];class e{static compose(e){n.pushUnique(s,e)&&i(e,"beforeRender",t)}constructor(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const e=this,n=e.chart,t=n.options.chart;o(n,"fullscreenClose",null,function(){e.isOpen&&e.browserProps&&n.container.ownerDocument instanceof Document&&n.container.ownerDocument[e.browserProps.exitFullscreen](),e.unbindFullscreenEvent&&(e.unbindFullscreenEvent=e.unbindFullscreenEvent()),n.setSize(e.origWidth,e.origHeight,!1),e.origWidth=void 0,e.origHeight=void 0,t.width=e.origWidthOption,t.height=e.origHeightOption,e.origWidthOption=void 0,e.origHeightOption=void 0,e.isOpen=!1,e.setButtonText()})}open(){const t=this,s=t.chart,r=s.options.chart;o(s,"fullscreenOpen",null,function(){if(r&&(t.origWidthOption=r.width,t.origHeightOption=r.height),t.origWidth=s.chartWidth,t.origHeight=s.chartHeight,t.browserProps){const r=i(s.container.ownerDocument,t.browserProps.fullscreenChange,function(){t.isOpen?(t.isOpen=!1,t.close()):(s.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())}),e=i(s,"destroy",r),n=(t.unbindFullscreenEvent=()=>{r(),e()},s.renderTo[t.browserProps.requestFullscreen]());n&&n.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var e=this.chart,n=e.exportDivElements;const t=e.options.exporting,s=t&&t.buttons&&t.buttons.contextButton.menuItems;e=e.options.lang,t&&t.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&s&&n&&(n=n[s.indexOf("viewFullscreen")])&&r.setElementHTML(n,this.isOpen?e.exitFullscreen:t.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return class{static compose(e){n.pushUnique(s,e)&&i(e,"beforeRender",t)}constructor(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const e=this,n=e.chart,t=n.options.chart;o(n,"fullscreenClose",null,function(){e.isOpen&&e.browserProps&&n.container.ownerDocument instanceof Document&&n.container.ownerDocument[e.browserProps.exitFullscreen](),e.unbindFullscreenEvent&&(e.unbindFullscreenEvent=e.unbindFullscreenEvent()),n.setSize(e.origWidth,e.origHeight,!1),e.origWidth=void 0,e.origHeight=void 0,t.width=e.origWidthOption,t.height=e.origHeightOption,e.origWidthOption=void 0,e.origHeightOption=void 0,e.isOpen=!1,e.setButtonText()})}open(){const t=this,s=t.chart,r=s.options.chart;o(s,"fullscreenOpen",null,function(){if(r&&(t.origWidthOption=r.width,t.origHeightOption=r.height),t.origWidth=s.chartWidth,t.origHeight=s.chartHeight,t.browserProps){const r=i(s.container.ownerDocument,t.browserProps.fullscreenChange,function(){t.isOpen?(t.isOpen=!1,t.close()):(s.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())}),e=i(s,"destroy",r),n=(t.unbindFullscreenEvent=()=>{r(),e()},s.renderTo[t.browserProps.requestFullscreen]());n&&n.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var e=this.chart,n=e.exportDivElements;const t=e.options.exporting,s=t&&t.buttons&&t.buttons.contextButton.menuItems;e=e.options.lang,t&&t.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&s&&n&&(n=n[s.indexOf("viewFullscreen")])&&r.setElementHTML(n,this.isOpen?e.exitFullscreen:t.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}}),n(e,"masters/modules/full-screen.src.js",[e["Core/Globals.js"],e["Extensions/Exporting/Fullscreen.js"]],function(e,n){(e.Fullscreen=n).compose(e.Chart)})});