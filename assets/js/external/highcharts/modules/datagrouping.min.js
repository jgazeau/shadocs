!function(a){"object"==typeof module&&module.exports?module.exports=a.default=a:"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts"],function(t){return a(t),a.Highcharts=t,a}):a("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function a(t,a,i,o){t.hasOwnProperty(a)||(t[a]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:t[a]}})))}a(t=t?t._modules:{},"Extensions/DataGrouping.js",[t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Tooltip.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(o,G,t,a,i,e,r,n,s){var d=t.format,y=e.prototype,p=(t=s.addEvent,s.arrayMax),h=s.arrayMin,u=s.correctFloat,P=s.defined,M=s.error,g=s.extend,b=s.isNumber,S=s.merge,v=s.pick,W=a.approximations={sum:function(t){var a=t.length;if(!a&&t.hasNulls)var i=null;else if(a)for(i=0;a--;)i+=t[a];return i},average:function(t){var a=t.length;return t=W.sum(t),t=b(t)&&a?u(t/a):t},averages:function(){var a=[];return[].forEach.call(arguments,function(t){a.push(W.average(t))}),void 0===a[0]?void 0:a},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?p(t):t.hasNulls?null:void 0},low:function(t){return t.length?h(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},hlc:function(t,a,i){if(t=W.high(t),a=W.low(a),i=W.close(i),b(t)||b(a)||b(i))return[t,a,i]},ohlc:function(t,a,i,o){if(t=W.open(t),a=W.high(a),i=W.low(i),o=W.close(o),b(t)||b(a)||b(i)||b(o))return[t,a,i,o]},range:function(t,a){return t=W.low(t),a=W.high(a),b(t)||b(a)?[t,a]:null===t&&null===a?null:void 0}},l={approximations:W,groupData:s=function(t,a,i,o){for(var e=this,r=e.data,n=e.options&&e.options.data,s=[],p=[],h=[],u=t.length,l=!!a,d=[],g=e.pointArrayMap,c=g&&g.length,f=["x"].concat(g||["y"]),m=this.options.dataGrouping&&this.options.dataGrouping.groupAll,x=0,D=0,G=(o="function"==typeof o?o:W[o]||W[e.getDGApproximation&&e.getDGApproximation()||"average"],c?g.forEach(function(){d.push([])}):d.push([]),c||1),y=0;y<=u&&!(t[y]>=i[0]);y++);for(;y<=u;y++){for(;void 0!==i[x+1]&&t[y]>=i[x+1]||y===u;){var M=i[x],v=(e.dataGroupInfo={start:m?D:e.cropStart+D,length:d[0].length},o.apply(e,d));for(e.pointClass&&!P(e.dataGroupInfo.options)&&(e.dataGroupInfo.options=S(e.pointClass.prototype.optionsToObject.call({series:e},e.options.data[e.cropStart+D])),f.forEach(function(t){delete e.dataGroupInfo.options[t]})),void 0!==v&&(s.push(M),p.push(v),h.push(e.dataGroupInfo)),D=y,M=0;M<G;M++)d[M].length=0,d[M].hasNulls=!1;if(x+=1,y===u)break}if(y===u)break;if(g){var A,M=e.options.dataGrouping&&e.options.dataGrouping.groupAll?y:e.cropStart+y,v=r&&r[M]||e.pointClass.prototype.applyOptions.apply({series:e},[n[M]]);for(M=0;M<c;M++)A=v[g[M]],b(A)?d[M].push(A):null===A&&(d[M].hasNulls=!0)}else M=l?a[y]:null,b(M)?d[0].push(M):null===M&&(d[0].hasNulls=!0)}return{groupedXData:s,groupedYData:p,groupMap:h}}},c=y.generatePoints,f={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},m={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},A=a.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return y.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"},y.groupData=s,y.applyGrouping=function(t){var a,i=this.chart,o=this.options.dataGrouping,e=!1!==this.allowDG&&o&&v(o.enabled,i.options.isStock),r=this.visible||!i.options.chart.ignoreHiddenSeries,n=this.currentDataGrouping,s=!1;if(e&&!this.requireSorting&&(this.requireSorting=s=!0),t=!1==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!e,s&&(this.requireSorting=!1),!t){this.destroyGroupedData();var e=o.groupAll?this.xData:this.processedXData,p=o.groupAll?this.yData:this.processedYData,h=(t=i.plotSizeX,(s=this.xAxis).options.ordinal),u=this.groupPixelWidth;if(u&&e&&e.length){this.isDirty=a=!0,this.points=null;var l=(d=s.getExtremes()).min,d=d.max,h=h&&s.ordinal&&s.ordinal.getGroupIntervalFactor(l,d,this)||1,i=(t=s.getTimeTicks(G.Additions.prototype.normalizeTimeTickInterval(u*(d-l)/t*h,o.units||A),Math.min(l,e[0]),Math.max(d,e[e.length-1]),s.options.startOfWeek,e,this.closestPointRange),e=(u=y.groupData.apply(this,[e,p,t,o.approximation])).groupedXData,p=u.groupedYData,h=0,o&&o.smoothed&&e.length&&(o.firstAnchor="firstPoint",o.anchor="middle",o.lastAnchor="lastPoint",M(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),e),g=this.options.dataGrouping,l=this.currentDataGrouping&&this.currentDataGrouping.gapSize;if(g&&this.xData&&l&&this.groupMap){var c,f=i.length-1,m=g.anchor,x=v(g.firstAnchor,m),g=v(g.lastAnchor,m);if(m&&"start"!==m)for(var D=l*{middle:.5,end:1}[m],m=i.length-1;m--&&0<m;)i[m]+=D;x&&"start"!==x&&this.xData[0]>=i[0]&&(m=this.groupMap[0].start,D=this.groupMap[0].length,c=void 0,b(m)&&b(D)&&(c=m+(D-1)),i[0]={middle:i[0]+.5*l,end:i[0]+l,firstPoint:this.xData[0],lastPoint:c&&this.xData[c]}[x]),g&&"start"!==g&&l&&i[f]>=d-l&&(d=this.groupMap[this.groupMap.length-1].start,i[f]={middle:i[f]+.5*l,end:i[f]+l,firstPoint:d&&this.xData[d],lastPoint:this.xData[this.xData.length-1]}[g])}for(d=1;d<t.length;d++)t.info.segmentStarts&&-1!==t.info.segmentStarts.indexOf(d)||(h=Math.max(t[d]-t[d-1],h));(d=t.info).gapSize=h,this.closestPointRange=t.info.totalRange,this.groupMap=u.groupMap,r&&(P((r=e)[0])&&b(s.min)&&b(s.dataMin)&&r[0]<s.min&&((!P(s.options.min)&&s.min<=s.dataMin||s.min===s.dataMin)&&(s.min=Math.min(r[0],s.min)),s.dataMin=Math.min(r[0],s.dataMin)),P(r[r.length-1])&&b(s.max)&&b(s.dataMax)&&r[r.length-1]>s.max&&((!P(s.options.max)&&b(s.dataMax)&&s.max>=s.dataMax||s.max===s.dataMax)&&(s.max=Math.max(r[r.length-1],s.max)),s.dataMax=Math.max(r[r.length-1],s.dataMax))),o.groupAll&&(this.allGroupedData=p,e=(o=this.cropData(e,p,s.min,s.max,1)).xData,p=o.yData,this.cropStart=o.start),this.processedXData=e,this.processedYData=p}else this.groupMap=null;this.hasGroupedData=a,this.currentDataGrouping=d,this.preventGraphAnimation=(n&&n.totalRange)!==(d&&d.totalRange)}},y.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,a){t&&(this.groupedData[a]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},y.generatePoints=function(){c.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},o.prototype.applyGrouping=function(a){var i=this,t=i.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!a.hasExtemesChanged)})},o.prototype.getGroupPixelWidth=function(){for(var t,a=this.series,i=a.length,o=0,e=!1,r=i;r--;)(t=a[r].options.dataGrouping)&&(o=Math.max(o,v(t.groupPixelWidth,f.groupPixelWidth)));for(r=i;r--;)(t=a[r].options.dataGrouping)&&(i=(a[r].processedXData||a[r].data).length,(a[r].groupPixelWidth||i>this.chart.plotSizeX/o||i&&t.forced)&&(e=!0));return e?o:0},o.prototype.setDataGrouping=function(a,t){var i;if(t=v(t,!0),a=a||{forced:!1,units:null},this instanceof o)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:a},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof a?a:S(a,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()},t(o,"postProcessData",o.prototype.applyGrouping),t(i,"update",function(){if(this.dataGroup)return M(24,!1,this.series.chart),!1}),t(r,"headerFormatter",function(t){var a,i,o=this.chart,e=o.time,r=t.labelConfig,n=r.series,s=n.tooltipOptions,p=n.options.dataGrouping,h=s.xDateFormat,u=n.xAxis,l=s[t.isFooter?"footerFormat":"headerFormat"];u&&"datetime"===u.options.type&&p&&b(r.key)&&(a=n.currentDataGrouping,p=p.dateTimeLabelFormats||f.dateTimeLabelFormats,a?(s=p[a.unitName],1===a.count?h=s[0]:(h=s[1],i=s[2])):!h&&p&&u.dateTime&&(h=u.dateTime.getXDateFormat(r.x,s.dateTimeLabelFormats)),h=e.dateFormat(h,r.key),i&&(h+=e.dateFormat(i,r.key+a.totalRange-1)),n.chart.styledMode&&(l=this.styledModeFormat(l)),t.text=d(l,{point:g(r.point,{key:h}),series:n},o),t.preventDefault())}),t(e,"destroy",y.destroyGroupedData),t(e,"afterSetOptions",function(t){t=t.options;var a,i=this.type,o=this.chart.options.plotOptions,e=n.defaultOptions.plotOptions[i].dataGrouping,r=this.useCommonDataGrouping&&f;o&&(m[i]||r)&&(e=e||S(f,m[i]),a=this.chart.rangeSelector,t.dataGrouping=S(r,e,o.series&&o.series.dataGrouping,o[i].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&a&&b(a.selected)&&a.buttonOptions[a.selected].dataGrouping))}),t(o,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),a.dataGrouping=l}),a(t,"masters/modules/datagrouping.src.js",[t["Extensions/DataGrouping.js"]],function(t){return t})});