!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,o,a){t.hasOwnProperty(i)||(t[i]=a.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t=t?t._modules:{},"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(e,t){function o(t){var i=t.length;return t=a(t),t=p(t)&&i?r(t/i):t}function a(t){var i=t.length;if(!i&&t.hasNulls)var o=null;else if(i)for(o=0;i--;)o+=t[i];return o}var i=t.arrayMax,n=t.arrayMin,r=t.correctFloat,s=t.extend,p=t.isNumber;return s(e,t={average:o,averages:function(){var i=[];return[].forEach.call(arguments,function(t){i.push(o(t))}),void 0===i[0]?void 0:i},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?i(t):t.hasNulls?null:void 0},hlc:function(t,i,o){if(t=e.high(t),i=e.low(i),o=e.close(o),p(t)||p(i)||p(o))return[t,i,o]},low:function(t){return t.length?n(t):t.hasNulls?null:void 0},ohlc:function(t,i,o,a){if(t=e.open(t),i=e.high(i),o=e.low(o),a=e.close(a),p(t)||p(i)||p(o)||p(a))return[t,i,o,a]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,i){return t=e.low(t),i=e.high(i),p(t)||p(i)?[t,i]:null===t&&null===i?null:void 0},sum:a}),t}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,t){function i(i){var o=this,t=o.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=o.getGroupPixelWidth&&o.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!i.hasExtremesChanged)})}function o(){for(var t,i,o=this.series,a=o.length,e=0,n=!1;a--;)(i=o[a].options.dataGrouping)&&(e=Math.max(e,h(i.groupPixelWidth,r.common.groupPixelWidth)),t=(o[a].processedXData||o[a].data).length,(o[a].groupPixelWidth||t>this.chart.plotSizeX/e||t&&i.forced)&&(n=!0));return n?e:0}function a(){this.series.forEach(function(t){t.hasProcessed=!1})}function e(i,t){var o;if(t=h(t,!0),i=i||{forced:!1,units:null},this instanceof n)for(o=this.series.length;o--;)this.series[o].update({dataGrouping:i},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof i?i:u(i,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}var n,s=t.addEvent,p=t.extend,u=t.merge,h=t.pick,l=[];return{compose:function(t){n=t,-1===l.indexOf(t)&&(l.push(t),s(t,"afterSetScale",a),s(t,"postProcessData",i),p(t.prototype,{applyGrouping:i,getGroupPixelWidth:o,setDataGrouping:e}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(S,G,y,s,t,i){function o(t){var i=this.chart,o=this.options.dataGrouping,a=!1!==this.allowDG&&o&&A(o.enabled,i.options.isStock),e=this.visible||!i.options.chart.ignoreHiddenSeries,n=this.currentDataGrouping,r=!1;if(a&&!this.requireSorting&&(this.requireSorting=r=!0),t=!1==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!a,r&&(this.requireSorting=!1),!t){this.destroyGroupedData();var s=o.groupAll?this.xData:this.processedXData,p=o.groupAll?this.yData:this.processedYData,u=(a=i.plotSizeX,(t=this.xAxis).options.ordinal),r=void 0;if((h=this.groupPixelWidth)&&s&&s.length&&a){this.isDirty=r=!0,this.points=null;var h,l=(d=t.getExtremes()).min,d=d.max,u=u&&t.ordinal&&t.ordinal.getGroupIntervalFactor(l,d,this)||1,a=t.getTimeTicks(y.Additions.prototype.normalizeTimeTickInterval(h*(d-l)/a*u,o.units||G.units),Math.min(l,s[0]),Math.max(d,s[s.length-1]),t.options.startOfWeek,s,this.closestPointRange),s=(h=v.groupData.apply(this,[s,p,a,o.approximation])).groupedXData,p=h.groupedYData,i=(u=0,o&&o.smoothed&&s.length&&(o.firstAnchor="firstPoint",o.anchor="middle",o.lastAnchor="lastPoint",M(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),s),g=this.options.dataGrouping,l=this.currentDataGrouping&&this.currentDataGrouping.gapSize;if(g&&this.xData&&l&&this.groupMap){var c,f=i.length-1,m=g.anchor,x=A(g.firstAnchor,m),g=A(g.lastAnchor,m);if(m&&"start"!==m)for(var D=l*{middle:.5,end:1}[m],m=i.length-1;m--&&0<m;)i[m]+=D;x&&"start"!==x&&this.xData[0]>=i[0]&&(m=this.groupMap[0].start,D=this.groupMap[0].length,c=void 0,E(m)&&E(D)&&(c=m+(D-1)),i[0]={middle:i[0]+.5*l,end:i[0]+l,firstPoint:this.xData[0],lastPoint:c&&this.xData[c]}[x]),g&&"start"!==g&&l&&i[f]>=d-l&&(d=this.groupMap[this.groupMap.length-1].start,i[f]={middle:i[f]+.5*l,end:i[f]+l,firstPoint:d&&this.xData[d],lastPoint:this.xData[this.xData.length-1]}[g])}for(d=1;d<a.length;d++)a.info.segmentStarts&&-1!==a.info.segmentStarts.indexOf(d)||(u=Math.max(a[d]-a[d-1],u));(d=a.info).gapSize=u,this.closestPointRange=a.info.totalRange,this.groupMap=h.groupMap,e&&(b((e=s)[0])&&E(t.min)&&E(t.dataMin)&&e[0]<t.min&&((!b(t.options.min)&&t.min<=t.dataMin||t.min===t.dataMin)&&(t.min=Math.min(e[0],t.min)),t.dataMin=Math.min(e[0],t.dataMin)),b(e[e.length-1])&&E(t.max)&&E(t.dataMax)&&e[e.length-1]>t.max&&((!b(t.options.max)&&E(t.dataMax)&&t.max>=t.dataMax||t.max===t.dataMax)&&(t.max=Math.max(e[e.length-1],t.max)),t.dataMax=Math.max(e[e.length-1],t.dataMax))),o.groupAll&&(this.allGroupedData=p,s=(o=this.cropData(s,p,t.min,t.max,1)).xData,p=o.yData,this.cropStart=o.start),this.processedXData=s,this.processedYData=p}else this.groupMap=null;this.hasGroupedData=r,this.currentDataGrouping=d,this.preventGraphAnimation=(n&&n.totalRange)!==(d&&d.totalRange)}}function a(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function e(){l.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function n(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function r(t,i,o,a){var e=this,n=e.data,r=e.options&&e.options.data,s=[],p=[],u=[],h=t.length,l=!!i,d=[],g=e.pointArrayMap,c=g&&g.length,f=["x"].concat(g||["y"]),m=this.options.dataGrouping&&this.options.dataGrouping.groupAll,x=0,D=0;if(a="function"==typeof a?a:a&&S[a]?S[a]:S[e.getDGApproximation&&e.getDGApproximation()||"average"],c)for(var G=g.length;G--;)d.push([]);else d.push([]);for(var G=c||1,y=0;y<=h;y++)if(!(t[y]<o[0])){for(;void 0!==o[x+1]&&t[y]>=o[x+1]||y===h;){var v=o[x],M=(e.dataGroupInfo={start:m?D:e.cropStart+D,length:d[0].length},a.apply(e,d));for(e.pointClass&&!b(e.dataGroupInfo.options)&&(e.dataGroupInfo.options=P(e.pointClass.prototype.optionsToObject.call({series:e},e.options.data[e.cropStart+D])),f.forEach(function(t){delete e.dataGroupInfo.options[t]})),void 0!==M&&(s.push(v),p.push(M),u.push(e.dataGroupInfo)),D=y,v=0;v<G;v++)d[v].length=0,d[v].hasNulls=!1;if(x+=1,y===h)break}if(y===h)break;if(g){var A,v=e.options.dataGrouping&&e.options.dataGrouping.groupAll?y:e.cropStart+y,M=n&&n[v]||e.pointClass.prototype.applyOptions.apply({series:e},[r[v]]);for(v=0;v<c;v++)A=M[g[v]],E(A)?d[v].push(A):null===A&&(d[v].hasNulls=!0)}else v=l?i[y]:null,E(v)?d[0].push(v):null===v&&(d[0].hasNulls=!0)}return{groupedXData:s,groupedYData:p,groupMap:u}}function p(t){t=t.options;var i,o=this.type,a=this.chart.options.plotOptions,e=this.useCommonDataGrouping&&G.common,n=G.seriesSpecific,r=s.defaultOptions.plotOptions[o].dataGrouping;a&&(n[o]||e)&&(i=this.chart.rangeSelector,r=r||P(G.common,n[o]),t.dataGrouping=P(e,r,a.series&&a.series.dataGrouping,a[o].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&i&&E(i.selected)&&i.buttonOptions[i.selected].dataGrouping))}var v=t.series.prototype,u=i.addEvent,b=i.defined,M=i.error,h=i.extend,E=i.isNumber,P=i.merge,A=i.pick,l=v.generatePoints,d=[];return{compose:function(t){var i=t.prototype.pointClass;-1===d.indexOf(i)&&(d.push(i),u(i,"update",function(){if(this.dataGroup)return M(24,!1,this.series.chart),!1})),-1===d.indexOf(t)&&(d.push(t),u(t,"afterSetOptions",p),u(t,"destroy",a),h(t.prototype,{applyGrouping:o,destroyGroupedData:a,generatePoints:e,getDGApproximation:n,groupData:r}))},groupData:r}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,d,e,t,i){function n(t){var i,o,a=this.chart,e=a.time,n=t.labelConfig,r=n.series,s=r.tooltipOptions,p=r.options.dataGrouping,u=r.xAxis,h=s.xDateFormat,l=s[t.isFooter?"footerFormat":"headerFormat"];u&&"datetime"===u.options.type&&p&&f(n.key)&&(i=r.currentDataGrouping,p=p.dateTimeLabelFormats||d.common.dateTimeLabelFormats,i?(s=p[i.unitName],1===i.count?h=s[0]:(h=s[1],o=s[2])):!h&&p&&u.dateTime&&(h=u.dateTime.getXDateFormat(n.x,s.dateTimeLabelFormats)),h=e.dateFormat(h,n.key),o&&(h+=e.dateFormat(o,n.key+i.totalRange-1)),r.chart.styledMode&&(l=this.styledModeFormat(l)),t.text=g(l,{point:c(n.point,{key:h}),series:r},a),t.preventDefault())}var g=t.format,r=i.addEvent,c=i.extend,f=i.isNumber,s=[];return t={compose:function(t,i,o){a.compose(t),e.compose(i),-1===s.indexOf(o)&&(s.push(o),r(o,"headerFormatter",n))},groupData:e.groupData}}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(t,i,o,a){t.dataGrouping={approximationDefaults:i,approximations:o},a.compose(t.Axis,t.Series,t.Tooltip)})});