"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),t(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,s){const a=t["hasTouch"],{addEvent:h,clamp:g,isNumber:f,objectEach:i,relativeLength:m}=s;class o{constructor(e){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(e)}init(e,t){this.axis=e,this.options=e.options.resize,this.render(),t||this.addMouseEvents()}render(){const e=this.axis,t=e.chart;var s=this.options,i=s.x||0,o=s.y,n=g(e.top+e.height+o,t.plotTop,t.plotTop+t.plotHeight);let r={};t.styledMode||(r={cursor:s.cursor,stroke:s.lineColor,"stroke-width":s.lineWidth,dashstyle:s.lineDashStyle}),this.lastPos=n-o,this.controlLine||(this.controlLine=t.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(e.axisGroup),s=t.styledMode?this.controlLine.strokeWidth():s.lineWidth,r.d=t.renderer.crispLine([["M",e.left+i,n],["L",e.left+e.width+i,n]],s),this.controlLine.attr(r)}addMouseEvents(){const t=this,e=t.controlLine.element,s=t.axis.chart.container,i=[];var o,n,r;t.mouseMoveHandler=o=function(e){t.onMouseMove(e)},t.mouseUpHandler=n=function(e){t.onMouseUp(e)},t.mouseDownHandler=r=function(e){t.onMouseDown(e)},i.push(h(s,"mousemove",o),h(s.ownerDocument,"mouseup",n),h(e,"mousedown",r)),a&&i.push(h(s,"touchmove",o),h(s.ownerDocument,"touchend",n),h(e,"touchstart",r)),t.eventsToUnbind=i}onMouseMove(e){e.touches&&0===e.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y))}onMouseUp(e){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null}onMouseDown(e){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0}updateAxes(r){const a=this,h=a.axis.chart;var e=a.options.controlledAxis;const t=0===e.next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,c=(e=[a.axis].concat(e.prev),[]),d=h.plotTop,u=h.plotHeight,l=d+u;r=g(r,d,l);let p=!1,x=r-a.lastPos;x*x<1||([e,t].forEach((e,n)=>{e.forEach((e,t)=>{var s,i,o=(e=f(e)?h.yAxis[e]:n||t?h.get(e):e)&&e.options;o&&"navigator-y-axis"!==o.id&&(t=e.top,s=Math.round(m(o.minLength,u)),i=Math.round(m(o.maxLength,u)),n?(x=r-a.lastPos,o=Math.round(g(e.len-x,s,i)),(t=e.top+x)+o>l&&(i=l-o-t,r+=i,t+=i),t<d&&((t=d)+o>l&&(o=u)),o===s&&(p=!0),c.push({axis:e,options:{top:100*(t-d)/u+"%",height:100*o/u+"%"}})):((o=Math.round(g(r-t,s,i)))===i&&(p=!0),r=t+o,c.push({axis:e,options:{height:100*o/u+"%"}})))})}),p||(c.forEach(function(e){e.axis.update(e.options,!1)}),h.redraw(!1)))}destroy(){const s=this;delete s.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(e){e()}),s.controlLine.destroy(),i(s,function(e,t){s[t]=null})}}return o.resizerOptions=e,o}),t(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Utilities.js"]],function(s,i){function o(){let e=this.resizer;var t=this.options.resize;t&&(t=!1!==t.enabled,e?t?e.init(this,!0):e.destroy():t&&(this.resizer=new s(this)))}function n(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function r(e){this.chart.activeResizer||e.apply(this,Array.prototype.slice.call(arguments,1))}function a(e){this.chart.activeResizer||e.apply(this,Array.prototype.slice.call(arguments,1))}const{addEvent:h,merge:c,wrap:d}=i,u=[];return{compose:function(e,t){i.pushUnique(u,e)&&(c(!0,e.defaultOptions,s.resizerOptions),e.keepProps.push("resizer"),h(e,"afterRender",o),h(e,"destroy",n)),i.pushUnique(u,t)&&(d(t.prototype,"runPointActions",a),d(t.prototype,"drag",r))}}}),t(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,t,s){e.AxisResizer=t,s.compose(e.Axis,e.Pointer)})});