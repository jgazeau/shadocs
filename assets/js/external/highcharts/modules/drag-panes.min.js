!function(s){"object"==typeof module&&module.exports?module.exports=s.default=s:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return s(e),s.Highcharts=e,s}):s("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function s(e,s,t,i){e.hasOwnProperty(s)||(e[s]=i.apply(null,t),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:e[s]}})))}s(e,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),s(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,s,t){let a=s["hasTouch"],{addEvent:h,clamp:m,isNumber:y,relativeLength:z}=t;class i{constructor(e){this.axis=void 0,this.controlLine=void 0,this.lastPos=void 0,this.options=void 0,this.init(e)}init(e,s){this.axis=e,this.options=e.options.resize||{},this.render(),s||this.addMouseEvents()}render(){let e=this.axis,s=e.chart,t=this.options,i=t.x||0,o=t.y,n=m(e.top+e.height+o,s.plotTop,s.plotTop+s.plotHeight),r={};s.styledMode||(r={cursor:t.cursor,stroke:t.lineColor,"stroke-width":t.lineWidth,dashstyle:t.lineDashStyle}),this.lastPos=n-o,this.controlLine||(this.controlLine=s.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(e.axisGroup);var a=s.styledMode?this.controlLine.strokeWidth():t.lineWidth;r.d=s.renderer.crispLine([["M",e.left+i,n],["L",e.left+e.width+i,n]],a),this.controlLine.attr(r)}addMouseEvents(){var e,s,t;let i=this,o=i.controlLine.element,n=i.axis.chart.container,r=[];i.mouseMoveHandler=e=e=>i.onMouseMove(e),i.mouseUpHandler=s=e=>i.onMouseUp(e),i.mouseDownHandler=t=e=>i.onMouseDown(e),r.push(h(n,"mousemove",e),h(n.ownerDocument,"mouseup",s),h(o,"mousedown",t)),a&&r.push(h(n,"touchmove",e),h(n.ownerDocument,"touchend",s),h(o,"touchstart",t)),i.eventsToUnbind=r}onMouseMove(e){e.touches&&0===e.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y))}onMouseUp(e){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0}onMouseDown(e){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0}updateAxes(r){let a=this.axis.chart,e=this.options.controlledAxis,s=0===e.next.length?[a.yAxis.indexOf(this.axis)+1]:e.next,t=[this.axis].concat(e.prev),h=[],d=a.plotTop,l=a.plotHeight,c=d+l,u=e=>100*e/l+"%",p=(e,s,t)=>Math.round(m(e,s,t)),x=!1,g=(r=m(r,d,c))-this.lastPos;if(!(g*g<1)){let n=!0;for(var i of[t,s])for(var f of i){let e,s,t=y(f)?a.yAxis[f]:n?f:a.get(f),i=t&&t.options,o={};var v;i&&"navigator-y-axis"!==i.id?(s=t.top,f=Math.round(z(i.minLength||NaN,l)),v=Math.round(z(i.maxLength||NaN,l)),n?((e=p(r-s,f,v))===v&&(x=!0),r=s+e,h.push({axis:t,options:{height:u(e)}})):(g=r-this.lastPos,e=p(t.len-g,f,v),(s=t.top+g)+e>c&&(r+=v=c-e-s,s+=v),(e=s<d&&(s=d)+e>c?l:e)===f&&(x=!0),h.push({axis:t,options:{top:u(s-d),height:u(e)}})),n=!1,o.height=e):n=!1}if(!x){for(var o of h)o.axis.update(o.options,!1);a.redraw(!1)}}}destroy(){let e=this.axis;for(var s of(delete e.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(e=>e()),this.controlLine.destroy(),Object.keys(this)))this[s]=null}}return i.resizerOptions=e,i}),s(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Utilities.js"]],function(i,t){let{addEvent:o,merge:n,wrap:r}=t,a=[];function h(){let e=this.resizer,s=this.options.resize;var t;s&&(t=!1!==s.enabled,e?t?e.init(this,!0):e.destroy():t&&(this.resizer=new i(this)))}function d(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function l(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}function c(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}return{compose:function(e,s){t.pushUnique(a,e)&&(n(!0,e.defaultOptions,i.resizerOptions),e.keepProps.push("resizer"),o(e,"afterRender",h),o(e,"destroy",d)),t.pushUnique(a,s)&&(r(s.prototype,"runPointActions",c),r(s.prototype,"drag",l))}}}),s(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,s,t){e.AxisResizer=s,t.compose(e.Axis,e.Pointer)})});