!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(o){"use strict";var e=o?o._modules:{};function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&o.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),t(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Utilities.js"]],function(e,t){let{addEvent:a,clamp:v,isNumber:y,relativeLength:z}=t;class s{constructor(e){this.init(e)}init(e,t){this.axis=e,this.options=e.options.resize||{},this.render(),t||this.addMouseEvents()}render(){let e=this.axis,t=e.chart,s=this.options,i=s.x||0,o=s.y,n=v(e.top+e.height+o,t.plotTop,t.plotTop+t.plotHeight),r={};t.styledMode||(r={cursor:s.cursor,stroke:s.lineColor,"stroke-width":s.lineWidth,dashstyle:s.lineDashStyle}),this.lastPos=n-o,this.controlLine||(this.controlLine=t.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(e.axisGroup);var a=t.styledMode?this.controlLine.strokeWidth():s.lineWidth;r.d=t.renderer.crispLine([["M",e.left+i,n],["L",e.left+e.width+i,n]],a),this.controlLine.attr(r)}addMouseEvents(){var e,t,s;let i=this,o=i.controlLine.element,n=i.axis.chart.container,r=[];i.mouseMoveHandler=e=e=>i.onMouseMove(e),i.mouseUpHandler=t=e=>i.onMouseUp(e),i.mouseDownHandler=s=()=>i.onMouseDown(),r.push(a(n,"mousemove",e),a(n.ownerDocument,"mouseup",t),a(o,"mousedown",s),a(n,"touchmove",e),a(n.ownerDocument,"touchend",t),a(o,"touchstart",s)),i.eventsToUnbind=r}onMouseMove(t){if(!t.touches||0!==t.touches[0].pageX){let e=this.axis.chart.pointer;this.grabbed&&e&&(this.hasDragged=!0,this.updateAxes(e.normalize(t).chartY-(this.options.y||0)))}}onMouseUp(e){let t=this.axis.chart.pointer;this.hasDragged&&t&&this.updateAxes(t.normalize(e).chartY-(this.options.y||0)),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0}onMouseDown(){this.axis.chart.pointer?.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0}updateAxes(r){let a=this.axis.chart,e=this.options.controlledAxis,t=0===e.next.length?[a.yAxis.indexOf(this.axis)+1]:e.next,s=[this.axis].concat(e.prev),h=[],l=a.plotTop,d=a.plotHeight,c=l+d,u=e=>100*e/d+"%",p=(e,t,s)=>Math.round(v(e,t,s)),x=!1,f=(r=v(r,l,c))-this.lastPos;if(!(f*f<1)){let n=!0;for(var i of[s,t])for(var g of i){let e,t,s=y(g)?a.yAxis[g]:n?g:a.get(g),i=s&&s.options,o={};var m;!i||i.isInternal?n=!1:(t=s.top,g=Math.round(z(i.minLength||NaN,d)),m=Math.round(z(i.maxLength||NaN,d)),n?((e=p(r-t,g,m))===m&&(x=!0),r=t+e,h.push({axis:s,options:{height:u(e)}})):(f=r-this.lastPos,e=p(s.len-f,g,m),(t=s.top+f)+e>c&&(r+=m=c-e-t,t+=m),(e=t<l&&(t=l)+e>c?d:e)===g&&(x=!0),h.push({axis:s,options:{top:u(t-l),height:u(e)}})),n=!1,o.height=e)}if(!x){for(var o of h)o.axis.update(o.options,!1);a.redraw(!1)}}}destroy(){let e=this.axis;for(var t of(delete e.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(e=>e()),this.controlLine.destroy(),Object.keys(this)))this[t]=null}}return s.resizerOptions=e,s}),t(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Defaults.js"],e["Core/Utilities.js"]],function(i,e,t){let s=e["defaultOptions"],{addEvent:o,merge:n,wrap:r}=t;function a(){let e=this.resizer,t=this.options.resize;var s;t&&(s=!1!==t.enabled,e?s?e.init(this,!0):e.destroy():s&&(this.resizer=new i(this)))}function h(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function l(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}function d(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}return{compose:function(e,t){e.keepProps.includes("resizer")||(n(!0,s.yAxis,i.resizerOptions),e.keepProps.push("resizer"),o(e,"afterRender",a),o(e,"destroy",h),r(t.prototype,"runPointActions",d),r(t.prototype,"drag",l))}}}),t(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,t,s){return e.AxisResizer=t,s.compose(e.Axis,e.Pointer),e})});