!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/DragPanes.js",[t["Core/Globals.js"],t["Core/Axis/Axis.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e,o,i,s){var a=t.hasTouch,h=s.addEvent,x=s.clamp,y=s.isNumber,n=s.merge,r=s.objectEach,g=s.relativeLength,c=(s=s.wrap,p.prototype.init=function(t,e){this.axis=t,this.options=t.options.resize,this.render(),e||this.addMouseEvents()},p.prototype.render=function(){var t=this.axis,e=t.chart,o=this.options,i=o.x||0,s=o.y,n=x(t.top+t.height+s,e.plotTop,e.plotTop+e.plotHeight),r={};e.styledMode||(r={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),this.lastPos=n-s,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),o=e.styledMode?this.controlLine.strokeWidth():o.lineWidth,r.d=e.renderer.crispLine([["M",t.left+i,n],["L",t.left+t.width+i,n]],o),this.controlLine.attr(r)},p.prototype.addMouseEvents=function(){var t,e,o,i=this,s=i.controlLine.element,n=i.axis.chart.container,r=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},i.mouseDownHandler=o=function(t){i.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(s,"mousedown",o)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(s,"touchstart",o)),i.eventsToUnbind=r},p.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},p.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},p.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},p.prototype.updateAxes=function(r){var a=this,h=a.axis.chart,t=0===(e=a.options.controlledAxis).next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,e=[a.axis].concat(e.prev),c=[],p=!1,u=h.plotTop,d=h.plotHeight,l=u+d,f=(r=x(r,u,l))-a.lastPos;f*f<1||([e,t].forEach(function(t,n){t.forEach(function(t,e){var o,i,s=(t=y(t)?h.yAxis[t]:n||e?h.get(t):t)&&t.options;s&&"navigator-y-axis"!==s.id&&(e=t.top,o=Math.round(g(s.minLength,d)),i=Math.round(g(s.maxLength,d)),n?(f=r-a.lastPos,s=Math.round(x(t.len-f,o,i)),e=t.top+f,l<e+s&&(r+=i=l-s-e,e+=i),e<u&&(l<(e=u)+s&&(s=d)),s===o&&(p=!0),c.push({axis:t,options:{top:100*(e-u)/d+"%",height:100*s/d+"%"}})):((s=Math.round(x(r-e,o,i)))===i&&(p=!0),r=e+s,c.push({axis:t,options:{height:100*s/d+"%"}})))})}),p||(c.forEach(function(t){t.axis.update(t.options,!1)}),h.redraw(!1)))},p.prototype.destroy=function(){var o=this;delete o.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),o.controlLine.destroy(),r(o,function(t,e){o[e]=null})},p.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},p);function p(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}return e.keepProps.push("resizer"),h(e,"afterRender",function(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new c(this)))}),h(e,"destroy",function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}),s(i.prototype,"runPointActions",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),s(i.prototype,"drag",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),n(!0,o.defaultYAxisOptions,c.resizerOptions),t.AxisResizer=c,t.AxisResizer}),e(t,"masters/modules/drag-panes.src.js",[],function(){})});