!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function i(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}i(e,"Series/SeriesOnPointComposition.js",[e["Core/Series/Point.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(o,d,e,f,p){var t;let{bubble:i,pie:c}=e.seriesTypes,{addEvent:l,defined:u,find:s,isNumber:r}=p;{e=t=t||{};let a=[];e.compose=function(e,t){var{chartGetZData:i,seriesAfterInit:s,seriesAfterRender:o,seriesGetCenter:r,seriesShowOrHide:n,seriesTranslate:h}=m.prototype;return c.prototype.onPointSupported=!0,p.pushUnique(a,e)&&(l(d,"afterInit",s),l(d,"afterRender",o),l(d,"afterGetCenter",r),l(d,"hide",n),l(d,"show",n),l(d,"translate",h)),p.pushUnique(a,t)&&(l(t,"beforeRender",i),l(t,"beforeRedraw",i)),e};class m{constructor(e){this.getRadii=i.prototype.getRadii,this.getRadius=i.prototype.getRadius,this.getPxExtremes=i.prototype.getPxExtremes,this.getZExtremes=i.prototype.getZExtremes,this.chart=e.chart,this.series=e,this.options=e.options.onPoint}drawConnector(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var e=this.getConnectorAttributes();e&&this.connector.animate(e)}getConnectorAttributes(){let a=this.series.chart,e=this.options;if(e){var d=e.connectorOptions||{},p=e.position,c=a.get(e.id);if(c instanceof o&&p&&u(c.plotX)&&u(c.plotY)){let e=u(p.x)?p.x:c.plotX,t=u(p.y)?p.y:c.plotY,i=e+(p.offsetX||0),s=t+(p.offsetY||0),o=d.width||1,r=d.stroke||this.series.color,n=d.dashstyle,h={d:f.prototype.crispLine([["M",e,t],["L",i,s]],o,"ceil"),"stroke-width":o};return a.styledMode||(h.stroke=r,h.dashstyle=n),h}}}seriesAfterInit(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new m(this))}seriesAfterRender(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()}seriesGetCenter(e){let t=this.options.onPoint,i=e.positions;t&&((s=this.chart.get(t.id))instanceof o&&u(s.plotX)&&u(s.plotY)&&(i[0]=s.plotX,i[1]=s.plotY),(s=t.position)&&(u(s.x)&&(i[0]=s.x),u(s.y)&&(i[1]=s.y),s.offsetX&&(i[0]+=s.offsetX),s.offsetY&&(i[1]+=s.offsetY)));var s=this.radii&&this.radii[this.index];r(s)&&(i[2]=2*s),e.positions=i}seriesShowOrHide(){let i=this.chart.series;this.points.forEach(t=>{let e=s(i,e=>{e=((e.onPoint||{}).options||{}).id;return!!e&&e===t.id});e&&e.setVisible(!e.visible,!1)})}seriesTranslate(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)}chartGetZData(){let t=[];this.series.forEach(e=>{e=e.options.onPoint;t.push(e&&e.z?e.z:null)}),this.series.forEach(e=>{e.onPoint&&(e.onPoint.zData=e.zData=t)})}}e.Additions=m}return t}),i(e,"masters/modules/series-on-point.src.js",[e["Series/SeriesOnPointComposition.js"]],function(e){e.compose(t.Series,t.Chart)})});