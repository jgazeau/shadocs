!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}var i=e?e._modules:{};t(i,"Series/SeriesOnPointComposition.js",[i["Core/Series/Point.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],function(a,h,t,p,e){var i,d,c,o=(t=t.seriesTypes).bubble,f=t.pie,u=e.addEvent,l=e.defined,s=e.find,n=e.isNumber;function r(t){this.getRadii=o.prototype.getRadii,this.getRadius=o.prototype.getRadius,this.getPxExtremes=o.prototype.getPxExtremes,this.getZExtremes=o.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}return t=i=i||{},d=[],t.compose=function(t,e){var i=(a=c.prototype).chartGetZData,o=a.seriesAfterInit,s=a.seriesAfterRender,n=a.seriesGetCenter,r=a.seriesShowOrHide,a=a.seriesTranslate;return f.prototype.onPointSupported=!0,-1===d.indexOf(t)&&(d.push(t),u(h,"afterInit",o),u(h,"afterRender",s),u(h,"afterGetCenter",n),u(h,"hide",r),u(h,"show",r),u(h,"translate",a)),-1===d.indexOf(e)&&(d.push(e),u(e,"beforeRender",i),u(e,"beforeRedraw",i)),t},r.prototype.drawConnector=function(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var t=this.getConnectorAttributes();t&&this.connector.animate(t)},r.prototype.getConnectorAttributes=function(){var t=this.series.chart;if(e=this.options){var e,i,o,s=e.connectorOptions||{},n=e.position,r=t.get(e.id);if(r instanceof a&&n&&l(r.plotX)&&l(r.plotY))return e=l(n.x)?n.x:r.plotX,i=l(n.y)?n.y:r.plotY,o=s.width||1,r=s.stroke||this.series.color,s=s.dashstyle,n={d:p.prototype.crispLine([["M",e,i],["L",e+(n.offsetX||0),i+(n.offsetY||0)]],o,"ceil"),"stroke-width":o},t.styledMode||(n.stroke=r,n.dashstyle=s),n}},r.prototype.seriesAfterInit=function(){this.onPointSupported&&this.options.onPoint&&(this.useMapGeometry=this.bubblePadding=!0,this.onPoint=new r(this))},r.prototype.seriesAfterRender=function(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()},r.prototype.seriesGetCenter=function(t){var e,i=this.options.onPoint,o=t.positions;i&&((e=this.chart.get(i.id))instanceof a&&l(e.plotX)&&l(e.plotY)&&(o[0]=e.plotX,o[1]=e.plotY),(i=i.position)&&(l(i.x)&&(o[0]=i.x),l(i.y)&&(o[1]=i.y),i.offsetX&&(o[0]+=i.offsetX),i.offsetY&&(o[1]+=i.offsetY))),i=this.radii&&this.radii[this.index],n(i)&&(o[2]=2*i),t.positions=o},r.prototype.seriesShowOrHide=function(){var i=this.chart.series;this.points.forEach(function(e){var t=s(i,function(t){return!!(t=((t.onPoint||{}).options||{}).id)&&t===e.id});t&&t.setVisible(!t.visible,!1)})},r.prototype.seriesTranslate=function(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)},r.prototype.chartGetZData=function(){var e=[];this.series.forEach(function(t){t=t.options.onPoint,e.push(t&&t.z?t.z:null)}),this.series.forEach(function(t){t.onPoint&&(t.onPoint.zData=t.zData=e)})},c=r,t.Additions=c,i}),t(i,"masters/modules/series-on-point.src.js",[i["Series/SeriesOnPointComposition.js"]],function(t){t.compose(e.Series,e.Chart)})});