!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(s){"use strict";var e=s?s._modules:{};function t(e,t,a,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,a),"function"==typeof CustomEvent&&s.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Series/Tilemap/TilemapPoint.js",[e["Core/Axis/Color/ColorAxisComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){let{series:{prototype:{pointClass:i}},seriesTypes:{heatmap:{prototype:{pointClass:s}}}}=t,n=a["extend"];class r extends s{haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}return n(r.prototype,{setState:i.prototype.setState,setVisible:e.pointSetVisible}),r}),t(e,"Series/Tilemap/TilemapSeriesDefaults.js",[],function(){return{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}}),t(e,"Series/Tilemap/TilemapShapes.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){let i=e["noop"],{heatmap:s,scatter:n}=t.seriesTypes,{clamp:P,pick:f}=a;function r(e,t,a){e=e.options;return{xPad:-(e.colsize||1)/t,yPad:-(e.rowsize||1)/a}}return{hexagon:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(e){return r(e,3,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2-e,t.y1+e],["L",t.x3+e,t.y1+e],["L",t.x4+1.5*e,t.y2],["L",t.x3+e,t.y3-e],["L",t.x2-e,t.y3-e],["L",t.x1-1.5*e,t.y2],["Z"]]},translate:function(){let u,e=this.options,g=this.xAxis,c=this.yAxis,y=e.pointPadding||0,x=(e.colsize||1)/3,f=(e.rowsize||1)/2;for(var m of(this.generatePoints(),this.points)){let e=P(Math.floor(g.len-g.translate(m.x-2*x,0,1,0,1)),-g.len,2*g.len),t=P(Math.floor(g.len-g.translate(m.x-x,0,1,0,1)),-g.len,2*g.len),a=P(Math.floor(g.len-g.translate(m.x+x,0,1,0,1)),-g.len,2*g.len),i=P(Math.floor(g.len-g.translate(m.x+2*x,0,1,0,1)),-g.len,2*g.len),s=P(Math.floor(c.translate(m.y-f,0,1,0,1)),-c.len,2*c.len),n=P(Math.floor(c.translate(m.y,0,1,0,1)),-c.len,2*c.len),r=P(Math.floor(c.translate(m.y+f,0,1,0,1)),-c.len,2*c.len),o=m.pointPadding??y,l=o*Math.abs(t-e)/Math.abs(r-n),p=g.reversed?-l:l,h=g.reversed?-o:o,d=c.reversed?-o:o;m.x%2&&(u=u||Math.round(Math.abs(r-s)/2)*(c.reversed?-1:1),s+=u,n+=u,r+=u),m.plotX=m.clientX=(t+a)/2,m.plotY=n,e+=p+h,t+=h,a-=h,i-=p+h,s-=d,r+=d,m.tileEdges={x1:e,x2:t,x3:a,x4:i,y1:s,y2:n,y3:r},m.shapeType="path",m.shapeArgs={d:[["M",t,s],["L",a,s],["L",i,n],["L",a,r],["L",t,r],["L",e,n],["Z"]]}}this.translateColors()}},diamond:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(e){return r(e,2,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2,t.y1+e],["L",t.x3+e,t.y2],["L",t.x2,t.y3-e],["L",t.x1-e,t.y2],["Z"]]},translate:function(){var h,d;let e=this.options,u=this.xAxis,g=this.yAxis,c=e.pointPadding||0,y=e.colsize||1,x=(e.rowsize||1)/2;for(d of(this.generatePoints(),this.points)){let e=P(Math.round(u.len-u.translate(d.x-y,0,1,0,0)),-u.len,2*u.len),t=P(Math.round(u.len-u.translate(d.x+y,0,1,0,0)),-u.len,2*u.len),a=P(Math.round(g.translate(d.y-x,0,1,0,0)),-g.len,2*g.len),i=P(Math.round(g.translate(d.y,0,1,0,0)),-g.len,2*g.len),s=P(Math.round(g.translate(d.y+x,0,1,0,0)),-g.len,2*g.len),n=P(Math.round(u.len-u.translate(d.x,0,1,0,0)),-u.len,2*u.len),r=f(d.pointPadding,c),o=r*Math.abs(n-e)/Math.abs(s-i),l=u.reversed?-o:o,p=g.reversed?-r:r;d.x%2&&(h=Math.abs(s-a)/2*(g.reversed?-1:1),a+=h,i+=h,s+=h),d.plotX=d.clientX=n,d.plotY=i,e+=l,t-=l,a-=p,s+=p,d.tileEdges={x1:e,x2:n,x3:t,y1:a,y2:i,y3:s},d.shapeType="path",d.shapeArgs={d:[["M",n,a],["L",t,i],["L",n,s],["L",e,i],["Z"]]}}this.translateColors()}},circle:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(e){return r(e,2,2)},haloPath:function(e){return n.prototype.pointClass.prototype.haloPath.call(this,e+(e&&this.radius))},translate:function(){let e=this.options,s=this.xAxis,n=this.yAxis,r=e.pointPadding||0,o=(e.rowsize||1)/2,l=e.colsize||1,p,h,d,u,g=!1;for(var c of(this.generatePoints(),this.points)){let e=P(Math.round(s.len-s.translate(c.x,0,1,0,0)),-s.len,2*s.len),t=r,a=!1,i=P(Math.round(n.translate(c.y,0,1,0,0)),-n.len,2*n.len);void 0!==c.pointPadding&&(t=c.pointPadding,a=!0,g=!0),u&&!g||(d=Math.floor(Math.sqrt((p=Math.abs(P(Math.floor(s.len-s.translate(c.x+l,0,1,0,0)),-s.len,2*s.len)-e))*p+(h=Math.abs(P(Math.floor(n.translate(c.y+o,0,1,0,0)),-n.len,2*n.len)-i))*h)/2),u=Math.min(p,d,h)-t,g&&!a&&(g=!1)),c.x%2&&(i+=h*(n.reversed?-1:1)),c.plotX=c.clientX=e,c.plotY=i,c.radius=u,c.shapeType="circle",c.shapeArgs={x:e,y:i,r:u}}this.translateColors()}},square:{alignDataLabel:s.prototype.alignDataLabel,translate:s.prototype.translate,getSeriesPadding:i,haloPath:s.prototype.pointClass.prototype.haloPath}}}),t(e,"Series/Tilemap/TilemapSeries.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Tilemap/TilemapPoint.js"],e["Series/Tilemap/TilemapSeriesDefaults.js"],e["Series/Tilemap/TilemapShapes.js"],e["Core/Utilities.js"]],function(e,t,a,i,s,n){let{composed:r,noop:o}=e,{column:l,heatmap:p,scatter:h}=t.seriesTypes,{addEvent:d,extend:u,merge:g,pushUnique:c}=n;function y(){if(!this.recomputingForTilemap&&"colorAxis"!==this.coll){let t=this,e=t.series.map(function(e){return e.getSeriesPixelPadding&&e.getSeriesPixelPadding(t)}).reduce(function(e,t){return(e&&e.padding)>(t&&t.padding)?e:t},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(e.padding*e.axisLengthFactor);e.padding&&(t.len-=a,t.recomputingForTilemap=!0,t.setAxisTranslation(),delete t.recomputingForTilemap,t.minPixelPadding+=e.padding,t.len+=a)}}class x extends p{static compose(e){c(r,"TilemapSeries")&&d(e,"afterSetAxisTranslation",y)}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){for(var e of(l.prototype.drawPoints.call(this),this.points))e.graphic&&e.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(e))}getSeriesPixelPadding(e){var t=e.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var i=Math.round(e.translate(t?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(e.translate(t?a.xPad:0,0,1,0,1));return{padding:(e.single?Math.abs(i-a)/2:Math.abs(i-a))||0,axisLengthFactor:t?2:1.1}}setOptions(){var e=super.setOptions.apply(this,arguments);return this.tileShape=s[e.tileShape],e}translate(){return this.tileShape.translate.apply(this,arguments)}}return x.defaultOptions=g(p.defaultOptions,i),u(x.prototype,{getSymbol:o,markerAttribs:h.prototype.markerAttribs,pointAttribs:l.prototype.pointAttribs,pointClass:a}),t.registerSeriesType("tilemap",x),x}),t(e,"masters/modules/tilemap.src.js",[e["Core/Globals.js"],e["Series/Tilemap/TilemapSeries.js"]],function(e,t){return t.compose(e.Axis),e})});