"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,a,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Tilemap/TilemapPoint.js",[t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var{series:{prototype:{pointClass:i}},seriesTypes:{heatmap:{prototype:{pointClass:s}}}}=e;e=a.extend;class n extends s{constructor(){super(...arguments),this.tileEdges=this.series=this.radius=this.options=void 0}haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}return e(n.prototype,{setState:i.prototype.setState,setVisible:t.pointSetVisible}),n}),e(t,"Series/Tilemap/TilemapShapes.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){function i(t,e,a){return{xPad:((t=t.options).colsize||1)/-e,yPad:(t.rowsize||1)/-a}}t=t.noop;const{heatmap:s,scatter:n}=e["seriesTypes"],{clamp:f,pick:m}=a;return{hexagon:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){let t=this.options,d=this.xAxis,u=this.yAxis,c=t.pointPadding||0,g=(t.colsize||1)/3,y=(t.rowsize||1)/2,x;this.generatePoints(),this.points.forEach(function(t){let e=f(Math.floor(d.len-d.translate(t.x-2*g,0,1,0,1)),-d.len,2*d.len),a=f(Math.floor(d.len-d.translate(t.x-g,0,1,0,1)),-d.len,2*d.len),i=f(Math.floor(d.len-d.translate(t.x+g,0,1,0,1)),-d.len,2*d.len),s=f(Math.floor(d.len-d.translate(t.x+2*g,0,1,0,1)),-d.len,2*d.len),n=f(Math.floor(u.translate(t.y-y,0,1,0,1)),-u.len,2*u.len),r=f(Math.floor(u.translate(t.y,0,1,0,1)),-u.len,2*u.len),o=f(Math.floor(u.translate(t.y+y,0,1,0,1)),-u.len,2*u.len);var l=(h=m(t.pointPadding,c))*Math.abs(a-e)/Math.abs(o-r),l=d.reversed?-l:l,p=d.reversed?-h:h,h=u.reversed?-h:h;t.x%2&&(x=x||Math.round(Math.abs(o-n)/2)*(u.reversed?-1:1),n+=x,r+=x,o+=x),t.plotX=t.clientX=(a+i)/2,t.plotY=r,e+=l+p,a+=p,i-=p,s-=l+p,n-=h,o+=h,t.tileEdges={x1:e,x2:a,x3:i,x4:s,y1:n,y2:r,y3:o},t.shapeType="path",t.shapeArgs={d:[["M",a,n],["L",i,n],["L",s,r],["L",i,o],["L",a,o],["L",e,r],["Z"]]}}),this.translateColors()}},diamond:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){let t=this.options,p=this.xAxis,h=this.yAxis,d=t.pointPadding||0,u=t.colsize||1,c=(t.rowsize||1)/2,g;this.generatePoints(),this.points.forEach(function(t){let e=f(Math.round(p.len-p.translate(t.x-u,0,1,0,0)),-p.len,2*p.len),a=f(Math.round(p.len-p.translate(t.x,0,1,0,0)),-p.len,2*p.len),i=f(Math.round(p.len-p.translate(t.x+u,0,1,0,0)),-p.len,2*p.len),s=f(Math.round(h.translate(t.y-c,0,1,0,0)),-h.len,2*h.len),n=f(Math.round(h.translate(t.y,0,1,0,0)),-h.len,2*h.len),r=f(Math.round(h.translate(t.y+c,0,1,0,0)),-h.len,2*h.len);var o=(l=m(t.pointPadding,d))*Math.abs(a-e)/Math.abs(r-n),o=p.reversed?-o:o,l=h.reversed?-l:l;t.x%2&&(g=Math.abs(r-s)/2*(h.reversed?-1:1),s+=g,n+=g,r+=g),t.plotX=t.clientX=a,t.plotY=n,e+=o,i-=o,s-=l,r+=l,t.tileEdges={x1:e,x2:a,x3:i,y1:s,y2:n,y3:r},t.shapeType="path",t.shapeArgs={d:[["M",a,s],["L",i,n],["L",a,r],["L",e,n],["Z"]]}}),this.translateColors()}},circle:{alignDataLabel:n.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,2,2)},haloPath:function(t){return n.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){let t=this.options,n=this.xAxis,r=this.yAxis,o=t.pointPadding||0,l=(t.rowsize||1)/2,p=t.colsize||1,h,d,u,c,g=!1;this.generatePoints(),this.points.forEach(function(t){let e=f(Math.round(n.len-n.translate(t.x,0,1,0,0)),-n.len,2*n.len),a=f(Math.round(r.translate(t.y,0,1,0,0)),-r.len,2*r.len),i=o,s=!1;void 0!==t.pointPadding&&(i=t.pointPadding,g=s=!0),c&&!g||(h=Math.abs(f(Math.floor(n.len-n.translate(t.x+p,0,1,0,0)),-n.len,2*n.len)-e),d=Math.abs(f(Math.floor(r.translate(t.y+l,0,1,0,0)),-r.len,2*r.len)-a),u=Math.floor(Math.sqrt(h*h+d*d)/2),c=Math.min(h,u,d)-i,g&&!s&&(g=!1)),t.x%2&&(a+=d*(r.reversed?-1:1)),t.plotX=t.clientX=e,t.plotY=a,t.radius=c,t.shapeType="circle",t.shapeArgs={x:e,y:a,r:c}}),this.translateColors()}},square:{alignDataLabel:s.prototype.alignDataLabel,translate:s.prototype.translate,getSeriesPadding:t,haloPath:s.prototype.pointClass.prototype.haloPath}}}),e(t,"Series/Tilemap/TilemapComposition.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){e=e.addEvent,e(t,"afterSetAxisTranslation",function(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))})}),e(t,"Series/Tilemap/TilemapSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Tilemap/TilemapPoint.js"],t["Series/Tilemap/TilemapShapes.js"],t["Core/Utilities.js"]],function(t,e,a,i,s){t=t.noop;const{column:n,heatmap:r,scatter:o}=e["seriesTypes"],{extend:l,merge:p}=s;class h extends r{constructor(){super(...arguments),this.tileShape=this.points=this.options=this.data=void 0}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))}drawPoints(){n.prototype.drawPoints.call(this),this.points.forEach(t=>{t.graphic&&t.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(t))})}getSeriesPixelPadding(t){var e,a=t.isXAxis,i=this.tileShape.getSeriesPadding(this);return i?(e=Math.round(t.translate(a?2*i.xPad:i.yPad,0,1,0,1)),i=Math.round(t.translate(a?i.xPad:0,0,1,0,1)),{padding:(t.single?Math.abs(e-i)/2:Math.abs(e-i))||0,axisLengthFactor:a?2:1.1}):{padding:0,axisLengthFactor:1}}setOptions(){var t=super.setOptions.apply(this,Array.prototype.slice.call(arguments));return this.tileShape=i[t.tileShape],t}translate(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))}}return h.defaultOptions=p(r.defaultOptions,{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}),l(h.prototype,{getSymbol:t,markerAttribs:o.prototype.markerAttribs,pointAttribs:n.prototype.pointAttribs,pointClass:a}),e.registerSeriesType("tilemap",h),h}),e(t,"masters/modules/tilemap.src.js",[],function(){})});