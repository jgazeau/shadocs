!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){let{isSafari:r,win:a,win:{document:l}}=t,i=a.URL||a.webkitURL||a;function s(n){n=n.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(n&&3<n.length&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&a.Blob&&i.createObjectURL){let e=a.atob(n[3]),t=new a.ArrayBuffer(e.length),o=new a.Uint8Array(t);for(let t=0;t<o.length;++t)o[t]=e.charCodeAt(t);return i.createObjectURL(new a.Blob([o],{type:n[1]}))}}return{dataURLtoBlob:s,downloadURL:function(t,e){let o=a.navigator,n=l.createElement("a");if("string"==typeof t||t instanceof String||!o.msSaveOrOpenBlob){t=""+t;var i=/Edge\/\d+/.test(o.userAgent);if((r&&"string"==typeof t&&0===t.indexOf("data:application/pdf")||i||2e6<t.length)&&!(t=s(t)||""))throw Error("Failed to convert to blob");if(void 0!==n.download)n.href=t,n.download=e,l.body.appendChild(n),n.click(),l.body.removeChild(n);else try{if(!a.open(t,"chart"))throw Error("Failed to open window")}catch{a.location.href=t}}else o.msSaveOrOpenBlob(t,e)}}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.2.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(i,t,e,o,r,a,n,l,s){var c,m;let y=e["defaultOptions"],x=o["downloadURL"],{win:v,doc:w}=a,b=n["ajax"],{addEvent:u,error:d,extend:f,fireEvent:h,merge:g}=s,p=(i.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),i.allowedTags.push("desc","clippath","g"),[]);return(m=c=c||{}).CanVGRenderer={},m.domurl=v.URL||v.webkitURL||v,m.loadEventDeferDelay=a.isMS?150:0,m.compose=function(e){if(s.pushUnique(p,e)){let t=e.prototype;t.getSVGForLocalExport=L,t.exportChartLocal=E,g(!0,y.exporting,l)}return e},m.downloadSVGLocal=function(r,t,c,d){let a=w.createElement("div"),l=t.type||"image/png",f=(t.filename||"chart")+"."+("image/svg+xml"===l?"svg":l.split("/")[1]),h=t.scale||1,e,o,s,g=t.libURL||y.exporting.libURL,p=!0,u=t.pdfFont,n=(g="/"!==g.slice(-1)?g+"/":g,()=>{let t,e,o=(i.setElementHTML(a,r),a.getElementsByTagName("text")),n=([].forEach.call(o,function(i){for(["fontFamily","fontSize"].forEach(t=>{{var o=i,n=t;let e=o;for(;e&&e!==a;){if(e.style[n]){let t=e.style[n];"fontSize"===n&&/em$/.test(t)&&(t=Math.round(16*parseFloat(t))+"px"),o.style[n]=t;break}e=e.parentNode}return}}),i.style.fontFamily=u&&u.normal?"HighchartsFont":String(i.style.fontFamily&&i.style.fontFamily.split(" ").splice(-1)),t=i.getElementsByTagName("title"),[].forEach.call(t,function(t){i.removeChild(t)}),e=i.getElementsByClassName("highcharts-text-outline");0<e.length;)i.removeChild(e[0])}),a.querySelector("svg"));if(n){var l=n,s=()=>{U(n,0,h,t=>{try{x(t,f),d&&d()}catch(t){c(t)}})};let i,r=(t,e)=>{v.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])},e=(u&&(l=l.textContent||"",!/[^\u0000-\u007F\u200B]+/.test(l))&&(u=void 0),["normal","italic","bold","bolditalic"]),a=()=>{let n=e.shift();if(!n)return s();var t=u&&u[n];t?b({url:t,responseType:"blob",success:(t,e)=>{let o=new FileReader;o.onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],r(n,t),"normal"===n&&(i=t)),a()},o.readAsDataURL(e.response)},error:a}):(i&&r(n,i),a())};a()}});if("image/svg+xml"===l)try{e=void 0!==v.MSBlobBuilder?((o=new v.MSBlobBuilder).append(r),o.getBlob("image/svg+xml")):j(r),x(e,f),d&&d()}catch(t){c(t)}else"application/pdf"===l?v.jspdf&&v.jspdf.jsPDF?n():(p=!0,C(g+"jspdf.js",function(){C(g+"svg2pdf.js",n)})):(e=j(r),s=function(){try{m.domurl.revokeObjectURL(e)}catch(t){}},S(e,l,{},h,function(t){try{x(t,f),d&&d()}catch(t){c(t)}},function(){function t(){let t=v.canvg.Canvg.fromString(o,r);t.start();try{x(v.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(l),f),d&&d()}catch(t){c(t)}finally{s()}}let e=w.createElement("canvas"),o=e.getContext("2d"),n=r.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*h,i=r.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*h;e.width=n,e.height=i,v.canvg?t():(p=!0,C(g+"canvg.js",function(){t()}))},c,c,function(){p&&s()}))},m.getScript=C,m.imageToDataUrl=S,m.svgToDataUrl=j,m.svgToPdf=U,c;function E(t,e){function o(t){!1===i.fallbackToExportServer?i.error?i.error(i,t):d(28,!0):n.exportChart(i)}let n=this,i=g(n.options.exporting,t);a.isMS&&n.styledMode&&!r.inlineAllowlist.length&&r.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===i.type||n.container.getElementsByTagName("image").length&&"image/svg+xml"!==i.type)||"application/pdf"===i.type&&[].some.call(n.container.getElementsByTagName("image"),function(t){let e=t.getAttribute("href");return""!==e&&"string"==typeof e&&0!==e.indexOf("data:")})?o(Error("Image type not supported for this chart/browser.")):n.getSVGForLocalExport(i,e||{},o,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==i.type&&(a.isMS||"application/pdf"===i.type)?o(Error("Image type not supported for charts with embedded HTML")):m.downloadSVGLocal(t,f({filename:n.getFilename()},i),o,()=>h(n,"exportChartLocalSuccess"))})}function C(t,e){let o=w.getElementsByTagName("head")[0],n=w.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,n.onerror=function(){d("Error loading script "+t)},o.appendChild(n)}function L(e,t,o,n){let i=this,r=t=>i.sanitizeSVG(t,d),a=()=>{h&&p===g&&n(r(c.innerHTML))},l=(t,e,o)=>{++p,o.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),a()},s,c,d,f,h,g=0,p=0;i.unbindGetSVG=u(i,"getSVG",t=>{d=t.chartCopy.options,g=(h=(c=t.chartCopy.container.cloneNode(!0))&&c.getElementsByTagName("image")||[]).length}),i.getSVGForExport(e,t);try{if(!h||!h.length)return void n(r(c.innerHTML));for(let t=0;t<h.length;t++)(f=(s=h[t]).getAttributeNS("http://www.w3.org/1999/xlink","href"))?m.imageToDataUrl(f,"image/png",{imageElement:s},e.scale,l,o,o,o):(p++,s.parentNode.removeChild(s),t--,a())}catch(e){o(e)}i.unbindGetSVG()}function S(n,i,r,a,l,t,s,e,c){let d=new v.Image,f,o=()=>{setTimeout(function(){var t;let e=w.createElement("canvas"),o=e.getContext&&e.getContext("2d");try{if(o){e.height=d.height*a,e.width=d.width*a,o.drawImage(d,0,0,e.width,e.height);try{t=e.toDataURL(i),l(t,i,r,a)}catch(t){f(n,i,r,a)}}else s(n,i,r,a)}finally{c&&c(n,i,r,a)}},m.loadEventDeferDelay)},h=()=>{e(n,i,r,a),c&&c(n,i,r,a)};f=()=>{d=new v.Image,f=t,d.crossOrigin="Anonymous",d.onload=o,d.onerror=h,d.src=n},d.onload=o,d.onerror=h,d.src=n}function j(t){let e=v.navigator.userAgent,o=-1<e.indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!o&&-1===t.indexOf("<foreignObject"))return m.domurl.createObjectURL(new v.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,o,n){let i=(Number(t.getAttribute("width"))+2*e)*o,r=(Number(t.getAttribute("height"))+2*e)*o,a=new v.jspdf.jsPDF(i<r?"p":"l","pt",[i,r]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});var l=t.querySelectorAll("linearGradient");for(let n=0;n<l.length;n++){let t=l[n],e=t.querySelectorAll("stop"),o=0;for(;o<e.length&&"0"===e[o].getAttribute("offset")&&"0"===e[o+1].getAttribute("offset");)e[o].remove(),o++}[].forEach.call(t.querySelectorAll("tspan"),t=>{"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),a.svg(t,{x:0,y:0,width:i,height:r,removeInvalid:!0}).then(()=>n(a.output("datauristring")))}}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/DownloadURL.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e,o){t.dataURLtoBlob=e.dataURLtoBlob,t.downloadSVGLocal=o.downloadSVGLocal,t.downloadURL=e.downloadURL,o.compose(t.Chart)})});