"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function t(i,t,s,e){i.hasOwnProperty(t)||(i[t]=e.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i=i?i._modules:{},"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(r,s){const{addEvent:e,find:n,fireEvent:k,isArray:o,isNumber:p,pick:x}=s;var i;{var t=i=i||{};function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function f(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function c(){const t=this.brokenAxis;if(t&&t.hasBreaks){const s=this.tickPositions,i=this.tickPositions.info,e=[];for(let i=0;i<s.length;i++)t.isInAnyBreak(s[i])||e.push(s[i]);this.tickPositions=e,this.tickPositions.info=i}}function h(){this.brokenAxis||(this.brokenAxis=new v(this))}function l(){const{isDirty:i,options:{connectNulls:t},points:s,xAxis:e,yAxis:n}=this;if(i){let i=s.length;for(;i--;){const o=s[i],r=!(null===o.y&&!1===t)&&(e&&e.brokenAxis&&e.brokenAxis.isInAnyBreak(o.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!r&&!1!==o.options.visible}}}function u(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,x(this.pointArrayMap,["y"]))}function m(s,i){const t=this,e=t.points;let n,o,r,a;if(s&&s.brokenAxis&&s.brokenAxis.hasBreaks){const f=s.brokenAxis;i.forEach(function(i){n=f&&f.breakArray||[],o=s.isXAxis?s.min:x(t.options.threshold,s.min),e.forEach(function(t){a=x(t["stack"+i.toUpperCase()],t[i]),n.forEach(function(i){p(o)&&p(a)&&(r=!1,o<i.from&&a>i.to||o>i.from&&a<i.from?r="pointBreak":(o<i.from&&a>i.from&&a<i.to||o>i.from&&a>i.to&&a<i.from)&&(r="pointInBreak"),r&&k(s,r,{point:t,brk:i}))})})})}}function A(){var i,t=(s=this.currentDataGrouping)&&s.gapSize,s=this.points.slice();const e=this.yAxis;let n=this.options.gapSize,o=s.length-1;if(n&&0<o)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),t&&t>n&&t>=this.basePointRange&&(n=t);o--;)i&&!1!==i.visible||(i=s[o+1]),t=s[o],!1!==i.visible&&!1!==t.visible&&(i.x-t.x>n&&(i=(t.x+i.x)/2,s.splice(o+1,0,{isNull:!0,x:i}),e.stacking&&this.options.stacking&&((i=e.stacking.stacks[this.stackKey][i]=new r(e,e.options.stackLabels,!1,i,this.stack)).total=0)),i=t);return this.getGraphPath(s)}const d=[];t.compose=function(i,t){if(s.pushUnique(d,i)&&(i.keepProps.push("brokenAxis"),e(i,"init",h),e(i,"afterInit",a),e(i,"afterSetTickPositions",c),e(i,"afterSetOptions",f)),s.pushUnique(d,t)){const i=t.prototype;i.drawBreaks=m,i.gappedPath=A,e(t,"afterGeneratePoints",l),e(t,"afterRender",u)}return i};class v{static isInBreak(i,t){var s=i.repeat||1/0,e=i.from,n=i.to-i.from;return t=e<=t?(t-e)%s:s-(e-t)%s,i.inclusive?t<=n:t<n&&0!==t}static lin2Val(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray)||!p(i))return i;let s,e;for(e=0;e<t.length&&!((s=t[e]).from>=i);e++)(s.to<i||v.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray)||!p(i))return i;let s=i,e,n;for(n=0;n<t.length;n++)if((e=t[n]).to<=i)s-=e.len;else{if(e.from>=i)break;if(v.isInBreak(e,i)){s-=i-e.from;break}}return s}constructor(i){this.hasBreaks=!1,this.axis=i}findBreakAt(t,i){return n(i,function(i){return i.from<t&&t<i.to})}isInAnyBreak(i,t){var s=this.axis,e=s.options.breaks||[];let n=e.length,o,r,a;if(n&&p(i)){for(;n--;)v.isInBreak(e[n],i)&&(o=!0,r=r||x(e[n].showPoints,!s.isXAxis));a=o&&t?o&&!r:o}return a}setBreaks(i,t){const l=this,u=l.axis,s=o(i)&&!!i.length;u.isDirty=l.hasBreaks!==s,l.hasBreaks=s,u.options.breaks=u.userOptions.breaks=i,u.forceRedraw=!0,u.series.forEach(function(i){i.isDirty=!0}),s||u.val2lin!==v.val2Lin||(delete u.val2lin,delete u.lin2val),s&&(u.userOptions.ordinal=!1,u.lin2val=v.lin2Val,u.val2lin=v.val2Lin,u.setExtremes=function(t,s,i,e,n){if(l.hasBreaks){const u=this.options.breaks||[];let i;for(;i=l.findBreakAt(t,u);)t=i.to;for(;i=l.findBreakAt(s,u);)s=i.from;s<t&&(s=t)}u.constructor.prototype.setExtremes.call(this,t,s,i,e,n)},u.setAxisTranslation=function(){if(u.constructor.prototype.setAxisTranslation.call(this),l.unitLength=void 0,l.hasBreaks){const i=u.options.breaks||[],f=[],c=[],h=x(u.pointRangePadding,0);let t=0,s,e,n=u.userMin||u.min,o=u.userMax||u.max,r,a;i.forEach(function(i){e=i.repeat||1/0,p(n)&&p(o)&&(v.isInBreak(i,n)&&(n+=i.to%e-n%e),v.isInBreak(i,o)&&(o-=o%e-i.from%e))}),i.forEach(function(i){if(r=i.from,e=i.repeat||1/0,p(n)&&p(o)){for(;r-e>n;)r-=e;for(;r<n;)r+=e;for(a=r;a<o;a+=e)f.push({value:a,move:"in"}),f.push({value:a+i.to-i.from,move:"out",size:i.breakSize})}}),f.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),s=0,r=n,f.forEach(function(i){1===(s+="in"===i.move?1:-1)&&"in"===i.move&&(r=i.value),0===s&&p(r)&&(c.push({from:r,to:i.value,len:i.value-r-(i.size||0)}),t+=i.value-r-(i.size||0))}),l.breakArray=c,p(n)&&p(o)&&p(u.min)&&(l.unitLength=o-n-t+h,k(u,"afterBreaks"),u.staticScale?u.transA=u.staticScale:l.unitLength&&(u.transA*=(o-u.min+h)/l.unitLength),h&&(u.minPixelPadding=u.transA*(u.minPointOffset||0)),u.min=n,u.max=o)}}),x(t,!0)&&u.chart.redraw()}}t.Additions=v}return i}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});