!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(n){"use strict";var i=n?n._modules:{};function t(i,t,e,s){i.hasOwnProperty(t)||(i[t]=s.apply(null,e),"function"==typeof CustomEvent&&n.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(f,i){var t;let{addEvent:s,find:e,fireEvent:k,isArray:n,isNumber:p,pick:x}=i;{function r(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function o(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function a(){let s=this.brokenAxis;if(s?.hasBreaks){let t=this.tickPositions,i=this.tickPositions.info,e=[];for(let i=0;i<t.length;i++)s.isInAnyBreak(t[i])||e.push(t[i]);this.tickPositions=e,this.tickPositions.info=i}}function l(){this.brokenAxis||(this.brokenAxis=new A(this))}function h(){let{isDirty:i,options:{connectNulls:s},points:n,xAxis:r,yAxis:o}=this;if(i){let e=n.length;for(;e--;){let i=n[e],t=!(null===i.y&&!1===s)&&(r?.brokenAxis?.isInAnyBreak(i.x,!0)||o?.brokenAxis?.isInAnyBreak(i.y,!0));i.visible=!t&&!1!==i.options.visible}}}function u(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,x(this.pointArrayMap,["y"]))}function c(s,i){let n,r,o,a=this,f=a.points;if(s?.brokenAxis?.hasBreaks){let e=s.brokenAxis;i.forEach(function(i){n=e?.breakArray||[],r=s.isXAxis?s.min:x(a.options.threshold,s.min);let t=s?.options?.breaks?.filter(function(t){let e=!0;for(let i=0;i<n.length;i++){var s=n[i];if(s.from===t.from&&s.to===t.to){e=!1;break}}return e});f.forEach(function(e){o=x(e["stack"+i.toUpperCase()],e[i]),n.forEach(function(t){if(p(r)&&p(o)){let i="";r<t.from&&o>t.to||r>t.from&&o<t.from?i="pointBreak":(r<t.from&&o>t.from&&o<t.to||r>t.from&&o>t.to&&o<t.from)&&(i="pointInBreak"),i&&k(s,i,{point:e,brk:t})}}),t?.forEach(function(i){k(s,"pointOutsideOfBreak",{point:e,brk:i})})})})}}function m(){let i=this.currentDataGrouping,e=i?.gapSize,s=this.points.slice(),n=this.yAxis,r=this.options.gapSize,o=s.length-1;if(r&&0<o){let i,t;for("value"!==this.options.gapUnit&&(r*=this.basePointRange),e&&e>r&&e>=this.basePointRange&&(r=e);o--;){var a;t&&!1!==t.visible||(t=s[o+1]),i=s[o],!1!==t.visible&&!1!==i.visible&&(t.x-i.x>r&&(a=(i.x+t.x)/2,s.splice(o+1,0,{isNull:!0,x:a}),n.stacking&&this.options.stacking&&((n.stacking.stacks[this.stackKey][a]=new f(n,n.options.stackLabels,!1,a,this.stack)).total=0)),t=i)}}return this.getGraphPath(s)}(i=t=t||{}).compose=function(t,e){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),s(t,"init",l),s(t,"afterInit",r),s(t,"afterSetTickPositions",a),s(t,"afterSetOptions",o);let i=e.prototype;i.drawBreaks=c,i.gappedPath=m,s(e,"afterGeneratePoints",h),s(e,"afterRender",u)}return t};class A{static isInBreak(i,t){var e=i.repeat||1/0,s=i.from,n=i.to-i.from,s=s<=t?(t-s)%e:e-(s-t)%e;return i.inclusive?s<=n:s<n&&0!=s}static lin2Val(i){var t=this.brokenAxis,e=t&&t.breakArray;if(!e||!p(i))return i;let s=i,n,r;for(r=0;r<e.length&&!((n=e[r]).from>=s);r++)(n.to<s||A.isInBreak(n,s))&&(s+=n.len);return s}static val2Lin(i){var t=this.brokenAxis,e=t&&t.breakArray;if(!e||!p(i))return i;let s=i,n,r;for(r=0;r<e.length;r++)if((n=e[r]).to<=i)s-=n.len;else{if(n.from>=i)break;if(A.isInBreak(n,i)){s-=i-n.from;break}}return s}constructor(i){this.hasBreaks=!1,this.axis=i}findBreakAt(t,i){return e(i,function(i){return i.from<t&&t<i.to})}isInAnyBreak(i,t){let e=this.axis,s=e.options.breaks||[],n=s.length,r,o,a;if(n&&p(i)){for(;n--;)A.isInBreak(s[n],i)&&(r=!0,o=o||x(s[n].showPoints,!e.isXAxis));a=r&&t?r&&!o:r}return a}setBreaks(i,t){let u=this,c=u.axis,e=n(i)&&!!i.length&&!!Object.keys(i[0]).length;c.isDirty=u.hasBreaks!==e,u.hasBreaks=e,i!==c.options.breaks&&(c.options.breaks=c.userOptions.breaks=i),c.forceRedraw=!0,c.series.forEach(function(i){i.isDirty=!0}),e||c.val2lin!==A.val2Lin||(delete c.val2lin,delete c.lin2val),e&&(c.userOptions.ordinal=!1,c.lin2val=A.lin2Val,c.val2lin=A.val2Lin,c.setExtremes=function(t,e,i,s,n){if(u.hasBreaks){let i;for(var r=this.options.breaks||[];i=u.findBreakAt(t,r);)t=i.to;for(;i=u.findBreakAt(e,r);)e=i.from;e<t&&(e=t)}c.constructor.prototype.setExtremes.call(this,t,e,i,s,n)},c.setAxisTranslation=function(){if(c.constructor.prototype.setAxisTranslation.call(this),u.unitLength=void 0,u.hasBreaks){let i=c.options.breaks||[],t=[],e=[],s=x(c.pointRangePadding,0),n=0,r,o,a=c.userMin||c.min,f=c.userMax||c.max,l,h;i.forEach(function(i){o=i.repeat||1/0,p(a)&&p(f)&&(A.isInBreak(i,a)&&(a+=i.to%o-a%o),A.isInBreak(i,f)&&(f-=f%o-i.from%o))}),i.forEach(function(i){if(l=i.from,o=i.repeat||1/0,p(a)&&p(f)){for(;l-o>a;)l-=o;for(;l<a;)l+=o;for(h=l;h<f;h+=o)t.push({value:h,move:"in"}),t.push({value:h+i.to-i.from,move:"out",size:i.breakSize})}}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),r=0,l=a,t.forEach(function(i){1===(r+="in"===i.move?1:-1)&&"in"===i.move&&(l=i.value),0===r&&p(l)&&(e.push({from:l,to:i.value,len:i.value-l-(i.size||0)}),n+=i.value-l-(i.size||0))}),u.breakArray=e,p(a)&&p(f)&&p(c.min)&&(u.unitLength=f-a-n+s,k(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:u.unitLength&&(c.transA*=(f-c.min+s)/u.unitLength),s&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=a,c.max=f)}}),x(t,!0)&&c.chart.redraw()}}i.Additions=A}return t}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){return i.BrokenAxis=i.BrokenAxis||t,i.BrokenAxis.compose(i.Axis,i.Series),i})});