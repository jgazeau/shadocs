!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function t(i,t,n,s){i.hasOwnProperty(t)||(i[t]=s.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i=i?i._modules:{},"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(o,i){var t,s,n,e=i.addEvent,r=i.find,k=i.fireEvent,a=i.isArray,p=i.isNumber,v=i.pick;function f(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function h(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function u(){var i=this.brokenAxis;if(i&&i.hasBreaks){for(var t=this.tickPositions,n=this.tickPositions.info,s=[],e=0;e<t.length;e++)i.isInAnyBreak(t[e])||s.push(t[e]);this.tickPositions=s,this.tickPositions.info=n}}function c(){this.brokenAxis||(this.brokenAxis=new n(this))}function l(){var i=this.options.connectNulls,t=this.points,n=this.xAxis,s=this.yAxis;if(this.isDirty)for(var e=t.length;e--;){var r=t[e],o=!(null===r.y&&!1===i)&&(n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.x,!0)||s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!o&&!1!==r.options.visible}}function x(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function m(n,i){var s,e,r,o,t,a=this,f=a.points;n&&n.brokenAxis&&n.brokenAxis.hasBreaks&&(t=n.brokenAxis,i.forEach(function(i){s=t&&t.breakArray||[],e=n.isXAxis?n.min:v(a.options.threshold,n.min),f.forEach(function(t){o=v(t["stack"+i.toUpperCase()],t[i]),s.forEach(function(i){p(e)&&p(o)&&(r=!1,e<i.from&&o>i.to||e>i.from&&o<i.from?r="pointBreak":(e<i.from&&o>i.from&&o<i.to||e>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&k(n,r,{point:t,brk:i}))})})}))}function d(){var i,t=(n=this.currentDataGrouping)&&n.gapSize,n=this.points.slice(),s=this.yAxis,e=this.options.gapSize,r=n.length-1;if(e&&0<r)for("value"!==this.options.gapUnit&&(e*=this.basePointRange),t&&e<t&&t>=this.basePointRange&&(e=t),i=void 0;r--;)i&&!1!==i.visible||(i=n[r+1]),t=n[r],!1!==i.visible&&!1!==t.visible&&(i.x-t.x>e&&(i=(t.x+i.x)/2,n.splice(r+1,0,{isNull:!0,x:i}),s.stacking&&this.options.stacking&&((i=s.stacking.stacks[this.stackKey][i]=new o(s,s.options.stackLabels,!1,i,this.stack)).total=0)),i=t);return this.getGraphPath(n)}function A(i){this.hasBreaks=!1,this.axis=i}return i=t=t||{},s=[],i.compose=function(i,t){var n;return-1===s.indexOf(i)&&(s.push(i),i.keepProps.push("brokenAxis"),e(i,"init",c),e(i,"afterInit",f),e(i,"afterSetTickPositions",u),e(i,"afterSetOptions",h)),-1===s.indexOf(t)&&(s.push(t),(n=t.prototype).drawBreaks=m,n.gappedPath=d,e(t,"afterGeneratePoints",l),e(t,"afterRender",x)),i},A.isInBreak=function(i,t){var n=i.repeat||1/0,s=i.from,e=i.to-i.from;return t=s<=t?(t-s)%n:n-(s-t)%n,i.inclusive?t<=e:t<e&&0!==t},A.lin2Val=function(i){var t,n=this.brokenAxis;if(!(n=n&&n.breakArray)||!p(i))return i;for(t=0;t<n.length;t++){var s=n[t];if(s.from>=i)break;(s.to<i||A.isInBreak(s,i))&&(i+=s.len)}return i},A.val2Lin=function(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray)||!p(i))return i;for(var n=i,s=0;s<t.length;s++){var e=t[s];if(e.to<=i)n-=e.len;else{if(e.from>=i)break;if(A.isInBreak(e,i)){n-=i-e.from;break}}}return n},A.prototype.findBreakAt=function(t,i){return r(i,function(i){return i.from<t&&t<i.to})},A.prototype.isInAnyBreak=function(i,t){var n,s,e=this.axis,r=e.options.breaks||[],o=r.length;if(o&&p(i)){for(;o--;)A.isInBreak(r[o],i)&&(n=!0,s=s||v(r[o].showPoints,!e.isXAxis));var a=n&&t?n&&!s:n}return a},A.prototype.setBreaks=function(i,t){var c=this,l=c.axis,n=a(i)&&!!i.length;l.isDirty=c.hasBreaks!==n,c.hasBreaks=n,l.options.breaks=l.userOptions.breaks=i,l.forceRedraw=!0,l.series.forEach(function(i){i.isDirty=!0}),n||l.val2lin!==A.val2Lin||(delete l.val2lin,delete l.lin2val),n&&(l.userOptions.ordinal=!1,l.lin2val=A.lin2Val,l.val2lin=A.val2Lin,l.setExtremes=function(i,t,n,s,e){if(c.hasBreaks){for(var r,o=this.options.breaks||[];r=c.findBreakAt(i,o);)i=r.to;for(;r=c.findBreakAt(t,o);)t=r.from;t<i&&(t=i)}l.constructor.prototype.setExtremes.call(this,i,t,n,s,e)},l.setAxisTranslation=function(){var i,t,n,s,e,r,o,a,f,h,u;l.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks&&(i=l.options.breaks||[],t=[],n=[],s=v(l.pointRangePadding,0),e=0,o=l.userMin||l.min,a=l.userMax||l.max,i.forEach(function(i){r=i.repeat||1/0,p(o)&&p(a)&&(A.isInBreak(i,o)&&(o+=i.to%r-o%r),A.isInBreak(i,a)&&(a-=a%r-i.from%r))}),i.forEach(function(i){if(u=i.from,r=i.repeat||1/0,p(o)&&p(a)){for(;o<u-r;)u-=r;for(;u<o;)u+=r;for(f=u;f<a;f+=r)t.push({value:f,move:"in"}),t.push({value:f+i.to-i.from,move:"out",size:i.breakSize})}}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),h=0,u=o,t.forEach(function(i){1===(h+="in"===i.move?1:-1)&&"in"===i.move&&(u=i.value),0===h&&p(u)&&(n.push({from:u,to:i.value,len:i.value-u-(i.size||0)}),e+=i.value-u-(i.size||0))}),c.breakArray=n,p(o)&&p(a)&&p(l.min)&&(c.unitLength=a-o-e+s,k(l,"afterBreaks"),l.staticScale?l.transA=l.staticScale:c.unitLength&&(l.transA*=(a-l.min+s)/c.unitLength),s&&(l.minPixelPadding=l.transA*(l.minPointOffset||0)),l.min=o,l.max=a))}),v(t,!0)&&l.chart.redraw()},n=A,i.Additions=n,t}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});