!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var i=r?r._modules:{};function t(i,t,s,e){i.hasOwnProperty(t)||(i[t]=e.apply(null,s),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i,"Series/Variwide/VariwideComposition.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(i,t){let e=i["composed"],{addEvent:r,pushUnique:o,wrap:a}=t;function n(i){this.variwide&&this.cross&&this.cross.attr("stroke-width",i.point&&i.point.crosshairWidth)}function h(){let e=this;this.variwide&&this.chart.labelCollectors.push(function(){return e.tickPositions.filter(i=>!!e.ticks[i].label).map((i,t)=>{let s=e.ticks[i].label;return s.labelrank=e.zData[t],s})})}function l(i){var t=this.axis,s=t.horiz?"x":"y";t.variwide&&(this[s+"Orig"]=i.pos[s],this.postTranslate(i.pos,s,this.pos))}function d(i,t,s){let e=this.axis,r=i[t]-e.pos;e.horiz||(r=e.len-r),r=e.series[0].postTranslate(s,r),e.horiz||(r=e.len-r),i[t]=e.pos+r}function p(i,t,s,e,r,o,a,n){let h=Array.prototype.slice.call(arguments,1),l=r?"x":"y";this.axis.variwide&&"number"==typeof this[l+"Orig"]&&(h[r?0:1]=this[l+"Orig"]);r=i.apply(this,h);return this.axis.variwide&&this.axis.categories&&this.postTranslate(r,l,this.pos),r}return{compose:function(t,s){if(o(e,"Variwide")){let i=s.prototype;r(t,"afterDrawCrosshair",n),r(t,"afterRender",h),r(s,"afterGetPosition",l),i.postTranslate=d,a(i,"getLabelPosition",p)}}}}),t(i,"Series/Variwide/VariwidePoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(i,t){let{prototype:{pointClass:s}}=i.seriesTypes["column"],e=t["isNumber"];return class extends s{isValid(){return e(this.y)&&e(this.z)}}}),t(i,"Series/Variwide/VariwideSeriesDefaults.js",[],function(){return{pointPadding:0,groupPadding:0}}),t(i,"Series/Variwide/VariwideSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Series/Variwide/VariwideComposition.js"],i["Series/Variwide/VariwidePoint.js"],i["Series/Variwide/VariwideSeriesDefaults.js"],i["Core/Utilities.js"]],function(t,i,s,e,r){let o=t.seriesTypes["column"],{addEvent:a,crisp:c,extend:n,merge:h,pick:w}=r;class l extends o{processData(i){this.totalZ=0,this.relZ=[],t.seriesTypes.column.prototype.processData.call(this,i),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(i,t){this.relZ[t]=this.totalZ,this.totalZ+=i},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)}postTranslate(i,t,s){let e=this.xAxis,r=this.relZ,o=e.reversed?r.length-i:i,a=e.reversed?-1:1,n=e.toPixels(e.reversed?(e.dataMax||0)+e.pointRange:e.dataMin||0),h=e.toPixels(e.reversed?e.dataMin||0:(e.dataMax||0)+e.pointRange),l=Math.abs(h-n),d=this.totalZ,p=this.chart.inverted?h-(this.chart.plotTop-a*e.minPixelPadding):n-this.chart.plotLeft-a*e.minPixelPadding,c=o/r.length*l,u=(o+a)/r.length*l,f=w(r[o],d)/d*l,x=w(r[o+a],d)/d*l;return s&&(s.crosshairWidth=x-f),p+f+(t-(p+c))*(x-f)/(u-c)}translate(){this.crispOption=this.options.crisp,this.options.crisp=!1,super.translate(),this.options.crisp=this.crispOption}correctStackLabels(){let i,t,s,e;var r,o=this.options,a=this.yAxis;for(r of this.points)e=r.x,t=r.shapeArgs.width,(s=a.stacking.stacks[(this.negStacks&&r.y<(o.startFromThreshold?0:o.threshold)?"-":"")+this.stackKey])&&(i=s[e])&&!r.isNull&&i.setOffset(-t/2||0,t||0,void 0,void 0,r.plotX,this.xAxis)}}return l.compose=i.compose,l.defaultOptions=h(o.defaultOptions,e),a(l,"afterColumnTranslate",function(){let h=this.xAxis,l=this.chart.inverted,d=-1;for(var p of this.points){let i,t,s=(++d,p.shapeArgs||{}),{x:e=0,width:r=0}=s,{plotX:o=0,tooltipPos:a,z:n=0}=p;t=h.variwide?(i=this.postTranslate(d,e,p),this.postTranslate(d,e+r)):(i=o,h.translate(p.x+n,!1,!1,!1,!0)),this.crispOption&&(i=c(i,this.borderWidth),t=c(t,this.borderWidth)),s.x=i,s.width=Math.max(t-i,1),p.plotX=(i+t)/2,a&&(l?a[1]=h.len-s.x-s.width/2:a[0]=s.x+s.width/2)}this.options.stacking&&this.correctStackLabels()},{order:2}),n(l.prototype,{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],pointClass:s}),t.registerSeriesType("variwide",l),l}),t(i,"masters/modules/variwide.src.js",[i["Core/Globals.js"],i["Series/Variwide/VariwideSeries.js"]],function(i,t){return t.compose(i.Axis,i.Tick),i})});