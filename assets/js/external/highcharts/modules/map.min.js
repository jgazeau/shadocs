!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.Axis,t._Highcharts.Color,t._Highcharts.LegendSymbol,t._Highcharts.SeriesRegistry,t._Highcharts.SVGElement,t._Highcharts.Series,t._Highcharts.Chart,t._Highcharts.SVGRenderer,t._Highcharts.Templating,t._Highcharts.Series.types.scatter,t._Highcharts.Point):"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts/highcharts"],function(t){return e(t,t.Axis,t.Color,t.LegendSymbol,t.SeriesRegistry,t.SVGElement,t.Series,t.Chart,t.SVGRenderer,t.Templating,t.Series,["types"],t.Point)}):"object"==typeof exports?exports["highcharts/modules/map"]=e(t._Highcharts,t._Highcharts.Axis,t._Highcharts.Color,t._Highcharts.LegendSymbol,t._Highcharts.SeriesRegistry,t._Highcharts.SVGElement,t._Highcharts.Series,t._Highcharts.Chart,t._Highcharts.SVGRenderer,t._Highcharts.Templating,t._Highcharts.Series.types.scatter,t._Highcharts.Point):t.Highcharts=e(t.Highcharts,t.Highcharts.Axis,t.Highcharts.Color,t.Highcharts.LegendSymbol,t.Highcharts.SeriesRegistry,t.Highcharts.SVGElement,t.Highcharts.Series,t.Highcharts.Chart,t.Highcharts.SVGRenderer,t.Highcharts.Templating,t.Highcharts.Series.types.scatter,t.Highcharts.Point)}("undefined"==typeof window?this:window,(Jo,Qo,ts,es,is,os,ss,rs,as,ns,ls,hs)=>(()=>{"use strict";let O;var V,X,N={28:t=>{t.exports=os},260:t=>{t.exports=hs},500:t=>{t.exports=es},512:t=>{t.exports=is},532:t=>{t.exports=Qo},540:t=>{t.exports=as},620:t=>{t.exports=ts},632:t=>{t.exports=ls},820:t=>{t.exports=ss},944:t=>{t.exports=Jo},960:t=>{t.exports=rs},984:t=>{t.exports=ns}},G={};function o(t){var e=G[t];if(void 0!==e)return e.exports;e=G[t]={exports:{}};return N[t](e,e.exports,o),e.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var R={},t=(o.d(R,{default:()=>$o}),o(944)),f=o.n(t),t=o(532),t=o.n(t),e=o(620),Y=o.n(e);let H=Y()["parse"],{addEvent:h,extend:W,merge:F,pick:U,splat:Z}=f();{var e=i=i||{};let l;function _(){let t=this["userOptions"];this.colorAxis=[],t.colorAxis&&(t.colorAxis=Z(t.colorAxis),t.colorAxis.map(t=>new l(this,t)))}function q(e){let t=this.chart.colorAxis||[],i=t=>{t=e.allItems.indexOf(t);-1!==t&&(this.destroyItem(e.allItems[t]),e.allItems.splice(t,1))},o=[],s,r;for(t.forEach(function(t){(s=t.options)?.showInLegend&&(s.dataClasses&&s.visible?o=o.concat(t.getDataClassLegendSymbols()):s.visible&&o.push(t),t.series.forEach(function(t){t.options.showInLegend&&!s.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){i(t)}):i(t))}))}),r=o.length;r--;)e.allItems.unshift(o[r])}function K(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function $(e){this.chart.colorAxis?.forEach(t=>{t.update({},e.redraw)})}function J(){(this.chart.colorAxis?.length||this.colorAttribs)&&this.translateColors()}function Q(){let t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function tt(t){let e=this,i=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][i]()}),this.series.buildKDTree()}function et(){let i=this,t=this.getPointsCollection(),o=this.options.nullColor,s=this.colorAxis,r=this.colorKey;t.forEach(t=>{var e=t.getNestedProperty(r),e=t.options.color||(t.isNull||null===t.value?o:s&&void 0!==e?s.toColor(e,t):t.color||i.color);e&&t.color!==e&&(t.color=e,"point"===i.options.legendType&&t.legendItem&&t.legendItem.label&&i.chart.legend.colorizeItem(t,t.visible))})}function it(){this.elem.attr("fill",H(this.start).tweenTo(H(this.end),this.pos),void 0,!0)}function ot(){this.elem.attr("stroke",H(this.start).tweenTo(H(this.end),this.pos),void 0,!0)}e.compose=function(t,e,o,i,s){let r=e.prototype,a=o.prototype,n=s.prototype;if(!r.collectionsWithUpdate.includes("colorAxis")){l=t,r.collectionsWithUpdate.push("colorAxis"),r.collectionsWithInit.colorAxis=[r.addColorAxis],h(e,"afterCreateAxes",_);{o=e;let i=o.prototype.createAxis;o.prototype.createAxis=function(t,e){if("colorAxis"!==t)return i.apply(this,arguments);t=new l(this,F(e.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(t=>{t.series=[]}),this.series.forEach(t=>{t.bindAxes(),t.isDirtyData=!0}),U(e.redraw,!0)&&this.redraw(e.animation),t}}a.fillSetter=it,a.strokeSetter=ot,h(i,"afterGetAllItems",q),h(i,"afterColorizeItem",K),h(i,"afterUpdate",$),W(n,{optionalAxis:"colorAxis",translateColors:et}),W(n.pointClass.prototype,{setVisible:tt}),h(s,"afterTranslate",J,{order:1}),h(s,"bindAxes",Q)}},e.pointSetVisible=tt}let st=i,rt=Y()["parse"],at=f()["merge"];(e=r=r||{}).initDataClasses=function(t){let i=this.chart,e=this.legendItem=this.legendItem||{},o=this.options,s=t.dataClasses||[],r,a,n=i.options.chart.colorCount,l=0,h;this.dataClasses=a=[],e.labels=[];for(let t=0,e=s.length;t<e;++t)r=at(r=s[t]),a.push(r),!i.styledMode&&r.color||("category"===o.dataClassColor?(i.styledMode||(n=(h=i.options.colors||[]).length,r.color=h[l]),r.colorIndex=l,++l===n&&(l=0)):r.color=rt(o.minColor).tweenTo(rt(o.maxColor),e<2?.5:t/(e-1)))},e.initStops=function(){let t=this.options,i=this.stops=t.stops||[[0,t.minColor||""],[1,t.maxColor||""]];for(let t=0,e=i.length;t<e;++t)i[t].color=rt(i[t][1])},e.normalizedValue=function(t){var e=this.max||0,i=this.min||0;return 1-(e-(t=this.logarithmic?this.logarithmic.log2lin(t):t))/(e-i||1)},e.toColor=function(t,e){let i,o,s,r,a,n,l=this.dataClasses,h=this.stops;if(l){for(n=l.length;n--;)if(o=(a=l[n]).from,s=a.to,(void 0===o||t>=o)&&(void 0===s||t<=s)){r=a.color,e&&(e.dataClass=n,e.colorIndex=a.colorIndex);break}}else{for(i=this.normalizedValue(t),n=h.length;n--&&!(i>h[n][0]););o=h[n]||h[n+1],i=1-((s=h[n+1]||o)[0]-i)/(s[0]-o[0]||1),r=o.color.tweenTo(s.color,i)}return r};var i=r,e=o(500),nt=o.n(e),r=o(512),e=o.n(r);let lt=f()["defaultOptions"],ht=e()["series"],{defined:pt,extend:dt,fireEvent:ct,isArray:ut,isNumber:mt,merge:gt,pick:u,relativeLength:ft}=f();lt.colorAxis=gt(lt.xAxis,{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0});class a extends t(){static compose(t,e,i,o){st.compose(a,t,e,i,o)}constructor(t,e){super(t,e),this.coll="colorAxis",this.visible=!0,this.init(t,e)}init(t,e){var i=t.options.legend||{},i=e.layout?"vertical"!==e.layout:"vertical"!==i.layout;this.side=e.side||i?2:1,this.reversed=e.reversed||!i,this.opposite=!i,super.init(t,e,"colorAxis"),this.userOptions=e,ut(t.userOptions.colorAxis)&&(t.userOptions.colorAxis[this.index]=e),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=i,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(t){t=gt(lt.colorAxis,t,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&!1!==t.visible});super.setOptions(t),this.options.crosshair=this.options.marker}setAxisSize(){let t=this.chart,e=this.legendItem?.symbol,{width:i,height:o}=this.getSize();e&&(this.left=+e.attr("x"),this.top=+e.attr("y"),this.width=i=+e.attr("width"),this.height=o=+e.attr("height"),this.right=t.chartWidth-this.left-i,this.bottom=t.chartHeight-this.top-o,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?i:o)||a.defaultLegendLength}getOffset(){var t=this.legendItem?.group,i=this.chart.axisOffset[this.side];if(t){this.axisParent=t,super.getOffset();let e=this.chart.legend;e.allItems.forEach(function(t){t instanceof a&&t.drawLegendSymbol(e,t)}),e.render(),this.chart.getMargins(!0),this.chart.series.some(t=>t.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i}}setLegendColor(){var t=this.horiz,e=this.reversed,i=+!!e,e=+!e,t=t?[i,0,e,0]:[0,e,0,i];this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}}drawLegendSymbol(t,e){let i=e.legendItem||{},o=t.padding,s=t.options,r=this.options.labels,a=u(s.itemDistance,10),n=this.horiz,{width:l,height:h}=this.getSize(),p=u(s.labelPadding,n?16:30);this.setLegendColor(),i.symbol||(i.symbol=this.chart.renderer.symbol("roundedRect").attr({r:s.symbolRadius??3,zIndex:1}).add(i.group)),i.symbol.attr({x:0,y:(t.baseline||0)-11,width:l,height:h}),i.labelWidth=l+o+(n?a:u(r.x,r.distance)+(this.maxLabelLength||0)),i.labelHeight=h+o+(n?p:0)}setState(e){this.series.forEach(function(t){t.setState(e)})}setVisible(){}getSeriesExtremes(){let t=this.series,e,i,o,s,r=t.length;for(this.dataMin=1/0,this.dataMax=-1/0;r--;){for(var a of(i=(s=t[r]).colorKey=u(s.options.colorKey,s.colorKey,s.pointValKey,s.zoneAxis,"y"),o=s[i+"Min"]&&s[i+"Max"],[i,"value","y"]))if((e=s.getColumn(a)).length)break;var n;o?(s.minColorValue=s[i+"Min"],s.maxColorValue=s[i+"Max"]):(n=ht.prototype.getExtremes.call(s,e),s.minColorValue=n.dataMin,s.maxColorValue=n.dataMax),pt(s.minColorValue)&&pt(s.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,s.minColorValue),this.dataMax=Math.max(this.dataMax,s.maxColorValue)),o||ht.prototype.applyExtremes.call(s)}}drawCrosshair(t,e){let i,o=this.legendItem||{},s=e?.plotX,r=e?.plotY,a=this.pos,n=this.len;e&&((i=this.toPixels(e.getNestedProperty(e.series.colorKey)))<a?i=a-2:i>a+n&&(i=a+n+2),e.plotX=i,e.plotY=this.len-i,super.drawCrosshair(t,e),e.plotX=s,e.plotY=r,this.cross&&!this.cross.addedToColorAxis&&o.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(o.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(t){var e=this.left,i=t.translatedValue,o=this.top;return mt(i)?this.horiz?[["M",i-4,o-6],["L",i+4,o-6],["L",i,o],["Z"]]:[["M",e,i],["L",e-6,i+6],["L",e-6,i-6],["Z"]]:super.getPlotLinePath(t)}update(t,e){let i=this.chart.legend;this.series.forEach(t=>{t.isDirtyData=!0}),(t.dataClasses&&i.allItems||this.dataClasses)&&this.destroyItems(),super.update(t,e),this.legendItem?.label&&(this.setLegendColor(),i.colorizeItem(this,!0))}destroyItems(){let t=this.chart,e=this.legendItem||{};if(e.label)t.legend.destroyItem(this);else if(e.labels)for(var i of e.labels)t.legend.destroyItem(i);t.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(t){this.destroyItems(),super.remove(t)}getDataClassLegendSymbols(){let a,n=this,l=n.chart,h=n.legendItem&&n.legendItem.labels||[],t=l.options.legend,p=u(t.valueDecimals,-1),d=u(t.valueSuffix,""),c=i=>n.series.reduce((t,e)=>(t.push(...e.points.filter(t=>t.dataClass===i)),t),[]);return h.length||n.dataClasses.forEach((t,i)=>{let e=t.from,o=t.to,s=l["numberFormatter"],r=!0;a="",void 0===e?a="< ":void 0===o&&(a="> "),void 0!==e&&(a+=s(e,p)+d),void 0!==e&&void 0!==o&&(a+=" - "),void 0!==o&&(a+=s(o,p)+d),h.push(dt({chart:l,name:a,options:{},drawLegendSymbol:nt().rectangle,visible:!0,isDataClass:!0,setState:t=>{for(var e of c(i))e.setState(t)},setVisible:function(){this.visible=r=n.visible=!r;let t=[];for(var e of c(i))e.setVisible(r),e.hiddenInDataClass=!r,-1===t.indexOf(e.series)&&t.push(e.series);l.legend.colorizeItem(this,r),t.forEach(t=>{ct(t,"afterDataClassLegendClick")})}},t))}),h}getSize(){var{chart:t,horiz:e}=this,{height:i,width:o}=this.options,s=t.options["legend"];return{width:u(pt(o)?ft(o,t.chartWidth):void 0,s?.symbolWidth,e?a.defaultLegendLength:12),height:u(pt(i)?ft(i,t.chartHeight):void 0,s?.symbolHeight,e?12:a.defaultLegendLength)}}}a.defaultLegendLength=200,a.keepProps=["legendItem"],dt(a.prototype,i),Array.prototype.push.apply(t().keepProps,a.keepProps);let s=f(),yt=(s.ColorAxis=s.ColorAxis||a,s.ColorAxis.compose(s.Chart,s.Fx,s.Legend,s.Series),{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),{defined:bt,extend:xt,pick:vt,wrap:Mt}=f();{r=g=g||{};let o,s=0;function wt(t){let e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)}function Ct(t){let e=this.chart,i=bt((t=this.normalize(t)).wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(i)&&(s+=Math.abs(i),o&&clearTimeout(o),o=setTimeout(()=>{s=0},50)),s<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy(-(e.options.mapNavigation.mouseWheelSensitivity-1)*i,void 0,[t.chartX,t.chartY],!(Math.abs(i)<1)&&void 0)}function Pt(t,e,i){let o=this.chart;return e=t.call(this,e,i),o&&o.mapView&&(t=o.mapView.pixelsToLonLat({x:e.chartX-o.plotLeft,y:e.chartY-o.plotTop}))&&xt(e,t),e}function Lt(t){var e=this.chart.options.mapNavigation;e&&vt(e.enableTouchZoom,e.enabled)&&(this.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}r.compose=function(t){t=t.prototype;t.onContainerDblClick||(xt(t,{onContainerDblClick:wt,onContainerMouseWheel:Ct}),Mt(t,"normalize",Pt),Mt(t,"zoomOption",Lt))}}let Tt=g;function At(t,e,i,o,s){var r;return s&&(r=s?.r||0,s.brBoxY=e-r,s.brBoxHeight=o+r),O.roundedRect(t,e,i,o,s)}function jt(t,e,i,o,s){var r;return s&&(r=s?.r||0,s.brBoxHeight=o+r),O.roundedRect(t,e,i,o,s)}let zt={compose:function(t){(O=t.prototype.symbols).bottombutton=At,O.topbutton=jt}},kt=f()["setOptions"],St=f()["composed"],{addEvent:m,extend:It,merge:Bt,objectEach:Et,pick:Dt,pushUnique:Ot}=f();function Vt(t){t&&(t.preventDefault?.(),t.stopPropagation?.(),t.cancelBubble=!0)}class Xt{static compose(t,e,i){Tt.compose(e),zt.compose(i),Ot(St,"Map.Navigation")&&(m(t,"beforeRender",function(){this.mapNavigation=new Xt(this),this.mapNavigation.update()}),kt(yt))}constructor(t){this.chart=t,this.navButtons=[]}update(t){function l(t){this.handler.call(p,t),Vt(t)}let h=this,p=h.chart,d=h.navButtons,c=p.options.mapNavigation;for(t&&(c=p.options.mapNavigation=Bt(p.options.mapNavigation,t));d.length;)d.pop()?.destroy();if(!p.renderer.forExport&&Dt(c.enableButtons,c.enabled)){h.navButtonsGroup||(h.navButtonsGroup=p.renderer.g().attr({zIndex:7}).add()),Et(c.buttons,(i,t)=>{let e={padding:(i=Bt(c.buttonOptions,i)).padding},{text:o,width:s=0,height:r=0,padding:a=0}=(!p.styledMode&&i.theme&&(It(e,i.theme),e.style=Bt(i.theme.style,i.style)),i),n=p.renderer.button("+"!==o&&"-"!==o&&o||"",0,0,l,e,void 0,void 0,void 0,"zoomIn"===t?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[t]).attr({width:s,height:r,title:p.options.lang[t],zIndex:5}).add(h.navButtonsGroup);if("+"===o||"-"===o){let t=s+1,e=[["M",a+3,a+r/2],["L",a+t-3,a+r/2]];"+"===o&&e.push(["M",a+t/2,a+3],["L",a+t/2,a+r-3]),p.renderer.path(e).addClass("highcharts-button-symbol").attr(p.styledMode?{}:{stroke:i.style?.color,"stroke-width":3,"stroke-linecap":"round"}).add(n)}if(n.handler=i.onclick,m(n.element,"dblclick",Vt),d.push(n),It(i,{width:n.width,height:2*(n.height||0)}),p.hasLoaded)n.align(i,!1,i.alignTo);else{let t=m(p,"load",()=>{n.element&&n.align(i,!1,i.alignTo),t()})}});p.hasLoaded||m(p,"render",function(){var t,e,i,o=p.exporting?.group?.getBBox();o&&(t=h.navButtonsGroup.getBBox(),e=o,(i=t).x>=e.x+e.width||i.x+i.width<=e.x||i.y>=e.y+e.height||i.y+i.height<=e.y||(i=-t.y-t.height+o.y-5,e=o.y+o.height-t.y+5,o=c.buttonOptions&&c.buttonOptions.verticalAlign,h.navButtonsGroup.attr({translateY:"bottom"===o?i:e})))})}this.updateEvents(c)}updateEvents(t){let i=this.chart;Dt(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||m(i.container,"dblclick",function(t){i.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),Dt(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||m(i.container,"wheel",function(t){var e;return i.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e=i.mapView?.zoom,i.pointer.onContainerMouseWheel(t),e!==i.mapView?.zoom&&Vt(t)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}var i=o(28),Nt=o.n(i);let Gt=e().seriesTypes["column"]["prototype"],{addEvent:Rt,defined:Yt}=f();function Ht(t){let e=this.series,i=e.chart.renderer;this.moveToTopOnHover&&this.graphic&&(e.stateMarkerGraphic||(e.stateMarkerGraphic=new(Nt())(i,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),"hover"===t?.state?(this.graphic.attr({id:this.id}),e.stateMarkerGraphic.attr({href:i.url+"#"+this.id,visibility:"visible"})):e.stateMarkerGraphic.attr({href:""}))}(t=l=l||{}).pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){let e={};return!Yt(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:Gt.pointAttribs},t.compose=function(t){return Rt(t.prototype.pointClass,"afterSetState",Ht),t};let n=l;var r=o(820),Wt=o.n(r);let Ft=f()["deg2rad"],{fireEvent:Ut,isNumber:Zt,pick:_t,relativeLength:qt}=f();(g=c=c||{}).getCenter=function(){let t=this.options,e=this.chart,i=2*(t.slicedOffset||0),o=e.plotWidth-2*i,s=e.plotHeight-2*i,r=t.center,a=Math.min(o,s),n=t.thickness,l,h=t.size,p=t.innerSize||0,d,c,u=("string"==typeof h&&(h=parseFloat(h)),"string"==typeof p&&(p=parseFloat(p)),[_t(r?.[0],"50%"),_t(r?.[1],"50%"),_t(h&&h<0?void 0:t.size,"100%"),_t(p&&p<0?void 0:t.innerSize||0,"0%")]);for(!e.angular||this instanceof Wt()||(u[3]=0),d=0;d<4;++d)c=u[d],l=d<2||2===d&&/%$/.test(c),u[d]=qt(c,[o,s,a,u[2]][d])+(l?i:0);return u[3]>u[2]&&(u[3]=u[2]),Zt(n)&&2*n<u[2]&&0<n&&(u[3]=u[2]-2*n),Ut(this,"afterGetCenter",{positions:u}),u},g.getStartAndEndRadians=function(t,e){t=Zt(t)?t:0,e=Zt(e)&&t<e&&e-t<360?e:t+360;return{start:Ft*(t+-90),end:Ft*(e+-90)}};var Kt,i=c,t=o(960),l=o.n(t),r=o(540),$t=o.n(r);let Jt=f()["getOptions"],{isNumber:p,merge:Qt,pick:te}=f();class ee extends l(){init(t,e){var i=Jt().credits,i=Qt({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:te(i.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:te(i.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t);super.init(i,e)}mapZoom(t,e,i,o,s){this.mapView&&(p(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,p(e)&&p(i)?this.mapView.projection.inverse([e,i]):void 0,p(o)&&p(s)?[o,s]:void 0))}update(t){t.chart&&"map"in t.chart&&this.mapView?.recommendMapView(this,[t.chart.map,...(this.options.series||[]).map(t=>t.mapData)],!0),super.update.apply(this,arguments)}}(Kt=ee=ee||{}).maps={},Kt.mapChart=function(t,e,i){return new Kt(t,e,i)},Kt.splitPath=function(t){t="string"==typeof t?(t=t.replace(/([A-Z])/gi," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(t=>/[A-Z]/i.test(t)?t:parseFloat(t)):t;return $t().prototype.pathToSegments(t)};let ie=ee,oe={boundsFromPath:function(t){let i=-Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,r=Number.MAX_VALUE,a;if(t.forEach(t=>{var e=t[t.length-2],t=t[t.length-1];"number"==typeof e&&"number"==typeof t&&(o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,t),s=Math.max(s,t),a=!0)}),a)return{x1:o,y1:r,x2:i,y2:s}}},se=oe["boundsFromPath"],re=e().seriesTypes.scatter.prototype.pointClass,{extend:ae,isNumber:d,pick:ne}=f();class y extends re{static getProjectedPath(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]}applyOptions(t,e){let i=this.series,o=super.applyOptions(t,e),s=i.joinBy;return i.mapData&&i.mapMap&&(t=s[1],(t=void 0!==(e=super.getNestedProperty(t))&&i.mapMap[e])?ae(o,{...t,name:o.name??t.name}):-1!==i.pointArrayMap.indexOf("value")&&(o.value=o.value||null)),o}getProjectedBounds(t){let e=se(y.getProjectedPath(this,t)),i=this.properties,o=this.series.chart.mapView;if(e){var s=i?.["hc-middle-lon"],r=i?.["hc-middle-lat"];if(o&&d(s)&&d(r)){t=t.forward([s,r]);e.midX=t[0],e.midY=t[1]}else{s=i?.["hc-middle-x"],r=i?.["hc-middle-y"];e.midX=e.x1+(e.x2-e.x1)*ne(this.middleX,d(s)?s:.5);let t=ne(this.middleY,d(r)?r:.5);this.geometry||(t=1-t),e.midY=e.y2-(e.y2-e.y1)*t}return e}}onMouseOver(t){f().clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,t):this.series.onMouseOut()}setVisible(t){this.visible=this.options.visible=!!t,this.dataLabel&&this.dataLabel[t?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(e){let i=this.series.chart,o=i.mapView,s=this.bounds;if(o&&s){let t=d(this.insetIndex)&&o.insets[this.insetIndex];var r,a;t&&(r=t.projectedUnitsToPixels({x:s.x1,y:s.y1}),a=t.projectedUnitsToPixels({x:s.x2,y:s.y2}),r=o.pixelsToProjectedUnits({x:r.x,y:r.y}),a=o.pixelsToProjectedUnits({x:a.x,y:a.y}),s={x1:r.x,y1:r.y,x2:a.x,y2:a.y}),o.fitToBounds(s,void 0,!1),this.series.isDirty=!0,i.redraw(e)}}}ae(y.prototype,{dataLabelOnNull:n.pointMembers.dataLabelOnNull,moveToTopOnHover:n.pointMembers.moveToTopOnHover,isValid:n.pointMembers.isValid});let le=f()["isNumber"],he={center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}};var c,g=o(984),pe=o.n(g);let de=f()["win"],ce=pe()["format"],{error:ue,extend:me,merge:ge,wrap:fe}=f();function ye(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)}function be(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)}function xe(t,e){let i=this.options.chart.proj4||de.proj4;var o,s,r,a,n,l,h,p,d,c;{if(i)return{jsonmarginX:o=0,jsonmarginY:s=0,jsonres:r=1,scale:a=1,xoffset:n=0,xpan:l=0,yoffset:h=0,ypan:p=0}=e,t=i(e.crs,[t.lon,t.lat]),d=e.cosAngle||e.rotation&&Math.cos(e.rotation),c=e.sinAngle||e.rotation&&Math.sin(e.rotation),{x:(((e=e.rotation?[t[0]*d+t[1]*c,-t[0]*c+t[1]*d]:t)[0]-n)*a+l)*r+o,y:-(((h-e[1])*a+p)*r-s)};ue(21,!1,this)}}function ve(t,e){let i=this.options.chart.proj4||de.proj4;var o,s,r,a,n,l,h,p;if(i){if(null!==t.y)return{jsonmarginX:l=0,jsonmarginY:o=0,jsonres:s=1,scale:r=1,xoffset:p=0,xpan:h=0,yoffset:a=0,ypan:n=0}=e,l={x:((t.x-l)/s-h)/r+p,y:((t.y-o)/s+n)/r+a},h=e.cosAngle||e.rotation&&Math.cos(e.rotation),p=e.sinAngle||e.rotation&&Math.sin(e.rotation),{lat:(t=i(e.crs,"WGS84",e.rotation?{x:l.x*h+-l.y*p,y:l.x*p+l.y*h}:l)).y,lon:t.x}}else ue(21,!1,this)}function Me(t,e){e=e||Object.keys(t.objects)[0];let i=t.objects[e];if(i["hc-decoded-geojson"]&&i["hc-decoded-geojson"].title===t.title)return i["hc-decoded-geojson"];let l=t.arcs;if(t.transform){let i,o,s,r=t.arcs,{scale:a,translate:n}=t.transform;l=[];for(let t=0,e=r.length;t<e;++t){var h=r[t];l.push(i=[]),o=0;for(let t=s=0,e=h.length;t<e;++t)i.push([(o+=h[t][0])*a[0]+n[0],(s+=h[t][1])*a[1]+n[1]])}}let o=t=>"number"==typeof t[0]?t.reduce((t,e,i)=>{let o=e<0?l[~e]:l[e];return e<0?(o=o.slice(0,0===i?o.length:o.length-1)).reverse():i&&(o=o.slice(1)),t.concat(o)},[]):t.map(o),s=i.geometries,r=[];for(let t=0,e=s.length;t<e;++t)r.push({type:"Feature",properties:s[t].properties,geometry:{type:s[t].type,coordinates:s[t].coordinates||o(s[t].arcs)}});e={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:r,"hc-recommended-mapview":i["hc-recommended-mapview"],bbox:t.bbox,title:t.title};return i["hc-decoded-geojson"]=e}function we(t,e){e=ge(!0,this.options.credits,e),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}(c=V=V||{}).compose=function(t){let e=t.prototype;e.transformFromLatLon||(e.fromLatLonToPoint=ye,e.fromPointToLatLon=be,e.transformFromLatLon=xe,e.transformToLatLon=ve,fe(e,"addCredits",we))},c.geojson=function(t,n="map",e){let l=[],i="Topology"===t.type?Me(t):t,h=i.features;for(let a=0,t=h.length;a<t;++a){let t,e=h[a],i=e.geometry||{},o=i.type,s=i.coordinates,r=e.properties;var p,d,c;("map"!==n&&"mapbubble"!==n||"Polygon"!==o&&"MultiPolygon"!==o)&&("mapline"!==n||"LineString"!==o&&"MultiLineString"!==o)?"mappoint"===n&&"Point"===o&&s.length&&(t={geometry:{coordinates:s,type:o}}):s.length&&(t={geometry:{coordinates:s,type:o}}),t&&(p=r&&(r.name||r.NAME),d=r&&r.lon,c=r&&r.lat,l.push(me(t,{lat:"number"==typeof c?c:void 0,lon:"number"==typeof d?d:void 0,name:"string"==typeof p?p:void 0,properties:r})))}return e&&i.copyrightShort&&(e.chart.mapCredits=ce(e.chart.options.credits?.mapText,{geojson:i}),e.chart.mapCreditsFull=ce(e.chart.options.credits?.mapTextFull,{geojson:i})),l},c.topo2geo=Me;let Ce=V;(t=X=X||{}).getCenterOfPoints=function(t){var e=t.reduce((t,e)=>(t.x+=e.x,t.y+=e.y,t),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},t.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.getAngleBetweenPoints=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},t.pointInPolygon=function({x:t,y:e},i){let o=i.length,s,r,a=!1;for(s=0,r=o-1;s<o;r=s++){var[n,l]=i[s],[h,p]=i[r];e<l!=e<p&&t<(h-n)*(e-l)/(p-l)+n&&(a=!a)}return a};r=X;function Pe(t,e,i=!0){let o=e[e.length-1],s,r,a,n=t;for(let t=0;t<e.length;t++){var l=n;s=e[t],n=[],r=i?l[l.length-1]:l[0];for(let t=0;t<l.length;t++)Le(o,s,a=l[t])?(Le(o,s,r)||n.push(Te(o,s,r,a)),n.push(a)):Le(o,s,r)&&n.push(Te(o,s,r,a)),r=a;o=s}return n}function Le(t,e,i){return(e[0]-t[0])*(i[1]-t[1])>(e[1]-t[1])*(i[0]-t[0])}function Te(t,e,i,o){let s=[t[0]-e[0],t[1]-e[1]],r=[i[0]-o[0],i[1]-o[1]],a=t[0]*e[1]-t[1]*e[0],n=i[0]*o[1]-i[1]*o[0],l=1/(s[0]*r[1]-s[1]*r[0]),h=[(a*r[0]-n*s[0])*l,(a*r[1]-n*s[1])*l];return h.isIntersection=!0,h}let b=Math.sign||(t=>0===t?0:0<t?1:-1),Ae=Math.PI/180,x=Math.PI/2,je=t=>Math.tan((x+t)/2),ze=Math.sqrt(3)/2,ke=Math.PI/4,Se=Math.PI/180,Ie=Math.PI/180,Be=Math.PI/180,{clipLineString:Ee,clipPolygon:De}={clipLineString:function(t,e){let i=[],o=Pe(t,e,!1);for(let t=1;t<o.length;t++)o[t].isIntersection&&o[t-1].isIntersection&&(i.push(o.splice(0,t)),t=0),t===o.length-1&&i.push(o);return i},clipPolygon:Pe},{clamp:Oe,erase:Ve}=f(),z=2*Math.PI/360,v=t=>(t<-180&&(t+=360),180<t&&(t-=360),t),Xe=t=>(1-Math.cos(t))/2;class k{static add(t,e){k.registry[t]=e}static distance(t,e){let{atan2:i,sqrt:o}=Math,s=((t,e)=>{let i=Math.cos,o=t[1]*z,s=t[0]*z,r=e[1]*z,a=e[0]*z;return Xe(r-o)+i(o)*i(r)*Xe(a-s)})(t,e);return 2*i(o(s),o(1-s))*6371e3}static geodesic(t,e,i,o=5e5){let{atan2:s,cos:r,sin:a,sqrt:n}=Math,l=k.distance,h=t[1]*z,p=t[0]*z,d=e[1]*z,c=e[0]*z,u=r(h)*r(p),m=r(d)*r(c),g=r(h)*a(p),f=r(d)*a(c),y=a(h),b=a(d),x=l(t,e),v=x/6371e3,M=a(v),w=Math.round(x/o),C=[];if(i&&C.push(t),1<w){var P=1/w;for(let t=P;t<.999;t+=P){var L=a((1-t)*v)/M,T=a(t*v)/M,A=L*u+T*m,j=L*g+T*f,L=s(L*y+T*b,n(A*A+j*j)),T=s(j,A);C.push([T/z,L/z])}}return i&&C.push(e),C}static insertGeodesics(t){let e=t.length-1;for(;e--;){var i;10<Math.max(Math.abs(t[e][0]-t[e+1][0]),Math.abs(t[e][1]-t[e+1][1]))&&((i=k.geodesic(t[e],t[e+1])).length&&t.splice(e+1,0,...i))}}static toString(t){let{name:e,rotation:i}=t||{};return[e,i&&i.join(",")].join(";")}constructor(t={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90;var{name:e,projectedBounds:i,rotation:o}=this.options=t;this.rotator=o?this.getRotator(o):void 0;let s=e?k.registry[e]:void 0,{def:r,rotator:a}=(s&&(this.def=new s(t)),this);r&&(this.maxLatitude=r.maxLatitude||90,this.hasGeoProjection=!0),a&&r?(this.forward=t=>r.forward(a.forward(t)),this.inverse=t=>a.inverse(r.inverse(t))):r?(this.forward=t=>r.forward(t),this.inverse=t=>r.inverse(t)):a&&(this.forward=a.forward,this.inverse=a.inverse),this.bounds="world"===i?r&&r.bounds:i}lineIntersectsBounds(t){let{x1:e,x2:i,y1:o,y2:s}=this.bounds||{},r=(t,e,i)=>{var o,[t,s]=t,r=+!e;if("number"==typeof i&&t[e]>=i!=s[e]>=i)return o=(i-t[e])/(s[e]-t[e]),o=t[r]+o*(s[r]-t[r]),e?[o,i]:[i,o]},a,n=t[0];return((a=r(t,0,e))||(a=r(t,0,i)))&&(n=a,t[1]=a),n=(a=r(t,1,o))||(a=r(t,1,s))?a:n}getRotator(t){let s=t[0]*z,e=(t[1]||0)*z,i=(t[2]||0)*z,r=Math.cos(e),a=Math.sin(e),n=Math.cos(i),l=Math.sin(i);if(0!=s||0!=e||0!=i)return{forward:t=>{var e=t[0]*z+s,t=t[1]*z,i=Math.cos(t),o=Math.cos(e)*i,e=Math.sin(e)*i,i=Math.sin(t),t=i*r+o*a;return[Math.atan2(e*n-t*l,o*r-i*a)/z,Math.asin(t*n+e*l)/z]},inverse:t=>{var e=t[0]*z,t=t[1]*z,i=Math.cos(t),o=Math.cos(e)*i,e=Math.sin(e)*i,i=Math.sin(t),t=i*n-e*l;return[(Math.atan2(e*n+i*l,o*r+t*a)-s)/z,Math.asin(t*r-o*a)/z]}}}forward(t){return t}inverse(t){return t}cutOnAntimeridian(r,o){let l,a=[],h=[r];for(let i=0,t=r.length;i<t;++i){let t=r[i],e=r[i-1];if(!i){if(!o)continue;e=r[r.length-1]}var s=e[0],n=t[0];(s<-90||90<s)&&(n<-90||90<n)&&0<s!=0<n&&(n=Oe((180-(s+360)%360)/((n+360)%360-(s+360)%360),0,1),n=e[1]+n*(t[1]-e[1]),a.push({i:i,lat:n,direction:s<0?1:-1,previousLonLat:e,lonLat:t}))}if(a.length)if(o){a.length%2==1&&(l=a.slice().sort((t,e)=>Math.abs(e.lat)-Math.abs(t.lat))[0],Ve(a,l));let s=a.length-2;for(;0<=s;){let t=a[s].i,e=v(180+1e-6*a[s].direction),i=v(180-1e-6*a[s].direction),o=r.splice(t,a[s+1].i-t,...k.geodesic([e,a[s].lat],[e,a[s+1].lat],!0));o.push(...k.geodesic([i,a[s+1].lat],[i,a[s].lat],!0)),h.push(o),s-=2}if(l)for(let t=0;t<h.length;t++){let{direction:s,lat:r}=l,a=h[t],n=a.indexOf(l.lonLat);if(-1<n){let e=(r<0?-1:1)*this.maxLatitude,i=v(180+1e-6*s),t=v(180-1e-6*s),o=k.geodesic([i,r],[i,e],!0);for(let t=i+120*s;-180<t&&t<180;t+=120*s)o.push([t,e]);o.push(...k.geodesic([t,e],[t,l.lat],!0)),a.splice(n,0,...o);break}}}else{let i=a.length;for(;i--;){let t=a[i].i,e=r.splice(t,r.length,[v(180+1e-6*a[i].direction),a[i].lat]);e.unshift([v(180-1e-6*a[i].direction),a[i].lat]),h.push(e)}}return h}path(t){let c,{bounds:u,def:e,rotator:i}=this,m=[],g="Polygon"===t.type||"MultiPolygon"===t.type,f=this.hasGeoProjection,y=!e||!1!==e.antimeridianCutting,o=y?i:void 0,b=y&&e||this,s=(u&&(c=[[u.x1,u.y1],[u.x2,u.y1],[u.x2,u.y2],[u.x1,u.y2]]),t=>{let e=t.map(e=>{if(y){let t=(e=o?o.forward(e):e)[0];e=[t=Math.abs(t-180)<1e-6?t<180?179.999999:180.000001:t,e[1]]}return e}),i=[e];f&&(k.insertGeodesics(e),y&&(i=this.cutOnAntimeridian(e,g))),i.forEach(n=>{let l,h;if(!(n.length<2)){let e=!1,i=!1,o=t=>{e?m.push(["L",t[0],t[1]]):(m.push(["M",t[0],t[1]]),e=!0)},s=!1,r=!1,a=n.map(t=>{let e=b.forward(t);return e.outside?s=!0:r=!0,e[1]===1/0?e[1]=1e10:e[1]===-1/0&&(e[1]=-1e10),e});if(y){if(g&&a.push(a[0]),s){if(!r)return;if(c)if(g)a=De(a,c);else if(u)return void Ee(a,c).forEach(t=>{e=!1,t.forEach(o)})}a.forEach(o)}else for(let t=0;t<a.length;t++){var p=n[t],d=a[t];i=!!d.outside||(g&&!l&&(l=p,n.push(p),a.push(d)),i&&h&&(g&&f?k.geodesic(h,p).forEach(t=>o(b.forward(t))):e=!1),o(d),h=p,!1)}}})});return"LineString"===t.type?s(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach(t=>s(t)):"Polygon"===t.type?(t.coordinates.forEach(t=>s(t)),m.length&&m.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach(t=>{t.forEach(t=>s(t))}),m.length&&m.push(["Z"])),m}}k.registry={EqualEarth:class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(t){var e=Math.PI/180,i=Math.asin(ze*Math.sin(t[1]*e)),o=i*i,s=o*o*o;return[t[0]*e*Math.cos(i)*74.03120656864502/(ze*(1.340264+-.24331799999999998*o+s*(.0062510000000000005+.034164*o))),74.03120656864502*i*(1.340264+-.081106*o+s*(893e-6+.003796*o))]}inverse(t){let e=t[0]/74.03120656864502,i=t[1]/74.03120656864502,o=180/Math.PI,s=i,r,a,n,l;for(let t=0;t<12&&(a=(r=s*s)*r*r,n=s*(1.340264+-.081106*r+a*(893e-6+.003796*r))-i,s-=l=n/(1.340264+-.24331799999999998*r+a*(.0062510000000000005+.034164*r)),!(Math.abs(l)<1e-9));++t);a=(r=s*s)*r*r;var t=o*ze*e*(1.340264+-.24331799999999998*r+a*(.0062510000000000005+.034164*r))/Math.cos(s),h=o*Math.asin(Math.sin(s)/ze);return 180<Math.abs(t)?[NaN,NaN]:[t,h]}},LambertConformalConic:class{constructor(t){var e=(t.parallels||[]).map(t=>t*Ae),i=e[0]||0,e=e[1]??i,o=Math.cos(i);"object"==typeof t.projectedBounds&&(this.projectedBounds=t.projectedBounds);let s=i===e?Math.sin(i):Math.log(o/Math.cos(e))/Math.log(je(e)/je(i));Math.abs(s)<1e-10&&(s=1e-10*(b(s)||1)),this.n=s,this.c=o*Math.pow(je(i),s)/s}forward(t){let{c:e,n:i,projectedBounds:o}=this,s=t[0]*Ae,r=t[1]*Ae,a=(0<e?r<1e-6-x&&(r=1e-6-x):r>x-1e-6&&(r=x-1e-6),e/Math.pow(je(r),i)),n=a*Math.sin(i*s)*63.78137,l=63.78137*(e-a*Math.cos(i*s)),h=[n,l];return o&&(n<o.x1||n>o.x2||l<o.y1||l>o.y2)&&(h.outside=!0),h}inverse(t){let{c:e,n:i}=this,o=t[0]/63.78137,s=e-t[1]/63.78137,r=b(i)*Math.sqrt(o*o+s*s),a=Math.atan2(o,Math.abs(s))*b(s);return s*i<0&&(a-=Math.PI*b(o)*b(s)),[a/i/Ae,(2*Math.atan(Math.pow(e/r,1/i))-x)/Ae]}},Miller:class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(t){return[t[0]*Se*63.78137,79.7267125*Math.log(Math.tan(ke+.4*t[1]*Se))]}inverse(t){return[t[0]/63.78137/Se,2.5*(Math.atan(Math.exp(t[1]/63.78137*.8))-ke)/Se]}},Orthographic:class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(t){let e=t[0],i=t[1]*Ie,o=[Math.cos(i)*Math.sin(e*Ie)*63.78460826781007,63.78460826781007*Math.sin(i)];return(e<-90||90<e)&&(o.outside=!0),o}inverse(t){var e=t[0]/63.78460826781007,t=t[1]/63.78460826781007,i=Math.sqrt(e*e+t*t),o=Math.asin(i),s=Math.sin(o);return[Math.atan2(e*s,i*Math.cos(o))/Ie,Math.asin(i&&t*s/i)/Ie]}},WebMercator:class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(t){let e=Math.sin(t[1]*Be),i=[63.78137*t[0]*Be,63.78137*Math.log((1+e)/(1-e))/2];return Math.abs(t[1])>this.maxLatitude&&(i.outside=!0),i}inverse(t){return[t[0]/(63.78137*Be),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/Be]}}};let Ne=f()["composed"],Ge=r["pointInPolygon"],Re=Ce["topo2geo"],Ye=oe["boundsFromPath"],{addEvent:M,clamp:He,crisp:We,fireEvent:Fe,isArray:Ue,isNumber:w,isObject:Ze,isString:_e,merge:C,pick:qe,pushUnique:Ke,relativeLength:P}=f(),$e={};function Je(t,e){var{width:e,height:i}=e;return Math.log(400.979322/Math.max((t.x2-t.x1)/(e/256),(t.y2-t.y1)/(i/256)))/Math.log(2)}function Qe(t){t.seriesOptions.mapData&&this.mapView?.recommendMapView(this,[this.options.chart.map,t.seriesOptions.mapData],this.options.drilldown?.mapZooming)}class L{static compose(t){Ke(Ne,"MapView")&&($e=t.maps,M(t,"afterInit",function(){this.mapView=new L(this,this.options.mapView)},{order:0}),M(t,"addSeriesAsDrilldown",Qe),M(t,"afterDrillUp",Qe))}static compositeBounds(t){if(t.length)return t.slice(1).reduce((t,e)=>(t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t),C(t[0]))}static mergeInsets(t,e){let i=t=>{let i={};return t.forEach((t,e)=>{i[t&&t.id||"i"+e]=t}),i},o=C(i(t),i(e));return Object.keys(o).map(t=>o[t])}constructor(t,e){this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof ti||this.recommendMapView(t,[t.options.chart.map,...(t.options.series||[]).map(t=>t.mapData)]),this.userOptions=e||{};let i=C(he,this.recommendedMapView,e),o=this.recommendedMapView?.insets,s=e&&e.insets;o&&s&&(i.insets=L.mergeInsets(o,s)),this.chart=t,this.center=i.center,this.options=i,this.projection=new k(i.projection),this.playingField=t.plotBox,this.zoom=i.zoom||0,this.minZoom=i.minZoom,this.createInsets(),this.eventsToUnbind.push(M(t,"afterSetChartSize",()=>{this.playingField=this.getField(),void 0!==this.minZoom&&this.minZoom!==this.zoom||(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&w(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&C(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let e=this.options,t=e.insets;t&&t.forEach(t=>{t=new ti(this,C(e.insetOptions,t));this.insets.push(t)})}fitToBounds(t,e,i=!0,o){var s,r=t||this.getProjectedBounds();r&&(e=qe(e,t?0:this.options.padding),s=this.getField(!1),e=Ue(e)?e:[e,e,e,e],this.padding=[P(e[0],s.height),P(e[1],s.width),P(e[2],s.height),P(e[3],s.width)],this.playingField=this.getField(),e=Je(r,this.playingField),t||(this.minZoom=e),s=this.projection.inverse([(r.x2+r.x1)/2,(r.y2+r.y1)/2]),this.setView(s,e,i,o))}getField(t=!0){t=t?this.padding:[0,0,0,0];return{x:t[3],y:t[0],width:this.chart.plotWidth-t[1]-t[3],height:this.chart.plotHeight-t[0]-t[2]}}getGeoMap(t){return _e(t)?$e[t]&&"Topology"===$e[t].type?Re($e[t]):$e[t]:Ze(t,!0)?"FeatureCollection"===t.type?t:"Topology"===t.type?Re(t):void 0:void 0}getMapBBox(){var t,e,i=this.getProjectedBounds(),o=this.getScale();if(i)return t=this.padding,e=this.projectedUnitsToPixels({x:i.x1,y:i.y2}),{width:(i.x2-i.x1)*o+t[1]+t[3],height:(i.y2-i.y1)*o+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}getProjectedBounds(){let o=this.projection,t=this.chart.series.reduce((t,e)=>{var i=e.getProjectedBounds&&e.getProjectedBounds();return i&&!1!==e.options.affectsMapView&&t.push(i),t},[]),s=this.options.fitToGeometry;if(s){if(!this.fitToGeometryCache)if("MultiPoint"===s.type){let t=s.coordinates.map(t=>o.forward(t)),e=t.map(t=>t[0]),i=t.map(t=>t[1]);this.fitToGeometryCache={x1:Math.min.apply(0,e),x2:Math.max.apply(0,e),y1:Math.min.apply(0,i),y2:Math.max.apply(0,i)}}else this.fitToGeometryCache=Ye(o.path(s));return this.fitToGeometryCache}return this.projection.bounds||L.compositeBounds(t)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){var{x:t,y:e,width:i,height:o}=this.playingField,s=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,a=this.getScale(),r=a*r;return{scaleX:a,scaleY:r,translateX:t+i/2-s[0]*a,translateY:e+o/2-s[1]*r}}lonLatToPixels(t){t=this.lonLatToProjectedUnits(t);if(t)return this.projectedUnitsToPixels(t)}lonLatToProjectedUnits(t){let e=this.chart,i=e.mapTransforms;if(i){for(var o in i)if(Object.hasOwnProperty.call(i,o)&&i[o].hitZone){var s=e.transformFromLatLon(t,i[o]);if(s&&Ge(s,i[o].hitZone.coordinates[0]))return s}return e.transformFromLatLon(t,i.default)}for(var r of this.insets){var a;if(r.options.geoBounds&&Ge({x:t.lon,y:t.lat},r.options.geoBounds.coordinates[0]))return a=r.projection.forward([t.lon,t.lat]),r=r.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(r)}var n=this.projection.forward([t.lon,t.lat]);if(!n.outside)return{x:n[0],y:n[1]}}projectedUnitsToLonLat(t){let e=this.chart,i=e.mapTransforms;if(i){for(var o in i)if(Object.hasOwnProperty.call(i,o)&&i[o].hitZone&&Ge(t,i[o].hitZone.coordinates[0]))return e.transformToLatLon(t,i[o]);return e.transformToLatLon(t,i.default)}var s,r,a=this.projectedUnitsToPixels(t);for(s of this.insets)if(s.hitZone&&Ge(a,s.hitZone.coordinates[0]))return r=s.pixelsToProjectedUnits(a),{lon:(r=s.projection.inverse([r.x,r.y]))[0],lat:r[1]};var n=this.projection.inverse([t.x,t.y]);return{lon:n[0],lat:n[1]}}recommendMapView(t,e,i=!1){this.recommendedMapView={};let o=e.map(t=>this.getGeoMap(t)),s=[],r=(o.forEach(t=>{var e,i,o;t&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=t["hc-recommended-mapview"]||{}),t.bbox)&&([t,e,i,o]=t.bbox,s.push({x1:t,y1:e,x2:i,y2:o}))}),s.length&&L.compositeBounds(s));Fe(this,"onRecommendMapView",{geoBounds:r,chart:t},function(){var t,e,i,o;r&&this.recommendedMapView&&(this.recommendedMapView.projection||({x1:t,y1:e,x2:i,y2:o}=r,this.recommendedMapView.projection=180<i-t&&90<o-e?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[e,o],rotation:[-(t+i)/2]}),this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0))}),this.geoMap=o[0],i&&t.hasRendered&&!t.userOptions.mapView?.projection&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(t){this.chart.series.forEach(t=>{t.useMapGeometry&&(t.isDirty=!0)}),this.chart.redraw(t)}setView(h,p,t=!0,e){h&&(this.center=h),"number"==typeof p&&("number"==typeof this.minZoom&&(p=Math.max(p,this.minZoom)),"number"==typeof this.options.maxZoom&&(p=Math.min(p,this.options.maxZoom)),w(p)&&(this.zoom=p));var d,c,h=this.getProjectedBounds();if(h){let t=this.projection.forward(this.center),{x:e,y:i,width:o,height:s}=this.playingField,r=this.getScale(),a=this.projectedUnitsToPixels({x:h.x1,y:h.y1}),n=this.projectedUnitsToPixels({x:h.x2,y:h.y2}),l=[(h.x1+h.x2)/2,(h.y1+h.y2)/2];this.chart.series.some(t=>t.isDrilling)||(p=a.x,h=n.y,d=n.x,c=a.y,d-p<o?t[0]=l[0]:p<e&&d<e+o?t[0]+=Math.max(p-e,d-o-e)/r:e+o<d&&e<p&&(t[0]+=Math.min(d-o-e,p-e)/r),c-h<s?t[1]=l[1]:h<i&&c<i+s?t[1]-=Math.max(h-i,c-s-i)/r:i+s<c&&i<h&&(t[1]-=Math.min(c-s-i,h-i)/r),this.center=this.projection.inverse(t)),this.insets.forEach(t=>{t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())}),this.render()}Fe(this,"afterSetView"),t&&this.redraw(e)}projectedUnitsToPixels(t){var e=this.getScale(),i=this.projection.forward(this.center),o=this.playingField,s=o.x+o.width/2,o=o.y+o.height/2;return{x:s-e*(i[0]-t.x),y:o+e*(i[1]-t.y)}}pixelsToLonLat(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))}pixelsToProjectedUnits(t){var{x:t,y:e}=t,i=this.getScale(),o=this.projection.forward(this.center),s=this.playingField,r=s.x+s.width/2,s=s.y+s.height/2;return{x:o[0]+(t-r)/i,y:o[1]-(e-s)/i}}setUpEvents(){let c,u,m,g=this["chart"],t=o=>{let{lastTouches:t,pinchDown:e}=g.pointer,s=this.projection,r=o.touches,{mouseDownX:a,mouseDownY:n}=g,l=0;if(1===e?.length?(a=e[0].chartX,n=e[0].chartY):2===e?.length&&(a=(e[0].chartX+e[1].chartX)/2,n=(e[0].chartY+e[1].chartY)/2),2===r?.length&&t&&(l=Math.log(Math.sqrt(Math.pow(t[0].chartX-t[1].chartX,2)+Math.pow(t[0].chartY-t[1].chartY,2))/Math.sqrt(Math.pow(r[0].chartX-r[1].chartX,2)+Math.pow(r[0].chartY-r[1].chartY,2)))/Math.log(.5)),w(a)&&w(n)){let t=a+","+n,{chartX:e,chartY:i}=o.originalEvent;2===r?.length&&(e=(r[0].chartX+r[1].chartX)/2,i=(r[0].chartY+r[1].chartY)/2),t!==u&&(u=t,c=this.projection.forward(this.center),m=(this.projection.options.rotation||[0,0]).slice());var h,p,d=s.def&&s.def.bounds,d=d&&Je(d,this.playingField)||-1/0;"Orthographic"===s.options.name&&(r?.length||0)<2&&(this.minZoom||1/0)<1.3*d?(d=440/(this.getScale()*Math.min(g.plotWidth,g.plotHeight)),m&&(h=(a-e)*d-m[0],d=He(-m[1]-(n-i)*d,-80,80),p=this.zoom,this.update({projection:{rotation:[-h,-d]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=p,g.redraw(!1))):w(e)&&w(i)&&(h=this.getScale(),d=this.projection.hasCoordinates?1:-1,p=this.projection.inverse([c[0]+(a-e)/h,c[1]-(n-i)/h*d]),isNaN(p[0]+p[1])||this.zoomBy(l,p,void 0,!1)),o.preventDefault()}};M(g,"pan",t),M(g,"touchpan",t),M(g,"selection",t=>{var e,i,o,s;t.resetSelection?this.zoomBy():(o=t.x-g.plotLeft,s=t.y-g.plotTop,{y:e,x:i}=this.pixelsToProjectedUnits({x:o,y:s}),{y:o,x:s}=this.pixelsToProjectedUnits({x:o+t.width,y:s+t.height}),this.fitToBounds({x1:i,y1:e,x2:s,y2:o},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||g.showResetZoom(),t.preventDefault())})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(t,e=!0,i){let o=t.projection,s=o&&k.toString(o)!==k.toString(this.options.projection),r=!1;C(!0,this.userOptions,t),C(!0,this.options,t),"insets"in t&&(this.insets.forEach(t=>t.destroy()),this.insets.length=0,r=!0),(s||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(s||r)&&(this.chart.series.forEach(t=>{let e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,r&&e)for(;1<e.length;){let t=e.pop();t&&t.destroy()}}),s&&(this.projection=new k(this.options.projection)),r&&this.createInsets(),t.center||!Object.hasOwnProperty.call(t,"zoom")||w(t.zoom)||this.fitToBounds(void 0,void 0,!1)),t.center||w(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),e&&this.chart.redraw(i)}zoomBy(s,r,a,n){let l=this.chart,h=this.projection.forward(this.center);if("number"==typeof s){let t,e,i,o=this.zoom+s;var p;a&&([s,a]=a,p=this.getScale(),s=s-l.plotLeft-l.plotWidth/2,a=a-l.plotTop-l.plotHeight/2,e=h[0]+s/p,i=h[1]+a/p),"number"==typeof e&&"number"==typeof i&&(s=1-Math.pow(2,this.zoom)/Math.pow(2,o),a=h[0]-e,p=h[1]-i,h[0]-=a*s,h[1]+=p*s,t=this.projection.inverse(h)),this.setView(r||t,o,void 0,n)}else this.fitToBounds(void 0,void 0,void 0,n)}}class ti extends L{constructor(e,t){if(super(e.chart,t),this.id=t.id,this.mapView=e,this.options=C({center:[0,0]},e.options.insetOptions,t),this.allBounds=[],this.options.geoBounds){let t=e.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=Ye(t),this.geoBoundsProjectedPolygon=t.map(t=>[t[1]||0,t[2]||0])}}getField(l=!0){var h=this.hitZone;if(h){let t=l?this.padding:[0,0,0,0],e=h.coordinates[0],i=e.map(t=>t[0]),o=e.map(t=>t[1]),s=Math.min.apply(0,i)+t[3],r=Math.max.apply(0,i)-t[1],a=Math.min.apply(0,o)+t[0],n=Math.max.apply(0,o)-t[2];if(w(s)&&w(a))return{x:s,y:a,width:r-s,height:n-a}}return super.getField.call(this,l)}getHitZone(){let{chart:i,mapView:o,options:s}=this,e=(s.field||{})["coordinates"];if(e){let t=e[0];if("percent"===s.units){let e="mapBoundingBox"===s.relativeTo&&o.getMapBBox()||C(i.plotBox,{x:0,y:0});t=t.map(t=>[P(t[0]+"%",e.width,e.x),P(t[1]+"%",e.height,e.y)])}return{type:"Polygon",coordinates:[t]}}}getProjectedBounds(){return L.compositeBounds(this.allBounds)}isInside(t){var{geoBoundsProjectedBox:e,geoBoundsProjectedPolygon:i}=this;return!!(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&i&&Ge(t,i))}render(){let{chart:n,mapView:i,options:l}=this,o=l.borderPath||l.field;if(o&&i.group){let t=!0,r=(this.border||(this.border=n.renderer.path().addClass("highcharts-mapview-inset-border").add(i.group),t=!1),n.styledMode||this.border.attr({stroke:l.borderColor,"stroke-width":l.borderWidth}),this.border.strokeWidth()),a="mapBoundingBox"===l.relativeTo&&i.getMapBBox()||i.playingField,e=(o.coordinates||[]).reduce((t,e)=>e.reduce((t,e,i)=>{let[o,s]=e;return"percent"===l.units&&(o=n.plotLeft+P(o+"%",a.width,a.x),s=n.plotTop+P(s+"%",a.height,a.y)),o=We(o,r),s=We(s,r),t.push(0===i?["M",o,s]:["L",o,s]),t},t),[]);this.border[t?"animate":"attr"]({d:e})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(t=>t())}setUpEvents(){}}let{animObject:ei,stop:ii}=f(),oi=f()["noop"],si=ie["splitPath"],{column:ri,scatter:ai}=e().seriesTypes,{extend:ni,find:li,fireEvent:hi,getNestedProperty:pi,isArray:di,defined:ci,isNumber:T,isObject:ui,merge:mi,objectEach:gi,pick:fi,splat:yi}=f();class bi extends ai{constructor(){super(...arguments),this.processedData=[]}animate(t){let{chart:e,group:i}=this,o=ei(this.options.animation);t?i.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):i.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},o)}clearBounds(){this.points.forEach(t=>{delete t.bounds,delete t.insetIndex,delete t.projectedPath}),delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let c=this,{chart:u,group:i,transformGroups:o=[]}=this,{mapView:s,renderer:m}=u;if(s){(this.transformGroups=o)[0]||(o[0]=m.g().add(i));for(let t=0,e=s.insets.length;t<e;++t)o[t+1]||o.push(m.g().add(i));this.doFullTranslate()&&(this.points.forEach(t=>{let e=t["graphic"];t.group=o["number"==typeof t.insetIndex?t.insetIndex+1:0],e&&e.parentGroup!==t.group&&e.add(t.group)}),ri.prototype.drawPoints.apply(this),this.points.forEach(e=>{let n=e.graphic;if(n){let a=n.animate,t="";e.name&&(t+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties?.["hc-key"]&&(t+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase()),t&&n.addClass(t),u.styledMode&&n.css(this.pointAttribs(e,e.selected?"select":void 0)),n.attr({visibility:e.visible||!e.visible&&!e.isNull?"inherit":"hidden"}),n.animate=function(t,e,i){var o,s=T(t["stroke-width"])&&!T(n["stroke-width"]),r=T(n["stroke-width"])&&!T(t["stroke-width"]);return(s||r)&&(o=fi(c.getStrokeWidth(c.options),1)/(u.mapView?.getScale()||1),s&&(n["stroke-width"]=o),r&&(t["stroke-width"]=o)),a.call(n,t,e,r?function(){n.element.removeAttribute("stroke-width"),delete n["stroke-width"],i&&i.apply(this,arguments)}:i)}}})),o.forEach((a,t)=>{let n=(0===t?s:s.insets[t-1]).getSVGTransform(),l=fi(this.getStrokeWidth(this.options),1),h=n.scaleX,p=0<n.scaleY?1:-1,d=o=>{(c.points||[]).forEach(t=>{let e,i=t.graphic;i?.["stroke-width"]&&(e=this.getStrokeWidth(t.options))&&i.attr({"stroke-width":e/o})})};if(m.globalAnimation&&u.hasRendered&&s.allowTransformAnimation){let o=Number(a.attr("translateX")),s=Number(a.attr("translateY")),r=Number(a.attr("scaleX")),t=mi(ei(m.globalAnimation)),e=t.step;t.step=function(){e&&e.apply(this,arguments),((t,e)=>{var i=r+(h-r)*e.pos;a.attr({translateX:o+(n.translateX-o)*e.pos,translateY:s+(n.translateY-s)*e.pos,scaleX:i,scaleY:i*p,"stroke-width":l/i}),d(i)}).apply(this,arguments)},a.attr({animator:0}).animate({animator:1},t,function(){"boolean"!=typeof m.globalAnimation&&m.globalAnimation.complete&&m.globalAnimation.complete({applyDrilldown:!0}),hi(this,"mapZoomComplete")}.bind(this))}else ii(a),a.attr(mi(n,{"stroke-width":l/h})),d(h)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:r,projection:t}=this.chart.mapView,e=[];(this.points||[]).forEach(s=>{if(s.path||s.geometry){if("string"==typeof s.path?s.path=si(s.path):di(s.path)&&"M"===s.path[0]&&(s.path=this.chart.renderer.pathToSegments(s.path)),!s.bounds){let o=s.getProjectedBounds(t);if(o){s.labelrank=fi(s.labelrank,(o.x2-o.x1)*(o.y2-o.y1));let{midX:e,midY:i}=o;if(r&&T(e)&&T(i)){let t=li(r,t=>t.isInside({x:e,y:i}));t&&(delete s.projectedPath,(o=s.getProjectedBounds(t.projection))&&t.allBounds.push(o),s.insetIndex=r.indexOf(t))}s.bounds=o}}s.bounds&&void 0===s.insetIndex&&e.push(s.bounds)}}),this.bounds=L.compositeBounds(e)}return this.bounds}getStrokeWidth(t){return t[this.pointAttrToOptions?.["stroke-width"]||"borderWidth"]}hasData(){return!!this.dataTable.rowCount}pointAttribs(t,e){let{mapView:i,styledMode:o}=t.series.chart,s=o?this.colorAttribs(t):ri.prototype.pointAttribs.call(this,t,e),r=this.getStrokeWidth(t.options);e&&(e=mi(this.options.states&&this.options.states[e],t.options.states&&t.options.states[e]||{}),a=this.getStrokeWidth(e),ci(a)&&(r=a),s.stroke=e.borderColor??t.color),r&&i&&(r/=i.getScale());var a=this.getStrokeWidth(this.options);return s.dashstyle&&i&&T(a)&&(r=a/i.getScale()),t.visible||(s.fill=this.options.nullColor),ci(r)?s["stroke-width"]=r:delete s["stroke-width"],s["stroke-linecap"]=s["stroke-linejoin"]=this.options.linecap,s}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(t,e=!0,i,o){delete this.bounds,super.setData(t,!1,void 0,o),this.processData(),this.generatePoints(),e&&this.chart.redraw(i)}dataColumnKeys(){return this.pointArrayMap}processData(){let e,i,o,s=this.options,r=s.data,t=this.chart,a=t.options.chart,n=this.joinBy,l=s.keys||this.pointArrayMap,h=[],p={},d=this.chart.mapView,c=d&&(ui(s.mapData,!0)?d.getGeoMap(s.mapData):d.geoMap),u=t.mapTransforms=a.mapTransforms||c?.["hc-transform"]||t.mapTransforms,m=(u&&gi(u,t=>{t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),di(s.mapData)?o=s.mapData:c&&"FeatureCollection"===c.type&&(this.mapTitle=c.title,o=f().geojson(c,this.type,this)),this.processedData=[],this.processedData);var g;if(r)for(let i=0,t=r.length;i<t;++i){if(T(g=r[i]))m[i]={value:g};else if(di(g)){let e=0;m[i]={},!s.keys&&g.length>l.length&&"string"==typeof g[0]&&(m[i]["hc-key"]=g[0],++e);for(let t=0;t<l.length;++t,++e)l[t]&&void 0!==g[e]&&(0<l[t].indexOf(".")?y.prototype.setNestedProperty(m[i],g[e],l[t]):m[i][l[t]]=g[e])}else m[i]=r[i];n&&"_i"===n[0]&&(m[i]._i=i)}if(o){this.mapData=o,this.mapMap={};for(let t=0;t<o.length;t++)i=(e=o[t]).properties,e._i=t,n[0]&&i&&i[n[0]]&&(e[n[0]]=i[n[0]]),p[e[n[0]]]=e;if(this.mapMap=p,n[1]){let e=n[1];m.forEach(t=>{t=pi(e,t);p[t]&&h.push(p[t])})}if(s.allAreas){if(n[1]){let e=n[1];m.forEach(t=>{h.push(pi(e,t))})}let e="|"+h.map(function(t){return t&&t[n[0]]}).join("|")+"|";o.forEach(t=>{n[0]&&-1!==e.indexOf("|"+t[n[0]]+"|")||m.push(mi(t,{value:null}))})}}this.dataTable.rowCount=m.length}setOptions(t){let e=super.setOptions(t),i=e.joinBy;return(i=null===e.joinBy?"_i":i)&&(this.joinBy=yi(i),this.joinBy[1]||(this.joinBy[1]=this.joinBy[0])),e}translate(){let o=this.doFullTranslate(),s=this.chart.mapView,r=s?.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!s||s.userOptions.center||T(s.userOptions.zoom)||s.zoom!==s.minZoom?this.getProjectedBounds():s.fitToBounds(void 0,void 0,!1)),s){let i=s.getSVGTransform();this.points.forEach(t=>{var e=T(t.insetIndex)&&s.insets[t.insetIndex].getSVGTransform()||i;e&&t.bounds&&T(t.bounds.midX)&&T(t.bounds.midY)&&(t.plotX=t.bounds.midX*e.scaleX+e.translateX,t.plotY=t.bounds.midY*e.scaleY+e.translateY),o&&(t.shapeType="path",t.shapeArgs={d:y.getProjectedPath(t,r)}),t.hiddenInDataClass||(t.projectedPath&&!t.projectedPath.length?t.setVisible(!1):t.visible||t.setVisible(!0))})}hi(this,"afterTranslate")}update(i){i.mapData&&this.chart.mapView?.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((t,e)=>(e===this._i?i:t).mapData)],!0),super.update.apply(this,arguments)}}bi.defaultOptions=mi(ai.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let t=this.series.chart["numberFormatter"],e=this.point["value"];return le(e)?t(e,-1):this.point.name||""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}),ni(bi.prototype,{type:"map",axisTypes:n.seriesMembers.axisTypes,colorAttribs:n.seriesMembers.colorAttribs,colorKey:n.seriesMembers.colorKey,directTouch:!0,drawDataLabels:oi,drawGraph:oi,forceDL:!0,getCenter:i.getCenter,getExtremesFromAll:!0,getSymbol:oi,isCartesian:!1,parallelArrays:n.seriesMembers.parallelArrays,pointArrayMap:n.seriesMembers.pointArrayMap,pointClass:y,preserveAspectRatio:!0,searchPoint:oi,trackerGroups:n.seriesMembers.trackerGroups,useMapGeometry:!0}),n.compose(bi),e().registerSeriesType("map",bi);let xi=bi,{extend:vi,merge:Mi}=f();class wi extends xi{pointAttribs(t,e){let i=super.pointAttribs(t,e);return i.fill=this.options.fillColor,i}}wi.defaultOptions=Mi(xi.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}),vi(wi.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e().registerSeriesType("mapline",wi);let Ci=e().seriesTypes["scatter"],Pi=f()["isNumber"];class Li extends Ci.prototype.pointClass{isValid(){return!!(this.options.geometry||Pi(this.x)&&Pi(this.y)||Pi(this.options.lon)&&Pi(this.options.lat))}}o(632);let Ti=f()["noop"],{map:Ai,scatter:ji}=e().seriesTypes,{extend:zi,fireEvent:ki,isNumber:A,merge:Si}=f();class Ii extends ji{constructor(){super(...arguments),this.clearBounds=Ai.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(s){let r=this.chart.mapView;if(r){let{geometry:t,lon:e,lat:i}=s,o=t&&"Point"===t.type&&t.coordinates;if(o=A(e)&&A(i)?[e,i]:o)return r.lonLatToProjectedUnits({lon:o[0],lat:o[1]})}}translate(){let h=this.chart.mapView;if(this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),h){let n=h.getSVGTransform(),l=h.projection["hasCoordinates"];this.points.forEach(t=>{let e,{x:i,y:o}=t,s=A(t.insetIndex)&&h.insets[t.insetIndex].getSVGTransform()||n,r=this.projectPoint(t.options)||t.properties&&this.projectPoint(t.properties);var a;r?(i=r.x,o=r.y):t.bounds&&(i=t.bounds.midX,o=t.bounds.midY,s&&A(i)&&A(o)&&(t.plotX=i*s.scaleX+s.translateX,t.plotY=o*s.scaleY+s.translateY,e=!0)),A(i)&&A(o)?e||(a=h.projectedUnitsToPixels({x:i,y:o}),t.plotX=a.x,t.plotY=l?a.y:this.chart.plotHeight-a.y):t.y=t.plotX=t.plotY=void 0,t.isInside=this.isPointInside(t),t.zone=this.zones.length?t.getZone():void 0})}ki(this,"afterTranslate")}}Ii.defaultOptions=Si(ji.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}),$t().prototype.symbols.mapmarker=(t,e,i,o,s)=>{let r,a,n=s&&"legend"===s.context;n?(r=t+i/2,a=e+o):s&&"number"==typeof s.anchorX&&"number"==typeof s.anchorY?(r=s.anchorX,a=s.anchorY):(r=t+i/2,a=e+o/2,e-=o);s=n?o/3:o/2;return[["M",r,a],["C",r,a,r-s,e+1.5*s,r-s,e+s],["A",s,s,1,1,1,r+s,e+s],["C",r+s,e+1.5*s,r,a,r,a],["Z"]]},zi(Ii.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:Li,searchPoint:Ti,useMapGeometry:!0}),e().registerSeriesType("mappoint",Ii);let Bi={borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0},Ei=f()["noop"],{arrayMax:Di,arrayMin:Oi,isNumber:Vi,merge:Xi,pick:Ni,stableSort:Gi}=f(),Ri=class{constructor(t,e){this.setState=Ei,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){let e,i=Ni(t.options.itemDistance,20),o=this.legendItem||{},s=this.options,r=s.ranges,a=s.connectorDistance;var n,l,h;r&&r.length&&Vi(r[0].value)?(Gi(r,function(t,e){return e.value-t.value}),this.ranges=r,this.setOptions(),this.render(),n=this.getMaxLabelSize(),h=2*(l=this.ranges[0].radius),e=0<(e=a-l+n.width)?e:0,this.maxLabel=n,this.movementX="left"===s.labels.align?e:0,o.labelWidth=h+e+i,o.labelHeight=h+n.height/2):t.options.bubbleLegend.autoRanges=!0}setOptions(){let i=this.ranges,o=this.options,s=this.chart.series[o.seriesIndex],r=this.legend.baseline,a={zIndex:o.zIndex,"stroke-width":o.borderWidth},n={zIndex:o.zIndex,"stroke-width":o.connectorWidth},l={align:this.legend.options.rtl||"left"===o.labels.align?"right":"left",zIndex:o.zIndex},h=s.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(a.stroke=Ni(t.borderColor,o.borderColor,s.color),a.fill=t.color||o.color,a.fill||(a.fill=s.color,a["fill-opacity"]=h??1),n.stroke=Ni(t.connectorColor,o.connectorColor,s.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=Xi(i[e],{center:i[0].radius-i[e].radius+r}),p||Xi(!0,i[e],{bubbleAttribs:Xi(a),connectorAttribs:Xi(n),labelAttribs:l})},this)}getRangeRadius(t){let e=this.options,i=this.options.seriesIndex,o=this.chart.series[i],s=e.ranges[0].value,r=e.ranges[e.ranges.length-1].value,a=e.minSize,n=e.maxSize;return o.getRadius.call(this,r,s,a,n,t)}render(){let t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;for(var o of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group),this.ranges))o.value>=i&&this.renderRange(o);this.hideOverlappingLabels()}renderRange(t){let e=this.ranges[0],i=this.legend,o=this.options,s=o.labels,r=this.chart,a=r.series[o.seriesIndex],n=r.renderer,l=this.symbols,h=l.labels,p=t.center,d=Math.abs(t.radius),c=o.connectorDistance||0,u=s.align,m=i.options.rtl,g=o.borderWidth,f=o.connectorWidth,y=e.radius||0,b=p-d-g/2+f/2,x=(b%1?1:.5)-(f%2?0:.5),v=n.styledMode,M=m||"left"===u?-c:c,w=("center"===u&&(M=0,o.connectorDistance=0,t.labelAttribs.align="center"),l.bubbleItems.push(n.circle(y,p+x,d).attr(v?{}:t.bubbleAttribs).addClass((v?"highcharts-color-"+a.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(o.className||"")).add(this.legendItem.symbol)),l.connectors.push(n.path(n.crispLine([["M",y,b],["L",y+M,b]],o.connectorWidth)).attr(v?{}:t.connectorAttribs).addClass((v?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(o.connectorClassName||"")).add(this.legendItem.symbol)),n.text(this.formatLabel(t)).attr(v?{}:t.labelAttribs).css(v?{}:s.style).addClass("highcharts-bubble-legend-labels "+(o.labels.className||"")).add(this.legendItem.symbol)),C={x:y+M+o.labels.x,y:b+o.labels.y+.4*w.getBBox().height};w.attr(C),h.push(w),w.placed=!0,w.alignAttr=C}getMaxLabelSize(){let e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}}formatLabel(t){let e=this.options,i=e.labels.formatter,o=e.labels.format,s=this.chart["numberFormatter"];return o?pe().format(o,t,this.chart):i?i.call(t):s(t.value,1)}hideOverlappingLabels(){let t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))}getRanges(){let t=this.legend.bubbleLegend,e=t.chart.series,i=t.options.ranges,o,s,r=Number.MAX_VALUE,a=-Number.MAX_VALUE;return e.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(s=t.getColumn("z").filter(Vi)).length&&(r=Ni(t.options.zMin,Math.min(r,Math.max(Oi(s),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),a=Ni(t.options.zMax,Math.max(a,Di(s))))}),o=r===a?[{value:a}]:[{value:r},{value:(r+a)/2},{value:a,autoRanges:!0}],i.length&&i[0].radius&&o.reverse(),o.forEach(function(t,e){i&&i[e]&&(o[e]=Xi(i[e],t))}),o}predictBubbleSizes(){let t=this.chart,e=t.legend.options,i=e.floating,o="horizontal"===e.layout,s=o?t.legend.lastLineHeight:0,r=t.plotSizeX,a=t.plotSizeY,n=t.series[this.options.seriesIndex],l=n.getPxExtremes(),h=Math.ceil(l.minPxSize),p=Math.ceil(l.maxPxSize),d=Math.min(a,r),c,u=n.options.maxSize;return i||!/%$/.test(u)?c=p:(c=(d+s)*(u=parseFloat(u))/100/(u/100+1),(o&&a-c>=r||!o&&r-c>=a)&&(c=p)),[h,Math.ceil(c)]}updateRanges(t,e){let i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){let t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}},Yi=f()["setOptions"],Hi=f()["composed"],{addEvent:Wi,objectEach:Fi,pushUnique:Ui,wrap:Zi}=f();function _i(t,e,i){let o,s,r,a=this.legend,n=0<=qi(this);a&&a.options.enabled&&a.bubbleLegend&&a.options.bubbleLegend.autoRanges&&n?(o=a.bubbleLegend.options,s=a.bubbleLegend.predictBubbleSizes(),a.bubbleLegend.updateRanges(s[0],s[1]),o.placed||(a.group.placed=!1,a.allItems.forEach(t=>{(r=t.legendItem||{}).group&&(r.group.translateY=void 0)})),a.render(),o.placed||(this.getMargins(),this.axes.forEach(t=>{t.setScale(),t.updateNames(),Fi(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0})}),this.getMargins()),o.placed=!0,t.call(this,e,i),a.bubbleLegend.correctSizes(),Qi(a,Ki(a))):(t.call(this,e,i),a&&a.options.enabled&&a.bubbleLegend&&(a.render(),Qi(a,Ki(a))))}function qi(t){let e=t.series,i=0;for(;i<e.length;){if(e[i]&&e[i].isBubble&&e[i].visible&&e[i].dataTable.rowCount)return i;i++}return-1}function Ki(t){let e=t.allItems,i=[],o=e.length,s,r,a,n=0,l=0;for(n=0;n<o;n++)if(r=e[n].legendItem||{},a=(e[n+1]||{}).legendItem||{},r.labelHeight&&(e[n].itemHeight=r.labelHeight),e[n]===e[o-1]||r.y!==a.y){for(i.push({height:0}),s=i[i.length-1];l<=n;l++)e[l].itemHeight>s.height&&(s.height=e[l].itemHeight);s.step=n}return i}function $i(t){let e=this.bubbleLegend,i=this.options,o=i.bubbleLegend,s=qi(this.chart);e&&e.ranges&&e.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(e)),0<=s&&i.enabled&&o.enabled&&(o.seriesIndex=s,this.bubbleLegend=new Ri(o,this),this.bubbleLegend.addToLegend(t.allItems))}function Ji(t){if(t.defaultPrevented)return!1;let e=t.legendItem,i=this.chart,o=e.visible;this&&this.bubbleLegend&&(e.visible=!o,e.ignoreSeries=o,t=0<=qi(i),this.bubbleLegend.visible!==t&&(this.update({bubbleLegend:{enabled:t}}),this.bubbleLegend.visible=t),e.visible=o)}function Qi(t,i){let e=t.allItems,o=t.options.rtl,s,r,a,n,l=0;e.forEach((t,e)=>{(n=t.legendItem||{}).group&&(s=n.group.translateX||0,r=n.y||0,((a=t.movementX)||o&&t.ranges)&&(a=o?s-t.options.maxSize/2:s+a,n.group.attr({translateX:a})),e>i[l].step&&l++,n.group.attr({translateY:Math.round(r+i[l].height/2)}),n.y=r+i[l].height/2)})}let to={compose:function(t,e){Ui(Hi,"Series.BubbleLegend")&&(Yi({legend:{bubbleLegend:Bi}}),Zi(t.prototype,"drawChartBox",_i),Wi(e,"afterGetAllItems",$i),Wi(e,"itemClick",Ji))}};var l=o(260),eo=o.n(l);let{prototype:{pointClass:io}}=e()["seriesTypes"]["scatter"],oo=f()["extend"];class so extends io{haloPath(r){r=(r&&this.marker&&this.marker.radius||0)+r;if(this.series.chart.inverted){let t=this.pos()||[0,0],{xAxis:e,yAxis:i,chart:o}=this.series,s=2*r;return o.renderer.symbols.circle((e?.len||0)-t[1]-r,(i?.len||0)-t[0]-r,s,s)}return eo().prototype.haloPath.call(this,r)}}oo(so.prototype,{ttBelow:!1});let ro=so,{composed:ao,noop:no}=f(),{series:lo,seriesTypes:{column:{prototype:ho},scatter:po}}=e(),{addEvent:co,arrayMax:uo,arrayMin:mo,clamp:go,extend:fo,isNumber:j,merge:yo,pick:S,pushUnique:bo}=f();function xo(){let t=this.len,{coll:e,isXAxis:s,min:r}=this,a=(this.max||0)-(r||0),n=0,l=t,h=t/a,p;"xAxis"!==e&&"yAxis"!==e||(this.series.forEach(e=>{if(e.bubblePadding&&e.reserveSpace()){this.allowZoomOutside=!0,p=!0;var i,o=e.getColumn(s?"x":"y");if(s&&((e.onPoint||e).getRadii(0,0,e),e.onPoint&&(e.radii=e.onPoint.radii)),0<a){let t=o.length;for(;t--;)j(o[t])&&this.dataMin<=o[t]&&o[t]<=this.max&&(i=e.radii&&e.radii[t]||0,n=Math.min((o[t]-r)*h-i,n),l=Math.max((o[t]-r)*h+i,l))}}}),p&&0<a&&!this.logarithmic&&(l-=t,h*=(t+Math.max(0,n)-Math.min(l,t))/t,[["min","userMin",n],["max","userMax",l]].forEach(t=>{void 0===S(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)})))}function vo(){var{ticks:o,tickPositions:s,dataMin:r=0,dataMax:a=0,categories:t}=this,e=this.options.type;if((t?.length||"category"===e)&&this.series.find(t=>t.bubblePadding)){let i=s.length;for(;i--;){let t=o[s[i]],e=t.pos||0;(a<e||e<r)&&t.label?.hide()}}}class I extends po{static compose(t,e,i){to.compose(e,i),bo(ao,"Series.Bubble")&&(co(t,"foundExtremes",xo),co(t,"afterRender",vo))}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){let{graphic:e,plotX:i=0,plotY:o=0}=t;e&&e.width&&(this.hasRendered||e.attr({x:i,y:o,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)}getRadii(){let t=this.getColumn("z"),e=this.getColumn("y"),i=[],o,s,r,a=this.chart.bubbleZExtremes,{minPxSize:n,maxPxSize:l}=this.getPxExtremes();if(!a){let e,i=Number.MAX_VALUE,o=-Number.MAX_VALUE;this.chart.series.forEach(t=>{t.bubblePadding&&t.reserveSpace()&&((t=(t.onPoint||t).getZExtremes())&&(i=Math.min(S(i,t.zMin),t.zMin),o=Math.max(S(o,t.zMax),t.zMax),e=!0))}),e?(a={zMin:i,zMax:o},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(s=0,o=t.length;s<o;s++)r=t[s],i.push(this.getRadius(a.zMin,a.zMax,n,l,r,e&&e[s]));this.radii=i}getRadius(t,e,i,o,s,r){let a=this.options,n="width"!==a.sizeBy,l=a.zThreshold,h=e-t,p=.5;if(null===r||null===s)return null;if(j(s)){if(a.sizeByAbsoluteValue&&(s=Math.abs(s-l),e=h=Math.max(e-l,Math.abs(t-l)),t=0),s<t)return i/2-1;0<h&&(p=(s-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(o-i))/2}hasData(){return!!this.dataTable.rowCount}markerAttribs(t,e){var e=super.markerAttribs(t,e),{height:i=0,width:o=0}=e;return this.chart.inverted?fo(e,{x:(t.plotX||0)-o/2,y:(t.plotY||0)-i/2}):e}pointAttribs(t,e){let i=this.options.marker,o=i?.fillOpacity,s=lo.prototype.pointAttribs.call(this,t,e);return s["fill-opacity"]=o??1,s}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:i,options:o,radii:s}=this,r=this.getPxExtremes()["minPxSize"],a=i.length;for(;a--;){let t=i[a],e=s?s[a]:0;"z"===this.zoneAxis&&(t.negative=(t.z||0)<(o.zThreshold||0)),j(e)&&r/2<=e?(t.marker=fo(t.marker,{radius:e,width:2*e,height:2*e}),t.dlBox={x:t.plotX-e,y:t.plotY-e,width:2*e,height:2*e}):(t.shapeArgs=t.plotY=t.dlBox=void 0,t.isInside=!1)}}getPxExtremes(){let i=Math.min(this.chart.plotWidth,this.chart.plotHeight),t=t=>{let e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?i*t/100:t},e=t(S(this.options.minSize,8)),o=Math.max(t(S(this.options.maxSize,"20%")),e);return{minPxSize:e,maxPxSize:o}}getZExtremes(){var t=this.options,e=this.getColumn("z").filter(j);if(e.length){var i=S(t.zMin,go(mo(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=S(t.zMax,uo(e));if(j(i)&&j(t))return{zMin:i,zMax:t}}}searchKDTree(t,e,i,o=no,s=no){return super.searchKDTree(t,e,i,(t,e,i)=>{let o=t[i]||0,s=e[i]||0,r,a=!1;return o===s?r=t.index>e.index?t:e:o<0&&s<0?(r=o-(t.marker?.radius||0)>=s-(e.marker?.radius||0)?t:e,a=!0):r=o<s?t:e,[r,a]},(t,e,i)=>!i&&e<t||t<e)}}I.defaultOptions=yo(po.defaultOptions,{dataLabels:{formatter:function(){let t=this.series.chart["numberFormatter"],e=this.point["z"];return j(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),fo(I.prototype,{alignDataLabel:ho.alignDataLabel,applyZones:no,bubblePadding:!0,isBubble:!0,keysAffectYAxis:["y"],pointArrayMap:["y","z"],pointClass:ro,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),co(I,"updatedData",t=>{delete t.target.chart.bubbleZExtremes}),co(I,"remove",t=>{delete t.target.chart.bubbleZExtremes}),e().registerSeriesType("bubble",I);let Mo=I,{prototype:{pointClass:{prototype:wo}}}=e()["seriesTypes"]["map"],Co=f()["extend"];class Po extends ro{isValid(){return"number"==typeof this.z}}Co(Po.prototype,{applyOptions:wo.applyOptions,getProjectedBounds:wo.getProjectedBounds});let{map:{prototype:B},mappoint:{prototype:Lo}}=e()["seriesTypes"],{extend:To,merge:Ao}=f();class jo extends Mo{constructor(){super(...arguments),this.clearBounds=B.clearBounds}searchPoint(t,e){return this.searchKDTree({plotX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)}translate(){Lo.translate.call(this),this.getRadii(),this.translateBubble()}}jo.defaultOptions=Ao(Mo.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),To(jo.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:B.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:Po,processData:B.processData,projectPoint:Lo.projectPoint,kdAxisArray:["plotX","plotY"],setData:B.setData,setOptions:B.setOptions,updateData:B.updateData,useMapGeometry:!0,xyFromShape:!0}),e().registerSeriesType("mapbubble",jo);let{pointClass:zo}=e().seriesTypes["scatter"]["prototype"],{clamp:ko,defined:So,extend:Io,pick:Bo}=f();class Eo extends zo{applyOptions(t,e){return!this.isNull&&null!==this.value||delete this.color,super.applyOptions(t,e),this.formatPrefix=this.isNull||null===this.value?"null":"point",this}getCellAttributes(){let t=this.series,e=t.options,i=(e.colsize||1)/2,o=(e.rowsize||1)/2,l=t.xAxis,h=t.yAxis,p=this.options.marker||t.options.marker,s=t.pointPlacementToXValue(),d=Bo(this.pointPadding,e.pointPadding,0),c={x1:ko(Math.round(l.len-l.translate(this.x-i,!1,!0,!1,!0,-s)),-l.len,2*l.len),x2:ko(Math.round(l.len-l.translate(this.x+i,!1,!0,!1,!0,-s)),-l.len,2*l.len),y1:ko(Math.round(h.translate(this.y-o,!1,!0,!1,!0)),-h.len,2*h.len),y2:ko(Math.round(h.translate(this.y+o,!1,!0,!1,!0)),-h.len,2*h.len)};for(var u of[["width","x"],["height","y"]]){let t=u[0],e=u[1],i=e+"1",o=e+"2",s=Math.abs(c[i]-c[o]),r=p&&p.lineWidth||0,a=Math.abs(c[i]+c[o])/2,n=p&&p[t];So(n)&&n<s&&(u=n/2+r/2,c[i]=a-u,c[o]=a+u),d&&(("x"===e&&l.reversed||"y"===e&&!h.reversed)&&(i=o,o=e+"1"),c[i]+=d,c[o]-=d)}return c}haloPath(t){if(!t)return[];var{x:e=0,y:i=0,width:o=0,height:s=0}=this.shapeArgs||{};return[["M",e-t,i-t],["L",e-t,i+s+t],["L",e+o+t,i+s+t],["L",e+o+t,i-t],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}Io(Eo.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});let Do=f()["isNumber"],Oo=f()["doc"],{defined:Vo,pick:Xo}=f(),{series:E,seriesTypes:{column:No,scatter:Go}}=e(),Ro=$t()["prototype"]["symbols"],{addEvent:Yo,extend:Ho,fireEvent:Wo,isNumber:Fo,merge:Uo,pick:Zo}=f(),{colorFromPoint:_o,getContext:qo}={colorFromPoint:function(e,i){let o=i.series.colorAxis;if(o){let t=o.toColor(e||0,i).split(")")[0].split("(")[1].split(",").map(t=>Xo(parseFloat(t),parseInt(t,10)));return t[3]=255*Xo(t[3],1),Vo(e)&&i.visible||(t[3]=0),t}return[0,0,0,0]},getContext:function(t){let{canvas:e,context:i}=t;return e&&i?(i.clearRect(0,0,e.width,e.height),i):(t.canvas=Oo.createElement("canvas"),t.context=t.canvas.getContext("2d",{willReadFrequently:!0})||void 0,t.context)}};class Ko extends Go{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let A=this,t=A.options,e=t.interpolation,i=t.marker||{};if(e){let{image:v,chart:M,xAxis:w,yAxis:C}=A,{reversed:P=!1,len:t}=w,{reversed:L=!1,len:e}=C,T={width:t,height:e};if(!v||A.isDirtyData||A.isDirtyCanvas){let m=qo(A),{canvas:g,options:{colsize:f=1,rowsize:y=1},points:b,points:{length:x}}=A,t=M.colorAxis&&M.colorAxis[0];if(g&&m&&t){let{min:e,max:t}=w.getExtremes(),{min:i,max:o}=C.getExtremes(),s=t-e,r=o-i,a=Math.round(s/f/8*8),n=Math.round(r/y/8*8),[l,h]=[[a,a/s,P,"ceil"],[n,n/r,!L,"floor"]].map(([e,i,t,o])=>t?t=>Math[o](e-i*t):t=>Math[o](i*t)),p=g.width=a+1,d=p*(g.height=n+1),c=(x-1)/d,u=new Uint8ClampedArray(4*d);A.buildKDTree();for(let t=0;t<d;t++){var j=b[Math.ceil(c*t)],{x:z,y:k}=j;u.set(_o(j.value,j),(j=z,4*Math.ceil(p*h(k-i)+l(j-e))))}m.putImageData(new ImageData(u,p),0,0),v?v.attr({...T,href:g.toDataURL("image/png",1)}):(A.directTouch=!1,A.image=M.renderer.image(g.toDataURL("image/png",1)).attr(T).add(A.group))}A.isDirtyCanvas=!1}else v.width===t&&v.height===e||v.attr(T)}else(i.enabled||A._hasPointMarkers)&&(E.prototype.drawPoints.call(A),A.points.forEach(t=>{t.graphic&&(t.graphic[A.chart.styledMode?"css":"animate"](A.colorAttribs(t)),null===t.value&&t.graphic.addClass("highcharts-null-point"))}))}getExtremes(){var{dataMin:t,dataMax:e}=E.prototype.getExtremes.call(this,this.getColumn("value"));return Fo(t)&&(this.valueMin=t),Fo(e)&&(this.valueMax=e),E.prototype.getExtremes.call(this)}getValidPoints(t,e){return E.prototype.getValidPoints.call(this,t,e,!0)}hasData(){return!!this.dataTable.rowCount}init(){super.init.apply(this,arguments);let t=this.options;t.pointRange=Zo(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,Ro.ellipse=Ro.circle,t.marker&&Fo(t.borderRadius)&&(t.marker.r=t.borderRadius)}markerAttribs(t,e){var i,o=t.shapeArgs||{};return t.hasImage?{x:t.plotX,y:t.plotY}:e&&"normal"!==e?(t=t.options.marker||{},i=(this.options.marker||{}).states?.[e]||{},e=((t=t.states?.[e]||{}).width||i.width||o.width||0)+(t.widthPlus||i.widthPlus||0),t=(t.height||i.height||o.height||0)+(t.heightPlus||i.heightPlus||0),{x:(o.x||0)+((o.width||0)-e)/2,y:(o.y||0)+((o.height||0)-t)/2,width:e,height:t}):o}pointAttribs(t,e){let i=E.prototype.pointAttribs.call(this,t,e),o=this.options||{},s=this.chart.options.plotOptions||{},r=s.series||{},a=s.heatmap||{},n=t?.options.borderColor||o.borderColor||a.borderColor||r.borderColor,l=t?.options.borderWidth||o.borderWidth||a.borderWidth||r.borderWidth||i["stroke-width"];return i.stroke=t?.marker?.lineColor||o.marker?.lineColor||n||this.color,i["stroke-width"]=l,e&&"normal"!==e&&(t=Uo(o.states?.[e],o.marker?.states?.[e],t?.options.states?.[e]||{}),i.fill=t.color||Y().parse(i.fill).brighten(t.brightness||0).get(),i.stroke=t.lineColor||i.stroke),i}translate(){let{borderRadius:r,marker:t}=this.options,a=t?.symbol||"rect",n=Ro[a]?a:"rect",l=-1!==["circle","square"].indexOf(n);for(var h of(this.generatePoints(),this.points)){let t=h.getCellAttributes(),e=Math.min(t.x1,t.x2),i=Math.min(t.y1,t.y2),o=Math.max(Math.abs(t.x2-t.x1),0),s=Math.max(Math.abs(t.y2-t.y1),0);var p;h.hasImage=0===(h.marker?.symbol||a||"").indexOf("url"),l&&(p=Math.abs(o-s),e=Math.min(t.x1,t.x2)+(o<s?0:p/2),i=Math.min(t.y1,t.y2)+(o<s?p/2:0),o=s=Math.min(o,s)),h.hasImage&&(h.marker={width:o,height:s}),h.plotX=h.clientX=(t.x1+t.x2)/2,h.plotY=(t.y1+t.y2)/2,h.shapeType="path",h.shapeArgs=Uo(!0,{x:e,y:i,width:o,height:s},{d:Ro[n](e,i,o,s,{r:Fo(r)?r:0})})}Wo(this,"afterTranslate")}}Ko.defaultOptions=Uo(Go.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let t=this.series.chart["numberFormatter"],e=this.point["value"];return Do(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}),Yo(Ko,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),Ho(Ko.prototype,{axisTypes:n.seriesMembers.axisTypes,colorKey:n.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,keysAffectYAxis:["y"],parallelArrays:n.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:Eo,specialGroup:"group",trackerGroups:n.seriesMembers.trackerGroups,alignDataLabel:No.prototype.alignDataLabel,colorAttribs:n.seriesMembers.colorAttribs,getSymbol:E.prototype.getSymbol}),n.compose(Ko),e().registerSeriesType("heatmap",Ko);let D=f(),$o=(D.ColorMapComposition=n,D.MapChart=D.MapChart||ie,D.MapNavigation=D.MapNavigation||Xt,D.MapView=D.MapView||L,D.Projection=D.Projection||k,D.mapChart=D.Map=D.MapChart.mapChart,D.maps=D.MapChart.maps,D.geojson=Ce.geojson,D.topo2geo=Ce.topo2geo,Ce.compose(D.Chart),jo.compose(D.Axis,D.Chart,D.Legend),Xt.compose(ie,D.Pointer,D.SVGRenderer),L.compose(ie),f());return R.default})());