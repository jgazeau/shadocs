"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,n){const e=t["parse"],{addEvent:l,extend:h,merge:p,pick:c,splat:i}=n;var s;{function d(){const t=this.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=i(t.colorAxis),t.colorAxis.forEach((t,e)=>{t.index=e,new a(this,t)}))}function u(e){const i=t=>{-1!==(t=e.allItems.indexOf(t))&&(this.destroyItem(e.allItems[t]),e.allItems.splice(t,1))};let s=[],o,t;for((this.chart.colorAxis||[]).forEach(function(t){(o=t.options)&&o.showInLegend&&(o.dataClasses&&o.visible?s=s.concat(t.getDataClassLegendSymbols()):o.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!o.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){i(t)}):i(t))}))}),t=s.length;t--;)e.allItems.unshift(s[t])}function m(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function g(){const t=this.chart.colorAxis;t&&t.forEach(function(t,e,i){t.update({},i)})}function b(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function f(){const t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function y(t){const e=this,i=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][i]()}),this.series.buildKDTree()}function x(){const i=this,s=this.options.nullColor,o=this.colorAxis,r=this.colorKey;(this.data.length?this.data:this.points).forEach(t=>{var e=t.getNestedProperty(r);(e=t.options.color||(t.isNull||null===t.value?s:o&&void 0!==e?o.toColor(e,t):t.color||i.color))&&t.color!==e&&(t.color=e,"point"===i.options.legendType&&t.legendItem&&t.legendItem.label&&i.chart.legend.colorizeItem(t,t.visible))})}function v(){this.elem.attr("fill",e(this.start).tweenTo(e(this.end),this.pos),void 0,!0)}function M(){this.elem.attr("stroke",e(this.start).tweenTo(e(this.end),this.pos),void 0,!0)}t=s=s||{};const j=[];let a;t.compose=function(t,e,i,s,o){if(a=a||t,n.pushUnique(j,e)){(t=e.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],l(e,"afterGetAxes",d);{const r=(t=e).prototype.createAxis;t.prototype.createAxis=function(t,e){if("colorAxis"!==t)return r.apply(this,arguments);t=new a(this,p(e.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(t){t.series=[]}),this.series.forEach(function(t){t.bindAxes(),t.isDirtyData=!0}),c(e.redraw,!0)&&this.redraw(e.animation),t}}}n.pushUnique(j,i)&&((e=i.prototype).fillSetter=v,e.strokeSetter=M),n.pushUnique(j,s)&&(l(s,"afterGetAllItems",u),l(s,"afterColorizeItem",m),l(s,"afterUpdate",g)),n.pushUnique(j,o)&&(h(o.prototype,{optionalAxis:"colorAxis",translateColors:x}),h(o.prototype.pointClass.prototype,{setVisible:y}),l(o,"afterTranslate",b,{order:1}),l(o,"bindAxes",f))},t.pointSetVisible=y}return s}),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i,u,s,r){const l=e["parse"],h=s["series"],{extend:m,isNumber:a,merge:p,pick:g}=r;class c extends t{static compose(t,e,i,s){o.compose(c,t,e,i,s)}constructor(t,e){super(t,e),this.beforePadding=!1,this.chart=void 0,this.coll="colorAxis",this.stops=this.options=this.dataClasses=void 0,this.visible=!0,this.init(t,e)}init(t,e){var i=t.options.legend||{},s=e.layout?"vertical"!==e.layout:"vertical"!==i.layout,o=e.visible,i=p(c.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:i.enabled&&!1!==o});this.coll="colorAxis",this.side=e.side||s?2:1,this.reversed=e.reversed||!s,this.opposite=!s,super.init(t,i),this.userOptions.visible=o,e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=s,this.zoomEnabled=!1}initDataClasses(t){const i=this.chart,e=this.legendItem=this.legendItem||{},s=t.dataClasses.length,o=this.options;let r,a=0,n=i.options.chart.colorCount;this.dataClasses=r=[],e.labels=[],(t.dataClasses||[]).forEach(function(t,e){t=p(t),r.push(t),!i.styledMode&&t.color||("category"===o.dataClassColor?(i.styledMode||(e=i.options.colors,n=e.length,t.color=e[a]),t.colorIndex=a,++a===n&&(a=0)):t.color=l(o.minColor).tweenTo(l(o.maxColor),s<2?.5:e/(s-1)))})}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}initStops(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=l(t[1])})}setOptions(t){super.setOptions(t),this.options.crosshair=this.options.marker}setAxisSize(){var t,e,i=this.legendItem&&this.legendItem.symbol,s=this.chart,o=s.options.legend||{};i?(this.left=o=i.attr("x"),this.top=t=i.attr("y"),this.width=e=i.attr("width"),this.height=i=i.attr("height"),this.right=s.chartWidth-o-e,this.bottom=s.chartHeight-t-i,this.len=this.horiz?e:i,this.pos=this.horiz?o:t):this.len=(this.horiz?o.symbolWidth:o.symbolHeight)||c.defaultLegendLength}normalizedValue(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)}toColor(t,e){var i=this.dataClasses,s=this.stops;let o,r,a,n;if(i){for(n=i.length;n--;)if(a=i[n],o=a.from,s=a.to,(void 0===o||t>=o)&&(void 0===s||t<=s)){r=a.color,e&&(e.dataClass=n,e.colorIndex=a.colorIndex);break}}else{for(t=this.normalizedValue(t),n=s.length;n--&&!(t>s[n][0]););o=s[n]||s[n+1],t=1-((s=s[n+1]||o)[0]-t)/(s[0]-o[0]||1),r=o.color.tweenTo(s.color,t)}return r}getOffset(){var t=this.legendItem&&this.legendItem.group,e=this.chart.axisOffset[this.side];if(t){this.axisParent=t,super.getOffset();const i=this.chart.legend;i.allItems.forEach(function(t){t instanceof c&&t.drawLegendSymbol(i,t)}),i.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e}}setLegendColor(){var t=(e=this.reversed)?1:0,e=e?0:1,t=this.horiz?[t,0,e,0]:[0,e,0,t];this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}}drawLegendSymbol(t,e){e=e.legendItem||{};var i=t.padding,s=t.options,o=this.options.labels,r=g(s.itemDistance,10),a=this.horiz,n=g(s.symbolWidth,a?c.defaultLegendLength:12),l=g(s.symbolHeight,a?12:c.defaultLegendLength),h=g(s.labelPadding,a?16:30);this.setLegendColor(),e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect",0,t.baseline-11,n,l,{r:null!=(t=s.symbolRadius)?t:3}).attr({zIndex:1}).add(e.group)),e.labelWidth=n+i+(a?r:g(o.x,o.distance)+this.maxLabelLength),e.labelHeight=l+i+(a?h:0)}setState(e){this.series.forEach(function(t){t.setState(e)})}setVisible(){}getSeriesExtremes(){var t=this.series;let e,i,s=t.length,o,r;for(this.dataMin=1/0,this.dataMax=-1/0;s--;){var a=(i=t[s]).colorKey=g(i.options.colorKey,i.colorKey,i.pointValKey,i.zoneAxis,"y"),n=i.pointArrayMap;if(e=i[a+"Min"]&&i[a+"Max"],i[a+"Data"])var l=i[a+"Data"];else if(n){if(l=[],n=n.indexOf(a),o=i.yData,0<=n&&o)for(r=0;r<o.length;r++)l.push(g(o[r][n],o[r]))}else l=i.yData;e?(i.minColorValue=i[a+"Min"],i.maxColorValue=i[a+"Max"]):(l=h.prototype.getExtremes.call(i,l),i.minColorValue=l.dataMin,i.maxColorValue=l.dataMax),void 0!==i.minColorValue&&(this.dataMin=Math.min(this.dataMin,i.minColorValue),this.dataMax=Math.max(this.dataMax,i.maxColorValue)),e||h.prototype.applyExtremes.call(i)}}drawCrosshair(t,e){var i=this.legendItem||{},s=e&&e.plotX,o=e&&e.plotY,r=this.pos,a=this.len;let n;e&&((n=this.toPixels(e.getNestedProperty(e.series.colorKey)))<r?n=r-2:n>r+a&&(n=r+a+2),e.plotX=n,e.plotY=this.len-n,super.drawCrosshair(t,e),e.plotX=s,e.plotY=o,this.cross&&!this.cross.addedToColorAxis&&i.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(i.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(t){var e=this.left,i=t.translatedValue,s=this.top;return a(i)?this.horiz?[["M",i-4,s-6],["L",i+4,s-6],["L",i,s],["Z"]]:[["M",e,i],["L",e-6,i+6],["L",e-6,i-6],["Z"]]:super.getPlotLinePath(t)}update(t,e){const i=this.chart.legend;this.series.forEach(t=>{t.isDirtyData=!0}),(t.dataClasses&&i.allItems||this.dataClasses)&&this.destroyItems(),super.update(t,e),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),i.colorizeItem(this,!0))}destroyItems(){const t=this.chart,e=this.legendItem||{};if(e.label)t.legend.destroyItem(this);else if(e.labels)for(const i of e.labels)t.legend.destroyItem(i);t.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(t){this.destroyItems(),super.remove(t)}getDataClassLegendSymbols(){const a=this,n=a.chart,l=a.legendItem&&a.legendItem.labels||[],t=n.options.legend,h=g(t.valueDecimals,-1),p=g(t.valueSuffix,""),c=i=>a.series.reduce((t,e)=>(t.push(...e.points.filter(t=>t.dataClass===i)),t),[]);let d;return l.length||a.dataClasses.forEach((t,i)=>{const e=t.from,s=t.to,o=n["numberFormatter"];let r=!0;d="",void 0===e?d="< ":void 0===s&&(d="> "),void 0!==e&&(d+=o(e,h)+p),void 0!==e&&void 0!==s&&(d+=" - "),void 0!==s&&(d+=o(s,h)+p),l.push(m({chart:n,name:d,options:{},drawLegendSymbol:u.rectangle,visible:!0,isDataClass:!0,setState:t=>{for(const e of c(i))e.setState(t)},setVisible:function(){this.visible=r=a.visible=!r;for(const n of c(i))n.setVisible(r);n.legend.colorizeItem(this,r)}},t))}),l}}return c.defaultColorAxisOptions=i,c.defaultLegendLength=200,c.keepProps=["legendItem"],Array.prototype.push.apply(t.keepProps,c.keepProps),c}),e(t,"Maps/MapNavigationDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(t,e){e=e.extend;return e(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,i){function u(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function s(t){this.navButtons=[],this.init(t)}const o=e["doc"],{addEvent:m,extend:g,isNumber:r,merge:b,objectEach:a,pick:f}=i;s.prototype.init=function(t){this.chart=t},s.prototype.update=function(t){function n(t){this.handler.call(h,t),u(t)}let l=this,h=this.chart,p=h.options.mapNavigation,c,d=l.navButtons;for(t&&(p=h.options.mapNavigation=b(h.options.mapNavigation,t));d.length;)d.pop().destroy();f(p.enableButtons,p.enabled)&&!h.renderer.forExport&&(l.navButtonsGroup||(l.navButtonsGroup=h.renderer.g().attr({zIndex:4}).add()),a(p.buttons,function(t,e){t=b(p.buttonOptions,t),!h.styledMode&&t.theme&&((c=t.theme).style=b(t.theme.style,t.style));const{text:i,width:s=0,height:o=0,padding:r=0}=t,a=h.renderer.button("+"!==i&&"-"!==i&&i||"",0,0,n,c,void 0,void 0,void 0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:s,height:o,title:h.options.lang[e],padding:t.padding,zIndex:5}).add(l.navButtonsGroup);if("+"===i||"-"===i){const p=[["M",r+3,r+o/2],["L",r+(e=s+1)-3,r+o/2]];"+"===i&&p.push(["M",r+e/2,r+3],["L",r+e/2,r+o-3]),h.renderer.path(p).addClass("highcharts-button-symbol").attr(h.styledMode?{}:{stroke:null==(e=t.style)?void 0:e.color,"stroke-width":3,"stroke-linecap":"round"}).add(a)}if(a.handler=t.onclick,m(a.element,"dblclick",u),d.push(a),g(t,{width:a.width,height:2*a.height}),h.hasLoaded)a.align(t,!1,t.alignTo);else{const p=m(h,"load",()=>{a.element&&a.align(t,!1,t.alignTo),p()})}}),t=function(){var t,e=h.exportingGroup&&h.exportingGroup.getBBox();if(e){const h=l.navButtonsGroup.getBBox();h.x>=e.x+e.width||h.x+h.width<=e.x||h.y>=e.y+e.height||h.y+h.height<=e.y||(t=-h.y-h.height+e.y-5,e=e.y+e.height-h.y+5,l.navButtonsGroup.attr({translateY:"bottom"===(p.buttonOptions&&p.buttonOptions.verticalAlign)?t:e}))}},h.hasLoaded||m(h,"render",t)),this.updateEvents(p)},s.prototype.updateEvents=function(t){const e=this.chart;f(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||m(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),f(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||m(e.container,void 0!==o.onwheel?"wheel":void 0!==o.onmousewheel?"mousewheel":"DOMMouseScroll",function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),u(t)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},g(t.prototype,{fitToBox:function(i,s){return[["x","width"],["y","height"]].forEach(function(t){var e=t[0];t=t[1],i[e]+i[t]>s[e]+s[t]&&(i[t]>s[t]?(i[t]=s[t],i[e]=s[e]):i[e]=s[e]+s[t]-i[t]),i[t]>s[t]&&(i[t]=s[t]),i[e]<s[e]&&(i[e]=s[e])}),i},mapZoom:function(t,e,i,s,o){this.mapView&&(r(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,r(e)&&r(i)?this.mapView.projection.inverse([e,i]):void 0,r(s)&&r(o)?[s,o]:void 0))}}),m(t,"beforeRender",function(){this.mapNavigation=new s(this),this.mapNavigation.update()}),e.MapNavigation=s}),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e){const{defined:s,extend:o,pick:i,wrap:r}=e,a=t.prototype.normalize;let n=0,l;o(t.prototype,{normalize:function(t,e){const i=this.chart;return t=a.call(this,t,e),i&&i.mapView&&(e=i.mapView.pixelsToLonLat({x:t.chartX-i.plotLeft,y:t.chartY-i.plotTop}))&&o(t,e),t},onContainerDblClick:function(t){const e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){const e=this.chart;t=this.normalize(t);var i=s(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(i)&&(n+=Math.abs(i),l&&clearTimeout(l),l=setTimeout(()=>{n=0},50)),n<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-i,void 0,[t.chartX,t.chartY],!(Math.abs(i)<1)&&void 0)}}),r(t.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;i(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),r(t.prototype,"pinchTranslate",function(t,e,i,s,o,r,a){t.call(this,e,i,s,o,r,a),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=s.scaleX>s.scaleY,this.pinchTranslateDirection(!t,e,i,s,o,r,a,t?s.scaleX:s.scaleY))})}),e(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){const e=t.seriesTypes["column"]["prototype"],{addEvent:s,defined:o}=i;var r;{function a(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}t=r=r||{};const n=[];t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){const e={};return!o(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:e.pointAttribs},t.compose=function(t){var e=t.prototype.pointClass;return i.pushUnique(n,e)&&s(e,"afterSetState",a),t}}return r}),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],function(t){const{symbols:r}=t["prototype"];return r.bottombutton=function(t,e,i,s,o){if(o){const t=(null==o?void 0:o.r)||0;o.brBoxY=e-t,o.brBoxHeight=s+t}return r.roundedRect(t,e,i,s,o)},r.topbutton=function(t,e,i,s,o){return o&&(o.brBoxHeight=s+((null==o?void 0:o.r)||0)),r.roundedRect(t,e,i,s,o)},r}),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,s){const o=e["getOptions"],{merge:r,pick:a}=s;class n extends t{init(t,e){var i=o().credits;t=r({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:a(i.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:a(i.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t),super.init(t,e)}}var l;return(l=n=n||{}).maps={},l.mapChart=function(t,e,i){return new l(t,e,i)},l.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(t=>/[A-za-z]/.test(t)?t:parseFloat(t))),i.prototype.pathToSegments(t)},n}),e(t,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(t){let i=-Number.MAX_VALUE,s=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=Number.MAX_VALUE,a;if(t.forEach(t=>{var e=t[t.length-2];t=t[t.length-1],"number"==typeof e&&"number"==typeof t&&(s=Math.min(s,e),i=Math.max(i,e),r=Math.min(r,t),o=Math.max(o,t),a=!0)}),a)return{x1:s,y1:r,x2:i,y2:o}},pointInPolygon:function(t,e){let i,s=!1,o=t.x,r=t.y;for(t=0,i=e.length-1;t<e.length;i=t++)e[t][1]>r!=e[i][1]>r&&o<(e[i][0]-e[t][0])*(r-e[t][1])/(e[i][1]-e[t][1])+e[t][0]&&(s=!s);return s}}}),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapComposition.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){const a=e["boundsFromPath"],{extend:o,isNumber:n,pick:l}=({scatter:e}=i["seriesTypes"],s);class h extends e.prototype.pointClass{constructor(){super(...arguments),this.series=this.path=this.options=void 0}static getProjectedPath(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]}applyOptions(t,e){const i=this.series;return t=super.applyOptions.call(this,t,e),e=i.joinBy,i.mapData&&i.mapMap&&((e=void 0!==(e=super.getNestedProperty.call(t,e[1]))&&i.mapMap[e])?o(t,e):-1!==i.pointArrayMap.indexOf("value")&&(t.value=t.value||null)),t}getProjectedBounds(t){var e,i,s=h.getProjectedPath(this,t),s=a(s),o=this.properties,r=this.series.chart.mapView;if(s)return e=o&&o["hc-middle-lon"],i=o&&o["hc-middle-lat"],r&&n(e)&&n(i)?(t=t.forward([e,i]),s.midX=t[0],s.midY=t[1]):(t=o&&o["hc-middle-x"],o=o&&o["hc-middle-y"],s.midX=s.x1+(s.x2-s.x1)*l(this.middleX,n(t)?t:.5),t=l(this.middleY,n(o)?o:.5),this.geometry||(t=1-t),s.midY=s.y2-(s.y2-s.y1)*t),s}onMouseOver(t){s.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,t):this.series.onMouseOut(t)}setVisible(t){var e=t?"show":"hide";this.visible=this.options.visible=!!t,this.dataLabel&&this.dataLabel[e](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(t){const e=this.series.chart,i=e.mapView;var s,o=this.bounds;if(i&&o){const r=n(this.insetIndex)&&i.insets[this.insetIndex];r&&(s=r.projectedUnitsToPixels({x:o.x1,y:o.y1}),o=r.projectedUnitsToPixels({x:o.x2,y:o.y2}),s=i.pixelsToProjectedUnits({x:s.x,y:s.y}),o=i.pixelsToProjectedUnits({x:o.x,y:o.y}),o={x1:s.x,y1:s.y,x2:o.x,y2:o.y}),i.fitToBounds(o,void 0,!1),this.series.isDirty=!0,e.redraw(t)}}}return o(h.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),h}),e(t,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}}),e(t,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,i,s){function a(t,e){if(e=e||Object.keys(t.objects)[0],(e=t.objects[e])["hc-decoded-geojson"])return e["hc-decoded-geojson"];let o=t.arcs;if(t.transform){const{scale:s,translate:r}=t.transform;o=t.arcs.map(t=>{let e=0,i=0;return t.map(t=>((t=t.slice())[0]=(e+=t[0])*s[0]+r[0],t[1]=(i+=t[1])*s[1]+r[1],t))})}const s=t=>"number"==typeof t[0]?t.reduce((t,e,i)=>{let s=e<0?o[~e]:o[e];return e<0?(s=s.slice(0,0===i?s.length:s.length-1)).reverse():i&&(s=s.slice(1)),t.concat(s)},[]):t.map(s),r=e.geometries.map(t=>({type:"Feature",properties:t.properties,geometry:{type:t.type,coordinates:t.coordinates||s(t.arcs)}}));return t={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:r,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:t.bbox,title:t.title},e["hc-decoded-geojson"]=t}function o(t,o="map",e){const r=[];return(t="Topology"===t.type?a(t):t).features.forEach(function(t){var e=(i=t.geometry||{}).type,i=i.coordinates;t=t.properties;let s;if(("map"!==o&&"mapbubble"!==o||"Polygon"!==e&&"MultiPolygon"!==e)&&("mapline"!==o||"LineString"!==e&&"MultiLineString"!==e)?"mappoint"===o&&"Point"===e&&i.length&&(s={geometry:{coordinates:i,type:e}}):i.length&&(s={geometry:{coordinates:i,type:e}}),s){e=t&&(t.name||t.NAME),i=t&&t.lon;const o=t&&t.lat;r.push(l(s,{lat:"number"==typeof o?o:void 0,lon:"number"==typeof i?i:void 0,name:"string"==typeof e?e:void 0,properties:t}))}}),e&&t.copyrightShort&&(e.chart.mapCredits=n(e.chart.options.credits.mapText,{geojson:t}),e.chart.mapCreditsFull=n(e.chart.options.credits.mapTextFull,{geojson:t})),r}const n=e["format"],d=i["win"],{error:u,extend:l,merge:r,wrap:h}=s;return t.prototype.transformFromLatLon=function(t,e){var i,s,o,r,a,n,l,h,p,c=this.options.chart.proj4||d.proj4;if(c)return{jsonmarginX:i=0,jsonmarginY:s=0,jsonres:o=1,scale:r=1,xoffset:a=0,xpan:n=0,yoffset:l=0,ypan:h=0}=e,t=c(e.crs,[t.lon,t.lat]),c=e.cosAngle||e.rotation&&Math.cos(e.rotation),p=e.sinAngle||e.rotation&&Math.sin(e.rotation),{x:(((e=e.rotation?[t[0]*c+t[1]*p,-t[0]*p+t[1]*c]:t)[0]-a)*r+n)*o+i,y:-(((l-e[1])*r+h)*o-s)};u(21,!1,this)},t.prototype.transformToLatLon=function(t,e){const i=this.options.chart.proj4||d.proj4;var s,o,r,a,n,l,h,p;if(i){if(null!==t.y)return{jsonmarginX:h=0,jsonmarginY:s=0,jsonres:o=1,scale:r=1,xoffset:a=0,xpan:p=0,yoffset:n=0,ypan:l=0}=e,t={x:((t.x-h)/o-p)/r+a,y:((t.y-s)/o+l)/r+n},h=e.cosAngle||e.rotation&&Math.cos(e.rotation),p=e.sinAngle||e.rotation&&Math.sin(e.rotation),{lat:(e=i(e.crs,"WGS84",e.rotation?{x:t.x*h+t.y*-p,y:t.x*p+t.y*h}:t)).y,lon:e.x}}else u(21,!1,this)},t.prototype.fromPointToLatLon=function(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)},t.prototype.fromLatLonToPoint=function(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)},h(t.prototype,"addCredits",function(t,e){e=r(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),{geojson:i.geojson=o,topo2geo:i.topo2geo=a}}),e(t,"Core/Geometry/PolygonClip.js",[],function(){const h=(t,e,i)=>(e[0]-t[0])*(i[1]-t[1])>(e[1]-t[1])*(i[0]-t[0]),p=(t,e,i,s)=>{var o=[t[0]-e[0],t[1]-e[1]],r=[i[0]-s[0],i[1]-s[1]];return t=t[0]*e[1]-t[1]*e[0],i=i[0]*s[1]-i[1]*s[0],s=1/(o[0]*r[1]-o[1]*r[0]),(o=[(t*r[0]-i*o[0])*s,(t*r[1]-i*o[1])*s]).isIntersection=!0,o};var t,s;return(s=t=t||{}).clipLineString=(t,e)=>{const i=[];for(t=s.clipPolygon(t,e,!1),e=1;e<t.length;e++)t[e].isIntersection&&t[e-1].isIntersection&&(i.push(t.splice(0,e)),e=0),e===t.length-1&&i.push(t);return i},s.clipPolygon=(e,i,s=!0)=>{let o=i[i.length-1],r,a,n=e;for(let t=0;t<i.length;t++){var l=n;e=i[t],n=[],r=s?l[l.length-1]:l[0];for(let t=0;t<l.length;t++)a=l[t],h(o,e,a)?(h(o,e,r)||n.push(p(o,e,r,a)),n.push(a)):h(o,e,r)&&n.push(p(o,e,r,a)),r=a;o=e}return n},t}),e(t,"Maps/Projections/LambertConformalConic.js",[],function(){const a=Math.sign||(t=>0===t?0:0<t?1:-1),n=Math.PI/180,l=Math.PI/2;return class{constructor(t){var e=(i=(t.parallels||[]).map(t=>t*n))[0]||0,i=null!=(s=i[1])?s:e,s=Math.cos(e);"object"==typeof t.projectedBounds&&(this.projectedBounds=t.projectedBounds),t=e===i?Math.sin(e):Math.log(s/Math.cos(i))/Math.log(Math.tan((l+i)/2)/Math.tan((l+e)/2)),Math.abs(t)<1e-10&&(t=1e-10*(a(t)||1)),this.n=t,this.c=s*Math.pow(Math.tan((l+e)/2),t)/t}forward(t){var e=t[0]*n,{c:i,n:s,projectedBounds:o}=this;t=t[1]*n,0<i?t<1e-6-l&&(t=1e-6-l):t>l-1e-6&&(t=l-1e-6);var r=[t=(r=i/Math.pow(Math.tan((l+t)/2),s))*Math.sin(s*e)*63.78137,e=63.78137*(i-r*Math.cos(s*e))];return o&&(t<o.x1||t>o.x2||e<o.y1||e>o.y2)&&(r.outside=!0),r}inverse(t){var e=t[0]/63.78137,{c:i,n:s}=this,o=(t=i-(t=t[1]/63.78137),a(s)*Math.sqrt(e*e+t*t));let r=Math.atan2(e,Math.abs(t))*a(t);return t*s<0&&(r-=Math.PI*a(e)*a(t)),[r/s/n,(2*Math.atan(Math.pow(i/o,1/s))-l)/n]}}}),e(t,"Maps/Projections/EqualEarth.js",[],function(){const l=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(t){var e=Math.PI/180,i=Math.asin(l*Math.sin(t[1]*e)),s=i*i,o=s*s*s;return[t[0]*e*Math.cos(i)*74.03120656864502/(l*(1.340264+3*-.081106*s+o*(7*893e-6+.034164*s))),74.03120656864502*i*(1.340264+-.081106*s+o*(893e-6+.003796*s))]}inverse(t){var e=t[0]/74.03120656864502,i=(t=t[1]/74.03120656864502,180/Math.PI);let s=t,o;for(o=0;o<12;++o){var r=(n=s*s)*n*n,a=s*(1.340264+-.081106*n+r*(893e-6+.003796*n))-t,n=1.340264+3*-.081106*n+r*(7*893e-6+.034164*n);if(s-=a/=n,Math.abs(a)<1e-9)break}return n=s*s,[i*l*e*(1.340264+3*-.081106*n+n*n*n*(7*893e-6+.034164*n))/Math.cos(s),i*Math.asin(Math.sin(s)/l)]}}}),e(t,"Maps/Projections/Miller.js",[],function(){const e=Math.PI/4,i=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(t){return[t[0]*i*63.78137,79.7267125*Math.log(Math.tan(e+.4*t[1]*i))]}inverse(t){return[t[0]/63.78137/i,2.5*(Math.atan(Math.exp(t[1]/63.78137*.8))-e)/i]}}}),e(t,"Maps/Projections/Orthographic.js",[],function(){const r=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(t){var e=t[0];return t=t[1]*r,t=[Math.cos(t)*Math.sin(e*r)*63.78460826781007,63.78460826781007*Math.sin(t)],(e<-90||90<e)&&(t.outside=!0),t}inverse(t){var e=t[0]/63.78460826781007,i=(t=t[1]/63.78460826781007,Math.sqrt(e*e+t*t)),s=Math.asin(i),o=Math.sin(s);return[Math.atan2(e*o,i*Math.cos(s))/r,Math.asin(i&&t*o/i)/r]}}}),e(t,"Maps/Projections/WebMercator.js",[],function(){const i=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(t){var e=Math.sin(t[1]*i),e=[63.78137*t[0]*i,63.78137*Math.log((1+e)/(1-e))/2];return 85.0511287798<Math.abs(t[1])&&(e.outside=!0),e}inverse(t){return[t[0]/(63.78137*i),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/i]}}}),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],function(t,e,i,s,o){return{EqualEarth:e,LambertConformalConic:t,Miller:i,Orthographic:s,WebMercator:o}}),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){const{clipLineString:f,clipPolygon:y}=t,{clamp:p,erase:c}=i,b=2*Math.PI/360,d=t=>(t<-180&&(t+=360),180<t&&(t-=360),t);class x{static add(t,e){x.registry[t]=e}static greatCircle(t,e,i){const{atan2:s,cos:o,sin:r,sqrt:a}=Math,n=t[1]*b,l=t[0]*b,h=e[1]*b,p=e[0]*b;var c=h-n,d=p-l,c=r(c/2)*r(c/2)+o(n)*o(h)*r(d/2)*r(d/2),u=(c=2*s(a(c),a(1-c)),Math.round(6371e3*c/5e5)),d=[];if(i&&d.push(t),1<u)for(u=t=1/u;u<.999;u+=t){var m=r((1-u)*c)/r(c);const t=r(u*c)/r(c);var g=m*o(n)*o(l)+t*o(h)*o(p);const i=m*o(n)*r(l)+t*o(h)*r(p);m=m*r(n)+t*r(h),m=s(m,a(g*g+i*i)),g=s(i,g),d.push([g/b,m/b])}return i&&d.push(e),d}static insertGreatCircles(t){let e=t.length-1;for(;e--;){var i;10<Math.max(Math.abs(t[e][0]-t[e+1][0]),Math.abs(t[e][1]-t[e+1][1]))&&((i=x.greatCircle(t[e],t[e+1])).length&&t.splice(e+1,0,...i))}}static toString(t){const{name:e,rotation:i}=t||{};return[e,i&&i.join(",")].join(";")}constructor(t={}){this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90;var{name:e,projectedBounds:i,rotation:s}=this.options=t;this.rotator=s?this.getRotator(s):void 0;const o=e?x.registry[e]:void 0,{def:r,rotator:a}=(o&&(this.def=new o(t)),this);r&&(this.maxLatitude=r.maxLatitude||90,this.hasGeoProjection=!0),a&&r?(this.forward=t=>r.forward(a.forward(t)),this.inverse=t=>a.inverse(r.inverse(t))):r?(this.forward=t=>r.forward(t),this.inverse=t=>r.inverse(t)):a&&(this.forward=a.forward,this.inverse=a.inverse),this.bounds="world"===i?r&&r.bounds:i}lineIntersectsBounds(t){var{x1:e,x2:i,y1:s,y2:o}=this.bounds||{},r=(t,e,i)=>{var[s,o]=t;if(t=e?0:1,"number"==typeof i&&s[e]>=i!=o[e]>=i)return t=s[t]+(i-s[e])/(o[e]-s[e])*(o[t]-s[t]),e?[t,i]:[i,t]};let a,n=t[0];return((a=r(t,0,e))||(a=r(t,0,i)))&&(n=a,t[1]=a),n=(a=r(t,1,s))||(a=r(t,1,o))?a:n}getRotator(t){const o=t[0]*b,e=(t[1]||0)*b,r=(t=(t[2]||0)*b,Math.cos(e)),a=Math.sin(e),n=Math.cos(t),l=Math.sin(t);if(0!=o||0!=e||0!==t)return{forward:t=>{var e=t[0]*b+o,i=t[1]*b,s=Math.cos(i);return t=Math.cos(e)*s,e=Math.sin(e)*s,s=(i=Math.sin(i))*r+t*a,[Math.atan2(e*n-s*l,t*r-i*a)/b,Math.asin(s*n+e*l)/b]},inverse:t=>{var e=t[0]*b,i=t[1]*b,s=Math.cos(i);return t=Math.cos(e)*s,e=Math.sin(e)*s,s=(i=Math.sin(i))*n-e*l,[(Math.atan2(e*n+i*l,t*r+s*a)-o)/b,Math.asin(s*r-t*a)/b]}}}forward(t){return t}inverse(t){return t}cutOnAntimeridian(r,a){const n=[],t=[r];if(r.forEach((t,e)=>{let i=r[e-1];if(!e){if(!a)return;i=r[r.length-1]}var s=i[0],o=t[0];(s<-90||90<s)&&(o<-90||90<o)&&0<s!=0<o&&(o=p((180-(s+360)%360)/((o+360)%360-(s+360)%360),0,1),n.push({i:e,lat:i[1]+o*(t[1]-i[1]),direction:s<0?1:-1,previousLonLat:i,lonLat:t}))}),n.length)if(a){var e;1==n.length%2&&(e=n.slice().sort((t,e)=>Math.abs(e.lat)-Math.abs(t.lat))[0],c(n,e));for(var i=n.length-2;0<=i;){var s=n[i].i,o=d(180+1e-6*n[i].direction),l=d(180-1e-6*n[i].direction);(s=r.splice(s,n[i+1].i-s,...x.greatCircle([o,n[i].lat],[o,n[i+1].lat],!0))).push(...x.greatCircle([l,n[i+1].lat],[l,n[i].lat],!0)),t.push(s),i-=2}if(e)for(s=0;s<t.length;s++){const{direction:r,lat:n}=e;if(-1<(l=(i=t[s]).indexOf(e.lonLat))){s=(n<0?-1:1)*this.maxLatitude;var h=d(180+1e-6*r),o=d(180-1e-6*r);const t=x.greatCircle([h,n],[h,s],!0);for(h+=120*r;-180<h&&h<180;h+=120*r)t.push([h,s]);t.push(...x.greatCircle([o,s],[o,e.lat],!0)),i.splice(l,0,...t);break}}}else for(e=n.length;e--;)(i=r.splice(n[e].i,r.length,[d(180+1e-6*n[e].direction),n[e].lat])).unshift([d(180-1e-6*n[e].direction),n[e].lat]),t.push(i);return t}path(t){const{bounds:p,def:e,rotator:i}=this,c=[],d="Polygon"===t.type||"MultiPolygon"===t.type,u=this.hasGeoProjection,m=!e||!1!==e.antimeridianCutting,s=m?i:void 0,g=m&&e||this;let b;p&&(b=[[p.x1,p.y1],[p.x2,p.y1],[p.x2,p.y2],[p.x1,p.y2]]);const o=t=>{let e=[t=t.map(e=>{if(m){let t=(e=s?s.forward(e):e)[0];e=[t=Math.abs(t-180)<1e-6?t<180?179.999999:180.000001:t,e[1]]}return e})];u&&(x.insertGreatCircles(t),m&&(e=this.cutOnAntimeridian(t,d))),e.forEach(e=>{if(!(e.length<2)){var i,s,o=!1,r=!1,a=t=>{o?c.push(["L",t[0],t[1]]):(c.push(["M",t[0],t[1]]),o=!0)},n=!1,l=!1,h=e.map(t=>((t=g.forward(t)).outside?n=!0:l=!0,1/0===t[1]?t[1]=1e10:-1/0===t[1]&&(t[1]=-1e10),t));if(m){if(d&&h.push(h[0]),n){if(!l)return;if(b)if(d)h=y(h,b);else if(p)return void f(h,b).forEach(t=>{o=!1,t.forEach(a)})}h.forEach(a)}else for(let t=0;t<h.length;t++){const f=e[t],p=h[t];r=!!p.outside||(d&&!i&&(i=f,e.push(f),h.push(p)),r&&s&&(d&&u?x.greatCircle(s,f).forEach(t=>a(g.forward(t))):o=!1),a(p),s=f,!1)}}})};return"LineString"===t.type?o(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach(t=>o(t)):"Polygon"===t.type?(t.coordinates.forEach(t=>o(t)),c.length&&c.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach(t=>{t.forEach(t=>o(t))}),c.length&&c.push(["Z"])),c}}return x.registry=e,x}),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/MapViewInsetsOptionsDefault.js"],t["Extensions/GeoJSON.js"],t["Core/Chart/MapChart.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],function(r,i,t,e,s,a,o){const n=t["topo2geo"],l=e["maps"],{boundsFromPath:h,pointInPolygon:p}=s,{addEvent:c,clamp:d,fireEvent:u,isArray:m,isNumber:g,isObject:b,isString:f,merge:y,pick:x,relativeLength:v}=o,M=(t,e)=>{var{width:e,height:i}=e;return Math.log(400.979322/Math.max((t.x2-t.x1)/(e/256),(t.y2-t.y1)/(i/256)))/Math.log(2)};class j{static mergeInsets(t,e){const i=t=>{const i={};return t.forEach((t,e)=>{i[t&&t.id||"i"+e]=t}),i},s=y(i(t),i(e));return Object.keys(s).map(t=>s[t])}createInsets(){const e=this.options,t=e.insets;t&&t.forEach(t=>{t=new C(this,y(e.insetOptions,t)),this.insets.push(t)})}constructor(t,e){this.allowTransformAnimation=!0,this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[];let o;if(!(this instanceof C)){var i=[t.options.chart.map,...(t.options.series||[]).map(t=>t.mapData)].map(t=>this.getGeoMap(t));const r=[],g=(i.forEach(t=>{if(t&&(o=o||t["hc-recommended-mapview"],t.bbox)){const[e,i,o,s]=t.bbox;r.push({x1:e,y1:i,x2:o,y2:s})}}),r.length&&j.compositeBounds(r));if(g){const{x1:r,y1:t,x2:e,y2:o}=g;var s=180<e-r&&90<o-t?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[t,o],rotation:[-(r+e)/2]}}this.geoMap=i[0]}this.userOptions=e||{},s=y(r,{projection:s},o,e),i=o&&o.insets,e=e&&e.insets,i&&e&&(s.insets=j.mergeInsets(i,e)),this.chart=t,this.center=s.center,this.options=s,this.projection=new a(s.projection),this.playingField=t.plotBox,this.zoom=s.zoom||0,this.createInsets(),this.eventsToUnbind.push(c(t,"afterSetChartSize",()=>{this.playingField=this.getField(),void 0!==this.minZoom&&this.minZoom!==this.zoom||(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&g(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&y(!0,this.center,this.userOptions.center))})),this.setUpEvents()}fitToBounds(t,e,i=!0,s){var o,r=t||this.getProjectedBounds();r&&(o=x(e,t?0:this.options.padding),e=this.getField(!1),o=m(o)?o:[o,o,o,o],this.padding=[v(o[0],e.height),v(o[1],e.width),v(o[2],e.height),v(o[3],e.width)],this.playingField=this.getField(),e=M(r,this.playingField),t||(this.minZoom=e),t=this.projection.inverse([(r.x2+r.x1)/2,(r.y2+r.y1)/2]),this.setView(t,e,i,s))}getField(t=!0){return{x:(t=t?this.padding:[0,0,0,0])[3],y:t[0],width:this.chart.plotWidth-t[1]-t[3],height:this.chart.plotHeight-t[0]-t[2]}}getGeoMap(t){return f(t)?l[t]&&"Topology"===l[t].type?n(l[t]):l[t]:b(t,!0)?"FeatureCollection"===t.type?t:"Topology"===t.type?n(t):void 0:void 0}getMapBBox(){var t,e,i=this.getProjectedBounds(),s=this.getScale();if(i)return t=this.padding,e=this.projectedUnitsToPixels({x:i.x1,y:i.y2}),{width:(i.x2-i.x1)*s+t[1]+t[3],height:(i.y2-i.y1)*s+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}getProjectedBounds(){const e=this.projection;var t=this.chart.series.reduce((t,e)=>{var i=e.getProjectedBounds&&e.getProjectedBounds();return i&&!1!==e.options.affectsMapView&&t.push(i),t},[]),i=this.options.fitToGeometry;return i?(this.fitToGeometryCache||("MultiPoint"===i.type?(t=(i=i.coordinates.map(t=>e.forward(t))).map(t=>t[0]),i=i.map(t=>t[1]),this.fitToGeometryCache={x1:Math.min.apply(0,t),x2:Math.max.apply(0,t),y1:Math.min.apply(0,i),y2:Math.max.apply(0,i)}):this.fitToGeometryCache=h(e.path(i))),this.fitToGeometryCache):this.projection.bounds||j.compositeBounds(t)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){var{x:t,y:e,width:i,height:s}=this.playingField,o=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,a=this.getScale();return{scaleX:a,scaleY:r*=a,translateX:t+i/2-o[0]*a,translateY:e+s/2-o[1]*r}}lonLatToPixels(t){if(t=this.lonLatToProjectedUnits(t))return this.projectedUnitsToPixels(t)}lonLatToProjectedUnits(t){const e=this.chart,i=e.mapTransforms;if(i){for(const o in i)if(Object.hasOwnProperty.call(i,o)&&i[o].hitZone){var s=e.transformFromLatLon(t,i[o]);if(s&&p(s,i[o].hitZone.coordinates[0]))return s}return e.transformFromLatLon(t,i.default)}for(s of this.insets)if(s.options.geoBounds&&p({x:t.lon,y:t.lat},s.options.geoBounds.coordinates[0]))return t=s.projection.forward([t.lon,t.lat]),t=s.projectedUnitsToPixels({x:t[0],y:t[1]}),this.pixelsToProjectedUnits(t);if(!(t=this.projection.forward([t.lon,t.lat])).outside)return{x:t[0],y:t[1]}}projectedUnitsToLonLat(t){var e,i=this.chart,s=i.mapTransforms;if(s){for(const e in s)if(Object.hasOwnProperty.call(s,e)&&s[e].hitZone&&p(t,s[e].hitZone.coordinates[0]))return i.transformToLatLon(t,s[e]);return i.transformToLatLon(t,s.default)}i=this.projectedUnitsToPixels(t);for(e of this.insets)if(e.hitZone&&p(i,e.hitZone.coordinates[0]))return t=e.pixelsToProjectedUnits(i),e=e.projection.inverse([t.x,t.y]),{lon:e[0],lat:e[1]};return{lon:(e=this.projection.inverse([t.x,t.y]))[0],lat:e[1]}}redraw(t){this.chart.series.forEach(t=>{t.useMapGeometry&&(t.isDirty=!0)}),this.chart.redraw(t)}setView(t,e,i=!0,s){if(t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),"number"==typeof this.options.maxZoom&&(e=Math.min(e,this.options.maxZoom)),g(e)&&(this.zoom=e)),l=this.getProjectedBounds()){t=this.projection.forward(this.center);const{x:g,y:i,width:u,height:s}=this.playingField;e=this.getScale();var o,r,a=this.projectedUnitsToPixels({x:l.x1,y:l.y1}),n=this.projectedUnitsToPixels({x:l.x2,y:l.y2}),l=[(l.x1+l.x2)/2,(l.y1+l.y2)/2];this.chart.series.some(t=>t.isDrilling)||(o=a.x,r=n.y,n=n.x,a=a.y,n-o<u?t[0]=l[0]:o<g&&n<g+u?t[0]+=Math.max(o-g,n-u-g)/e:n>g+u&&o>g&&(t[0]+=Math.min(n-u-g,o-g)/e),a-r<s?t[1]=l[1]:r<i&&a<i+s?t[1]-=Math.max(r-i,a-s-i)/e:a>i+s&&r>i&&(t[1]-=Math.min(a-s-i,r-i)/e),this.center=this.projection.inverse(t)),this.insets.forEach(t=>{t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())}),this.render()}u(this,"afterSetView"),i&&this.redraw(s)}projectedUnitsToPixels(t){var e=this.getScale(),i=this.projection.forward(this.center),s=this.playingField;return{x:s.x+s.width/2-e*(i[0]-t.x),y:s.y+s.height/2+e*(i[1]-t.y)}}pixelsToLonLat(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))}pixelsToProjectedUnits(t){var{x:e,y:i}=t,s=(t=this.getScale(),this.projection.forward(this.center)),o=this.playingField;return{x:s[0]+(e-(o.x+o.width/2))/t,y:s[1]-(i-(o.y+o.height/2))/t}}setUpEvents(){const n=this["chart"];let l,h,p;var t=t=>{var e=n.pointer.pinchDown,i=this.projection;let{mouseDownX:s,mouseDownY:o}=n;if(1===e.length&&(s=e[0].chartX,o=e[0].chartY),"number"==typeof s&&"number"==typeof o){var e=s+","+o,{chartX:r,chartY:a}=t.originalEvent;if(e!==h&&(h=e,l=this.projection.forward(this.center),p=(this.projection.options.rotation||[0,0]).slice()),e=(e=i.def&&i.def.bounds)&&M(e,this.playingField)||-1/0,"Orthographic"===i.options.name&&(this.minZoom||1/0)<1.3*e){if(e=440/(this.getScale()*Math.min(n.plotWidth,n.plotHeight)),p){i=(s-r)*e-p[0],e=d(-p[1]-(o-a)*e,-80,80);const g=this.zoom;this.update({projection:{rotation:[-i,-e]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=g,n.redraw(!1)}}else g(r)&&g(a)&&(i=this.getScale(),i=this.projection.inverse([l[0]+(s-r)/i,l[1]-(o-a)/i*(this.projection.hasCoordinates?1:-1)]),this.setView(i,void 0,!0,!1));t.preventDefault()}};c(n,"pan",t),c(n,"touchpan",t),c(n,"selection",t=>{var e,i,s,o;t.resetSelection?this.zoomBy():(s=t.x-n.plotLeft,o=t.y-n.plotTop,{y:e,x:i}=this.pixelsToProjectedUnits({x:s,y:o}),{y:s,x:o}=this.pixelsToProjectedUnits({x:s+t.width,y:o+t.height}),this.fitToBounds({x1:i,y1:e,x2:o,y2:s},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||n.showResetZoom(),t.preventDefault())})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(t,e=!0,i){var s=(s=t.projection)&&a.toString(s)!==a.toString(this.options.projection);let o=!1;y(!0,this.userOptions,t),y(!0,this.options,t),"insets"in t&&(this.insets.forEach(t=>t.destroy()),this.insets.length=0,o=!0),(s||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(s||o)&&(this.chart.series.forEach(t=>{const e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,o&&e)for(;1<e.length;)(t=e.pop())&&t.destroy()}),s&&(this.projection=new a(this.options.projection)),o&&this.createInsets(),t.center||!Object.hasOwnProperty.call(t,"zoom")||g(t.zoom)||this.fitToBounds(void 0,void 0,!1)),t.center||g(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),e&&this.chart.redraw(i)}zoomBy(t,e,i,s){var o,r=this.chart;const a=this.projection.forward(this.center);let[n,l]=e?this.projection.forward(e):[];if("number"==typeof t){if(t=this.zoom+t,i){const[t,s]=i;i=this.getScale(),e=s-r.plotTop-r.plotHeight/2,n=a[0]+(t-r.plotLeft-r.plotWidth/2)/i,l=a[1]+e/i}"number"==typeof n&&"number"==typeof l&&(r=1-Math.pow(2,this.zoom)/Math.pow(2,t),o=a[1]-l,a[0]-=(a[0]-n)*r,a[1]+=o*r,o=this.projection.inverse(a)),this.setView(o,t,void 0,s)}else this.fitToBounds(void 0,void 0,void 0,s)}}j.compositeBounds=t=>{if(t.length)return t.slice(1).reduce((t,e)=>(t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t),y(t[0]))};class C extends j{constructor(t,e){super(t.chart,e),this.id=e.id,this.mapView=t,this.options=y(i,e),this.allBounds=[],this.options.geoBounds&&(t=t.projection.path(this.options.geoBounds),this.geoBoundsProjectedBox=h(t),this.geoBoundsProjectedPolygon=t.map(t=>[t[1]||0,t[2]||0]))}getField(t=!0){if(e=this.hitZone){var e,i=t?this.padding:[0,0,0,0],s=(e=e.coordinates[0]).map(t=>t[0]),o=e.map(t=>t[1]),r=(e=Math.min.apply(0,s)+i[3],s=Math.max.apply(0,s)-i[1],Math.min.apply(0,o)+i[0]),i=Math.max.apply(0,o)-i[2];if(g(e)&&g(r))return{x:e,y:r,width:s-e,height:i-r}}return super.getField.call(this,t)}getHitZone(){const{chart:t,mapView:e,options:i}=this;var s=(i.field||{})["coordinates"];if(s){if(s=s[0],"percent"===i.units){const o="mapBoundingBox"===i.relativeTo&&e.getMapBBox()||y(t.plotBox,{x:0,y:0});s=s.map(t=>[v(t[0]+"%",o.width,o.x),v(t[1]+"%",o.height,o.y)])}return{type:"Polygon",coordinates:[s]}}}getProjectedBounds(){return j.compositeBounds(this.allBounds)}isInside(t){var{geoBoundsProjectedBox:e,geoBoundsProjectedPolygon:i}=this;return!!(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&i&&p(t,i))}render(){const{chart:r,mapView:e,options:a}=this;var i=a.borderPath||a.field;if(i&&e.group){let t=!0;this.border||(this.border=r.renderer.path().addClass("highcharts-mapview-inset-border").add(e.group),t=!1),r.styledMode||this.border.attr({stroke:a.borderColor,"stroke-width":a.borderWidth});const n=Math.round(this.border.strokeWidth())%2/2,l="mapBoundingBox"===a.relativeTo&&e.getMapBBox()||e.playingField;i=(i.coordinates||[]).reduce((t,e)=>e.reduce((t,e,i)=>{let[s,o]=e;return"percent"===a.units&&(s=r.plotLeft+v(s+"%",l.width,l.x),o=r.plotTop+v(o+"%",l.height,l.y)),s=Math.floor(s)+n,o=Math.floor(o)+n,t.push(0===i?["M",s,o]:["L",s,o]),t},t),[]),this.border[t?"animate":"attr"]({d:i})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(t=>t())}setUpEvents(){}}return c(e,"afterInit",function(){this.mapView=new j(this,this.options.mapView)}),j}),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapComposition.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,c,s,d,r,o,a,n,l){const h=t["animObject"],p=(t=c["noop"],s)["splitPath"],{column:u,scatter:m}=a["seriesTypes"],{extend:g,find:b,fireEvent:f,getNestedProperty:y,isArray:x,defined:v,isNumber:M,isObject:j,merge:C,objectEach:w,pick:P,splat:S}=l;class L extends m{constructor(){super(...arguments),this.points=this.options=this.joinBy=this.group=this.data=this.chart=void 0,this.processedData=[]}animate(t){const{chart:e,group:i}=this,s=h(this.options.animation);t?i.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):i.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},s)}clearBounds(){this.points.forEach(t=>{delete t.bounds,delete t.insetIndex,delete t.projectedPath}),delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){o.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){const h=this,{chart:p,group:i,transformGroups:s=[]}=this,{mapView:c,renderer:d}=p;c&&((this.transformGroups=s)[0]||(s[0]=d.g().add(i)),c.insets.forEach((t,e)=>{s[e+1]||s.push(d.g().add(i))}),this.doFullTranslate()&&(this.points.forEach(t=>{const{graphic:e,shapeArgs:i}=t;t.group=s["number"==typeof t.insetIndex?t.insetIndex+1:0],e&&e.parentGroup!==t.group&&e.add(t.group),i&&p.hasRendered&&!p.styledMode&&(i.fill=this.pointAttribs(t,t.state).fill)}),u.prototype.drawPoints.apply(this),this.points.forEach(e=>{const r=e.graphic;if(r){const a=r.animate;let t="";e.name&&(t+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties&&e.properties["hc-key"]&&(t+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase()),t&&r.addClass(t),p.styledMode&&r.css(this.pointAttribs(e,e.selected?"select":void 0)),r.animate=function(t,e,i){var s=M(t["stroke-width"])&&!M(r["stroke-width"]),o=M(r["stroke-width"])&&!M(t["stroke-width"]);if(s||o){const a=P(h.getStrokeWidth(h.options),1)/(p.mapView&&p.mapView.getScale()||1);s&&(r["stroke-width"]=a),o&&(t["stroke-width"]=a)}return a.call(r,t,e,o?function(){r.element.removeAttribute("stroke-width"),delete r["stroke-width"],i&&i.apply(this,arguments)}:i)}}})),s.forEach((i,t)=>{const s=(0===t?c:c.insets[t-1]).getSVGTransform(),o=P(this.getStrokeWidth(this.options),1),r=s.scaleX,a=0<s.scaleY?1:-1,n=s=>{(h.points||[]).forEach(t=>{const e=t.graphic;let i;e&&e["stroke-width"]&&(i=this.getStrokeWidth(t.options))&&e.attr({"stroke-width":i/s})})};if(d.globalAnimation&&p.hasRendered&&c.allowTransformAnimation){const h=Number(i.attr("translateX")),c=Number(i.attr("translateY")),l=Number(i.attr("scaleX")),e=(t,e)=>{t=l+(r-l)*e.pos,i.attr({translateX:h+(s.translateX-h)*e.pos,translateY:c+(s.translateY-c)*e.pos,scaleX:t,scaleY:t*a,"stroke-width":o/t}),n(t)};if(t={},"boolean"!=typeof(t=p.options.chart?C({},p.options.chart.animation):t)){const h=t.step;t.step=function(t){h&&h.apply(this,arguments),e.apply(this,arguments)}}i.attr({animator:0}).animate({animator:1},t,function(){"boolean"!=typeof d.globalAnimation&&d.globalAnimation.complete&&d.globalAnimation.complete({applyDrilldown:!0})})}else i.attr(C(s,{"stroke-width":o/r})),n(r)}),this.isDrilling||this.drawMapDataLabels())}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){const{insets:s,projection:o}=this.chart.mapView,t=[];(this.points||[]).forEach(function(e){if(e.path||e.geometry){if("string"==typeof e.path?e.path=p(e.path):x(e.path)&&"M"===e.path[0]&&(e.path=n.prototype.pathToSegments(e.path)),!e.bounds){let t=e.getProjectedBounds(o);if(t){e.labelrank=P(e.labelrank,(t.x2-t.x1)*(t.y2-t.y1));const{midX:o,midY:p}=t;if(s&&M(o)&&M(p)){const i=b(s,t=>t.isInside({x:o,y:p}));i&&(delete e.projectedPath,(t=e.getProjectedBounds(i.projection))&&i.allBounds.push(t),e.insetIndex=s.indexOf(i))}e.bounds=t}}e.bounds&&void 0===e.insetIndex&&t.push(e.bounds)}}),this.bounds=r.compositeBounds(t)}return this.bounds}getStrokeWidth(t){var e=this.pointAttrToOptions;return t[e&&e["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(t,e){var i;const{mapView:s,styledMode:o}=t.series.chart,r=o?this.colorAttribs(t):u.prototype.pointAttribs.call(this,t,e);let a=this.getStrokeWidth(t.options);if(e){e=C(this.options.states[e],t.options.states&&t.options.states[e]||{});const s=this.getStrokeWidth(e);v(s)&&(a=s),r.stroke=null!=(i=e.borderColor)?i:t.color}return a&&s&&(a/=s.getScale()),i=this.getStrokeWidth(this.options),r.dashstyle&&s&&M(i)&&(a=i/s.getScale()),t.visible||(r.fill=this.options.nullColor),v(a)?r["stroke-width"]=a:delete r["stroke-width"],r["stroke-linecap"]=r["stroke-linejoin"]=this.options.linecap,r}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(t,e=!0,i,s){delete this.bounds,super.setData.call(this,t,!1,void 0,s),this.processData(),this.generatePoints(),e&&this.chart.redraw(i)}processData(){const o=this.options,t=o.data;var e=this.chart.options.chart;const r=this.joinBy,a=o.keys||this.pointArrayMap,i=[],s={};var n=(n=this.chart.mapView)&&(j(o.mapData,!0)?n.getGeoMap(o.mapData):n.geoMap),l=this.chart.mapTransforms;(this.chart.mapTransforms=l=e.mapTransforms||n&&n["hc-transform"]||l)&&w(l,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))});let h;x(o.mapData)?h=o.mapData:n&&"FeatureCollection"===n.type&&(this.mapTitle=n.title,h=c.geojson(n,this.type,this));const p=this.processedData=[];if(t&&t.forEach(function(e,i){let s=0;if(M(e))p[i]={value:e};else if(x(e)){p[i]={},!o.keys&&e.length>a.length&&"string"==typeof e[0]&&(p[i]["hc-key"]=e[0],++s);for(let t=0;t<a.length;++t,++s)a[t]&&void 0!==e[s]&&(0<a[t].indexOf(".")?d.prototype.setNestedProperty(p[i],e[s],a[t]):p[i][a[t]]=e[s])}else p[i]=t[i];r&&"_i"===r[0]&&(p[i]._i=i)}),h){for(this.mapData=h,this.mapMap={},l=0;l<h.length;l++)n=(e=h[l]).properties,e._i=l,r[0]&&n&&n[r[0]]&&(e[r[0]]=n[r[0]]),s[e[r[0]]]=e;if(this.mapMap=s,r[1]){const o=r[1];p.forEach(function(t){t=y(o,t),s[t]&&i.push(s[t])})}if(o.allAreas){if(r[1]){const o=r[1];p.forEach(function(t){i.push(y(o,t))})}const o="|"+i.map(function(t){return t&&t[r[0]]}).join("|")+"|";h.forEach(function(t){r[0]&&-1!==o.indexOf("|"+t[r[0]]+"|")||p.push(C(t,{value:null}))})}}this.processedXData=Array(p.length)}setOptions(t){let e=(t=o.prototype.setOptions.call(this,t)).joinBy;return null===e&&(e="_i"),(e=this.joinBy=S(e))[1]||(e[1]=e[0]),t}translate(){const i=this.doFullTranslate(),s=this.chart.mapView,o=s&&s.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!s||s.userOptions.center||M(s.userOptions.zoom)||s.zoom!==s.minZoom?this.getProjectedBounds():s.fitToBounds(void 0,void 0,!1)),s){const r=s.getSVGTransform();this.points.forEach(function(t){var e=M(t.insetIndex)&&s.insets[t.insetIndex].getSVGTransform()||r;e&&t.bounds&&M(t.bounds.midX)&&M(t.bounds.midY)&&(t.plotX=t.bounds.midX*e.scaleX+e.translateX,t.plotY=t.bounds.midY*e.scaleY+e.translateY),i&&(t.shapeType="path",t.shapeArgs={d:d.getProjectedPath(t,o)}),t.projectedPath&&!t.projectedPath.length?t.setVisible(!1):t.setVisible(!0)})}f(this,"afterTranslate")}}return L.defaultOptions=C(m.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){const t=this.series.chart["numberFormatter"],e=this.point["value"];return M(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}),g(L.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,forceDL:!0,getCenter:i.getCenter,getExtremesFromAll:!0,getSymbol:t,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:d,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(L),a.registerSeriesType("map",L),L}),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(i,t,e){const{extend:s,merge:o}=e;class r extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(t,e){return(t=i.prototype.pointAttribs.call(this,t,e)).fill=this.options.fillColor,t}}return r.defaultOptions=o(i.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}),s(r.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),t.registerSeriesType("mapline",r),r}),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){({scatter:t}=t.seriesTypes);const i=e["isNumber"];class s extends t.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return!!(this.options.geometry||i(this.x)&&i(this.y)||i(this.options.lon)&&i(this.options.lat))}}return s}),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){t=t.noop;const{map:r,scatter:a}=i["seriesTypes"],{extend:n,fireEvent:h,isNumber:p,merge:l}=o;class c extends a{constructor(){super(...arguments),this.points=this.options=this.data=this.chart=void 0,this.clearBounds=r.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(t){const e=this.chart.mapView;if(e){var{geometry:i,lon:s,lat:o}=t;if(t=i&&"Point"===i.type&&i.coordinates,t=p(s)&&p(o)?[s,o]:t)return e.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}}translate(){const a=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),a){const n=a.getSVGTransform(),l=a.projection["hasCoordinates"];this.points.forEach(t=>{let{x:e,y:i}=t;var s=p(t.insetIndex)&&a.insets[t.insetIndex].getSVGTransform()||n,o=this.projectPoint(t.options)||t.properties&&this.projectPoint(t.properties);let r;o?(e=o.x,i=o.y):t.bounds&&(e=t.bounds.midX,i=t.bounds.midY,s&&p(e)&&p(i)&&(t.plotX=e*s.scaleX+s.translateX,t.plotY=i*s.scaleY+s.translateY,r=!0)),p(e)&&p(i)?r||(s=a.projectedUnitsToPixels({x:e,y:i}),t.plotX=s.x,t.plotY=l?s.y:this.chart.plotHeight-s.y):t.y=t.plotX=t.plotY=void 0,t.isInside=this.isPointInside(t),t.zone=this.zones.length?t.getZone():void 0})}h(this,"afterTranslate")}}return c.defaultOptions=l(a.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}),s.prototype.symbols.mapmarker=(t,e,i,s,o)=>{var r=o&&"legend"===o.context;return r?(t+=i/2,o=e+s):o&&"number"==typeof o.anchorX&&"number"==typeof o.anchorY?(t=o.anchorX,o=o.anchorY):(t+=i/2,o=e+s/2,e-=s),[["M",t,o],["C",t,o,t-(s=r?s/3:s/2),e+1.5*s,t-s,e+s],["A",s,s,1,1,1,t+s,e+s],["C",t+s,e+1.5*s,t,o,t,o],["Z"]]},n(c.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),i.registerSeriesType("mappoint",c),c}),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,o,e,i){const c=t["parse"],s=e["noop"],{arrayMax:a,arrayMin:n,isNumber:l,merge:d,pick:u,stableSort:h}=i;return class{constructor(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=s,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){const e=u(t.options.itemDistance,20),i=this.legendItem||{},s=this.options;var o,r=s.ranges,a=s.connectorDistance;r&&r.length&&l(r[0].value)?(h(r,function(t,e){return e.value-t.value}),this.ranges=r,this.setOptions(),this.render(),t=this.getMaxLabelSize(),r=2*(o=this.ranges[0].radius),a=0<(a=a-o+t.width)?a:0,this.maxLabel=t,this.movementX="left"===s.labels.align?a:0,i.labelWidth=r+a+e,i.labelHeight=r+t.height/2):t.options.bubbleLegend.autoRanges=!0}setOptions(){const i=this.ranges,s=this.options,o=this.chart.series[s.seriesIndex],r=this.legend.baseline,a={zIndex:s.zIndex,"stroke-width":s.borderWidth},n={zIndex:s.zIndex,"stroke-width":s.connectorWidth},l={align:this.legend.options.rtl||"left"===s.labels.align?"right":"left",zIndex:s.zIndex},h=o.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(a.stroke=u(t.borderColor,s.borderColor,o.color),a.fill=u(t.color,s.color,1!==h?c(o.color).setOpacity(h).get("rgba"):o.color),n.stroke=u(t.connectorColor,s.connectorColor,o.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=d(i[e],{center:i[0].radius-i[e].radius+r}),p||d(!0,i[e],{bubbleAttribs:d(a),connectorAttribs:d(n),labelAttribs:l})},this)}getRangeRadius(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)}render(){const t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item"),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(const t of this.ranges)t.value>=i&&this.renderRange(t);this.hideOverlappingLabels()}renderRange(t){var e=this.options,i=e.labels;const s=(a=this.chart).series[e.seriesIndex],o=a.renderer,r=this.symbols;var a=r.labels,n=t.center,l=Math.abs(t.radius),h=e.connectorDistance||0,p=i.align,c=e.connectorWidth,d=this.ranges[0].radius||0,u=n-l-e.borderWidth/2+c/2,m=o.styledMode,h=this.legend.options.rtl||"left"===p?-h:h;"center"===p&&(e.connectorDistance=h=0,t.labelAttribs.align="center"),r.bubbleItems.push(o.circle(d,n+((u%1?1:.5)-(c%2?0:.5)),l).attr(m?{}:t.bubbleAttribs).addClass((m?"highcharts-color-"+s.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendItem.symbol)),r.connectors.push(o.path(o.crispLine([["M",d,u],["L",d+h,u]],e.connectorWidth)).attr(m?{}:t.connectorAttribs).addClass((m?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendItem.symbol)),t=o.text(this.formatLabel(t)).attr(m?{}:t.labelAttribs).css(m?{}:i.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendItem.symbol),e={x:d+h+e.labels.x,y:u+e.labels.y+.4*t.getBBox().height},t.attr(e),a.push(t),t.placed=!0,t.alignAttr=e}getMaxLabelSize(){let e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}}formatLabel(t){var e=this.options;const i=e.labels.formatter,s=(e=e.labels.format,this.chart)["numberFormatter"];return e?o.format(e,t):i?i.call(t):s(t.value,1)}hideOverlappingLabels(){const t=this.chart,i=this.symbols;!this.options.labels.allowOverlap&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))}getRanges(){const t=this.legend.bubbleLegend,i=t.options.ranges;let s,e,o=Number.MAX_VALUE,r=-Number.MAX_VALUE;return t.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&((e=t.zData.filter(l)).length&&(o=u(t.options.zMin,Math.min(o,Math.max(n(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),r=u(t.options.zMax,Math.max(r,a(e)))))}),s=o===r?[{value:r}]:[{value:o},{value:(o+r)/2},{value:r,autoRanges:!0}],i.length&&i[0].radius&&s.reverse(),s.forEach(function(t,e){i&&i[e]&&(s[e]=d(i[e],t))}),s}predictBubbleSizes(){var t=(a=this.chart).legend.options,e=t.floating,i=(t="horizontal"===t.layout)?a.legend.lastLineHeight:0,s=a.plotSizeX,o=a.plotSizeY,r=(l=a.series[this.options.seriesIndex]).getPxExtremes(),a=Math.ceil(r.minPxSize),r=Math.ceil(r.maxPxSize),n=Math.min(o,s),l=l.options.maxSize;return e||!/%$/.test(l)?e=r:(e=(n+i)*(l=parseFloat(l))/100/(l/100+1),(t&&s<=o-e||!t&&o<=s-e)&&(e=r)),[a,Math.ceil(e)]}updateRanges(t,e){const i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){const t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}}}),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(s,r,t,o){function a(t,e,i){const s=this.legend;var o=0<=n(this);let r,a;s&&s.options.enabled&&s.bubbleLegend&&s.options.bubbleLegend.autoRanges&&o?(r=s.bubbleLegend.options,o=s.bubbleLegend.predictBubbleSizes(),s.bubbleLegend.updateRanges(o[0],o[1]),r.placed||(s.group.placed=!1,s.allItems.forEach(t=>{(a=t.legendItem||{}).group&&(a.group.translateY=null)})),s.render(),this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),r.placed||(t.setScale(),t.updateNames(),m(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),r.placed=!0,this.getMargins(),t.call(this,e,i),s.bubbleLegend.correctSizes(),c(s,l(s))):(t.call(this,e,i),s&&s.options.enabled&&s.bubbleLegend&&(s.render(),c(s,l(s))))}function n(t){t=t.series;let e=0;for(;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function l(t){const e=[],i=(t=t.allItems).length;let s,o,r=0;for(o=0;o<i;o++){var a=t[o].legendItem||{};if(s=(t[o+1]||{}).legendItem||{},a.labelHeight&&(t[o].itemHeight=a.labelHeight),t[o]===t[i-1]||a.y!==s.y){for(e.push({height:0}),a=e[e.length-1],r;r<=o;r++)t[r].itemHeight>a.height&&(a.height=t[r].itemHeight);a.step=o}}return e}function h(t){const e=this.bubbleLegend,i=this.options,s=i.bubbleLegend,o=n(this.chart);e&&e.ranges&&e.ranges.length&&(s.ranges.length&&(s.autoRanges=!!s.ranges[0].autoRanges),this.destroyItem(e)),0<=o&&i.enabled&&s.enabled&&(s.seriesIndex=o,this.bubbleLegend=new r(s,this),this.bubbleLegend.addToLegend(t.allItems))}function p(t){if(t.defaultPrevented)return!1;var e=this.chart;t=this.visible;const i=this.chart.legend;i&&i.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,e=0<=n(e),i.bubbleLegend.visible!==e&&(i.update({bubbleLegend:{enabled:e}}),i.bubbleLegend.visible=e),this.visible=t)}function c(t,i){const s=t.options.rtl;let o,r,a,n,l=0;t.allItems.forEach((t,e)=>{(n=t.legendItem||{}).group&&(o=n.group.translateX||0,r=n.y||0,((a=t.movementX)||s&&t.ranges)&&(a=s?o-t.options.maxSize/2:o+a,n.group.attr({translateX:a})),e>i[l].step&&l++,n.group.attr({translateY:Math.round(r+i[l].height/2)}),n.y=r+i[l].height/2)})}const d=t["setOptions"],{addEvent:u,objectEach:m,wrap:g}=o,b=[];return{compose:function(t,e,i){o.pushUnique(b,t)&&(d({legend:{bubbleLegend:s}}),g(t.prototype,"drawChartBox",a)),o.pushUnique(b,e)&&u(e,"afterGetAllItems",h),o.pushUnique(b,i)&&u(i,"legendItemClick",p)}}}),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,i){({scatter:{prototype:{pointClass:t}}}=t.seriesTypes),i=i.extend;class s extends t{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(t){return e.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)}}return i(s.prototype,{ttBelow:!1}),s}),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(o,t,e,i,s,r){function a(){const t=this.len,i=this.chart,s=this.isXAxis,o=s?"xData":"yData",r=this.min,a=this.max-r;let n=0,l=t,h=t/a,p;this.series.forEach(e=>{if(e.bubblePadding&&(e.visible||!i.options.chart.ignoreHiddenSeries)){p=this.allowZoomOutside=!0;const i=e[o];if(s&&((e.onPoint||e).getRadii(0,0,e),e.onPoint&&(e.radii=e.onPoint.radii)),0<a){let t=i.length;for(;t--;)if(b(i[t])&&this.dataMin<=i[t]&&i[t]<=this.max){const b=e.radii&&e.radii[t]||0;n=Math.min((i[t]-r)*h-b,n),l=Math.max((i[t]-r)*h+b,l)}}}}),p&&0<a&&!this.logarithmic&&(l-=t,h*=(t+Math.max(0,n)-Math.min(l,t))/t,[["min","userMin",n],["max","userMax",l]].forEach(t=>{void 0===y(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)}))}const n=e["parse"],{series:l,seriesTypes:{column:{prototype:h},scatter:p}}=(e=i["noop"],s),{addEvent:c,arrayMax:d,arrayMin:u,clamp:m,extend:g,isNumber:b,merge:f,pick:y}=r,x=[];class v extends p{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(t,e,i,s){o.compose(e,i,s),r.pushUnique(x,t)&&(t.prototype.beforePadding=a)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){const e=t["graphic"];e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)}getRadii(){const t=this.zData,e=this.yData,i=[];let s,o,r,a=this.chart.bubbleZExtremes;var{minPxSize:n,maxPxSize:l}=this.getPxExtremes();if(!a){let e=Number.MAX_VALUE,i=-Number.MAX_VALUE,s;this.chart.series.forEach(t=>{t.bubblePadding&&(t.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(t=(t.onPoint||t).getZExtremes())&&(e=Math.min(y(e,t.zMin),t.zMin),i=Math.max(y(i,t.zMax),t.zMax),s=!0)}),s?(a={zMin:e,zMax:i},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(o=0,s=t.length;o<s;o++)r=t[o],i.push(this.getRadius(a.zMin,a.zMax,n,l,r,e&&e[o]));this.radii=i}getRadius(t,e,i,s,o,r){var a=this.options,n="width"!==a.sizeBy,l=a.zThreshold;let h=e-t,p=.5;if(null===r||null===o)return null;if(b(o)){if(a.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(e-l,Math.abs(t-l)),t=0),o<t)return i/2-1;0<h&&(p=(o-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(s-i))/2}hasData(){return!!this.processedXData.length}pointAttribs(t,e){var i=this.options.marker.fillOpacity;return t=l.prototype.pointAttribs.call(this,t,e),1!==i&&(t.fill=n(t.fill).setOpacity(i).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){var{data:t,radii:e}=this,i=this.getPxExtremes()["minPxSize"];let s=t.length;for(;s--;){const o=t[s],r=e?e[s]:0;b(r)&&i/2<=r?(o.marker=g(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}}getPxExtremes(){const i=Math.min(this.chart.plotWidth,this.chart.plotHeight);var t=t=>{let e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?i*t/100:t},e=t(y(this.options.minSize,8));return{minPxSize:e,maxPxSize:Math.max(t(y(this.options.maxSize,"20%")),e)}}getZExtremes(){var t=this.options,e=(this.zData||[]).filter(b);if(e.length){var i=y(t.zMin,m(u(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=y(t.zMax,d(e));if(b(i)&&b(t))return{zMin:i,zMax:t}}}}return v.defaultOptions=f(p.defaultOptions,{dataLabels:{formatter:function(){const t=this.series.chart["numberFormatter"],e=this.point["z"];return b(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),g(v.prototype,{alignDataLabel:h.alignDataLabel,applyZones:e,bubblePadding:!0,buildKDTree:e,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),c(v,"updatedData",t=>{delete t.target.chart.bubbleZExtremes}),c(v,"remove",t=>{delete t.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",v),v}),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Bubble/BubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){({map:{prototype:{pointClass:{prototype:e}}}}=e.seriesTypes),i=i.extend;class s extends t{isValid(){return"number"==typeof this.z}}return i(s.prototype,{applyOptions:e.applyOptions,getProjectedBounds:e.getProjectedBounds}),s}),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){const{map:{prototype:o},mappoint:{prototype:r}}=i["seriesTypes"],{extend:a,merge:n}=s;class l extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0,this.clearBounds=o.clearBounds}searchPoint(t,e){return this.searchKDTree({clientX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)}translate(){r.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(t,e,i){super.updateParallelArrays.call(this,t,e,i),t=this.processedXData,e=this.xData,t&&e&&(t.length=e.length)}}return l.defaultOptions=n(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),a(l.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:o.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:o.processData,projectPoint:r.projectPoint,setData:o.setData,setOptions:o.setOptions,updateData:o.updateData,useMapGeometry:!0,xyFromShape:!0}),i.registerSeriesType("mapbubble",l),l}),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){({scatter:{prototype:{pointClass:t}}}=t.seriesTypes);const{clamp:o,defined:d,extend:i,pick:r}=e;class s extends t{constructor(){super(...arguments),this.y=this.x=this.value=this.series=this.options=void 0}applyOptions(t,e){return!this.isNull&&null!==this.value||delete this.color,super.applyOptions(t,e),this.formatPrefix=this.isNull||null===this.value?"null":"point",this}getCellAttributes(){var t=this.series;const e=t.options,i=(e.colsize||1)/2,s=(e.rowsize||1)/2,n=t.xAxis,l=t.yAxis,h=this.options.marker||t.options.marker,p=(t=t.pointPlacementToXValue(),r(this.pointPadding,e.pointPadding,0)),c={x1:o(Math.round(n.len-n.translate(this.x-i,!1,!0,!1,!0,-t)),-n.len,2*n.len),x2:o(Math.round(n.len-n.translate(this.x+i,!1,!0,!1,!0,-t)),-n.len,2*n.len),y1:o(Math.round(l.translate(this.y-s,!1,!0,!1,!0)),-l.len,2*l.len),y2:o(Math.round(l.translate(this.y+s,!1,!0,!1,!0)),-l.len,2*l.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0];let i=(t=t[1])+"1",s=t+"2";var o=Math.abs(c[i]-c[s]),r=h&&h.lineWidth||0,a=Math.abs(c[i]+c[s])/2,e=h&&h[e];d(e)&&e<o&&(e=e/2+r/2,c[i]=a-e,c[s]=a+e),p&&(("x"===t&&n.reversed||"y"===t&&!l.reversed)&&(i=s,s=t+"1"),c[i]+=p,c[s]-=p)}),c}haloPath(t){if(!t)return[];var{x:e=0,y:i=0,width:s=0,height:o=0}=this.shapeArgs||{};return[["M",e-t,i-t],["L",e-t,i+o+t],["L",e+s+t,i+o+t],["L",e+s+t,i-t],["Z"]]}isValid(){return 1/0!==this.value&&-1/0!==this.value}}return i(s.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),s}),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(n,t,e,i,s,o){const{series:l,seriesTypes:{column:r,scatter:a}}=i,{symbols:p}=s["prototype"],{extend:h,fireEvent:c,isNumber:d,merge:u,pick:m}=o;class g extends a{constructor(){super(...arguments),this.points=this.options=this.data=this.colorAxis=void 0,this.valueMin=this.valueMax=NaN}drawPoints(){((this.options.marker||{}).enabled||this._hasPointMarkers)&&(l.prototype.drawPoints.call(this),this.points.forEach(t=>{t.graphic&&(t.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(t)),null===t.value&&t.graphic.addClass("highcharts-null-point"))}))}getExtremes(){var{dataMin:t,dataMax:e}=l.prototype.getExtremes.call(this,this.valueData);return d(t)&&(this.valueMin=t),d(e)&&(this.valueMax=e),l.prototype.getExtremes.call(this)}getValidPoints(t,e){return l.prototype.getValidPoints.call(this,t,e,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);const t=this.options;t.pointRange=m(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,p.ellipse=p.circle,t.marker&&d(t.borderRadius)&&(t.marker.r=t.borderRadius)}markerAttribs(t,e){var i,s=t.shapeArgs||{};return t.hasImage?{x:t.plotX,y:t.plotY}:e&&"normal"!==e?(i=t.options.marker||{},t=(t=this.options.marker||{}).states&&t.states[e]||{},e=((i=i.states&&i.states[e]||{}).width||t.width||s.width||0)+(i.widthPlus||t.widthPlus||0),t=(i.height||t.height||s.height||0)+(i.heightPlus||t.heightPlus||0),{x:(s.x||0)+((s.width||0)-e)/2,y:(s.y||0)+((s.height||0)-t)/2,width:e,height:t}):s}pointAttribs(t,e){const i=l.prototype.pointAttribs.call(this,t,e),s=this.options||{};var o=(a=this.chart.options.plotOptions||{}).series||{},r=a.heatmap||{},a=t&&t.options.borderColor||s.borderColor||r.borderColor||o.borderColor,o=t&&t.options.borderWidth||s.borderWidth||r.borderWidth||o.borderWidth||i["stroke-width"];return i.stroke=t&&t.marker&&t.marker.lineColor||s.marker&&s.marker.lineColor||a||this.color,i["stroke-width"]=o,e&&"normal"!==e&&(t=u(s.states&&s.states[e],s.marker&&s.marker.states&&s.marker.states[e],t&&t.options.states&&t.options.states[e]||{}),i.fill=t.color||n.parse(i.fill).brighten(t.brightness||0).get(),i.stroke=t.lineColor||i.stroke),i}translate(){const{borderRadius:a,marker:t}=this.options,n=t&&t.symbol||"rect",l=p[n]?n:"rect",h=-1!==["circle","square"].indexOf(l);this.generatePoints(),this.points.forEach(function(t){var e=t.getCellAttributes();let i=Math.min(e.x1,e.x2);var s=Math.min(e.y1,e.y2);let o=Math.max(Math.abs(e.x2-e.x1),0),r=Math.max(Math.abs(e.y2-e.y1),0);t.hasImage=0===(t.marker&&t.marker.symbol||n||"").indexOf("url"),h&&(s=Math.abs(o-r),i=Math.min(e.x1,e.x2)+(o<r?0:s/2),s=Math.min(e.y1,e.y2)+(o<r?s/2:0),o=r=Math.min(o,r)),t.hasImage&&(t.marker={width:o,height:r}),t.plotX=t.clientX=(e.x1+e.x2)/2,t.plotY=(e.y1+e.y2)/2,t.shapeType="path",t.shapeArgs=u(!0,{x:i,y:s,width:o,height:r},{d:p[l](i,s,o,r,{r:d(a)?a:0})})}),c(this,"afterTranslate")}}return g.defaultOptions=u(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){const t=this.series.chart["numberFormatter"],e=this.point["value"];return d(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}),h(g.prototype,{axisTypes:t.seriesMembers.axisTypes,colorKey:t.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:t.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:e,specialGroup:"group",trackerGroups:t.seriesMembers.trackerGroups,alignDataLabel:r.prototype.alignDataLabel,colorAttribs:t.seriesMembers.colorAttribs,getSymbol:l.prototype.getSymbol}),t.compose(g),i.registerSeriesType("heatmap",g),g}),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],function(t,e,i,s,o,r){t.ColorAxis=e,t.MapChart=s,t.mapChart=t.Map=s.mapChart,t.MapView=o,t.maps=s.maps,t.Projection=r,e.compose(t.Chart,t.Fx,t.Legend,t.Series),i.compose(t.Axis,t.Chart,t.Legend,t.Series)})});