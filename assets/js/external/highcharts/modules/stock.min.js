!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t=t?t._modules:{},"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(n,t){var i,o,e,s=t.addEvent,r=t.find,u=t.fireEvent,a=t.isArray,g=t.isNumber,f=t.pick;function h(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function l(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function p(){var t=this.brokenAxis;if(t&&t.hasBreaks){for(var i=this.tickPositions,e=this.tickPositions.info,o=[],s=0;s<i.length;s++)t.isInAnyBreak(i[s])||o.push(i[s]);this.tickPositions=o,this.tickPositions.info=e}}function d(){this.brokenAxis||(this.brokenAxis=new e(this))}function c(){var t=this.options.connectNulls,i=this.points,e=this.xAxis,o=this.yAxis;if(this.isDirty)for(var s=i.length;s--;){var r=i[s],n=!(null===r.y&&!1===t)&&(e&&e.brokenAxis&&e.brokenAxis.isInAnyBreak(r.x,!0)||o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!n&&!1!==r.options.visible}}function x(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,f(this.pointArrayMap,["y"]))}function m(e,t){var o,s,r,n,i,a=this,h=a.points;e&&e.brokenAxis&&e.brokenAxis.hasBreaks&&(i=e.brokenAxis,t.forEach(function(t){o=i&&i.breakArray||[],s=e.isXAxis?e.min:f(a.options.threshold,e.min),h.forEach(function(i){n=f(i["stack"+t.toUpperCase()],i[t]),o.forEach(function(t){g(s)&&g(n)&&(r=!1,s<t.from&&n>t.to||s>t.from&&n<t.from?r="pointBreak":(s<t.from&&n>t.from&&n<t.to||s>t.from&&n>t.to&&n<t.from)&&(r="pointInBreak"),r&&u(e,r,{point:i,brk:t}))})})}))}function v(){var t,i=(e=this.currentDataGrouping)&&e.gapSize,e=this.points.slice(),o=this.yAxis,s=this.options.gapSize,r=e.length-1;if(s&&0<r)for("value"!==this.options.gapUnit&&(s*=this.basePointRange),i&&s<i&&i>=this.basePointRange&&(s=i),t=void 0;r--;)t&&!1!==t.visible||(t=e[r+1]),i=e[r],!1!==t.visible&&!1!==i.visible&&(t.x-i.x>s&&(t=(i.x+t.x)/2,e.splice(r+1,0,{isNull:!0,x:t}),o.stacking&&this.options.stacking&&((t=o.stacking.stacks[this.stackKey][t]=new n(o,o.options.stackLabels,!1,t,this.stack)).total=0)),t=i);return this.getGraphPath(e)}function y(t){this.hasBreaks=!1,this.axis=t}return t=i=i||{},o=[],t.compose=function(t,i){var e;return-1===o.indexOf(t)&&(o.push(t),t.keepProps.push("brokenAxis"),s(t,"init",d),s(t,"afterInit",h),s(t,"afterSetTickPositions",p),s(t,"afterSetOptions",l)),-1===o.indexOf(i)&&(o.push(i),(e=i.prototype).drawBreaks=m,e.gappedPath=v,s(i,"afterGeneratePoints",c),s(i,"afterRender",x)),t},y.isInBreak=function(t,i){var e=t.repeat||1/0,o=t.from,s=t.to-t.from;return i=o<=i?(i-o)%e:e-(o-i)%e,t.inclusive?i<=s:i<s&&0!==i},y.lin2Val=function(t){var i,e=this.brokenAxis;if(!(e=e&&e.breakArray)||!g(t))return t;for(i=0;i<e.length;i++){var o=e[i];if(o.from>=t)break;(o.to<t||y.isInBreak(o,t))&&(t+=o.len)}return t},y.val2Lin=function(t){var i=this.brokenAxis;if(!(i=i&&i.breakArray)||!g(t))return t;for(var e=t,o=0;o<i.length;o++){var s=i[o];if(s.to<=t)e-=s.len;else{if(s.from>=t)break;if(y.isInBreak(s,t)){e-=t-s.from;break}}}return e},y.prototype.findBreakAt=function(i,t){return r(t,function(t){return t.from<i&&i<t.to})},y.prototype.isInAnyBreak=function(t,i){var e,o,s=this.axis,r=s.options.breaks||[],n=r.length;if(n&&g(t)){for(;n--;)y.isInBreak(r[n],t)&&(e=!0,o=o||f(r[n].showPoints,!s.isXAxis));var a=e&&i?e&&!o:e}return a},y.prototype.setBreaks=function(t,i){var d=this,c=d.axis,e=a(t)&&!!t.length;c.isDirty=d.hasBreaks!==e,d.hasBreaks=e,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,c.series.forEach(function(t){t.isDirty=!0}),e||c.val2lin!==y.val2Lin||(delete c.val2lin,delete c.lin2val),e&&(c.userOptions.ordinal=!1,c.lin2val=y.lin2Val,c.val2lin=y.val2Lin,c.setExtremes=function(t,i,e,o,s){if(d.hasBreaks){for(var r,n=this.options.breaks||[];r=d.findBreakAt(t,n);)t=r.to;for(;r=d.findBreakAt(i,n);)i=r.from;i<t&&(i=t)}c.constructor.prototype.setExtremes.call(this,t,i,e,o,s)},c.setAxisTranslation=function(){var t,i,e,o,s,r,n,a,h,l,p;c.constructor.prototype.setAxisTranslation.call(this),d.unitLength=void 0,d.hasBreaks&&(t=c.options.breaks||[],i=[],e=[],o=f(c.pointRangePadding,0),s=0,n=c.userMin||c.min,a=c.userMax||c.max,t.forEach(function(t){r=t.repeat||1/0,g(n)&&g(a)&&(y.isInBreak(t,n)&&(n+=t.to%r-n%r),y.isInBreak(t,a)&&(a-=a%r-t.from%r))}),t.forEach(function(t){if(p=t.from,r=t.repeat||1/0,g(n)&&g(a)){for(;n<p-r;)p-=r;for(;p<n;)p+=r;for(h=p;h<a;h+=r)i.push({value:h,move:"in"}),i.push({value:h+t.to-t.from,move:"out",size:t.breakSize})}}),i.sort(function(t,i){return t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value}),l=0,p=n,i.forEach(function(t){1===(l+="in"===t.move?1:-1)&&"in"===t.move&&(p=t.value),0===l&&g(p)&&(e.push({from:p,to:t.value,len:t.value-p-(t.size||0)}),s+=t.value-p-(t.size||0))}),d.breakArray=e,g(n)&&g(a)&&g(c.min)&&(d.unitLength=a-n-s+o,u(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:d.unitLength&&(c.transA*=(a-c.min+o)/d.unitLength),o&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=n,c.max=a))}),f(i,!0)&&c.chart.redraw()},e=y,t.Additions=e,i}),i(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(t,i){i.compose(t.Axis,t.Series)}),i(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(s,t){function e(t){var i=t.length;return t=o(t),t=h(t)&&i?n(t/i):t}function o(t){var i=t.length;if(!i&&t.hasNulls)var e=null;else if(i)for(e=0;i--;)e+=t[i];return e}var i=t.arrayMax,r=t.arrayMin,n=t.correctFloat,a=t.extend,h=t.isNumber;return a(s,t={average:e,averages:function(){var i=[];return[].forEach.call(arguments,function(t){i.push(e(t))}),void 0===i[0]?void 0:i},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?i(t):t.hasNulls?null:void 0},hlc:function(t,i,e){if(t=s.high(t),i=s.low(i),e=s.close(e),h(t)||h(i)||h(e))return[t,i,e]},low:function(t){return t.length?r(t):t.hasNulls?null:void 0},ohlc:function(t,i,e,o){if(t=s.open(t),i=s.high(i),e=s.low(e),o=s.close(o),h(t)||h(i)||h(e)||h(o))return[t,i,e,o]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,i){return t=s.low(t),i=s.high(i),h(t)||h(i)?[t,i]:null===t&&null===i?null:void 0},sum:o}),t}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(n,t){function i(i){var e=this,t=e.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!i.hasExtremesChanged)})}function e(){for(var t,i,e=this.series,o=e.length,s=0,r=!1;o--;)(i=e[o].options.dataGrouping)&&(s=Math.max(s,p(i.groupPixelWidth,n.common.groupPixelWidth)),t=(e[o].processedXData||e[o].data).length,(e[o].groupPixelWidth||t>this.chart.plotSizeX/s||t&&i.forced)&&(r=!0));return r?s:0}function o(){this.series.forEach(function(t){t.hasProcessed=!1})}function s(i,t){var e;if(t=p(t,!0),i=i||{forced:!1,units:null},this instanceof r)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:i},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof i?i:l(i,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}var r,a=t.addEvent,h=t.extend,l=t.merge,p=t.pick,d=[];return{compose:function(t){r=t,-1===d.indexOf(t)&&(d.push(t),a(t,"afterSetScale",o),a(t,"postProcessData",i),h(t.prototype,{applyGrouping:i,getGroupPixelWidth:e,setDataGrouping:s}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(k,y,b,a,t,i){function e(t){var i=this.chart,e=this.options.dataGrouping,o=!1!==this.allowDG&&e&&S(e.enabled,i.options.isStock),s=this.visible||!i.options.chart.ignoreHiddenSeries,r=this.currentDataGrouping,n=!1;if(o&&!this.requireSorting&&(this.requireSorting=n=!0),t=!1==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!o,n&&(this.requireSorting=!1),!t){this.destroyGroupedData();var a=e.groupAll?this.xData:this.processedXData,h=e.groupAll?this.yData:this.processedYData,l=(o=i.plotSizeX,(t=this.xAxis).options.ordinal),n=void 0;if((p=this.groupPixelWidth)&&a&&a.length&&o){this.isDirty=n=!0,this.points=null;var p,d=(c=t.getExtremes()).min,c=c.max,l=l&&t.ordinal&&t.ordinal.getGroupIntervalFactor(d,c,this)||1,o=t.getTimeTicks(b.Additions.prototype.normalizeTimeTickInterval(p*(c-d)/o*l,e.units||y.units),Math.min(d,a[0]),Math.max(c,a[a.length-1]),t.options.startOfWeek,a,this.closestPointRange),a=(p=M.groupData.apply(this,[a,h,o,e.approximation])).groupedXData,h=p.groupedYData,i=(l=0,e&&e.smoothed&&a.length&&(e.firstAnchor="firstPoint",e.anchor="middle",e.lastAnchor="lastPoint",A(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),a),u=this.options.dataGrouping,d=this.currentDataGrouping&&this.currentDataGrouping.gapSize;if(u&&this.xData&&d&&this.groupMap){var g,f=i.length-1,x=u.anchor,m=S(u.firstAnchor,x),u=S(u.lastAnchor,x);if(x&&"start"!==x)for(var v=d*{middle:.5,end:1}[x],x=i.length-1;x--&&0<x;)i[x]+=v;m&&"start"!==m&&this.xData[0]>=i[0]&&(x=this.groupMap[0].start,v=this.groupMap[0].length,g=void 0,D(x)&&D(v)&&(g=x+(v-1)),i[0]={middle:i[0]+.5*d,end:i[0]+d,firstPoint:this.xData[0],lastPoint:g&&this.xData[g]}[m]),u&&"start"!==u&&d&&i[f]>=c-d&&(c=this.groupMap[this.groupMap.length-1].start,i[f]={middle:i[f]+.5*d,end:i[f]+d,firstPoint:c&&this.xData[c],lastPoint:this.xData[this.xData.length-1]}[u])}for(c=1;c<o.length;c++)o.info.segmentStarts&&-1!==o.info.segmentStarts.indexOf(c)||(l=Math.max(o[c]-o[c-1],l));(c=o.info).gapSize=l,this.closestPointRange=o.info.totalRange,this.groupMap=p.groupMap,s&&(C((s=a)[0])&&D(t.min)&&D(t.dataMin)&&s[0]<t.min&&((!C(t.options.min)&&t.min<=t.dataMin||t.min===t.dataMin)&&(t.min=Math.min(s[0],t.min)),t.dataMin=Math.min(s[0],t.dataMin)),C(s[s.length-1])&&D(t.max)&&D(t.dataMax)&&s[s.length-1]>t.max&&((!C(t.options.max)&&D(t.dataMax)&&t.max>=t.dataMax||t.max===t.dataMax)&&(t.max=Math.max(s[s.length-1],t.max)),t.dataMax=Math.max(s[s.length-1],t.dataMax))),e.groupAll&&(this.allGroupedData=h,a=(e=this.cropData(a,h,t.min,t.max,1)).xData,h=e.yData,this.cropStart=e.start),this.processedXData=a,this.processedYData=h}else this.groupMap=null;this.hasGroupedData=n,this.currentDataGrouping=c,this.preventGraphAnimation=(r&&r.totalRange)!==(c&&c.totalRange)}}function o(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function s(){d.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function r(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function n(t,i,e,o){var s=this,r=s.data,n=s.options&&s.options.data,a=[],h=[],l=[],p=t.length,d=!!i,c=[],u=s.pointArrayMap,g=u&&u.length,f=["x"].concat(u||["y"]),x=this.options.dataGrouping&&this.options.dataGrouping.groupAll,m=0,v=0;if(o="function"==typeof o?o:o&&k[o]?k[o]:k[s.getDGApproximation&&s.getDGApproximation()||"average"],g)for(var y=u.length;y--;)c.push([]);else c.push([]);for(var y=g||1,b=0;b<=p;b++)if(!(t[b]<e[0])){for(;void 0!==e[m+1]&&t[b]>=e[m+1]||b===p;){var M=e[m],A=(s.dataGroupInfo={start:x?v:s.cropStart+v,length:c[0].length},o.apply(s,c));for(s.pointClass&&!C(s.dataGroupInfo.options)&&(s.dataGroupInfo.options=w(s.pointClass.prototype.optionsToObject.call({series:s},s.options.data[s.cropStart+v])),f.forEach(function(t){delete s.dataGroupInfo.options[t]})),void 0!==A&&(a.push(M),h.push(A),l.push(s.dataGroupInfo)),v=b,M=0;M<y;M++)c[M].length=0,c[M].hasNulls=!1;if(m+=1,b===p)break}if(b===p)break;if(u){var S,M=s.options.dataGrouping&&s.options.dataGrouping.groupAll?b:s.cropStart+b,A=r&&r[M]||s.pointClass.prototype.applyOptions.apply({series:s},[n[M]]);for(M=0;M<g;M++)S=A[u[M]],D(S)?c[M].push(S):null===S&&(c[M].hasNulls=!0)}else M=d?i[b]:null,D(M)?c[0].push(M):null===M&&(c[0].hasNulls=!0)}return{groupedXData:a,groupedYData:h,groupMap:l}}function h(t){t=t.options;var i,e=this.type,o=this.chart.options.plotOptions,s=this.useCommonDataGrouping&&y.common,r=y.seriesSpecific,n=a.defaultOptions.plotOptions[e].dataGrouping;o&&(r[e]||s)&&(i=this.chart.rangeSelector,n=n||w(y.common,r[e]),t.dataGrouping=w(s,n,o.series&&o.series.dataGrouping,o[e].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&i&&D(i.selected)&&i.buttonOptions[i.selected].dataGrouping))}var M=t.series.prototype,l=i.addEvent,C=i.defined,A=i.error,p=i.extend,D=i.isNumber,w=i.merge,S=i.pick,d=M.generatePoints,c=[];return{compose:function(t){var i=t.prototype.pointClass;-1===c.indexOf(i)&&(c.push(i),l(i,"update",function(){if(this.dataGroup)return A(24,!1,this.series.chart),!1})),-1===c.indexOf(t)&&(c.push(t),l(t,"afterSetOptions",h),l(t,"destroy",o),p(t.prototype,{applyGrouping:e,destroyGroupedData:o,generatePoints:s,getDGApproximation:r,groupData:n}))},groupData:n}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(o,c,s,t,i){function r(t){var i,e,o=this.chart,s=o.time,r=t.labelConfig,n=r.series,a=n.tooltipOptions,h=n.options.dataGrouping,l=n.xAxis,p=a.xDateFormat,d=a[t.isFooter?"footerFormat":"headerFormat"];l&&"datetime"===l.options.type&&h&&f(r.key)&&(i=n.currentDataGrouping,h=h.dateTimeLabelFormats||c.common.dateTimeLabelFormats,i?(a=h[i.unitName],1===i.count?p=a[0]:(p=a[1],e=a[2])):!p&&h&&l.dateTime&&(p=l.dateTime.getXDateFormat(r.x,a.dateTimeLabelFormats)),p=s.dateFormat(p,r.key),e&&(p+=s.dateFormat(e,r.key+i.totalRange-1)),n.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=u(d,{point:g(r.point,{key:p}),series:n},o),t.preventDefault())}var u=t.format,n=i.addEvent,g=i.extend,f=i.isNumber,a=[];return t={compose:function(t,i,e){o.compose(t),s.compose(i),-1===a.indexOf(e)&&(a.push(e),n(e,"headerFormatter",r))},groupData:s.groupData}}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(t,i,e,o){t.dataGrouping={approximationDefaults:i,approximations:e},o.compose(t.Axis,t.Series,t.Tooltip)}),i(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,i,e,o){var s,r,n,a=i.prototype.tooltipFormatter,h=o.addEvent,l=o.arrayMax,p=o.arrayMin,d=o.correctFloat,c=o.defined,u=o.isArray,g=o.isNumber,f=o.isString,x=o.pick;function m(i,e,t){this.isXAxis||(this.series.forEach(function(t){"compare"===i&&"boolean"!=typeof e?t.setCompare(e,!1):"cumulative"!==i||f(e)||t.setCumulative(e,!1)}),x(t,!0)&&this.chart.redraw())}function v(i){function t(t){i=i.replace("{point."+t+"}",(0<e[t]&&"change"===t?"+":"")+o(e[t],x(e.series.tooltipOptions.changeDecimals,2)))}var e=this,o=e.series.chart.numberFormatter;return c(e.change)&&t("change"),c(e.cumulativeSum)&&t("cumulativeSum"),a.apply(this,[i])}function y(){var t,i=this.options.compare;"percent"!==i&&"value"!==i&&!this.options.cumulative||(t=new n(this),"percent"===i||"value"===i?t.initCompare(i):t.initCumulative()),this.dataModify=t}function b(t){var i,e=(t=t.dataExtremes).activeYData;this.dataModify&&t&&(i=void 0,this.options.compare?i=[this.dataModify.modifyValue(t.dataMin),this.dataModify.modifyValue(t.dataMax)]:this.options.cumulative&&u(e)&&2<=e.length&&(i=n.getCumulativeExtremes(e)),i&&(t.dataMin=p(i),t.dataMax=l(i)))}function M(t,i){this.options.compare=this.userOptions.compare=t,this.update({},x(i,!0)),!this.dataModify||"value"!==t&&"percent"!==t?this.points.forEach(function(t){delete t.change}):this.dataModify.initCompare(t)}function A(){if(this.xAxis&&this.processedYData&&this.dataModify){var t,i=this.processedXData,e=this.processedYData,o=e.length,s=!0===this.options.compareStart?0:1,r=-1;for(this.pointArrayMap&&(r=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),t=0;t<o-s;t++){var n=e[t]&&-1<r?e[t][r]:e[t];if(g(n)&&0!==n&&i[t+s]>=(this.xAxis.min||0)){this.dataModify.compareValue=n;break}}}}function S(t,i){this.setModifier("compare",t,i)}function k(t,i){t=x(t,!1),this.options.cumulative=this.userOptions.cumulative=t,this.update({},x(i,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(function(t){delete t.cumulativeSum})}function C(t,i){this.setModifier("cumulative",t,i)}function D(t){this.series=t}return i=s=s||{},r=[],i.compose=function(t,i,e){var o;return-1===r.indexOf(t)&&(r.push(t),(o=t.prototype).setCompare=M,o.setCumulative=k,h(t,"afterInit",y),h(t,"afterGetExtremes",b),h(t,"afterProcessData",A)),-1===r.indexOf(i)&&(r.push(i),(i=i.prototype).setCompare=S,i.setModifier=m,i.setCumulative=C),-1===r.indexOf(e)&&(r.push(e),e.prototype.tooltipFormatter=v),t},D.prototype.modifyValue=function(){return 0},D.getCumulativeExtremes=function(t){var e=1/0,o=-1/0;return t.reduce(function(t,i){return i=t+i,e=Math.min(e,i,t),o=Math.max(o,i,t),i}),[e,o]},D.prototype.initCompare=function(o){this.modifyValue=function(t,i){var e=this.compareValue;return void 0!==(t=null===t?0:t)&&void 0!==e?(t="value"===o?t-e:t/e*100-(100===this.series.options.compareBase?0:100),void 0!==i&&(i=this.series.points[i])&&(i.change=t),t):0}},D.prototype.initCumulative=function(){this.modifyValue=function(t,i){var e;return void 0!==(t=null===t?0:t)&&void 0!==i?((e=0<i?this.series.points[i-1]:null)&&e.cumulativeSum&&(t=d(e.cumulativeSum+t)),(i=this.series.points[i])&&(i.cumulativeSum=t),t):0}},n=D,i.Additions=n,s}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,i){function e(){this.navigatorAxis||(this.navigatorAxis=new d(this))}function o(t){var i=(r=this.chart.options).navigator,e=this.navigatorAxis,o=r.chart.zooming.pinchType,s=r.rangeSelector,r=r.chart.zooming.type;this.isXAxis&&(i&&i.enabled||s&&s.enabled)&&("y"===r?t.zoomed=!1:(!n&&"xy"===r||n&&"xy"===o)&&this.options.range&&(i=e.previousZoom,h(t.newMin)?e.previousZoom=[this.min,this.max]:i&&(t.newMin=i[0],t.newMax=i[1],e.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()}var n=t.isTouchDevice,s=i.addEvent,a=i.correctFloat,h=i.defined,l=i.isNumber,p=i.pick,r=[],d=(c.compose=function(t){-1===r.indexOf(t)&&(r.push(t),t.keepProps.push("navigatorAxis"),s(t,"init",e),s(t,"zoom",o))},c.prototype.destroy=function(){this.axis=void 0},c.prototype.toFixedRange=function(t,i,e,o){var s=this.axis,r=s.chart,n=(t=p(e,s.translate(t,!0,!s.horiz)),i=p(o,s.translate(i,!0,!s.horiz)),r=r&&r.fixedRange,s=(s.pointRange||0)/2,r&&(i-t)/r);return h(e)||(t=a(t+s)),h(o)||(i=a(i-s)),.7<n&&n<1.3&&(o?t=i-r:i=t+r),{min:t=l(t)&&l(i)?t:i=void 0,max:i}},c);function c(t){this.axis=t}return d}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(t,i){return t=t.parse,i=i.seriesTypes,i={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:t("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:void 0===i.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),i(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(t,i,e,o,s){return t=(s=void 0===s?{}:s).width?s.width/2:e,i=Math.round(t/3)+.5,[["M",-t-1,.5],["L",t,.5],["L",t,(o=s.height||o)+.5],["L",-t-1,o+.5],["L",-t-1,.5],["M",-i,4],["L",-i,o-3],["M",i-1,4],["L",i-1,o-3]]}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(t,i,s,r,n,e,o){function a(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function h(){var t,i,e,o,s=this.legend,r=this.navigator;r&&(t=s&&s.options,i=r.xAxis,e=r.yAxis,o=r.scrollbarHeight,this.inverted?(r.left=r.opposite?this.chartWidth-o-r.height:this.spacing[3]+o,r.top=this.plotTop+o):(r.left=S(i.left,this.plotLeft+o),r.top=r.navigatorOptions.top||this.chartHeight-r.height-o-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?s.legendHeight+S(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&e&&(this.inverted?i.options.left=e.options.left=r.left:i.options.top=e.options.top=r.top,i.setAxisSize(),e.setAxisSize()))}function l(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new f(this),S(t.redraw,!0)&&this.redraw(t.animation))}function p(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new f(this))}function d(){var t=this.options,i=t.navigator,e=t.rangeSelector;if((i&&i.enabled||e&&e.enabled)&&(!v&&"x"===t.chart.zooming.type||v&&"x"===t.chart.zooming.pinchType))return!1}function c(t){var i=t.navigator;i&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),i.render(t.min,t.max))}function u(t){var i=t.options.navigator||{},e=t.options.scrollbar||{};this.navigator||this.scroller||!i.enabled&&!e.enabled||(A(!0,this.options.navigator,i),A(!0,this.options.scrollbar,e),delete t.options.navigator,delete t.options.scrollbar)}function g(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}var f,x=t.defaultOptions,m=t.setOptions,v=i.isTouchDevice,y=e.getRendererType,b=o.addEvent,M=o.extend,A=o.merge,S=o.pick,k=[];return{compose:function(t,i,e,o){s.compose(t),f=e,-1===k.indexOf(i)&&(k.push(i),i.prototype.callbacks.push(c),b(i,"afterAddSeries",a),b(i,"afterSetChartSize",h),b(i,"afterUpdate",l),b(i,"beforeRender",p),b(i,"beforeShowResetZoom",d),b(i,"update",u)),-1===k.indexOf(o)&&(k.push(o),b(o,"afterUpdate",g)),-1===k.indexOf(y)&&(k.push(y),M(y().prototype.symbols,n)),-1===k.indexOf(m)&&(k.push(m),M(x,{navigator:r}))}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(t){var e=t.addEvent,a=t.defined,o=t.pick;return s.compose=function(t,i){if(-1!==s.composed.indexOf(t))return t;s.composed.push(t);function n(t){var i=o(t.options&&t.options.min,t.min),e=o(t.options&&t.options.max,t.max);return{axisMin:i,axisMax:e,scrollMin:a(t.dataMin)?Math.min(i,t.min,t.dataMin,o(t.threshold,1/0)):i,scrollMax:a(t.dataMax)?Math.max(e,t.max,t.dataMax,o(t.threshold,-1/0)):e}}return e(t,"afterInit",function(){var r=this;r.options&&r.options.scrollbar&&r.options.scrollbar.enabled&&(r.options.scrollbar.vertical=!r.horiz,r.options.startOnTick=r.options.endOnTick=!1,r.scrollbar=new i(r.chart.renderer,r.options.scrollbar,r.chart),e(r.scrollbar,"changed",function(t){var i=n(r),e=i.axisMax,o=i.scrollMin,s=i.scrollMax-o;a(i.axisMin)&&a(e)&&(r.horiz&&!r.reversed||!r.horiz&&r.reversed?(i=o+s*this.to,o+=s*this.from):(i=o+s*(1-this.from),o+=s*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?r.setExtremes(o,i,!0,"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType,t):this.setRange(this.from,this.to))}))}),e(t,"afterRender",function(){var t=(e=n(this)).scrollMin,i=e.scrollMax,e=this.scrollbar,o=this.axisTitleMargin+(this.titleOffset||0),s=this.chart.scrollbarsOffsets,r=this.options.margin||0;e&&(o=this.horiz?(this.opposite||(s[1]+=o),e.position(this.left,this.top+this.height+2+s[1]-(this.opposite?r:0),this.width,this.height),this.opposite||(s[1]+=r),1):(this.opposite&&(s[0]+=o),e.position(e.options.opposite?this.left+this.width+2+s[0]-(this.opposite?0:r):this.opposite?0:r,this.top,this.width,this.height),this.opposite&&(s[0]+=r),0),s[o]+=e.size+e.options.margin,isNaN(t)||isNaN(i)||!a(this.min)||!a(this.max)||this.min===this.max?e.setRange(0,1):(s=(this.min-t)/(i-t),t=(this.max-t)/(i-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(s,t):e.setRange(1-t,1-s)))}),e(t,"afterGetOffset",function(){var t=this.scrollbar&&!this.scrollbar.options.opposite,t=this.horiz?2:t?3:1,i=this.scrollbar;i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=i.size+i.options.margin)}),t},s.composed=[],s;function s(){}}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(t){return{height:t.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(t,a,i,o,e){var s=t.defaultOptions,h=e.addEvent,l=e.correctFloat,p=e.defined,r=e.destroyObjectProperties,n=e.fireEvent,d=e.merge,c=e.pick,u=e.removeEvent;function g(t,i,e){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(t,i,e)}return g.compose=function(t){i.compose(t,g)},g.swapXY=function(t,i){return i&&t.forEach(function(t){for(var i,e=t.length,o=0;o<e;o+=2)"number"==typeof(i=t[o+1])&&(t[o+1]=t[o+2],t[o+2]=i)}),t},g.prototype.addEvents=function(){var t=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,e=this.scrollbarGroup.element,o=this.track.element,s=this.mouseDownHandler.bind(this),r=this.mouseMoveHandler.bind(this),n=this.mouseUpHandler.bind(this),t=[[i[t[0]].element,"click",this.buttonToMinClick.bind(this)],[i[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[e,"mousedown",s],[e.ownerDocument,"mousemove",r],[e.ownerDocument,"mouseup",n]];a.hasTouch&&t.push([e,"touchstart",s],[e.ownerDocument,"touchmove",r],[e.ownerDocument,"touchend",n]),t.forEach(function(t){h.apply(null,t)}),this._events=t},g.prototype.buttonToMaxClick=function(t){var i=(this.to-this.from)*c(this.options.step,.2);this.updatePosition(this.from+i,this.to+i),n(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.buttonToMinClick=function(t){var i=l(this.to-this.from)*c(this.options.step,.2);this.updatePosition(l(this.from-i),l(this.to-i)),n(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.cursorToScrollbarPosition=function(t){var i=(i=this.options).minWidth>this.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-i),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-i)}},g.prototype.destroy=function(){var i=this,t=i.chart.scroller;i.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){i[t]&&i[t].destroy&&(i[t]=i[t].destroy())}),t&&i===t.scrollbar&&(t.scrollbar=null,r(t.scrollbarButtons))},g.prototype.drawScrollbarButton=function(t){var i=this.renderer,e=this.scrollbarButtons,o=this.options,s=this.size,r=i.g().add(this.group);e.push(r),r=i.rect().addClass("highcharts-scrollbar-button").add(r),this.chart.styledMode||r.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),r.attr(r.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:o.buttonBorderRadius},r.strokeWidth())),r=i.path(g.swapXY([["M",s/2+(t?-1:1),s/2-3],["L",s/2+(t?-1:1),s/2+3],["L",s/2+(t?2:-2),s/2]],o.vertical)).addClass("highcharts-scrollbar-arrow").add(e[t]),this.chart.styledMode||r.attr({fill:o.buttonArrowColor})},g.prototype.init=function(t,i,e){this.scrollbarButtons=[],this.renderer=t,this.userOptions=i,this.options=d(o,s.scrollbar,i),this.chart=e,this.size=c(this.options.size,this.options.height),i.enabled&&(this.render(),this.addEvents())},g.prototype.mouseDownHandler=function(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t),this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},g.prototype.mouseMoveHandler=function(t){var i=this.chart.pointer.normalize(t),e=this.options.vertical?"chartY":"chartX",o=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][e]||(e=this.cursorToScrollbarPosition(i)[e]-(e=this[e]),this.hasDragged=!0,this.updatePosition(o[0]+e,o[1]+e),this.hasDragged&&n(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},g.prototype.mouseUpHandler=function(t){this.hasDragged&&n(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},g.prototype.position=function(t,i,e,o){var s=this.options.vertical,r=this.rendered?"animate":"attr",n=o,a=0;this.group.show(),this.x=t,this.y=i+this.trackBorderWidth,this.width=e,this.height=o,this.xOffset=n,this.yOffset=a,s?(this.width=this.yOffset=e=a=this.size,this.xOffset=n=0,this.barWidth=o-2*e,this.x=t+=this.options.margin):(this.height=this.xOffset=o=n=this.size,this.barWidth=e-2*o,this.y+=this.options.margin),this.group[r]({translateX:t,translateY:this.y}),this.track[r]({width:e,height:o}),this.scrollbarButtons[1][r]({translateX:s?0:e-n,translateY:s?o-a:0})},g.prototype.removeEvents=function(){this._events.forEach(function(t){u.apply(null,t)}),this._events.length=0},g.prototype.render=function(){var t=this.renderer,i=this.options,e=this.size,o=this.chart.styledMode,s=t.g("scrollbar").attr({zIndex:i.zIndex}).hide().add();this.group=s,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:i.trackBorderRadius||0,height:e,width:e}).add(s),o||this.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=t.g().add(s),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:e,width:e,r:i.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(g.swapXY([["M",-3,e/4],["L",-3,2*e/3],["M",0,e/4],["L",0,2*e/3],["M",3,e/4],["L",3,2*e/3]],i.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),o||(this.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),this.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},g.prototype.setRange=function(t,i){var e,o,s=this.options,r=s.vertical,n=s.minWidth,a=this.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";p(a)&&(e=a*Math.min(i,1),t=Math.max(t,0),o=Math.ceil(a*t),this.calculatedWidth=e=l(e-o),e<n&&(o=(a-n+e)*t,e=n),n=Math.floor(o+this.xOffset+this.yOffset),a=e/2-.5,this.from=t,this.to=i,r?(this.scrollbarGroup[h]({translateY:n}),this.scrollbar[h]({height:e}),this.scrollbarRifles[h]({translateY:a}),this.scrollbarTop=n,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:n}),this.scrollbar[h]({width:e}),this.scrollbarRifles[h]({translateX:a}),this.scrollbarLeft=n,this.scrollbarTop=0),e<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===s.showFull&&(t<=0&&1<=i?this.group.hide():this.group.show()),this.rendered=!0)},g.prototype.shouldUpdateExtremes=function(t){return c(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!p(t)},g.prototype.trackClick=function(t){var i=this.chart.pointer.normalize(t),e=this.to-this.from,o=this.y+this.scrollbarTop,s=this.x+this.scrollbarLeft;this.options.vertical&&i.chartY>o||!this.options.vertical&&i.chartX>s?this.updatePosition(this.from+e,this.to+e):this.updatePosition(this.from-e,this.to-e),n(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,d(!0,this.options,t),this.chart)},g.prototype.updatePosition=function(t,i){1<i&&(t=l(1-l(i-t)),i=1),t<0&&(i=l(i-t),t=0),this.from=t,this.to=i},g.defaultOptions=o,s.scrollbar=d(!0,(t=g).defaultOptions,s.scrollbar),t}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(l,t,h,p,o,d,i){function c(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if((i=[].filter.call(i,M)).length)return Math[t].apply(0,i)}var u=t.defaultOptions,n=h.hasTouch,g=h.isTouchDevice,f=i.addEvent,m=i.clamp,v=i.correctFloat,y=i.defined,e=i.destroyObjectProperties,s=i.erase,x=i.extend,r=i.find,b=i.isArray,M=i.isNumber,A=i.merge,S=i.pick,k=i.removeEvent,C=i.splat;return a.compose=function(t,i,e){o.compose(t,i,a,e)},a.prototype.drawHandle=function(t,i,e,o){var s=this.navigatorOptions.handles.height;this.handles[i][o](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-s)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-s/2-1)})},a.prototype.drawOutline=function(t,i,e,o){var s=this.navigatorOptions.maskInside,r=(a=this.outline.strokeWidth())/2,n=a%2/2,a=this.outlineHeight,h=this.scrollbarHeight||0,l=this.size,p=this.left-h,d=this.top;e?(n=[["M",(p-=r)+a,d-h-n],["L",p+a,e=d+i+n],["L",p,e],["L",p,i=d+t+n],["L",p+a,i],["L",p+a,d+l+h]],s&&n.push(["M",p+a,e-r],["L",p+a,i+r])):(n=[["M",p,d+=r],["L",t+=p+h-n,d],["L",t,d+a],["L",i+=p+h-n,d+a],["L",i,d],["L",p+l+2*h,d]],s&&n.push(["M",t-r,d],["L",i+r,d])),this.outline[o]({d:n})},a.prototype.drawMasks=function(t,i,e,o){var s,r,n,a=this.left,h=this.top,l=this.height,p=e?(s=[a,a,a],r=[h,h+t,h+i],n=[l,l,l],[t,i-t,this.size-i]):(s=[a,a+t,a+i],r=[h,h,h],n=[t,i-t,this.size-i],[l,l,l]);this.shades.forEach(function(t,i){t[o]({x:s[i],y:r[i],width:n[i],height:p[i]})})},a.prototype.renderElements=function(){var i,e,o,s=this,r=s.navigatorOptions,t=r.maskInside,n=s.chart,a=n.renderer,h={cursor:n.inverted?"ns-resize":"ew-resize"},l=s.navigatorGroup=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();[!t,t,!t].forEach(function(t,i){var e=a.rect().addClass("highcharts-navigator-mask"+(1===i?"-inside":"-outside")).add(l);n.styledMode||(e.attr({fill:t?r.maskFill:"rgba(0,0,0,0)"}),1===i&&e.css(h)),s.shades[i]=e}),s.outline=a.path().addClass("highcharts-navigator-outline").add(l),n.styledMode||s.outline.attr({"stroke-width":r.outlineWidth,stroke:r.outlineColor}),r.handles&&r.handles.enabled&&(i=r.handles,e=i.height,o=i.width,[0,1].forEach(function(t){s.handles[t]=a.symbol(i.symbols[t],-o/2-1,0,o,e,i),n.inverted&&s.handles[t].attr({rotation:90,rotationOriginX:Math.floor(-o/2),rotationOriginY:(e+o)/2}),s.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(l),n.styledMode||s.handles[t].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth}).css(h)}))},a.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),A(!0,this.chart.options.navigator,t),this.init(this.chart)},a.prototype.render=function(t,i,e,o){var s,r=this.chart,n=this.xAxis,a=n.pointRange||0,h=n.navigatorAxis.fake?r.xAxis[0]:n,l=this.navigatorEnabled,p=this.rendered,d=r.inverted,c=r.xAxis[0].minRange,u=r.xAxis[0].options.maxRange,g=this.scrollbarHeight;if(!this.hasDragged||y(e)){if(t=v(t-a/2),i=v(i+a/2),!M(t)||!M(i)){if(!p)return;e=0,o=S(n.width,h.width)}this.left=S(n.left,r.plotLeft+g+(d?r.plotWidth:0));var f=this.size=s=S(n.len,(d?r.plotHeight:r.plotWidth)-2*g),r=d?g:s+2*g,x=(e=S(e,n.toPixels(t,!0)),o=S(o,n.toPixels(i,!0)),M(e)&&1/0!==Math.abs(e)||(e=0,o=r),t=n.toValue(e,!0),i=n.toValue(o,!0),Math.abs(v(i-t)));x<c?this.grabbedLeft?e=n.toPixels(i-c-a,!0):this.grabbedRight&&(o=n.toPixels(t+c+a,!0)):y(u)&&v(x-a)>u&&(this.grabbedLeft?e=n.toPixels(i-u-a,!0):this.grabbedRight&&(o=n.toPixels(t+u+a,!0))),this.zoomedMax=m(Math.max(e,o),0,f),this.zoomedMin=m(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,o),0,f),this.range=this.zoomedMax-this.zoomedMin,f=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),l&&(this.navigatorGroup.attr({visibility:"inherit"}),p=p&&!this.hasDragged?"animate":"attr",this.drawMasks(e,f,d,p),this.drawOutline(e,f,d,p),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,d,p),this.drawHandle(f,1,d,p))),this.scrollbar&&(d?(d=this.top-g,h=this.left-g+(l||!h.opposite?0:(h.titleOffset||0)+h.axisTitleMargin),g=s+2*g):(d=this.top+(l?this.height:-g),h=this.left-g),this.scrollbar.position(h,d,r,g),this.scrollbar.setRange(this.zoomedMin/(s||1),this.zoomedMax/(s||1))),this.rendered=!0}},a.prototype.addMouseEvents=function(){var t,i,e=this,o=e.chart,s=o.container,r=[];e.mouseMoveHandler=t=function(t){e.onMouseMove(t)},e.mouseUpHandler=i=function(t){e.onMouseUp(t)},(r=e.getPartsEvents("mousedown")).push(f(o.renderTo,"mousemove",t),f(s.ownerDocument,"mouseup",i)),n&&(r.push(f(o.renderTo,"touchmove",t),f(s.ownerDocument,"touchend",i)),r.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=r,e.series&&e.series[0]&&r.push(f(e.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},a.prototype.getPartsEvents=function(o){var s=this,r=[];return["shades","handles"].forEach(function(e){s[e].forEach(function(t,i){r.push(f(t.element,o,function(t){s[e+"Mousedown"](t,i)}))})}),r},a.prototype.shadesMousedown=function(t,i){t=this.chart.pointer.normalize(t);var e,o,s=this.chart,r=this.xAxis,n=this.zoomedMin,a=this.size,h=this.range,l=this.left,p=t.chartX;s.inverted&&(p=t.chartY,l=this.top),1===i?(this.grabbedCenter=p,this.fixedWidth=h,this.dragOffset=p-n):(t=p-l-h/2,0===i?t=Math.max(0,t):2===i&&a<=t+h&&(t=a-h,this.reversedExtremes?(t-=h,e=this.getUnionExtremes().dataMin):o=this.getUnionExtremes().dataMax),t!==n&&(this.fixedWidth=h,i=r.navigatorAxis.toFixedRange(t,t+h,e,o),y(i.min)&&s.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,null,{trigger:"navigator"})))},a.prototype.handlesMousedown=function(t,i){this.chart.pointer.normalize(t);var e=(t=this.chart).xAxis[0],o=this.reversedExtremes;0===i?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?e.max:e.min),t.fixedRange=null},a.prototype.onMouseMove=function(t){var i=this,e=i.chart,o=i.navigatorSize,s=i.range,r=i.dragOffset,n=e.inverted,a=i.left;t.touches&&0===t.touches[0].pageX||(e=(t=e.pointer.normalize(t)).chartX,n&&(a=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-a,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-a)):i.grabbedCenter&&(i.hasDragged=!0,e<r?e=r:o+r-s<e&&(e=o+r-s),i.render(0,0,e-r,e-r+s)),i.hasDragged&&i.scrollbar&&S(i.scrollbar.options.liveRedraw,h.svg&&!g&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},a.prototype.onMouseUp=function(t){var i,e,o=this.chart,s=this.xAxis,r=this.scrollbar,n=t.DOMEvent||t,a=o.inverted,h=this.rendered&&!this.hasDragged?"animate":"attr";(!this.hasDragged||r&&r.hasDragged)&&"scrollbar"!==t.trigger||(r=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?i=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(e=this.fixedExtreme),this.zoomedMax===this.size&&(e=this.reversedExtremes?r.dataMin:r.dataMax),0===this.zoomedMin&&(i=this.reversedExtremes?r.dataMax:r.dataMin),s=s.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,i,e),y(s.min)&&o.xAxis[0].setExtremes(Math.min(s.min,s.max),Math.max(s.min,s.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:n})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&M(this.zoomedMin)&&M(this.zoomedMax)&&(o=Math.round(this.zoomedMin),t=Math.round(this.zoomedMax),this.shades&&this.drawMasks(o,t,a,h),this.outline&&this.drawOutline(o,t,a,h),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(o,0,a,h),this.drawHandle(t,1,a,h)))},a.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},a.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){k(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&k(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},a.prototype.init=function(n){var t=(o=n.options).navigator||{},i=t.enabled,e=(r=o.scrollbar||{}).enabled,o=i&&t.height||0,a=e&&r.height||0,s=(this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=o,this.scrollbarHeight=a,this.scrollbarEnabled=e,this.navigatorEnabled=i,this.navigatorOptions=t,this.scrollbarOptions=r,this.outlineHeight=o+a,this.opposite=S(t.opposite,!(i||!n.inverted)),this),i=s.baseSeries,r=n.xAxis.length,e=n.yAxis.length,h=i&&i[0]&&i[0].xAxis||n.xAxis[0]||{options:{}};n.isDirtyBox=!0,s.navigatorEnabled?(s.xAxis=new l(n,A({breaks:h.options.breaks,ordinal:h.options.ordinal},t.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:r,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},n.inverted?{offsets:[a,0,-a,0],width:o}:{offsets:[0,-a,0,a],height:o})),s.yAxis=new l(n,A(t.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:e,isInternal:!0,reversed:S(t.yAxis&&t.yAxis.reversed,n.yAxis[0]&&n.yAxis[0].reversed,!1),zoomEnabled:!1},n.inverted?{width:o}:{height:o})),i||t.series.data?s.updateNavigatorSeries(!1):0===n.series.length&&(s.unbindRedraw=f(n,"beforeRedraw",function(){0<n.series.length&&!s.series&&(s.setBaseSeries(),s.unbindRedraw())})),s.reversedExtremes=n.inverted&&!s.xAxis.reversed||!n.inverted&&s.xAxis.reversed,s.renderElements(),s.addMouseEvents()):(s.xAxis={chart:n,navigatorAxis:{fake:!0},translate:function(t,i){var e=(r=n.xAxis[0]).getExtremes(),o=r.len-2*a,s=c("min",r.options.min,e.dataMin),r=c("max",r.options.max,e.dataMax)-s;return i?t*r/o+s:o*(t-s)/r},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},s.xAxis.navigatorAxis.axis=s.xAxis,s.xAxis.navigatorAxis.toFixedRange=p.prototype.toFixedRange.bind(s.xAxis.navigatorAxis)),n.options.scrollbar.enabled&&(n.scrollbar=s.scrollbar=new d(n.renderer,A(n.options.scrollbar,{margin:s.navigatorEnabled?0:10,vertical:n.inverted}),n),f(s.scrollbar,"changed",function(t){var i=s.size,e=i*this.to;i*=this.from,s.hasDragged=s.scrollbar.hasDragged,s.render(0,0,i,e),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){s.onMouseUp(t)})})),s.addBaseSeriesEvents(),s.addChartEvents()},a.prototype.getUnionExtremes=function(t){var i,e=this.chart.xAxis[0],o=this.xAxis,s=o.options,r=e.options;return i=t&&null===e.dataMin?i:{dataMin:S(s&&s.min,c("min",r.min,e.dataMin,o.dataMin,o.min)),dataMax:S(s&&s.max,c("max",r.max,e.dataMax,o.dataMax,o.max))}},a.prototype.setBaseSeries=function(e,t){var i=this.chart,o=this.baseSeries=[];e=e||i.options&&i.options.navigator.baseSeries||(i.series.length?r(i.series,function(t){return!t.options.isInternal}).index:0),(i.series||[]).forEach(function(t,i){t.options.isInternal||!t.options.showInNavigator&&(i!==e&&t.options.id!==e||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)},a.prototype.updateNavigatorSeries=function(t,o){var s,r,n,a=this,h=a.chart,l=a.baseSeries,p={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},d=a.series=(a.series||[]).filter(function(t){var i=t.baseSeries;return!(l.indexOf(i)<0)||(i&&(k(i,"updatedData",a.updatedDataHandler),delete i.navigatorSeries),t.chart&&t.destroy(),!1)}),c=a.navigatorOptions.series;l&&l.length&&l.forEach(function(t){var i=t.navigatorSeries,e=x({color:t.color,visible:t.visible},b(c)?u.navigator.series:c);i&&!1===a.navigatorOptions.adaptToUpdatedData||(p.name="Navigator "+l.length,s=t.options||{},n=s.navigatorOptions||{},e.dataLabels=C(e.dataLabels),(r=A(s,p,e,n)).pointRange=S(e.pointRange,n.pointRange,u.plotOptions[r.type||"line"].pointRange),e=n.data||e.data,a.hasNavigatorData=a.hasNavigatorData||!!e,r.data=e||s.data&&s.data.slice(0),i&&i.options?i.update(r,o):(t.navigatorSeries=h.initSeries(r),t.navigatorSeries.baseSeries=t,d.push(t.navigatorSeries)))}),(!c.data||l&&l.length)&&!b(c)||(a.hasNavigatorData=!1,(c=C(c)).forEach(function(t,i){p.name="Navigator "+(d.length+1),(r=A(u.navigator.series,{color:h.series[i]&&!h.series[i].options.isInternal&&h.series[i].color||h.options.colors[i]||h.options.colors[0]},p,t)).data=t.data,r.data&&(a.hasNavigatorData=!0,d.push(h.initSeries(r)))})),t&&this.addBaseSeriesEvents()},a.prototype.addBaseSeriesEvents=function(){var i=this,e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(f(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(function(t){t.eventsToUnbind.push(f(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(f(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==i.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(f(t,"updatedData",i.updatedDataHandler)),t.eventsToUnbind.push(f(t,"remove",function(){this.navigatorSeries&&(s(e.series,this.navigatorSeries),y(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})},a.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,i){return Math.min(t,i.xData&&i.xData.length?i.xData[0]:t)},t)},a.prototype.modifyNavigatorAxisExtremes=function(){var t,i=this.xAxis;void 0===i.getExtremes||!(t=this.getUnionExtremes(!0))||t.dataMin===i.min&&t.dataMax===i.max||(i.min=t.dataMin,i.max=t.dataMax)},a.prototype.modifyBaseAxisExtremes=function(){var t,i,e=this.chart.navigator,o=(r=this.getExtremes()).dataMin,s=r.dataMax,r=r.max-r.min,n=e.stickToMin,a=e.stickToMax,h=S(this.options.overscroll,0),l=e.series&&e.series[0],p=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(n&&(i=(t=o)+r),a&&(i=s+h,n||(t=Math.max(o,i-r,e.getBaseSeriesMin(l&&l.xData?l.xData[0]:-Number.MAX_VALUE)))),p&&(n||a)&&M(t)&&(this.min=this.userMin=t,this.max=this.userMax=i)),e.stickToMin=e.stickToMax=null},a.prototype.updatedDataHandler=function(){var t=this.chart.navigator,i=this.navigatorSeries;t.stickToMax=S(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size)),t.stickToMin=t.shouldStickToMin(this,t),i&&!t.hasNavigatorData&&(i.options.pointStart=this.xData[0],i.setData(this.options.data,!1,null,!1))},a.prototype.shouldStickToMin=function(t,i){i=i.getBaseSeriesMin(t.xData[0]);t=(o=t.xAxis).max;var e=o.min,o=o.options.range;return!(!M(t)||!M(e))&&(o&&0<t-i?t-i<o:e<=i)},a.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(f(this.chart,"redraw",function(){var t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);i&&t.render(i.min,i.max)}),f(this.chart,"getMargins",function(){var t=this.navigator,i=t.opposite?"plotTop":"marginBottom";this[i=this.inverted?t.opposite?"marginRight":"plotLeft":i]=(this[i]||0)+(t.navigatorEnabled||!this.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},a.prototype.destroy=function(){var i=this;this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(t){i[t]&&i[t].destroy&&i[t].destroy(),i[t]=null}),[this.handles].forEach(function(t){e(t)})},a;function a(t){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(t)}}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:""},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(t,o,i){function s(){function t(t,i){var e="year"===r?"FullYear":"Month",o=new n.Date(t),s=n.get(e,o);return n.set(e,o,s+i),s===n.get(e,o)&&n.set("Date",o,0),o.getTime()-t}var i,e,o=this.range,r=o.type,s=this.max,n=this.chart.time,a=(y(o)?(i=s-o,e=o):o&&(i=s+t(s,-(o.count||1)),this.chart&&(this.chart.fixedRange=s-i)),M(this.dataMin,Number.MIN_VALUE));return(i=y(i)?i:a)<=a&&(i=a,void 0===e&&(e=t(i,o.count)),this.newMax=Math.min(i+e,M(this.dataMax,Number.MAX_VALUE))),y(s)?!y(o)&&o&&o._offsetMin&&(i+=o._offsetMin):i=void 0,i}function r(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new c(this))}function n(){var t=this.axes,i=this.rangeSelector;i&&(y(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}function a(i){function t(){r&&(o=i.xAxis[0].getExtremes(),e=i.legend,s=r&&r.options.verticalAlign,y(o.min)&&r.render(o.min,o.max),e.display&&"top"===s&&s===e.options.verticalAlign&&((o=b(i.spacingBox)).y="vertical"===e.options.layout?i.plotTop:o.y+r.getHeight(),e.group.placed=!1,e.align(o)))}var e,o,s,r=i.rangeSelector;r&&(v(A,function(t){return t[0]===i})||A.push([i,[f(i.xAxis[0],"afterSetExtremes",function(t){r&&r.render(t.min,t.max)}),f(i,"redraw",t)]]),t())}function h(){for(var t=0,i=A.length;t<i;++t){var e=A[t];if(e[0]===this){e[1].forEach(function(t){return t()}),A.splice(t,1);break}}}function l(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}function p(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}function d(t){var i=t.options.rangeSelector,e=(t=this.extraBottomMargin,this.extraTopMargin),o=this.rangeSelector;i&&i.enabled&&!x(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new c(this)),this.extraTopMargin=this.extraBottomMargin=!1,o&&(a(this),i=i&&i.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===i?this.extraBottomMargin=!0:"middle"!==i&&(this.extraTopMargin=!0)),this.extraBottomMargin!==t||this.extraTopMargin!==e)&&(this.isDirtyBox=!0)}var c,u=t.defaultOptions,g=t.setOptions,f=i.addEvent,x=i.defined,m=i.extend,v=i.find,y=i.isNumber,b=i.merge,M=i.pick,A=[],S=[];return{compose:function(t,i,e){c=e,-1===S.indexOf(t)&&(S.push(t),t.prototype.minFromRange=s),-1===S.indexOf(i)&&(S.push(i),f(i,"afterGetContainer",r),f(i,"beforeRender",n),f(i,"destroy",h),f(i,"getMargins",l),f(i,"render",p),f(i,"update",d),i.prototype.callbacks.push(a)),-1===S.indexOf(g)&&(m(u,{rangeSelector:o.rangeSelector}),m(u.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(m,t,u,e,o,i){var g=t.defaultOptions,v=i.addEvent,f=i.createElement,x=i.css,y=i.defined,s=i.destroyObjectProperties,r=i.discardElement,b=i.extend,M=i.fireEvent,C=i.isNumber,A=i.merge,n=i.objectEach,a=i.pad,S=i.pick,h=i.pInt,k=i.splat;function l(t){this.buttons=void 0,this.buttonOptions=l.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}return l.compose=function(t,i){e.compose(t,i,l)},l.prototype.clickButton=function(t,i){var e,o,s,r,n,a=this.chart,h=this.buttonOptions[t],l=a.xAxis[0],p=a.scroller&&a.scroller.getUnionExtremes()||l||{},d=h.type,c=h.dataGrouping,u=p.dataMin,g=p.dataMax,f=l&&Math.round(Math.min(l.max,S(g,l.max))),p=h._range,x=!0;if(null!==u&&null!==g){if(a.fixedRange=p,this.setSelected(t),c&&(this.forcedDataGrouping=!0,m.prototype.setDataGrouping.call(l||{chart:this.chart},c,!1),this.frozenStates=h.preserveDataGrouping),"month"===d||"year"===d)l?(d={range:h,max:f,chart:a,dataMin:u,dataMax:g},o=l.minFromRange.call(d),C(d.newMax)&&(f=d.newMax),x=!1):p=h;else if(p)o=Math.max(f-p,u),f=Math.min(o+p,g),x=!1;else if("ytd"===d){if(!l)return void(this.deferredYTDClick=t);void 0!==g&&void 0!==u||(u=Number.MAX_VALUE,g=Number.MIN_VALUE,a.series.forEach(function(t){(t=t.xData)&&(u=Math.min(t[0],u),g=Math.max(t[t.length-1],g))}),i=!1),o=e=(d=this.getYTDExtremes(g,u,a.time.useUTC)).min,f=d.max}else"all"===d&&l&&(a.navigator&&a.navigator.baseSeries[0]&&(a.navigator.baseSeries[0].xAxis.options.range=void 0),o=u,f=g);x&&h._offsetMin&&y(o)&&(o+=h._offsetMin),h._offsetMax&&y(f)&&(f+=h._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),l?l.setExtremes(o,f,S(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}):(s=k(a.options.xAxis)[0],r=s.range,s.range=p,n=s.min,s.min=e,v(a,"load",function(){s.range=r,s.min=n})),M(this,"afterBtnClick")}},l.prototype.setSelected=function(t){this.selected=this.options.selected=t},l.prototype.init=function(i){function t(){var t=e.minInput,i=e.maxInput;t&&t.blur&&M(t,"blur"),i&&i.blur&&M(i,"blur")}var e=this,o=i.options.rangeSelector,s=o.buttons||e.defaultButtons.slice(),r=o.selected;e.chart=i,e.options=o,e.buttons=[],e.buttonOptions=s,this.eventsToUnbind=[],this.eventsToUnbind.push(v(i.container,"mousedown",t)),this.eventsToUnbind.push(v(i,"resize",t)),s.forEach(e.computeButtonRange),void 0!==r&&s[r]&&this.clickButton(r,!1),this.eventsToUnbind.push(v(i,"load",function(){i.xAxis&&i.xAxis[0]&&v(i.xAxis[0],"setExtremes",function(t){this.max-this.min!==i.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)})}))},l.prototype.updateButtonStates=function(){var c=this,t=this.chart,u=this.dropdown,g=t.xAxis[0],f=Math.round(g.max-g.min),x=!g.hasVisibleSeries,i=t.scroller&&t.scroller.getUnionExtremes()||g,m=i.dataMin,v=i.dataMax,y=(t=c.getYTDExtremes(v,m,t.time.useUTC)).min,b=t.max,M=c.selected,A=c.options.allButtonsEnabled,S=c.buttons,k=C(M);c.buttonOptions.forEach(function(t,i){var e=t._range,o=t.type,s=t.count||1,r=S[i],n=t._offsetMax-t._offsetMin,a=i===M,h=v-m<e,l=e<g.minRange,p=(t=0,!1),d=!1,e=e===f;("month"===o||"year"===o)&&864e5*{month:28,year:365}[o]*s-n<=f+36e5&&f-36e5<=864e5*{month:31,year:366}[o]*s+n?e=!0:"ytd"===o?(e=b-y+n===f,p=!a):"all"===o&&(e=g.max-g.min>=v-m,d=!a&&k&&e),s=a&&e||e&&!k&&!p||a&&c.frozenStates,(o=!A&&(h||l||d||x))?t=3:s&&(k=!0,t=2),r.state!==t&&(r.setState(t),u&&(u.options[i+1].disabled=o,2===t&&(u.selectedIndex=i+1)),0===t&&M===i&&c.setSelected())})},l.prototype.computeButtonRange=function(t){var i=t.type,e=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[i]?t._range=o[i]*e:"month"!==i&&"year"!==i||(t._range=864e5*{month:30,year:365}[i]*e),t._offsetMin=S(t.offsetMin,0),t._offsetMax=S(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},l.prototype.getInputValue=function(t){t="min"===t?this.minInput:this.maxInput;var i=this.chart.options.rangeSelector,e=this.chart.time;return t?("text"===t.type&&i.inputDateParser||this.defaultInputDateParser)(t.value,e.useUTC,e):0},l.prototype.setInputValue=function(t,i){var e,o=this.options,s=this.chart.time,r="min"===t?this.minInput:this.maxInput;t="min"===t?this.minDateBox:this.maxDateBox,r&&(e=r.getAttribute("data-hc-time"),e=y(e)?Number(e):void 0,y(i)&&(y(e)&&r.setAttribute("data-hc-time-previous",e),r.setAttribute("data-hc-time",i),e=i),r.value=s.dateFormat(this.inputTypeFormats[r.type]||o.inputEditDateFormat,e),t&&t.attr({text:s.dateFormat(o.inputDateFormat,e)}))},l.prototype.setInputExtremes=function(t,i,e){var o,s;(t="min"===t?this.minInput:this.maxInput)&&(o=this.inputTypeFormats[t.type],s=this.chart.time,o&&(i=s.dateFormat(o,i),t.min!==i&&(t.min=i),e=s.dateFormat(o,e),t.max!==e&&(t.max=e)))},l.prototype.showInput=function(t){var i,e,o,s,r="min"===t?this.minDateBox:this.maxDateBox;(t="min"===t?this.minInput:this.maxInput)&&r&&this.inputGroup&&(i="text"===t.type,e=(o=this.inputGroup).translateX,o=o.translateY,s=this.options.inputBoxWidth,x(t,{width:i?r.width+(s?-2:20)+"px":"auto",height:i?r.height-2+"px":"auto",border:"2px solid silver"}),x(t,i&&s?{left:e+r.x+"px",top:o+"px"}:{left:Math.min(Math.round(r.x+e-(t.offsetWidth-r.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:o-(t.offsetHeight-r.height)/2+"px"}))},l.prototype.hideInput=function(t){(t="min"===t?this.minInput:this.maxInput)&&x(t,{top:"-9999em",border:0,width:"1px",height:"1px"})},l.prototype.defaultInputDateParser=function(t,i,e){var o,s=t.split("/").join("-").split(" ").join("T");return-1===s.indexOf("T")&&(s+="T00:00"),i?s+="Z":(o=(o=u.isSafari)?!(6<(o=s).length&&(o.lastIndexOf("-")===o.length-6||o.lastIndexOf("+")===o.length-6)):o)&&(s+=(o=new Date(s).getTimezoneOffset()/60)<=0?"+".concat(a(-o),":00"):"-".concat(a(o),":00")),s=Date.parse(s),C(s)||(t=t.split("-"),s=Date.UTC(h(t[0]),h(t[1])-1,h(t[2]))),e&&i&&C(s)&&(s+=e.getTimezoneOffset(s)),s},l.prototype.drawInput=function(n){function i(){var t=h.maxInput,i=h.minInput,e=a.xAxis[0],o=(s=a.scroller&&a.scroller.xAxis?a.scroller.xAxis:e).dataMin,s=s.dataMax,r=h.getInputValue(n);r!==Number(d.getAttribute("data-hc-time-previous"))&&C(r)&&(d.setAttribute("data-hc-time-previous",r),l&&t&&C(o)?r>Number(t.getAttribute("data-hc-time"))?r=void 0:r<o&&(r=o):i&&C(s)&&(r<Number(i.getAttribute("data-hc-time"))?r=void 0:s<r&&(r=s)),void 0!==r&&e.setExtremes(l?r:e.min,l?e.max:r,void 0,void 0,{trigger:"rangeSelectorInput"}))}var a=this.chart,t=this.div,e=this.inputGroup,h=this,o=a.renderer.style||{},s=a.renderer,r=a.options.rangeSelector,l="min"===n,p=g.lang[l?"rangeSelectorFrom":"rangeSelectorTo"]||"",p=s.label(p,0).addClass("highcharts-range-label").attr({padding:p?2:0,height:p?r.inputBoxHeight:0}).add(e),s=s.label("",0).addClass("highcharts-range-input").attr({padding:2,width:r.inputBoxWidth,height:r.inputBoxHeight,"text-align":"center"}).on("click",function(){h.showInput(n),h[n+"Input"].focus()}),d=(a.styledMode||s.attr({stroke:r.inputBoxBorderColor,"stroke-width":1}),s.add(e),f("input",{name:n,className:"highcharts-range-selector"},void 0,t)),c=(d.setAttribute("type",function(i){if(-1!==i.indexOf("%L"))return"text";var t="aAdewbBmoyY".split("").some(function(t){return-1!==i.indexOf("%"+t)}),e="HkIlMS".split("").some(function(t){return-1!==i.indexOf("%"+t)});return t&&e?"datetime-local":t?"date":e?"time":"text"}(r.inputDateFormat||"%b %e, %Y")),a.styledMode||(p.css(A(o,r.labelStyle)),s.css(A({color:"#333333"},o,r.inputStyle)),x(d,b({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:o.fontSize,fontFamily:o.fontFamily,top:"-9999em"},r.inputStyle))),d.onfocus=function(){h.showInput(n)},!(d.onblur=function(){d===u.doc.activeElement&&i(),h.hideInput(n),h.setInputValue(n),d.blur()}));return d.onchange=function(){c||(i(),h.hideInput(n),d.blur())},d.onkeypress=function(t){13===t.keyCode&&i()},d.onkeydown=function(t){c=!0,38!==t.keyCode&&40!==t.keyCode||i()},d.onkeyup=function(){c=!1},{dateBox:s,input:d,label:p}},l.prototype.getPosition=function(){var t=this.chart,i=t.options.rangeSelector;return{buttonTop:(t="top"===i.verticalAlign?t.plotTop-t.axisOffset[0]:0)+i.buttonPosition.y,inputTop:t+i.inputPosition.y-10}},l.prototype.getYTDExtremes=function(t,i,e){var o=this.chart.time,s=new o.Date(t),r=o.get("FullYear",s);return e=e?o.Date.UTC(r,0,1):+new o.Date(r,0,1),i=Math.max(i,e),s=s.getTime(),{max:Math.min(t||s,s),min:i}},l.prototype.render=function(t,i){var e,o=this.chart,s=o.renderer,r=o.container,n=(h=o.options).rangeSelector,a=S(h.chart.style&&h.chart.style.zIndex,0)+1,h=n.inputEnabled;!1!==n.enabled&&(this.rendered||(this.group=s.g("range-selector-group").attr({zIndex:7}).add(),this.div=f("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),r.parentNode&&r.parentNode.insertBefore(this.div,r),h&&(this.inputGroup=s.g("input-group").add(this.group),s=this.drawInput("min"),this.minDateBox=s.dateBox,this.minLabel=s.label,this.minInput=s.input,s=this.drawInput("max"),this.maxDateBox=s.dateBox,this.maxLabel=s.label,this.maxInput=s.input)),h&&(this.setInputValue("min",t),this.setInputValue("max",i),t=o.scroller&&o.scroller.getUnionExtremes()||o.xAxis[0]||{},y(t.dataMin)&&y(t.dataMax)&&(o=o.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-o),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+o,t.dataMax)),this.inputGroup)&&(e=0,[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(t){var i;t&&(i=t.getBBox().width)&&(t.attr({x:e}),e+=i+n.inputSpacing)})),this.alignElements(),this.rendered=!0)},l.prototype.renderButtons=function(){var r=this,n=this.buttons,t=this.options,i=g.lang,e=this.chart.renderer,a=A(t.buttonTheme),h=a&&a.states,l=a.width||28,p=(delete a.width,delete a.states,this.buttonGroup=e.g("range-selector-buttons").add(this.group),this.dropdown=f("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div));v(p,"touchstart",function(){p.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(t){var i=t[0],e=t[1];v(p,i,function(){var t=n[r.currentButtonIndex()];t&&M(t.element,e||i)})}),this.zoomText=e.label(i&&i.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),a["stroke-width"]=S(a["stroke-width"],0)),f("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,p),this.buttonOptions.forEach(function(o,s){f("option",{textContent:o.title||o.text},void 0,p),n[s]=e.button(o.text,0,0,function(t){var i,e=o.events&&o.events.click;!1!==(i=e?e.call(o,t):i)&&r.clickButton(s),r.isActive=!0},a,h&&h.hover,h&&h.select,h&&h.disabled).attr({"text-align":"center",width:l}).add(r.buttonGroup),o.title&&n[s].attr("title",o.title)})},l.prototype.alignElements=function(){var t,e,o=this,i=this.buttonGroup,s=this.buttons,r=this.chart,n=this.group,a=this.inputGroup,h=this.options,l=this.zoomText,p=(d=r.options).exporting&&!1!==d.exporting.enabled&&d.navigation&&d.navigation.buttonOptions,d=h.buttonPosition,c=h.inputPosition,u=h.verticalAlign,g=function(t,i){return p&&o.titleCollision(r)&&"top"===u&&"right"===i.align&&i.y-t.getBBox().height-12<(p.y||0)+(p.height||0)+r.spacing[0]?-40:0},f=r.plotLeft;n&&d&&c&&(t=d.x-r.spacing[3],i&&(this.positionButtons(),this.initialButtonGroupWidth||(e=0,l&&(e+=l.getBBox().width+5),s.forEach(function(t,i){e+=t.width,i!==s.length-1&&(e+=h.buttonSpacing)}),this.initialButtonGroupWidth=e),f-=r.spacing[3],this.updateButtonStates(),l=g(i,d),this.alignButtonGroup(l),n.placed=i.placed=r.hasLoaded),i=0,a&&(i=g(a,c),"left"===c.align?t=f:"right"===c.align&&(t=-Math.max(r.axisOffset[1],-i)),a.align({y:c.y,width:a.getBBox().width,align:c.align,x:c.x+t-2},!0,r.spacingBox),a.placed=r.hasLoaded),this.handleCollision(i),n.align({verticalAlign:u},!0,r.spacingBox),a=n.alignAttr.translateY,i=n.getBBox().height+20,g=0,"bottom"===u&&(g=a-(i=i+(g=(g=r.legend&&r.legend.options)&&"bottom"===g.verticalAlign&&g.enabled&&!g.floating?r.legend.legendHeight+S(g.margin,10):0)-20)-(h.floating?0:h.y)-(r.titleOffset?r.titleOffset[2]:0)-10),"top"===u?(h.floating&&(g=0),r.titleOffset&&r.titleOffset[0]&&(g=r.titleOffset[0]),g+=r.margin[0]-r.spacing[0]||0):"middle"===u&&(c.y===d.y?g=a:(c.y||d.y)&&(g=c.y<0||d.y<0?g-Math.min(c.y,d.y):a-i)),n.translate(h.x,h.y+Math.floor(g)),d=this.minInput,c=this.maxInput,a=this.dropdown,h.inputEnabled&&d&&c&&(d.style.marginTop=n.translateY+"px",c.style.marginTop=n.translateY+"px"),a&&(a.style.marginTop=n.translateY+"px"))},l.prototype.alignButtonGroup=function(t,i){var e=this.chart,o=this.buttonGroup,s=this.options.buttonPosition,r=e.plotLeft-e.spacing[3],n=s.x-e.spacing[3];"right"===s.align?n+=t-r:"center"===s.align&&(n-=r/2),o&&o.align({y:s.y,width:S(i,this.initialButtonGroupWidth),align:s.align,x:n},!0,e.spacingBox)},l.prototype.positionButtons=function(){var t=this.buttons,i=this.chart,e=this.options,o=this.zoomText,s=i.hasLoaded?"animate":"attr",r=e.buttonPosition,n=i=i.plotLeft;for(o&&"hidden"!==o.visibility&&(o[s]({x:S(i+r.x,i)}),n+=r.x+o.getBBox().width+5),o=0,r=this.buttonOptions.length;o<r;++o)"hidden"!==t[o].visibility?(t[o][s]({x:n}),n+=t[o].width+e.buttonSpacing):t[o][s]({x:i})},l.prototype.handleCollision=function(s){function t(t){var i,e,o;return!(!n||!r)&&(i=n.alignAttr.translateX+n.alignOptions.x-s+n.getBBox().x+2,e=n.alignOptions.width,i<(o=r.alignAttr.translateX+r.getBBox().x)+t&&o<i+e&&a.y<l.y+n.getBBox().height)}function i(){n&&r&&n.attr({translateX:n.alignAttr.translateX+(o.axisOffset[1]>=-s?0:-s),translateY:n.alignAttr.translateY+r.getBBox().height+10})}var e=this,o=this.chart,r=this.buttonGroup,n=this.inputGroup,a=(p=this.options).buttonPosition,h=p.dropdown,l=p.inputPosition,p=function(){var i=0;return e.buttons.forEach(function(t){(t=t.getBBox()).width>i&&(i=t.width)}),i};if(r){if("always"===h)return this.collapseButtons(s),void(t(p())&&i());"never"===h&&this.expandButtons()}n&&r?l.align===a.align||t(this.initialButtonGroupWidth+20)?"responsive"===h?(this.collapseButtons(s),t(p())&&i()):i():"responsive"===h&&this.expandButtons():r&&"responsive"===h&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(s):this.expandButtons())},l.prototype.collapseButtons=function(t){function e(t){return{text:t?t+" ":"",width:"auto",paddingLeft:S(n.buttonTheme.paddingLeft,h.padding,8),paddingRight:S(n.buttonTheme.paddingRight,h.padding,8)}}var o=this.buttons,i=this.buttonOptions,s=this.chart,r=this.dropdown,n=this.options,a=this.zoomText,h=s.userOptions.rangeSelector&&s.userOptions.rangeSelector.buttonTheme||{},l=(a&&a.hide(),!1);i.forEach(function(t,i){2!==(i=o[i]).state?i.hide():(i.show(),i.attr(e(t.text)),l=!0)}),l||(r&&(r.selectedIndex=0),o[0].show(),o[0].attr(e(this.zoomText&&this.zoomText.textStr))),i=n.buttonPosition.align,this.positionButtons(),"right"!==i&&"center"!==i||this.alignButtonGroup(t,o[this.currentButtonIndex()].getBBox().width),this.showDropdown()},l.prototype.expandButtons=function(){var e=this.buttons,t=this.buttonOptions,o=this.options,i=this.zoomText;this.hideDropdown(),i&&i.show(),t.forEach(function(t,i){(i=e[i]).show(),i.attr({text:t.text,width:o.buttonTheme.width||28,paddingLeft:S(o.buttonTheme.paddingLeft,"unset"),paddingRight:S(o.buttonTheme.paddingRight,"unset")}),i.state<2&&i.setState(0)}),this.positionButtons()},l.prototype.currentButtonIndex=function(){var t=this.dropdown;return t&&0<t.selectedIndex?t.selectedIndex-1:0},l.prototype.showDropdown=function(){var t,i=this.buttonGroup,e=this.buttons,o=this.chart,s=this.dropdown;i&&s&&(t=i.translateX,i=i.translateY,e=e[this.currentButtonIndex()].getBBox(),x(s,{left:o.plotLeft+t+"px",top:i+.5+"px",width:e.width+"px",height:e.height+"px"}),this.hasVisibleDropdown=!0)},l.prototype.hideDropdown=function(){var t=this.dropdown;t&&(x(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},l.prototype.getHeight=function(){var t=this.options,i=this.group,e=t.y,o=t.buttonPosition.y,s=t.inputPosition.y;return t.height||(this.alignElements(),t=i?i.getBBox(!0).height+13+e:0,i=Math.min(s,o),(s<0&&o<0||0<s&&0<o)&&(t+=Math.abs(i)),t)},l.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},l.prototype.update=function(t){var i=this.chart;A(!0,i.options.rangeSelector,t),this.destroy(),this.init(i),this.render()},l.prototype.destroy=function(){var e=this,t=e.minInput,i=e.maxInput;e.eventsToUnbind&&(e.eventsToUnbind.forEach(function(t){return t()}),e.eventsToUnbind=void 0),s(e.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),n(e,function(t,i){t&&"chart"!==i&&(t instanceof o?t.destroy():t instanceof window.HTMLElement&&r(t)),t!==l.prototype[i]&&(e[i]=null)},this)},b((t=l).prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),t}),i(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,x,m,i){var e,v=i.addEvent,y=i.correctFloat,b=i.css,M=i.defined,A=i.error,S=i.pick,k=i.timeUnits,C=[];return function(o){function s(t,i,e,o,s,r,n){void 0===s&&(s=[]),void 0===r&&(r=0);var a,h={},l=this.options.tickPixelInterval,p=this.chart.time,d=[],c=0,u=[],g=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||void 0===i)return p.getTimeTicks.apply(p,arguments);for(var f,x=s.length,m=0;m<x;m++){var v=m&&s[m-1]>e;if(s[m]<i&&(c=m),m===x-1||s[m+1]-s[m]>5*r||v){if(s[m]>g){for(a=p.getTimeTicks(t,s[c],s[m],o);a.length&&a[0]<=g;)a.shift();a.length&&(g=a[a.length-1]),d.push(u.length),u=u.concat(a)}c=m+1}if(v)break}if(a){if(a=a.info,n&&a.unitRange<=k.hour){for(m=u.length-1,c=1;c<m;c++)p.dateFormat("%d",u[c])!==p.dateFormat("%d",u[c-1])&&(h[u[c]]="day",f=!0);f&&(h[u[0]]="day"),a.higherRanks=h}a.segmentStarts=d,u.info=a}else A(12,!1,this.chart);if(n&&M(l)){for(p=[],c=[],m=void 0,f=a=u.length;f--;)d=this.translate(u[f]),m&&(c[f]=m-d),p[f]=m=d;for(c.sort(),(c=c[Math.floor(c.length/2)])<.6*l&&(c=null),f=u[a-1]>e?a-1:a,m=void 0;f--;)d=p[f],a=Math.abs(m-d),m&&a<.8*l&&(null===c||a<.8*c)?(h[u[f]]&&!h[u[f+1]]?(a=f+1,m=d):a=f,u.splice(a,1)):m=d}return u}function r(t){var i=this.ordinal.positions;if(!i)return t;var e,o=i.length-1;return t<0?t=i[0]:o<t?t=i[o]:e=t-(o=Math.floor(t)),void 0!==e&&void 0!==i[o]?i[o]+(e?e*(i[o+1]-i[o]):0):t}function n(t){if(!(i=(e=this.ordinal).positions))return t;if(0<(o=(t-(this.old||this).min)*(this.old||this).transA+this.minPixelPadding)&&o<this.left+this.len||(e.extendedOrdinalPositions||(e.extendedOrdinalPositions=e.getExtendedPositions()),i=e.extendedOrdinalPositions),i&&i.length){if(t=e.getIndexOfPoint(o,i),e=y(t%1),0<=t&&t<i.length-1)return i[Math.floor(t)]+e*(i[Math.ceil(t)]-i[Math.floor(t)]);var i,e=i.length,o=i[0],s=((i=i[e-1])-o)/(e-1);return t<0?o+s*t:i+s*(t-e)}return t}function a(t,i){var e=o.Additions.findIndexOf(t,i,!0);return t[e]===i?e:e+(i-t[e])/(t[e+1]-t[e])}function h(){this.ordinal||(this.ordinal=new o.Additions(this))}function l(){this.isXAxis&&M(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&M(this.userMin)&&(this.min+=this.options.overscroll))}function p(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function d(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function c(t){var i,e,o,s,r,n,a,h,l,p,d,c,u=this.xAxis[0],g=u.options.overscroll,f=t.originalEvent.chartX,x=this.options.chart.panning,m=!1;x&&"y"!==x.type&&u.options.ordinal&&u.series.length?(n=this.mouseDownX,e=(i=u.getExtremes()).dataMax,o=i.min,s=i.max,r=this.hoverPoints,a=u.closestPointRange||u.ordinal&&u.ordinal.overscrollPointsRange,n=(n-f)/(u.translationSlope*(u.ordinal.slope||a)),a=u.ordinal.getExtendedPositions(),h=u.index2val,l=u.val2lin,c=d=p=p=void 0,(a={ordinal:{positions:a,extendedOrdinalPositions:a}}).ordinal.positions?1<Math.abs(n)&&(r&&r.forEach(function(t){t.setState()}),e>(p=(c=n<0?(d=a,u.ordinal.positions?u:a):(d=u.ordinal.positions?u:a,a)).ordinal.positions)[p.length-1]&&p.push(e),this.fixedRange=s-o,(p=u.navigatorAxis.toFixedRange(void 0,void 0,h.apply(d,[l.apply(d,[o,!0])+n]),h.apply(c,[l.apply(c,[s,!0])+n]))).min>=Math.min(i.dataMin,o)&&p.max<=Math.max(e,s)+g&&u.setExtremes(p.min,p.max,!0,!1,{trigger:"pan"}),this.mouseDownX=f,b(this.container,{cursor:"move"})):m=!0):m=!0,m||x&&/y/.test(x.type)?g&&(u.max=u.dataMax+g):t.preventDefault()}function u(){var t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.extendedOrdinalPositions)}function g(t,i){var e=this.ordinal,o=e.positions,s=e.slope,r=e.extendedOrdinalPositions;if(!o)return t;var n=o.length;if(o[0]<=t&&o[n-1]>=t)t=a(o,t);else{if(r||(r=e.getExtendedPositions&&e.getExtendedPositions(),e.extendedOrdinalPositions=r),!r||!r.length)return t;n=r.length,s=s||(r[n-1]-r[0])/n,o=a(r,o[0]),t=t>=r[0]&&t<=r[n-1]?a(r,t)-o:t<r[0]?-o-(t=r[0]-t)/s:(t-=r[n-1])/s+n-o}return i?t:s*(t||0)+e.offset}function f(t){this.index={},this.axis=t}o.compose=function(t,i,e){var o;return-1===C.indexOf(t)&&(C.push(t),(o=t.prototype).getTimeTicks=s,o.index2val=r,o.lin2val=n,o.val2lin=g,o.ordinal2lin=o.val2lin,v(t,"afterInit",h),v(t,"foundExtremes",l),v(t,"afterSetScale",p),v(t,"initialAxisTranslation",d)),-1===C.indexOf(e)&&(C.push(e),v(e,"pan",c)),-1===C.indexOf(i)&&(C.push(i),v(i,"updatedData",u)),t},f.prototype.beforeSetTickPositions=function(){var e,t=this.axis,i=t.ordinal,o=(n=t.getExtremes()).min,s=n.max,r=t.isXAxis&&!!t.options.breaks,n=t.options.ordinal,a=t.chart.options.chart.ignoreHiddenSeries,h=[],l=Number.MAX_VALUE,p=!1,d=!1,c=!1;if(n||r){var u=0,g=(t.series.forEach(function(t,i){if(e=[],0<i&&"highcharts-navigator-series"!==t.options.id&&1<t.processedXData.length&&(d=u!==t.processedXData[1]-t.processedXData[0]),u=t.processedXData[1]-t.processedXData[0],t.boosted&&(c=t.boosted),!(a&&!1===t.visible||!1===t.takeOrdinalPosition&&!r)&&(h=h.concat(t.processedXData),g=h.length,h.sort(function(t,i){return t-i}),l=Math.min(l,S(t.closestPointRange,l)),g)){for(i=0;i<g-1;)h[i]!==h[i+1]&&e.push(h[i+1]),i++;e[0]!==h[0]&&e.unshift(h[0]),h=e}}),d&&c&&(h.pop(),h.shift()),h.length);if(2<g){for(var f=h[1]-h[0],x=g-1;x--&&!p;)h[x+1]-h[x]!==f&&(p=!0);!t.options.keepOrdinalPadding&&(h[0]-o>f||s-h[h.length-1]>f)&&(p=!0)}else t.options.overscroll&&(2===g?l=h[1]-h[0]:1===g?(l=t.options.overscroll,h=[h[0],h[0]+l]):l=i.overscrollPointsRange);p||t.forceOrdinal?(t.options.overscroll&&(i.overscrollPointsRange=l,h=h.concat(i.getOverscrollPositions())),i.positions=h,f=t.ordinal2lin(Math.max(o,h[0]),!0),x=Math.max(t.ordinal2lin(Math.min(s,h[h.length-1]),!0),1),i.slope=s=(s-o)/(x-f),i.offset=o-f*s):(i.overscrollPointsRange=S(t.closestPointRange,i.overscrollPointsRange),i.positions=t.ordinal.slope=i.offset=void 0)}t.isOrdinal=n&&p,i.groupIntervalFactor=null},f.findIndexOf=function(t,i,e){for(var o,s=0,r=t.length-1;s<r;)t[o=Math.ceil((s+r)/2)]<=i?s=o:r=o-1;return t[s]===i||e?s:-1},f.prototype.getExtendedPositions=function(){var i,e=this,t=e.axis,o=t.constructor.prototype,s=t.chart,r=t.series[0].currentDataGrouping,n=r?r.count+r.unitName:"raw",a=t.options.overscroll,h=t.getExtremes(),l=void 0,p=e.index;return(p=p||(e.index={}))[n]||((i={series:[],chart:s,forceOrdinal:!1,getExtremes:function(){return{min:h.dataMin,max:h.dataMax+a}},getGroupPixelWidth:o.getGroupPixelWidth,getTimeTicks:o.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:o.ordinal2lin,getIndexOfPoint:o.getIndexOfPoint,val2lin:o.val2lin}).ordinal.axis=i,t.series.forEach(function(t){(l={xAxis:i,xData:t.xData.slice(),chart:s,destroyGroupedData:x.noop,getProcessedData:m.prototype.getProcessedData,applyGrouping:m.prototype.applyGrouping}).xData=l.xData.concat(e.getOverscrollPositions()),l.options={dataGrouping:r?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},i.series.push(l),t.processData.apply(l)}),l.closestPointRange!==l.basePointRange&&l.currentDataGrouping&&(i.forceOrdinal=!0),t.ordinal.beforeSetTickPositions.apply({axis:i}),p[n]=i.ordinal.positions),p[n]},f.prototype.getGroupIntervalFactor=function(t,i,e){var o=(e=e.processedXData).length,s=[],r=this.groupIntervalFactor;if(!r){for(r=0;r<o-1;r++)s[r]=e[r+1]-e[r];s.sort(function(t,i){return t-i}),s=s[Math.floor(o/2)],t=Math.max(t,e[0]),i=Math.min(i,e[o-1]),this.groupIntervalFactor=r=o*s/(i-t)}return r},f.prototype.getIndexOfPoint=function(t,i){var e=this.axis,o=this.positions?this.positions[0]:0,s=e.series[0].points&&e.series[0].points[0]&&e.series[0].points[0].plotX||e.minPixelPadding;return 1<e.series.length&&e.series.forEach(function(t){t.points&&M(t.points[0])&&M(t.points[0].plotX)&&t.points[0].plotX<s&&t.points[0].plotX>=S(e.min,-1/0)&&(s=t.points[0].plotX)}),t=(t-s)/(e.translationSlope*(this.slope||e.closestPointRange||this.overscrollPointsRange)),f.findIndexOf(i,o)+t},f.prototype.getOverscrollPositions=function(){var t=this.axis,i=t.options.overscroll,e=this.overscrollPointsRange,o=[],s=t.dataMax;if(M(e))for(;s<=t.dataMax+i;)o.push(s+=e);return o},f.prototype.postProcessTickInterval=function(t){var i=this.axis,e=this.slope;return e?i.options.breaks?i.closestPointRange||t:t/(e/i.closestPointRange):t},o.Additions=f}(e=e||{}),e}),i(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var o,i,e=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});return i=t.seriesTypes.column.prototype.pointClass,e(s,i),s;function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.close=void 0,t.high=void 0,t.low=void 0,t.options=void 0,t.plotClose=void 0,t.series=void 0,t}}),i(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),i(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i,e,o){var s,n,r=this&&this.__extends||(s=function(t,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),a=e.seriesTypes.column,h=o.extend,l=o.merge;function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.yData=void 0,t}return r(p,n=a),p.prototype.extendStem=function(t,i,e){var o=t[0];t=t[1],"number"==typeof o[2]&&(o[2]=Math.max(e+i,o[2])),"number"==typeof t[2]&&(t[2]=Math.min(e-i,t[2]))},p.prototype.getPointPath=function(t,i){i=i.strokeWidth();var e=t.series,o=i%2/2,s=Math.round(t.plotX)-o,r=Math.round(t.shapeArgs.width/2),n=[["M",s,Math.round(t.yBottom)],["L",s,Math.round(t.plotHigh)]];return null!==t.close&&(t=Math.round(t.plotClose)+o,n.push(["M",s,t],["L",s+r,t]),e.extendStem(n,i/2,t)),n},p.prototype.drawSinglePoint=function(t){var i=t.series,e=i.chart,o=t.graphic;void 0!==t.plotY&&(o||(t.graphic=o=e.renderer.path().add(i.group)),e.styledMode||o.attr(i.pointAttribs(t,t.selected&&"select")),i=i.getPointPath(t,o),o[o?"animate":"attr"]({d:i}).addClass(t.getClassName(),!0))},p.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},p.prototype.init=function(){n.prototype.init.apply(this,arguments),this.options.stacking=void 0},p.prototype.pointAttribs=function(t,i){return delete(t=n.prototype.pointAttribs.call(this,t,i)).fill,t},p.prototype.toYData=function(t){return[t.high,t.low,t.close]},p.prototype.translate=function(){var o=this,s=o.yAxis,t=this.pointArrayMap&&this.pointArrayMap.slice()||[],r=t.map(function(t){return"plot".concat(t.charAt(0).toUpperCase()+t.slice(1))});r.push("yBottom"),t.push("low"),n.prototype.translate.apply(o),o.points.forEach(function(e){t.forEach(function(t,i){null!==(t=e[t])&&(o.dataModify&&(t=o.dataModify.modifyValue(t)),e[r[i]]=s.toPixels(t,!0))}),e.tooltipPos[1]=e.plotHigh+s.pos-o.chart.plotTop})},p.defaultOptions=l(a.defaultOptions,i),h((o=p).prototype,{pointClass:t,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),e.registerSeriesType("hlc",o),o}),i(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var o,i,e=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});return i=t.seriesTypes.hlc.prototype.pointClass,e(s,i),s.prototype.getClassName=function(){return i.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},s.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},s.prototype.resolveColor=function(){i.prototype.resolveColor.call(this),this.resolveUpColor()},s.prototype.getZone=function(){var t=i.prototype.getZone.call(this);return this.resolveUpColor(),t},s.prototype.applyOptions=function(){return i.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},s;function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.open=void 0,t.options=void 0,t.plotOpen=void 0,t.series=void 0,t}}),i(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),i(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i,e,o){function s(t){var i=(t=t.options).dataGrouping;i&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(i.approximation="ohlc")}function r(t){(t=t.options).useOhlcData&&"highcharts-navigator-series"!==t.id&&d(this,{pointValKey:u.prototype.pointValKey,pointArrayMap:u.prototype.pointArrayMap,toYData:u.prototype.toYData})}var n,a,h=this&&this.__extends||(a=function(t,i){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}a(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),l=e.seriesTypes.hlc,p=o.addEvent,d=o.extend,o=o.merge,c=[],u=(h(g,n=l),g.compose=function(t){for(var i=1;i<arguments.length;i++);-1===c.indexOf(t)&&(c.push(t),p(t,"afterSetOptions",s),p(t,"init",r))},g.prototype.getPointPath=function(t,i){var e=n.prototype.getPointPath.call(this,t,i),o=(i=i.strokeWidth())%2/2,s=Math.round(t.plotX)-o,r=Math.round(t.shapeArgs.width/2);return null!==t.open&&(t=Math.round(t.plotOpen)+o,e.push(["M",s,t],["L",s-r,t]),n.prototype.extendStem.call(this,e,i/2,t)),e},g.prototype.pointAttribs=function(t,i){i=n.prototype.pointAttribs.call(this,t,i);var e=this.options;return delete i.fill,!t.options.color&&e.upColor&&t.open<t.close&&(i.stroke=e.upColor),i},g.prototype.toYData=function(t){return[t.open,t.high,t.low,t.close]},g.defaultOptions=o(l.defaultOptions,i),g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return d(u.prototype,{pointClass:t,pointArrayMap:["open","high","low","close"]}),e.registerSeriesType("ohlc",u),u}),i(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(t,i){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),i(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i,e,o){var s,r,n=this&&this.__extends||(s=function(t,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),a=i.defaultOptions,h=(i=e.seriesTypes).column,i=i.ohlc,l=o.merge;function p(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(p,r=i),p.prototype.pointAttribs=function(t,i){var e=h.prototype.pointAttribs.call(this,t,i),o=this.options,s=t.open<t.close,r=o.lineColor||this.color,n=t.color||this.color;return e["stroke-width"]=o.lineWidth,e.fill=t.options.color||s&&o.upColor||n,e.stroke=t.options.lineColor||s&&o.upLineColor||r,i&&(t=o.states[i],e.fill=t.color||e.fill,e.stroke=t.lineColor||e.stroke,e["stroke-width"]=t.lineWidth||e["stroke-width"]),e},p.prototype.drawPoints=function(){for(var t=this.chart,i=this.yAxis.reversed,e=0,o=this.points;e<o.length;e++){var s,r,n,a,h,l,p,d=o[e],c=d.graphic,u=!c;void 0!==d.plotY&&(c||(d.graphic=c=t.renderer.path().add(this.group)),this.chart.styledMode||c.attr(this.pointAttribs(d,d.selected&&"select")).shadow(this.options.shadow),s=c.strokeWidth()%2/2,r=Math.round(d.plotX)-s,n=d.plotOpen,h=d.plotClose,p=Math.min(n,h),n=Math.max(n,h),a=Math.round(d.shapeArgs.width/2),h=i?n!==d.yBottom:Math.round(p)!==Math.round(d.plotHigh),l=i?Math.round(p)!==Math.round(d.plotHigh):n!==d.yBottom,p=Math.round(p)+s,n=Math.round(n)+s,(s=[]).push(["M",r-a,n],["L",r-a,p],["L",r+a,p],["L",r+a,n],["Z"],["M",r,p],["L",r,h?Math.round(i?d.yBottom:d.plotHigh):p],["M",r,n],["L",r,l?Math.round(i?d.plotHigh:d.yBottom):n]),c[u?"attr":"animate"]({d:s}).addClass(d.getClassName(),!0))}},p.defaultOptions=l(i.defaultOptions,a.plotOptions,{tooltip:i.defaultOptions.tooltip},t),e.registerSeriesType("candlestick",o=p),o}),i(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){var o,e,s=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),r=i.isNumber;return e=t.seriesTypes.column.prototype.pointClass,s(n,e),n.prototype.isValid=function(){return r(this.y)||void 0===this.y},n.prototype.hasNewShapeType=function(){var t=this.options.shape||this.series.options.shape;return this.graphic&&t&&t!==this.graphic.symbolKey},n;function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.ttBelow=!1,t}}),i(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}}}),i(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(o){var t,s;function r(t,i,e,o,s){var r=s&&s.anchorX||t,n=(s=s&&s.anchorY||i,this.circle(r-1,s-1,2,2));return n.push(["M",r,s],["L",t,i+o],["L",t,i],["L",t+e,i],["L",t+e,i+o],["L",t,i+o],["Z"]),n}function n(h,l){h[l+"pin"]=function(t,i,e,o,s){var r,n=s&&s.anchorX,a=(s=s&&s.anchorY,"circle"===l&&e<o&&(t-=Math.round((o-e)/2),e=o),h[l](t,i,e,o));return n&&s&&(r=n,"circle"===l?r=t+e/2:(t=a[0],e=a[1],"M"===t[0]&&"L"===e[0]&&(r=(t[1]+e[1])/2)),a.push(["M",r,s<i?i:i+o],["L",n,s]),a=a.concat(h.circle(n-1,s-1,2,2))),a}}return t=t||{},s=[],t.compose=function(t){-1===s.indexOf(t)&&(s.push(t),(i=t.prototype.symbols).flag=r,n(i,"circle"),n(i,"square"));var i,e=o.getRendererType();s.indexOf(e)&&(s.push(e),i=t.prototype.symbols,(t=e.prototype.symbols).circlepin=i.circlepin,t.flag=i.flag.bind(i),t.squarepin=i.squarepin)},t}),i(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,i,e){var o,s,v=t.prototype,r=i.prototype,y=e.defined,b=e.stableSort;function n(t){return r.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function a(){v.translate.apply(this);var o,t,s=this,i=s.options,e=s.chart,r=s.points,n=i.onSeries,a=(n=n&&e.get(n))&&n.options.step,h=n&&n.points,l=e.inverted,p=s.xAxis,d=s.yAxis,e=r.length-1,i=i.onKey||"y",c=h&&h.length,u=0;if(n&&n.visible&&c){var u=(n.pointXOffset||0)+(n.barW||0)/2,g=n.currentDataGrouping,f=h[c-1].x+(g?g.totalRange:0);for(b(r,function(t,i){return t.x-i.x}),i="plot"+i[0].toUpperCase()+i.substr(1);c--&&r[e];){var x,m=h[c],g=r[e];if(g.y=m.y,m.x<=g.x&&void 0!==m[i])if(g.x<=f&&(g.plotY=m[i],m.x<g.x&&!a&&(t=h[c+1])&&void 0!==t[i])&&(x=(g.x-m.x)/(t.x-m.x),g.plotY+=x*(t[i]-m[i]),g.y+=x*(t.y-m.y)),c++,--e<0)break}}r.forEach(function(t,i){var e;t.plotX+=u,void 0!==t.plotY&&!l||(0<=t.plotX&&t.plotX<=p.len?l?(t.plotY=p.translate(t.x,0,1,0,1),t.plotX=y(t.y)?d.translate(t.y,0,0,0,1):0):t.plotY=(p.opposite?0:s.yAxis.len)+p.offset:t.shapeArgs={}),(o=r[i-1])&&o.plotX===t.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),e=o.stackIndex+1),t.stackIndex=e}),this.onSeries=n}return t=o=o||{},s=[],t.compose=function(t){var i;return-1===s.indexOf(t)&&(s.push(t),(i=t.prototype).getPlotBox=n,i.translate=a),t},t.getPlotBox=n,t.translate=a,o}),i(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,i,e,o,s,r,n,y,a){var h,l,p=this&&this.__extends||(h=function(t,i){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}h(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),b=(o=o.noop,r.distribute),d=n.series,c=n.seriesTypes.column,u=a.addEvent,M=a.defined,A=(r=a.extend,a.merge),S=a.objectEach,k=a.wrap;function g(){var t=null!==l&&l.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return p(g,l=c),g.prototype.animate=function(t){t&&this.setClip()},g.prototype.drawPoints=function(){for(var t=this.points,i=this.chart,e=i.renderer,o=i.inverted,s=this.options,r=s.y,n=this.yAxis,a={},h=[],l=t.length;l--;){var p=t[l],d=(o?p.plotY:p.plotX)>this.xAxis.len,c=p.plotX,u=p.stackIndex,g=p.options.shape||s.shape,f=p.plotY,x=(void 0!==f&&(f=p.plotY+r-(void 0!==u&&u*s.stackDistance)),p.anchorX=u?void 0:p.plotX,u?void 0:p.plotY),m="flag"!==g,u=p.graphic;void 0!==f&&0<=c&&!d?((u=u&&p.hasNewShapeType()?u.destroy():u)||(u=p.graphic=e.label("",null,null,g,null,null,s.useHTML).addClass("highcharts-point").add(this.markerGroup),p.graphic.div&&(p.graphic.div.point=p),u.isNew=!0),u.attr({align:m?"center":"left",width:s.width,height:s.height,"text-align":s.textAlign}),i.styledMode||u.attr(this.pointAttribs(p)).css(A(s.style,p.style)).shadow(s.shadow),0<c&&(c-=u.strokeWidth()%2),g={y:f,anchorY:x},s.allowOverlapX&&(g.x=c,g.anchorX=p.anchorX),u.attr({text:p.options.title||s.title||"A"})[u.isNew?"attr":"animate"](g),s.allowOverlapX||(a[p.plotX]?a[p.plotX].size=Math.max(a[p.plotX].size,u.width):a[p.plotX]={align:m?.5:0,size:u.width,target:c,anchorX:c}),p.tooltipPos=[c,f+n.pos-i.plotTop]):u&&(p.graphic=u.destroy())}if(!s.allowOverlapX){var v=100;for(S(a,function(t){t.plotX=t.anchorX,h.push(t),v=Math.max(t.size,v)}),b(h,(o?n:this.xAxis).len,v),i=0;i<t.length;i++)r=(e=t[i]).plotX,(r=(o=e.graphic)&&a[r])&&o&&(M(r.pos)?o[o.isNew?"attr":"animate"]({x:r.pos+(r.align||0)*r.size,anchorX:e.anchorX}).show().isNew=!1:o.hide().isNew=!0)}s.useHTML&&this.markerGroup&&k(this.markerGroup,"on",function(t){return y.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},g.prototype.drawTracker=function(){var s=this.points;l.prototype.drawTracker.call(this);for(var t=0;t<s.length;t++)!function(e){var o=e.graphic;o&&(e.unbindMouseOver&&e.unbindMouseOver(),e.unbindMouseOver=u(o.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=o.y,o.attr({y:e._y-8}),e.raised=!0);for(var t=0;t<s.length;t++){var i=s[t];i!==e&&i.raised&&i.graphic&&(i.graphic.attr({y:i._y}),i.raised=!1)}}))}(s[t])},g.prototype.pointAttribs=function(t,i){var e=this.options,o=t&&t.color||this.color,s=e.lineColor,r=t&&t.lineWidth;return t=t&&t.fillColor||e.fillColor,i&&(t=e.states[i].fillColor,s=e.states[i].lineColor,r=e.states[i].lineWidth),{fill:t||o,stroke:s||o,"stroke-width":r||e.lineWidth||0}},g.prototype.setClip=function(){d.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},g.compose=e.compose,g.defaultOptions=A(c.defaultOptions,i),s.compose(a=g),r(a.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:t,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:o,init:d.prototype.init}),n.registerSeriesType("flags",a),a}),i(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,i,e,o,n,a,h,s,r,l){function p(t,i){return"xAxis"===t?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===t?{labels:{y:-2},opposite:C(i.opposite,!0),showLastLabel:!(!i.categories&&"category"!==i.type),title:{text:null}}:{}}function d(t,i){return"xAxis"===t?(t={type:"datetime",categories:void 0},C(i.navigator&&i.navigator.enabled,n.enabled,!0)&&(t.startOnTick=!1,t.endOnTick=!1),t):{}}var c,u,g,f=this&&this.__extends||(c=function(t,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}c(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),v=e.format,x=o.getOptions,b=(e=l.addEvent,l.clamp),M=l.defined,y=l.extend,A=l.find,S=l.isNumber,k=l.isString,m=l.merge,C=l.pick,D=l.splat;function w(){return null!==u&&u.apply(this,arguments)||this}return f(w,u=i),w.prototype.init=function(e,t){var o=x(),i=e.xAxis,s=e.yAxis,r=C(e.navigator&&e.navigator.enabled,n.enabled,!0);e.xAxis=e.yAxis=void 0,r=m({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:r},scrollbar:{enabled:C(h.enabled,!0)},rangeSelector:{enabled:C(a.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:C(o.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},e,{isStock:!0}),e.xAxis=i,e.yAxis=s,r.xAxis=D(e.xAxis||{}).map(function(t,i){return m(p("xAxis",t),o.xAxis,o.xAxis&&o.xAxis[i],t,d("xAxis",e))}),r.yAxis=D(e.yAxis||{}).map(function(t,i){return m(p("yAxis",t),o.yAxis,o.yAxis&&o.yAxis[i],t)}),u.prototype.init.call(this,r,t)},w.prototype.createAxis=function(t,i){return i.axis=m(p(t,i.axis),i.axis,d(t,this.userOptions)),u.prototype.createAxis.call(this,t,i)},(g=l=(l=w)||{}).stockChart=function(t,i,e){return new g(t,i,e)},e(s,"setOptions",function(t){var i;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?i={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(i={marker:{enabled:!1,radius:2}}),i&&(t.plotOptions[this.type]=m(t.plotOptions[this.type],i)))}),e(t,"autoLabelAlign",function(t){var i=this.chart,e=this.options,i=i._labelPanes=i._labelPanes||{},o=this.options.labels;!this.chart.options.isStock||"yAxis"!==this.coll||!i[e=e.top+","+e.height]&&o.enabled&&(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),i[e]=this,t.align="right",t.preventDefault())}),e(t,"destroy",function(){var t=this.chart,i=this.options&&this.options.top+","+this.options.height;i&&t._labelPanes&&t._labelPanes[i]===this&&delete t._labelPanes[i]}),e(t,"getPlotLinePath",function(t){var e,o,s,r,n,a,i,h,l=this,p=(this.isLinked&&!this.series?this.linkedParent:this).series,d=l.chart,c=d.renderer,u=l.left,g=l.top,f=[],x=[],m=t.translatedValue,v=t.value,y=t.force;(d.options.isStock&&!1!==t.acrossPanes&&"xAxis"===l.coll||"yAxis"===l.coll)&&(t.preventDefault(),i=l.coll,h="xAxis"===i?"yAxis":"xAxis",i=l.options[h],x=S(i)?[d[h][i]]:k(i)?[d.get(i)]:p.map(function(t){return t[h]}),(l.isXAxis?d.yAxis:d.xAxis).forEach(function(t){var i;M(t.options.id)&&-1!==t.options.id.indexOf("navigator")||(i=t.isXAxis?"yAxis":"xAxis",i=M(t.options[i])?d[i][t.options[i]]:d[i][0],l===i&&x.push(t))}),n=x.length?[]:[(l.isXAxis?d.yAxis:d.xAxis)[0]],x.forEach(function(i){-1!==n.indexOf(i)||A(n,function(t){return t.pos===i.pos&&t.len===i.len})||n.push(i)}),a=C(m,l.translate(v,void 0,void 0,t.old)),S(a)&&(l.horiz?n.forEach(function(t){var i;o=t.pos,r=o+t.len,e=s=Math.round(a+l.transB),"pass"!==y&&(e<u||e>u+l.width)&&(y?e=s=b(e,u,u+l.width):i=!0),i||f.push(["M",e,o],["L",s,r])}):n.forEach(function(t){var i;e=t.pos,s=e+t.len,o=r=Math.round(g+l.height-a),"pass"!==y&&(o<g||o>g+l.height)&&(y?o=r=b(o,g,g+l.height):i=!0),i||f.push(["M",e,o],["L",s,r])})),t.path=0<f.length?c.crispPolyLine(f,t.lineWidth||1):null)}),r.prototype.crispPolyLine=function(t,i){for(var e=0;e<t.length;e+=2){var o=t[e],s=t[e+1];o[1]===s[1]&&(o[1]=s[1]=Math.round(o[1])-i%2/2),o[2]===s[2]&&(o[2]=s[2]=Math.round(o[2])+i%2/2)}return t},e(t,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),e(t,"afterDrawCrosshair",function(t){var i,e,o,s,r,n,a,h,l,p,d,c,u,g,f,x,m;this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&S(this.min)&&S(this.max)&&(e=this.chart,o=this.logarithmic,s=this.crosshair.label,r=this.horiz,n=this.opposite,a=this.left,h=this.top,l=this.crossLabel,p=s.format,d="",c="inside"===this.options.tickPosition,u=!1!==this.crosshair.snap,g=0,f=t.e||this.cross&&this.cross.e,t=t.point,x=this.min,m=this.max,o&&(x=o.lin2log(x),m=o.lin2log(m)),o=r?"center":n?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",l||(l=this.crossLabel=e.renderer.label("",0,void 0,s.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(t&&t.series?t.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:s.align||o,padding:C(s.padding,8),r:C(s.borderRadius,3),zIndex:2}).add(this.labelGroup),e.styledMode||l.attr({fill:s.backgroundColor||t&&t.series&&t.series.color||"#666666",stroke:s.borderColor||"","stroke-width":s.borderWidth||0}).css(y({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style||{}))),r?(o=u?(t.plotX||0)+a:f.chartX,h+=n?0:this.height):(o=n?this.width+a:0,h=u?(t.plotY||0)+h:f.chartY),p||s.formatter||(p="{value"+((d=this.dateTime?"%b %d, %Y":d)?":"+d:"")+"}"),d=u?this.isXAxis?t.x:t.y:this.toValue(r?f.chartX:f.chartY),u=t&&t.series?t.series.isPointInside(t):S(d)&&x<d&&d<m,f="",p?f=v(p,{value:d},e):s.formatter&&S(d)&&(f=s.formatter.call(this,d)),l.attr({text:f,x:o,y:h,visibility:u?"inherit":"hidden"}),s=l.getBBox(),S(l.y)&&(r?(c&&!n||!c&&n)&&(h=l.y-s.height):h=l.y-s.height/2),t=r?(i=a-s.x,a+this.width-s.x):(i="left"===this.labelAlign?a:0,"right"===this.labelAlign?a+this.width:e.chartWidth),l.translateX<i&&(g=i-l.translateX),l.translateX+s.width>=t&&(g=-(l.translateX+s.width-t)),l.attr({x:o+g,y:h,anchorX:r?o:this.opposite?0:e.chartWidth,anchorY:r?this.opposite?e.chartHeight:0:h+s.height/2}))}),s.prototype.forceCropping=function(){var t=this.chart,i=this.options.dataGrouping;return!1!==this.allowDG&&i&&C(i.enabled,t.options.isStock)},e(i,"update",function(t){"scrollbar"in(t=t.options)&&this.navigator&&(m(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({}),delete t.scrollbar)}),l}),i(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(t,i,e,o,s,r,n,a,h){t.Navigator=e,t.RangeSelector=o,t.Scrollbar=s,t.StockChart=t.stockChart=h.stockChart,i.compose(t.Series,t.Axis,t.Point),a.compose(t.Renderer),e.compose(t.Axis,t.Chart,t.Series),n.compose(t.Series),r.compose(t.Axis,t.Series,t.Chart),o.compose(t.Axis,t.Chart),s.compose(t.Axis)})});