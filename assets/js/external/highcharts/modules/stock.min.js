!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(o){"use strict";var t=o?o._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&o.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i,s){var o;let r=e.prototype["tooltipFormatter"],{addEvent:a,arrayMax:n,arrayMin:l,correctFloat:h,defined:d,isArray:p,isNumber:c,isString:u,pick:g}=s;{function x(e,i,t){this.isXAxis||(this.series.forEach(function(t){"compare"===e&&"boolean"!=typeof i?t.setCompare(i,!1):"cumulative"!==e||u(i)||t.setCumulative(i,!1)}),g(t,!0)&&this.chart.redraw())}function f(e){function t(t){e=e.replace("{point."+t+"}",(0<i[t]&&"change"===t?"+":"")+s(i[t],g(i.series.tooltipOptions.changeDecimals,2)))}let i=this,s=i.series.chart["numberFormatter"];return d(i.change)&&t("change"),d(i.cumulativeSum)&&t("cumulativeSum"),r.apply(this,[e])}function m(){let t;var e=this.options.compare;"percent"!==e&&"value"!==e&&!this.options.cumulative||(t=new k(this),"percent"===e||"value"===e?t.initCompare(e):t.initCumulative()),this.dataModify=t}function v(t){let e=t.dataExtremes,i=e.activeYData;if(this.dataModify&&e){let t;this.options.compare?t=[this.dataModify.modifyValue(e.dataMin),this.dataModify.modifyValue(e.dataMax)]:this.options.cumulative&&p(i)&&2<=i.length&&(t=k.getCumulativeExtremes(i)),t&&(e.dataMin=l(t),e.dataMax=n(t))}}function b(t,e){this.options.compare=this.userOptions.compare=t,this.update({},g(e,!0)),!this.dataModify||"value"!==t&&"percent"!==t?this.points.forEach(t=>{delete t.change}):this.dataModify.initCompare(t)}function y(){if(this.xAxis&&this.processedYData&&this.dataModify){let t=this.processedXData,e=this.processedYData,i=e.length,s=!0===this.options.compareStart?0:1,o=-1,r;for(this.pointArrayMap&&(o=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),r=0;r<i-s;r++){var a=e[r]&&-1<o?e[r][o]:e[r];if(c(a)&&0!==a&&t[r+s]>=(this.xAxis.min||0)){this.dataModify.compareValue=a;break}}}}function M(t,e){this.setModifier("compare",t,e)}function S(t,e){t=g(t,!1),this.options.cumulative=this.userOptions.cumulative=t,this.update({},g(e,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(t=>{delete t.cumulativeSum})}function A(t,e){this.setModifier("cumulative",t,e)}(e=o=o||{}).compose=function(t,e,i){let s=e.prototype,o=i.prototype,r=t.prototype;return r.setCompare||(r.setCompare=b,r.setCumulative=S,a(t,"afterInit",m),a(t,"afterGetExtremes",v),a(t,"afterProcessData",y)),s.setCompare||(s.setCompare=M,s.setModifier=x,s.setCumulative=A,o.tooltipFormatter=f),t};class k{constructor(t){this.series=t}modifyValue(){return 0}static getCumulativeExtremes(t){let i=1/0,s=-1/0;return t.reduce((t,e)=>{e=t+e;return i=Math.min(i,e,t),s=Math.max(s,e,t),e}),[i,s]}initCompare(s){this.modifyValue=function(e,i){var t=this.compareValue;if(void 0===(e=null===e?0:e)||void 0===t)return 0;if("value"===s?e-=t:e=e/t*100-(100===this.series.options.compareBase?0:100),void 0!==i){let t=this.series.points[i];t&&(t.change=e)}return e}}initCumulative(){this.modifyValue=function(s,o){if(void 0===(s=null===s?0:s)||void 0===o)return 0;{var r=0<o?this.series.points[o-1]:null;r&&r.cumulativeSum&&(s=h(r.cumulativeSum+s));let t=this.series.points[o],e=t.series.options.cumulativeStart,i=t.x<=this.series.xAxis.max&&t.x>=this.series.xAxis.min;return t&&(t.cumulativeSum=!e||i?s:void 0),s}}}}e.Additions=k}return o}),e(t,"Stock/Navigator/ChartNavigatorComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,s){let o,i=t["isTouchDevice"],{addEvent:r,merge:a,pick:n}=s,l=[];function h(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function d(){let t,e,i,s=this.legend,o=this.navigator;var r,a;o&&(t=s&&s.options,e=o.xAxis,i=o.yAxis,{scrollbarHeight:r,scrollButtonSize:a}=o,this.inverted?(o.left=o.opposite?this.chartWidth-r-o.height:this.spacing[3]+r,o.top=this.plotTop+a):(o.left=n(e.left,this.plotLeft+a),o.top=o.navigatorOptions.top||this.chartHeight-o.height-r-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?s.legendHeight+n(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&i&&(this.inverted?e.options.left=i.options.left=o.left:e.options.top=i.options.top=o.top,e.setAxisSize(),i.setAxisSize()))}function p(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new o(this),n(t.redraw,!0)&&this.redraw(t.animation))}function c(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this))}function u(){var t=this.options,e=t.navigator,t=t.rangeSelector;if((e&&e.enabled||t&&t.enabled)&&(!i&&"x"===this.zooming.type||i&&"x"===this.zooming.pinchType))return!1}function g(t){let e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function x(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(a(!0,this.options.navigator,e),a(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}return{compose:function(e,i){if(s.pushUnique(l,e)){let t=e.prototype;o=i,t.callbacks.push(g),r(e,"afterAddSeries",h),r(e,"afterSetChartSize",d),r(e,"afterUpdate",p),r(e,"beforeRender",c),r(e,"beforeShowResetZoom",u),r(e,"update",x)}}}}),e(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let d=t["isTouchDevice"],{addEvent:i,correctFloat:l,defined:p,isNumber:h,pick:c}=e;function s(){this.navigatorAxis||(this.navigatorAxis=new r(this))}function o(t){let e,i=this.chart,s=i.options,o=s.navigator,r=this.navigatorAxis,a=i.zooming.pinchType,n=s.rangeSelector,l=i.zooming.type;var h;this.isXAxis&&(o?.enabled||n?.enabled)&&("y"===l&&"zoom"===t.trigger?e=!1:("zoom"===t.trigger&&"xy"===l||d&&"xy"===a)&&this.options.range&&(h=r.previousZoom,p(t.min)?r.previousZoom=[this.min,this.max]:h&&(t.min=h[0],t.max=h[1],r.previousZoom=void 0))),void 0!==e&&t.preventDefault()}class r{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),i(t,"init",s),i(t,"setExtremes",o))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let o=this.axis,r=(o.pointRange||0)/2,a=c(i,o.translate(t,!0,!o.horiz)),n=c(s,o.translate(e,!0,!o.horiz));return p(i)||(a=l(a+r)),p(s)||(n=l(n-r)),{min:a=h(a)&&h(n)?a:n=void 0,max:n}}}return class{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),i(t,"init",s),i(t,"setExtremes",o))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let o=this.axis,r=(o.pointRange||0)/2,a=c(i,o.translate(t,!0,!o.horiz)),n=c(s,o.translate(e,!0,!o.horiz));return p(i)||(a=l(a+r)),p(s)||(n=l(n-r)),{min:a=h(a)&&h(n)?a:n=void 0,max:n}}}}),e(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e){let i=t["parse"],s=e["seriesTypes"];return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===s.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),e(t,"Stock/Navigator/NavigatorSymbols.js",[t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],function(a,t){let n=t["relativeLength"];return{"navigator-handle":function(t,e,i,s,o={}){var i=o.width?o.width/2:i,r=n(o.borderRadius||0,Math.min(2*i,s));return[["M",-1.5,(s=o.height||s)/2-3.5],["L",-1.5,s/2+4.5],["M",.5,s/2-3.5],["L",.5,s/2+4.5],...a.rect(-i-1,.5,2*i+1,s,{r:r})]}}}),e(t,"Stock/Utilities/StockUtilities.js",[t["Core/Utilities.js"]],function(t){let i=t["defined"];return{setFixedRange:function(t){var e=this.xAxis[0];i(e.dataMax)&&i(e.dataMin)&&t?this.fixedRange=Math.min(t,e.dataMax-e.dataMin):this.fixedRange=t}}}),e(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Stock/Utilities/StockUtilities.js"],t["Core/Utilities.js"]],function(t,e,s,o,r,i,a,n){let l=t["setOptions"],h=e["composed"],d=i["getRendererType"],p=a["setFixedRange"],{addEvent:c,extend:u,pushUnique:g}=n;function x(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(t,e,i){s.compose(e),g(h,"Navigator")&&(t.prototype.setFixedRange=p,u(d().prototype.symbols,r),c(i,"afterUpdate",x),l({navigator:o}))}}}),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var s;let o=t["composed"],{addEvent:r,defined:d,pick:a,pushUnique:n}=e;{t=s=s||{};let i;function p(t){var e=a(t.options&&t.options.min,t.min),i=a(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:i,scrollMin:d(t.dataMin)?Math.min(e,t.min,t.dataMin,a(t.threshold,1/0)):e,scrollMax:d(t.dataMax)?Math.max(i,t.max,t.dataMax,a(t.threshold,-1/0)):i}}function l(){var t=this.scrollbar,e=t&&!t.options.opposite,e=this.horiz?2:e?3:1;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))}function h(){let n=this;n.options&&n.options.scrollbar&&n.options.scrollbar.enabled&&(n.options.scrollbar.vertical=!n.horiz,n.options.startOnTick=n.options.endOnTick=!1,n.scrollbar=new i(n.chart.renderer,n.options.scrollbar,n.chart),r(n.scrollbar,"changed",function(t){let e,i;var{axisMin:s,axisMax:o,scrollMin:r,scrollMax:a}=p(n),a=a-r;d(s)&&d(o)&&(i=n.horiz&&!n.reversed||!n.horiz&&n.reversed?(e=r+a*this.to,r+a*this.from):(e=r+a*(1-this.from),r+a*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?(s="mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&void 0,n.setExtremes(i,e,!0,s,t)):this.setRange(this.from,this.to))}))}function c(){let t,e,i,{scrollMin:s,scrollMax:o}=p(this),r=this.scrollbar,a=this.axisTitleMargin+(this.titleOffset||0),n=this.chart.scrollbarsOffsets,l=this.options.margin||0;var h;r&&n&&(t=this.horiz?(this.opposite||(n[1]+=a),r.position(this.left,this.top+this.height+2+n[1]-(this.opposite?l:0),this.width,this.height),this.opposite||(n[1]+=l),1):(this.opposite&&(n[0]+=a),h=r.options.opposite?this.left+this.width+2+n[0]-(this.opposite?0:l):this.opposite?0:l,r.position(h,this.top,this.width,this.height),this.opposite&&(n[0]+=l),0),n[t]+=r.size+(r.options.margin||0),isNaN(s)||isNaN(o)||!d(this.min)||!d(this.max)||this.min===this.max?r.setRange(0,1):(e=(this.min-s)/(o-s),i=(this.max-s)/(o-s),this.horiz&&!this.reversed||!this.horiz&&this.reversed?r.setRange(e,i):r.setRange(1-i,1-e)))}t.compose=function(t,e){n(o,"Axis.Scrollbar")&&(i=e,r(t,"afterGetOffset",l),r(t,"afterInit",h),r(t,"afterRender",c))}}return s}),e(t,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),e(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){let r=t["defaultOptions"],{addEvent:l,correctFloat:d,crisp:a,defined:p,destroyObjectProperties:n,fireEvent:h,merge:c,pick:u,removeEvent:g}=o;class x{static compose(t){i.compose(t,x)}static swapXY(t,e){return e&&t.forEach(e=>{var i,s=e.length;for(let t=0;t<s;t+=2)"number"==typeof(i=e[t+1])&&(e[t+1]=e[t+2],e[t+2]=i)}),t}constructor(t,e,i){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(t,e,i)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,s=this.track.element,o=this.mouseDownHandler.bind(this),r=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this),n=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[s,"click",this.trackClick.bind(this)],[i,"mousedown",o],[i.ownerDocument,"mousemove",r],[i.ownerDocument,"mouseup",a],[i,"touchstart",o],[i.ownerDocument,"touchmove",r],[i.ownerDocument,"touchend",a]];n.forEach(function(t){l.apply(null,t)}),this._events=n}buttonToMaxClick(t){var e=(this.to-this.from)*u(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){var e=d(this.to-this.from)*u(this.options.step,.2);this.updatePosition(d(this.from-e),d(this.to-e)),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this.options,e=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}}destroy(){let e=this,t=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){e[t]&&e[t].destroy&&(e[t]=e[t].destroy())}),t&&e===t.scrollbar&&(t.scrollbar=null,n(t.scrollbarButtons))}drawScrollbarButton(i){let s=this.renderer,o=this.scrollbarButtons,r=this.options,a=this.size,n=s.g().add(this.group);if(o.push(n),r.buttonsEnabled){let t=s.rect().addClass("highcharts-scrollbar-button").add(n),e=(this.chart.styledMode||t.attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}),t.attr(t.crisp({x:-.5,y:-.5,width:a,height:a,r:r.buttonBorderRadius},t.strokeWidth())),s.path(x.swapXY([["M",a/2+(i?-1:1),a/2-3],["L",a/2+(i?-1:1),a/2+3],["L",a/2+(i?2:-2),a/2]],r.vertical)).addClass("highcharts-scrollbar-arrow").add(o[i]));this.chart.styledMode||e.attr({fill:r.buttonArrowColor})}}init(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=c(s,r.scrollbar,e),this.options.margin=u(this.options.margin,10),this.chart=i,this.size=u(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){t=this.chart.pointer?.normalize(t)||t,t=this.cursorToScrollbarPosition(t);this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var e=this.chart.pointer?.normalize(t)||t,i=this.options.vertical?"chartY":"chartX",s=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][i]||(e=this.cursorToScrollbarPosition(e)[i]-this[i],this.hasDragged=!0,this.updatePosition(s[0]+e,s[1]+e),this.hasDragged&&h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,i,s){let{buttonsEnabled:o,margin:r=0,vertical:a}=this.options,n=this.rendered?"animate":"attr",l=s,h=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.height=s,this.xOffset=l,this.yOffset=h,a?(this.width=this.yOffset=i=h=this.size,this.xOffset=l=0,this.yOffset=h=o?this.size:0,this.barWidth=s-(o?2*i:0),this.x=t+=r):(this.height=s=this.size,this.xOffset=l=o?this.size:0,this.barWidth=i-(o?2*s:0),this.y=this.y+r),this.group[n]({translateX:t,translateY:this.y}),this.track[n]({width:i,height:s}),this.scrollbarButtons[1][n]({translateX:a?0:i-l,translateY:a?s-h:0})}removeEvents(){this._events.forEach(function(t){g.apply(null,t)}),this._events.length=0}render(){let t=this.renderer,e=this.options,i=this.size,s=this.chart.styledMode,o=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=o,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:i,width:i}).add(o),s||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});var r=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-a(0,r),y:-a(0,r)}),this.scrollbarGroup=t.g().add(o),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:i-r,width:i-r,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(x.swapXY([["M",-3,i/4],["L",-3,2*i/3],["M",0,i/4],["L",0,2*i/3],["M",3,i/4],["L",3,2*i/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-a(0,this.scrollbarStrokeWidth),-a(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){let i,s;var o,r=this.options,a=r.vertical,n=r.minWidth,l=this.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";p(l)&&(o=l*Math.min(e,1),i=Math.ceil(l*(t=Math.max(t,0))),this.calculatedWidth=s=d(o-i),s<n&&(i=(l-n+s)*t,s=n),o=Math.floor(i+this.xOffset+this.yOffset),l=s/2-.5,this.from=t,this.to=e,a?(this.scrollbarGroup[h]({translateY:o}),this.scrollbar[h]({height:s}),this.scrollbarRifles[h]({translateY:l}),this.scrollbarTop=o,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:o}),this.scrollbar[h]({width:s}),this.scrollbarRifles[h]({translateX:l}),this.scrollbarLeft=o,this.scrollbarTop=0),s<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===r.showFull&&(t<=0&&1<=e?this.group.hide():this.group.show()),this.rendered=!0)}shouldUpdateExtremes(t){return u(this.options.liveRedraw,e.svg&&!e.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!p(t)}trackClick(t){var e=this.chart.pointer?.normalize(t)||t,i=this.to-this.from,s=this.y+this.scrollbarTop,o=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>s||!this.options.vertical&&e.chartX>o?this.updatePosition(this.from+i,this.to+i):this.updatePosition(this.from-i,this.to-i),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,c(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=d(1-d(e-t)),e=1),t<0&&(e=d(e-t),t=0),this.from=t,this.to=e}}return x.defaultOptions=s,r.scrollbar=c(!0,x.defaultOptions,r.scrollbar),x}),e(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Stock/Navigator/ChartNavigatorComposition.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(x,s,t,e,f,o,m,i,r){let g=t["defaultOptions"],h=e["isTouchDevice"],{symbols:c}=i["prototype"],{addEvent:v,clamp:S,correctFloat:A,defined:k,destroyObjectProperties:a,erase:n,extend:b,find:l,fireEvent:C,isArray:y,isNumber:D,merge:M,pick:w,removeEvent:E,splat:O}=r;function B(t,...e){e=[].filter.call(e,D);if(e.length)return Math[t].apply(0,e)}return class d{static compose(t,e,i){s.compose(t,d),o.compose(t,e,i)}constructor(t){this.isDirty=!1,this.scrollbarHeight=0,this.init(t)}drawHandle(t,e,i,s){var o=this.navigatorOptions.handles.height;this.handles[e][s](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-o)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-o/2-1)})}drawOutline(t,e,i,s){let o=this.navigatorOptions.maskInside,r=this.outline.strokeWidth(),a=r/2,n=r%2/2,l=this.scrollButtonSize,h=this.size,d=this.top,p=this.height,c=d-a,u=d+p,g=this.left,x,f;i?(x=d+e+n,e=d+t+n,f=[["M",g+p,d-l-n],["L",g+p,x],["L",g,x],["M",g,e],["L",g+p,e],["L",g+p,d+h+l]],o&&f.push(["M",g+p,x-a],["L",g+p,e+a])):(t+=(g-=l)+l-n,e+=g+l-n,f=[["M",g,c],["L",t,c],["L",t,u],["M",e,u],["L",e,c],["L",g+h+2*l,c]],o&&f.push(["M",t-a,c],["L",e+a,c])),this.outline[s]({d:f})}drawMasks(t,e,i,s){let o,r,a,n;var l=this.left,h=this.top,d=this.height;o=i?(a=[l,l,l],n=[h,h+t,h+e],r=[d,d,d],[t,e-t,this.size-e]):(a=[l,l+t,l+e],n=[h,h,h],r=[t,e-t,this.size-e],[d,d,d]),this.shades.forEach((t,e)=>{t[s]({x:a[e],y:n[e],width:r[e],height:o[e]})})}renderElements(){let a=this,n=a.navigatorOptions,t=n.maskInside,l=a.chart,e=l.inverted,h=l.renderer,d={cursor:e?"ns-resize":"ew-resize"},p=a.navigatorGroup??(a.navigatorGroup=h.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!t,t,!t].forEach((t,e)=>{let i=a.shades[e]??(a.shades[e]=h.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(p));l.styledMode||(i.attr({fill:t?n.maskFill:"rgba(0,0,0,0)"}),1===e&&i.css(d))}),a.outline||(a.outline=h.path().addClass("highcharts-navigator-outline").add(p)),l.styledMode||a.outline.attr({"stroke-width":n.outlineWidth,stroke:n.outlineColor}),n.handles?.enabled){let s=n.handles,{height:o,width:r}=s;[0,1].forEach(t=>{var e,i=s.symbols[t];a.handles[t]?i!==a.handles[t].symbolName&&(e=c[i].call(c,-r/2-1,0,r,o),a.handles[t].attr({d:e}),a.handles[t].symbolName=i):(a.handles[t]=h.symbol(i,-r/2-1,0,r,o,s),a.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(p)),l.inverted&&a.handles[t].attr({rotation:90,rotationOriginX:Math.floor(-r/2),rotationOriginY:(o+r)/2}),l.styledMode||a.handles[t].attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.lineWidth,width:s.width,height:s.height,x:-r/2-1,y:0}).css(d)})}}update(t,e=!1){let i=this.chart,s=i.options.chart.inverted!==i.scrollbar?.options.vertical;if(M(!0,i.options.navigator,t),this.navigatorOptions=i.options.navigator||{},this.setOpposite(),k(t.enabled)||s)return this.destroy(),this.navigatorEnabled=t.enabled||this.navigatorEnabled,this.init(i);var o;this.navigatorEnabled&&(!(this.isDirty=!0)===t.adaptToUpdatedData&&this.baseSeries.forEach(t=>{E(t,"updatedData",this.updatedDataHandler)},this),t.adaptToUpdatedData&&this.baseSeries.forEach(t=>{t.eventsToUnbind.push(v(t,"updatedData",this.updatedDataHandler))},this),(t.series||t.baseSeries)&&this.setBaseSeries(void 0,!1),t.height||t.xAxis||t.yAxis)&&(this.height=t.height??this.height,o=this.getXAxisOffsets(),this.xAxis.update({...t.xAxis,offsets:o,[i.inverted?"width":"height"]:this.height,[i.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...t.yAxis,[i.inverted?"width":"height"]:this.height},!1)),e&&i.redraw()}render(t,e,i,s){let o=this.chart,r=this.xAxis,a=r.pointRange||0,n=r.navigatorAxis.fake?o.xAxis[0]:r,l=this.navigatorEnabled,h=this.rendered,d=o.inverted,p=o.xAxis[0].minRange,c=o.xAxis[0].options.maxRange,u=this.scrollButtonSize,g,x,f,m=this.scrollbarHeight,v,b;if(!this.hasDragged||k(i)){if(this.isDirty&&this.renderElements(),t=A(t-a/2),e=A(e+a/2),!D(t)||!D(e)){if(!h)return;i=0,s=w(r.width,n.width)}this.left=w(r.left,o.plotLeft+u+(d?o.plotWidth:0));var y=this.size=v=w(r.len,(d?o.plotHeight:o.plotWidth)-2*u),t=(g=d?m:v+2*u,i=w(i,r.toPixels(t,!0)),s=w(s,r.toPixels(e,!0)),D(i)&&Math.abs(i)!==1/0||(i=0,s=g),r.toValue(i,!0)),e=r.toValue(s,!0),M=((M=Math.abs(A(e-t)))<p?this.grabbedLeft?i=r.toPixels(e-p-a,!0):this.grabbedRight&&(s=r.toPixels(t+p+a,!0)):k(c)&&A(M-a)>c&&(this.grabbedLeft?i=r.toPixels(e-c-a,!0):this.grabbedRight&&(s=r.toPixels(t+c+a,!0))),this.zoomedMax=S(Math.max(i,s),0,y),this.zoomedMin=S(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,s),0,y),this.range=this.zoomedMax-this.zoomedMin,y=Math.round(this.zoomedMax),Math.round(this.zoomedMin));l&&(this.navigatorGroup.attr({visibility:"inherit"}),b=h&&!this.hasDragged?"animate":"attr",this.drawMasks(M,y,d,b),this.drawOutline(M,y,d,b),this.navigatorOptions.handles.enabled&&(this.drawHandle(M,0,d,b),this.drawHandle(y,1,d,b))),this.scrollbar&&(d?(f=this.top-u,x=this.left-m+(l||!n.opposite?0:(n.titleOffset||0)+n.axisTitleMargin),m=v+2*u):(f=this.top+(l?this.height:-m),x=this.left-u),this.scrollbar.position(x,f,g,m),this.scrollbar.setRange(this.zoomedMin/(v||1),this.zoomedMax/(v||1))),this.rendered=!0,this.isDirty=!1,C(this,"afterRender")}}addMouseEvents(){let e=this,t=e.chart,i=t.container,s=[],o,r;e.mouseMoveHandler=o=function(t){e.onMouseMove(t)},e.mouseUpHandler=r=function(t){e.onMouseUp(t)},(s=e.getPartsEvents("mousedown")).push(v(t.renderTo,"mousemove",o),v(i.ownerDocument,"mouseup",r),v(t.renderTo,"touchmove",o),v(i.ownerDocument,"touchend",r)),s.concat(e.getPartsEvents("touchstart")),e.eventsToUnbind=s,e.series&&e.series[0]&&s.push(v(e.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(s){let o=this,r=[];return["shades","handles"].forEach(function(i){o[i].forEach(function(t,e){r.push(v(t.element,s,function(t){o[i+"Mousedown"](t,e)}))})}),r}shadesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=this.xAxis,o=this.zoomedMin,r=this.size,a=this.range,n=this.left,l=t.chartX,h,d,p,c;i.inverted&&(l=t.chartY,n=this.top),1===e?(this.grabbedCenter=l,this.fixedWidth=a,this.dragOffset=l-o):(c=l-n-a/2,0===e?c=Math.max(0,c):2===e&&c+a>=r&&(c=r-a,this.reversedExtremes?(c-=a,d=this.getUnionExtremes().dataMin):h=this.getUnionExtremes().dataMax),c!==o&&(this.fixedWidth=a,k((p=s.navigatorAxis.toFixedRange(c,c+a,d,h)).min)&&C(this,"setRange",{min:Math.min(p.min,p.max),max:Math.max(p.min,p.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=i.xAxis[0],o=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?s.min:s.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?s.max:s.min),i.setFixedRange(void 0)}onMouseMove(t){let e=this,i=e.chart,s=e.navigatorSize,o=e.range,r=e.dragOffset,a=i.inverted,n=e.left,l;t.touches&&0===t.touches[0].pageX||(l=(t=i.pointer?.normalize(t)||t).chartX,a&&(n=e.top,l=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,l-n,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,l-n)):e.grabbedCenter&&(e.hasDragged=!0,l<r?l=r:l>s+r-o&&(l=s+r-o),e.render(0,0,l-r,l-r+o)),e.hasDragged&&e.scrollbar&&w(e.scrollbar.options.liveRedraw,!h&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){let e,i,s,o,r,a,n=this.chart,l=this.xAxis,h=this.scrollbar,d=t.DOMEvent||t,p=n.inverted,c=this.rendered&&!this.hasDragged?"animate":"attr";(!this.hasDragged||h&&h.hasDragged)&&"scrollbar"!==t.trigger||(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?o=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(r=this.fixedExtreme),this.zoomedMax===this.size&&(r=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(o=this.reversedExtremes?s.dataMax:s.dataMin),k((a=l.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,o,r)).min)&&C(this,"setRange",{min:Math.min(a.min,a.max),max:Math.max(a.min,a.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:d}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&D(this.zoomedMin)&&D(this.zoomedMax)&&(i=Math.round(this.zoomedMin),e=Math.round(this.zoomedMax),this.shades&&this.drawMasks(i,e,p,c),this.outline&&this.drawOutline(i,e,p,c),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(i,0,p,c),this.drawHandle(e,1,p,c)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){E(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&E(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(n){let t=n.options,e=t.navigator||{},i=e.enabled,s=t.scrollbar||{},o=s.enabled,r=i&&e.height||0,a=o&&s.height||0,l=s.buttonsEnabled&&a||0,h=(this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=r,this.scrollbarHeight=a,this.scrollButtonSize=l,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=s,this.setOpposite(),this),d=h.baseSeries,p=n.xAxis.length,c=n.yAxis.length,u=d&&d[0]&&d[0].xAxis||n.xAxis[0]||{options:{}};var g;if(n.isDirtyBox=!0,h.navigatorEnabled?(g=this.getXAxisOffsets(),h.xAxis=new x(n,M({breaks:u.options.breaks,ordinal:u.options.ordinal,overscroll:u.options.overscroll},e.xAxis,{type:"datetime",yAxis:e.yAxis?.id,index:p,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:u.options.ordinal?0:u.options.minPadding,maxPadding:u.options.ordinal?0:u.options.maxPadding,zoomEnabled:!1},n.inverted?{offsets:g,width:r}:{offsets:g,height:r}),"xAxis"),h.yAxis=new x(n,M(e.yAxis,{alignTicks:!1,offset:0,index:c,isInternal:!0,reversed:w(e.yAxis&&e.yAxis.reversed,n.yAxis[0]&&n.yAxis[0].reversed,!1),zoomEnabled:!1},n.inverted?{width:r}:{height:r}),"yAxis"),d||e.series.data?h.updateNavigatorSeries(!1):0===n.series.length&&(h.unbindRedraw=v(n,"beforeRedraw",function(){0<n.series.length&&!h.series&&(h.setBaseSeries(),h.unbindRedraw())})),h.reversedExtremes=n.inverted&&!h.xAxis.reversed||!n.inverted&&h.xAxis.reversed,h.renderElements(),h.addMouseEvents()):(h.xAxis={chart:n,navigatorAxis:{fake:!0},translate:function(t,e){let i=n.xAxis[0],s=i.getExtremes(),o=i.len-2*l,r=B("min",i.options.min,s.dataMin),a=B("max",i.options.max,s.dataMax)-r;return e?t*a/o+r:o*(t-r)/a},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},h.xAxis.navigatorAxis.axis=h.xAxis,h.xAxis.navigatorAxis.toFixedRange=f.prototype.toFixedRange.bind(h.xAxis.navigatorAxis)),n.options.scrollbar.enabled){let t=M(n.options.scrollbar,{vertical:n.inverted});!D(t.margin)&&h.navigatorEnabled&&(t.margin=n.inverted?-3:3),n.scrollbar=h.scrollbar=new m(n.renderer,t,n),v(h.scrollbar,"changed",function(t){var e=(i=h.size)*this.to,i=i*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,i,e),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){h.onMouseUp(t)})})}h.addBaseSeriesEvents(),h.addChartEvents()}setOpposite(){var t=this.navigatorOptions,e=this.navigatorEnabled,i=this.chart;this.opposite=w(t.opposite,!(e||!i.inverted))}getUnionExtremes(t){let e;var i=this.chart.xAxis[0],s=this.xAxis,o=s.options,r=i.options;return e=t&&null===i.dataMin?e:{dataMin:w(o&&o.min,B("min",r.min,i.dataMin,s.dataMin,s.min)),dataMax:w(o&&o.max,B("max",r.max,i.dataMax,s.dataMax,s.max))}}setBaseSeries(i,t){let e=this.chart,s=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?l(e.series,t=>!t.options.isInternal).index:0),(e.series||[]).forEach((t,e)=>{t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||s.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(t,o){let r=this,a=r.chart,n=r.baseSeries,l={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},h=r.series=(r.series||[]).filter(t=>{let e=t.baseSeries;return!(n.indexOf(e)<0&&(e&&(E(e,"updatedData",r.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))}),d,p,c=r.navigatorOptions.series,u;n&&n.length&&n.forEach(t=>{let e=t.navigatorSeries,i=b({color:t.color,visible:t.visible},y(c)?g.navigator.series:c);var s;e&&!1===r.navigatorOptions.adaptToUpdatedData||(l.name="Navigator "+n.length,u=(d=t.options||{}).navigatorOptions||{},i.dataLabels=O(i.dataLabels),(p=M(d,l,i,u)).pointRange=w(i.pointRange,u.pointRange,g.plotOptions[p.type||"line"].pointRange),s=u.data||i.data,r.hasNavigatorData=r.hasNavigatorData||!!s,p.data=s||d.data&&d.data.slice(0),e&&e.options?e.update(p,o):(t.navigatorSeries=a.initSeries(p),a.setSortedData(),t.navigatorSeries.baseSeries=t,h.push(t.navigatorSeries)))}),(!c.data||n&&n.length)&&!y(c)||(r.hasNavigatorData=!1,(c=O(c)).forEach((t,e)=>{l.name="Navigator "+(h.length+1),(p=M(g.navigator.series,{color:a.series[e]&&!a.series[e].options.isInternal&&a.series[e].color||a.options.colors[e]||a.options.colors[0]},l,t)).data=t.data,p.data&&(r.hasNavigatorData=!0,h.push(a.initSeries(p)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let e=this,i=e.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(v(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(t=>{t.eventsToUnbind.push(v(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(v(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(v(t,"updatedData",this.updatedDataHandler)),t.eventsToUnbind.push(v(t,"remove",function(){i&&n(i,t),this.navigatorSeries&&(n(e.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;var e;void 0===t.getExtremes||!(e=this.getUnionExtremes(!0))||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}modifyBaseAxisExtremes(){let t,e,i=this.chart.navigator,s=this.getExtremes(),o=s.min,r=s.max,a=s.dataMin,n=s.dataMax,l=r-o,h=i.stickToMin,d=i.stickToMax,p=w(this.ordinal?.convertOverscroll(this.options.overscroll),0),c=i.series&&i.series[0],u=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(h&&(t=(e=a)+l),d&&(t=n+p,h||(e=Math.max(a,t-l,i.getBaseSeriesMin(c&&c.xData?c.xData[0]:-Number.MAX_VALUE)))),u&&(h||d)&&D(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=w(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){var e=e.getBaseSeriesMin(t.xData[0]),i=(t=t.xAxis).max,s=t.min,t=t.options.range;return!(!D(i)||!D(s))&&(t&&0<i-e?i-e<t:s<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(v(this.chart,"redraw",function(){let t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),v(this.chart,"getMargins",function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this[e=this.inverted?t.opposite?"marginRight":"plotLeft":e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin}),v(d,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(n(this.chart.xAxis,this.xAxis),n(this.chart.axes,this.xAxis)),this.yAxis&&(n(this.chart.yAxis,this.yAxis),n(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{a(t)}),this.navigatorEnabled=!1}}}),e(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,c,u,e){var i;let{addEvent:o,correctFloat:h,css:b,defined:y,error:M,isNumber:s,pick:S,timeUnits:A,isString:r}=e;{var a=i=i||{};function n(t,e,h,i,s=[],o=0,r){let d={},p=this.options.tickPixelInterval,a=this.chart.time,n=[],l,c,u,g,x,f=0,m=[],v=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||void 0===e)return a.getTimeTicks.apply(a,arguments);var b=s.length;for(l=0;l<b;l++){if(x=l&&s[l-1]>h,s[l]<e&&(f=l),l===b-1||s[l+1]-s[l]>5*o||x){if(s[l]>v){for(c=a.getTimeTicks(t,s[f],s[l],i);c.length&&c[0]<=v;)c.shift();c.length&&(v=c[c.length-1]),n.push(m.length),m=m.concat(c)}f=l+1}if(x)break}if(c){if(g=c.info,r&&g.unitRange<=A.hour){for(f=1,l=m.length-1;f<l;f++)a.dateFormat("%d",m[f])!==a.dateFormat("%d",m[f-1])&&(d[m[f]]="day",u=!0);u&&(d[m[0]]="day"),g.higherRanks=d}g.segmentStarts=n,m.info=g}else M(12,!1,this.chart);if(r&&y(p)){let t=m.length,e=[],i=[],s,o,r,a,n,l=t;for(;l--;)o=this.translate(m[l]),r&&(i[l]=r-o),e[l]=r=o;for(i.sort((t,e)=>t-e),(a=i[Math.floor(i.length/2)])<.6*p&&(a=null),l=m[t-1]>h?t-1:t,r=void 0;l--;)n=Math.abs(r-(o=e[l])),r&&n<.8*p&&(null===a||n<.8*a)?(d[m[l]]&&!d[m[l+1]]?(s=l+1,r=o):s=l,m.splice(s,1)):r=o}return m}function l(t){var e=this.ordinal.positions;if(!e)return t;let i=e.length-1,s;return t<0?t=e[0]:t>i?t=e[i]:(i=Math.floor(t),s=t-i),void 0!==s&&void 0!==e[i]?e[i]+(s?s*(e[i+1]-e[i]):0):t}function d(t){let e=this.ordinal,i=(this.old||this).min,s=(this.old||this).transA,o=e.getExtendedPositions();if(o&&o.length){var r,a,n=h((t-i)*s+this.minPixelPadding),n=h(e.getIndexOfPoint(n,o)),l=h(n%1);if(0<=n&&n<=o.length-1)return r=o[Math.floor(n)],a=o[Math.ceil(n)],o[Math.floor(n)]+l*(a-r)}return t}function p(t,e){var i=a.Additions.findIndexOf(t,e,!0);return t[i]===e?i:i+(e-t[i])/(t[i+1]-t[i])}function g(){this.ordinal||(this.ordinal=new a.Additions(this))}function x(){var{eventArgs:t,options:e}=this;this.isXAxis&&y(e.overscroll)&&0!==e.overscroll&&s(this.max)&&s(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==t?.trigger||this.isInternal)&&"navigator"!==t?.trigger)&&(e=this.ordinal.convertOverscroll(e.overscroll),this.max+=e,!this.isInternal&&y(this.userMin)&&"mousewheel"!==t?.trigger&&(this.min+=e))}function f(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function m(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function v(t){let x=this.xAxis[0],f=x.ordinal.convertOverscroll(x.options.overscroll),m=t.originalEvent.chartX,e=this.options.chart.panning,v=!1;if(e&&"y"!==e.type&&x.options.ordinal&&x.series.length&&(!t.touches||t.touches.length<=1)){let t,e,i=this.mouseDownX,s=x.getExtremes(),o=s.dataMin,r=s.dataMax,a=s.min,n=s.max,l=this.hoverPoints,h=x.closestPointRange||x.ordinal&&x.ordinal.overscrollPointsRange,d=Math.round((i-m)/(x.translationSlope*(x.ordinal.slope||h))),p=x.ordinal.getExtendedPositions(),c={ordinal:{positions:p,extendedOrdinalPositions:p}},u=x.index2val,g=x.val2lin;if(a<=o&&d<0||r<=n+f&&0<d)return;c.ordinal.positions?1<Math.abs(d)&&(l&&l.forEach(function(t){t.setState()}),r>(e=c.ordinal.positions)[e.length-1]&&e.push(r),this.setFixedRange(n-a),(t=x.navigatorAxis.toFixedRange(void 0,void 0,u.apply(c,[g.apply(c,[a,!0])+d]),u.apply(c,[g.apply(c,[n,!0])+d]))).min>=Math.min(s.dataMin,a)&&t.max<=Math.max(r,n)+f&&x.setExtremes(t.min,t.max,!0,!1,{trigger:"pan"}),this.mouseDownX=m,b(this.container,{cursor:"move"})):v=!0}else v=!0;v||e&&/y/.test(e.type)?f&&(x.max=x.dataMax+f):t.preventDefault()}function k(){let t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.originalOrdinalRange)}function C(t,e){let i,s=this.ordinal,o=s.positions,r=s.slope,a;if(!o)return t;var n=o.length;if(o[0]<=t&&o[n-1]>=t)i=p(o,t);else{if(!(a=s.getExtendedPositions&&s.getExtendedPositions())||!a.length)return t;var n=a.length,l=(r=r||(a[n-1]-a[0])/n,p(a,o[0]));if(t>=a[0]&&t<=a[n-1])i=p(a,t)-l;else{if(!e)return t;i=t<a[0]?-l-(a[0]-t)/r:(t-a[n-1])/r+n-l}}return e?i:r*(i||0)+s.offset}a.compose=function(t,e,i){let s=t.prototype;return s.ordinal2lin||(s.getTimeTicks=n,s.index2val=l,s.lin2val=d,s.val2lin=C,s.ordinal2lin=s.val2lin,o(t,"afterInit",g),o(t,"foundExtremes",x),o(t,"afterSetScale",f),o(t,"initialAxisTranslation",m),o(i,"pan",v),o(i,"touchpan",v),o(e,"updatedData",k)),t};class D{constructor(t){this.index={},this.axis=t}beforeSetTickPositions(){let t=this.axis,e=t.ordinal,i=t.getExtremes(),s=i.min,o=i.max,r=t.brokenAxis?.hasBreaks,a=t.options.ordinal,n,l,h,d,p,c,u,g=[],x=Number.MAX_VALUE,f=!1,m=!1,v=!1;if(a||r){let i=0;if(t.series.forEach(function(t,e){if(l=[],0<e&&"highcharts-navigator-series"!==t.options.id&&1<t.processedXData.length&&(m=i!==t.processedXData[1]-t.processedXData[0]),i=t.processedXData[1]-t.processedXData[0],t.boosted&&(v=t.boosted),t.reserveSpace()&&(!1!==t.takeOrdinalPosition||r)&&(n=(g=g.concat(t.processedXData)).length,g.sort(function(t,e){return t-e}),x=Math.min(x,S(t.closestPointRange,x)),n)){for(e=0;e<n-1;)g[e]!==g[e+1]&&l.push(g[e+1]),e++;l[0]!==g[0]&&l.unshift(g[0]),g=l}}),t.ordinal.originalOrdinalRange||(t.ordinal.originalOrdinalRange=(g.length-1)*x),m&&v&&(g.pop(),g.shift()),2<(n=g.length)){for(h=g[1]-g[0],u=n-1;u--&&!f;)g[u+1]-g[u]!=h&&(f=!0);!t.options.keepOrdinalPadding&&(g[0]-s>h||o-g[g.length-1]>h)&&(f=!0)}else t.options.overscroll&&(2===n?x=g[1]-g[0]:1===n?(x=t.ordinal.convertOverscroll(t.options.overscroll),g=[g[0],g[0]+x]):x=e.overscrollPointsRange);f||t.forceOrdinal?(t.options.overscroll&&(e.overscrollPointsRange=x,g=g.concat(e.getOverscrollPositions())),e.positions=g,d=t.ordinal2lin(Math.max(s,g[0]),!0),p=Math.max(t.ordinal2lin(Math.min(o,g[g.length-1]),!0),1),e.slope=c=(o-s)/(p-d),e.offset=s-d*c):(e.overscrollPointsRange=S(t.closestPointRange,e.overscrollPointsRange),e.positions=t.ordinal.slope=e.offset=void 0)}t.isOrdinal=a&&f,e.groupIntervalFactor=null}static findIndexOf(t,e,i){let s=0,o=t.length-1,r;for(;s<o;)t[r=Math.ceil((s+o)/2)]<=e?s=r:o=r-1;return t[s]===e||i?s:-1}getExtendedPositions(e=!0){let i=this,t=i.axis,s=t.constructor.prototype,o=t.chart,r=t.series[0]?.currentDataGrouping,a=r?r.count+r.unitName:"raw",n=e?t.ordinal.convertOverscroll(t.options.overscroll):0,l=t.getExtremes(),h,d,p=i.index;return(p=p||(i.index={}))[a]||((h={series:[],chart:o,forceOrdinal:!1,getExtremes:function(){return{min:l.dataMin,max:l.dataMax+n}},applyGrouping:s.applyGrouping,getGroupPixelWidth:s.getGroupPixelWidth,getTimeTicks:s.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:s.ordinal2lin,getIndexOfPoint:s.getIndexOfPoint,val2lin:s.val2lin}).ordinal.axis=h,t.series.forEach(function(t){d={xAxis:h,xData:t.xData.slice(),chart:o,groupPixelWidth:t.groupPixelWidth,destroyGroupedData:c.noop,getProcessedData:u.prototype.getProcessedData,applyGrouping:u.prototype.applyGrouping,reserveSpace:u.prototype.reserveSpace,visible:t.visible},e&&(d.xData=d.xData.concat(i.getOverscrollPositions())),d.options={dataGrouping:r?{firstAnchor:t.options.dataGrouping?.firstAnchor,anchor:t.options.dataGrouping?.anchor,lastAnchor:t.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},h.series.push(d),t.processData.apply(d)}),h.applyGrouping({hasExtremesChanged:!0}),d?.closestPointRange!==d?.basePointRange&&d.currentDataGrouping&&(h.forceOrdinal=!0),t.ordinal.beforeSetTickPositions.apply({axis:h}),!t.ordinal.originalOrdinalRange&&h.ordinal.originalOrdinalRange&&(t.ordinal.originalOrdinalRange=h.ordinal.originalOrdinalRange),p[a]=h.ordinal.positions),p[a]}getGroupIntervalFactor(t,e,i){let s=i.processedXData,o=s.length,r=[],a,n,l=this.groupIntervalFactor;if(!l){for(n=0;n<o-1;n++)r[n]=s[n+1]-s[n];r.sort(function(t,e){return t-e}),a=r[Math.floor(o/2)],t=Math.max(t,s[0]),e=Math.min(e,s[o-1]),this.groupIntervalFactor=l=o*a/(e-t)}return l}getIndexOfPoint(t,e){let i,s=this.axis,o=0;s.series.forEach(t=>{var e=t.points?.[0];y(e?.plotX)&&(e.plotX<i||!y(i))&&function(t){let{min:e,max:i}=s;return!(!y(e)||!y(i))&&t.points.some(t=>t.x>=e&&t.x<=i)}(t)&&(i=e.plotX,o=e.x)}),i=i??s.minPixelPadding;var r=s.translationSlope*(this.slope||s.closestPointRange||this.overscrollPointsRange),t=h((t-i)/r);return D.findIndexOf(e,o,!0)+t}getOverscrollPositions(){let t=this.axis,e=this.convertOverscroll(t.options.overscroll),i=this.overscrollPointsRange,s=[],o=t.dataMax;if(y(i))for(;o<=t.dataMax+e;)s.push(o+=i);return s}postProcessTickInterval(t){var e=this.axis,i=this.slope;return i?e.options.breaks?e.closestPointRange||t:t/(i/e.closestPointRange):t}convertOverscroll(t=0){function e(t){return S(i.originalOrdinalRange,y(s.dataMax)&&y(s.dataMin)?s.dataMax-s.dataMin:0)*t}let i=this,s=i.axis;var o;return r(t)?(o=parseInt(t,10),/%$/.test(t)?e(o/100):/px/.test(t)?e((o=Math.min(o,.9*s.len)/s.len)/(1-o)):0):t}}a.Additions=D}return i}),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"â†’"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(t,e,s,i){let r,o=t["defaultOptions"],a=e["composed"],{addEvent:n,defined:l,extend:h,isNumber:d,merge:p,pick:c,pushUnique:u}=i,g=[];function x(){function t(t,e){let i="year"===r?"FullYear":"Month",s=new a.Date(t),o=a.get(i,s);return a.set(i,s,o+e),o===a.get(i,s)&&a.set("Date",s,0),s.getTime()-t}let e,i,s=this.range,r=s.type,o=this.max,a=this.chart.time;d(s)?(e=o-s,i=s):s&&(e=o+t(o,-(s.count||1)),this.chart&&this.chart.setFixedRange(o-e));var n=c(this.dataMin,Number.MIN_VALUE);return(e=d(e)?e:n)<=n&&(e=n,void 0===i&&(i=t(e,s.count)),this.newMax=Math.min(e+i,c(this.dataMax,Number.MAX_VALUE))),d(o)?!d(s)&&s&&s._offsetMin&&(e+=s._offsetMin):e=void 0,e}function f(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new r(this))}function m(){let t=this.rangeSelector;var e;t&&(d(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),e=t.options.verticalAlign,t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)))}function v(){let s,o=this.rangeSelector;if(o){let t=this.xAxis[0].getExtremes(),e=this.legend,i=o&&o.options.verticalAlign;d(t.min)&&o.render(t.min,t.max),e.display&&"top"===i&&i===e.options.verticalAlign&&(s=p(this.spacingBox),"vertical"===e.options.layout?s.y=this.plotTop:s.y+=o.getHeight(),e.group.placed=!1,e.align(s))}}function b(){for(let e=0,t=g.length;e<t;++e){let t=g[e];if(t[0]===this)return t[1].forEach(t=>t()),void g.splice(e,1)}}function y(){let t=this.rangeSelector;var e;t&&(e=t.getHeight(),this.extraTopMargin&&(this.plotTop+=e),this.extraBottomMargin&&(this.marginBottom+=e))}function M(t){let e=t.options.rangeSelector,i=this.extraBottomMargin,s=this.extraTopMargin,o=this.rangeSelector;e&&e.enabled&&!l(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new r(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(t=e&&e.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)),this.extraBottomMargin===i&&this.extraTopMargin===s||(this.isDirtyBox=!0))}return{compose:function(e,i,t){if(r=t,u(a,"RangeSelector")){let t=i.prototype;e.prototype.minFromRange=x,n(i,"afterGetContainer",f),n(i,"beforeRender",m),n(i,"destroy",b),n(i,"getMargins",y),n(i,"redraw",v),n(i,"update",M),t.callbacks.push(v),h(o,{rangeSelector:s.rangeSelector}),h(o.lang,s.lang)}}}}),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"],t["Core/Axis/OrdinalAxis.js"]],function(v,t,f,i,s,e,D){let w=t["defaultOptions"],{addEvent:b,createElement:m,css:E,defined:y,destroyObjectProperties:o,discardElement:r,extend:M,fireEvent:S,isNumber:O,merge:A,objectEach:a,pad:n,pick:k,pInt:l,splat:C}=e;class h{static compose(t,e){i.compose(t,e,h)}constructor(t){this.buttonOptions=h.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(t)}clickButton(t,e){let i=this.chart,s=this.buttonOptions[t],o=i.xAxis[0],r=i.scroller&&i.scroller.getUnionExtremes()||o||{},a=s.type,n=s.dataGrouping,l=r.dataMin,h=r.dataMax,d,p=o&&Math.round(Math.min(o.max,k(h,o.max))),c,u=s._range,g,x,f,m=!0;if(null!==l&&null!==h){if(this.setSelected(t),n&&(this.forcedDataGrouping=!0,v.prototype.setDataGrouping.call(o||{chart:this.chart},n,!1),this.frozenStates=s.preserveDataGrouping),"month"===a||"year"===a)o?(x={range:s,max:p,chart:i,dataMin:l,dataMax:h},d=o.minFromRange.call(x),O(x.newMax)&&(p=x.newMax),m=!1):u=s;else if(u)p=Math.min((d=Math.max(p-u,l))+u,h),m=!1;else if("ytd"===a){if(!o)return void(this.deferredYTDClick=t);void 0!==h&&void 0!==l||(l=Number.MAX_VALUE,h=Number.MIN_VALUE,i.series.forEach(t=>{t=t.xData;t&&(l=Math.min(t[0],l),h=Math.max(t[t.length-1],h))}),e=!1),d=g=(f=this.getYTDExtremes(h,l,i.time.useUTC)).min,p=f.max}else"all"===a&&o&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),d=l,p=h);if(m&&s._offsetMin&&y(d)&&(d+=s._offsetMin),s._offsetMax&&y(p)&&(p+=s._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),o)o.setExtremes(d,p,k(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:s}),i.setFixedRange(s._range);else{c=C(i.options.xAxis)[0];let e=b(i,"afterGetAxes",function(){let t=i.xAxis[0];t.range=t.options.range=u,t.min=t.options.min=g});b(i,"load",function(){let t=i.xAxis[0];i.setFixedRange(s._range),t.options.range=c.range,t.options.min=c.min,e()})}S(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&S(t,"blur"),e&&e.blur&&S(e,"blur")}let i=this,s=e.options.rangeSelector,o=s.buttons||i.defaultButtons.slice(),r=s.selected;i.chart=e,i.options=s,i.buttons=[],i.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(b(e.container,"mousedown",t)),this.eventsToUnbind.push(b(e,"resize",t)),o.forEach(i.computeButtonRange),void 0!==r&&o[r]&&this.clickButton(r,!1),this.eventsToUnbind.push(b(e,"load",function(){e.xAxis&&e.xAxis[0]&&b(e.xAxis[0],"setExtremes",function(t){O(this.max)&&O(this.min)&&this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let c=this,t=this.chart,s=this.dropdown,o=this.dropdownLabel,u=t.xAxis[0],g=Math.round(u.max-u.min),x=!u.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||u,f=e.dataMin,m=e.dataMax,i=c.getYTDExtremes(m,f,t.time.useUTC),v=i.min,b=i.max,y=c.selected,M=c.options.allButtonsEnabled,S=Array(c.buttonOptions.length).fill(0),A=O(y),r=c.buttons,k=!1,C=null;c.buttonOptions.forEach((t,e)=>{let i=t._range,s=t.type,o=t.count||1,r=t._offsetMax-t._offsetMin,a=e===y,n=i>m-f,l=i<u.minRange,h=!1,d=i===g;a&&n&&(k=!0),u.isOrdinal&&u.ordinal?.positions&&i&&g<i?(t=u.ordinal.positions,p=D.Additions.findIndexOf(t,u.min,!0),t[Math.min(D.Additions.findIndexOf(t,u.max,!0)+1,t.length-1)]-t[p]>i&&(d=!0)):("month"===s||"year"===s)&&g+36e5>=864e5*{month:28,year:365}[s]*o-r&&g-36e5<=864e5*{month:31,year:366}[s]*o+r?d=!0:"ytd"===s?(d=b-v+r===g,h=!a):"all"===s&&(d=u.max-u.min>=m-f);var t=!M&&!(k&&"all"===s)&&(n||l||x),p=k&&"all"===s||!h&&d||a&&c.frozenStates;t?S[e]=3:!p||A&&e!==y||(C=e)}),null!==C?(S[C]=2,c.setSelected(C)):(c.setSelected(),o&&(o.setState(0),o.attr({text:(w.lang.rangeSelectorZoom||"")+" â–¾"})));for(let i=0;i<S.length;i++){let t=S[i],e=r[i];var a;e.state!==t&&(e.setState(t),s)&&(s.options[i+1].disabled=3===t,2===t&&(o&&(o.setState(2),o.attr({text:c.buttonOptions[i].text+" â–¾"})),s.selectedIndex=i+1),a=o.getBBox(),E(s,{width:a.width+"px",height:a.height+"px"}))}}computeButtonRange(t){var e=t.type,i=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[e]?t._range=s[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=k(t.offsetMin,0),t._offsetMax=k(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let e="min"===t?this.minInput:this.maxInput,i=this.chart.options.rangeSelector,s=this.chart.time;return e?("text"===e.type&&i.inputDateParser||this.defaultInputDateParser)(e.value,s.useUTC,s):0}setInputValue(i,s){let o=this.options,r=this.chart.time,a="min"===i?this.minInput:this.maxInput,n="min"===i?this.minDateBox:this.maxDateBox;if(a){let t=a.getAttribute("data-hc-time"),e=y(t)?Number(t):void 0;y(s)&&(i=e,y(i)&&a.setAttribute("data-hc-time-previous",i),a.setAttribute("data-hc-time",s),e=s),a.value=r.dateFormat(this.inputTypeFormats[a.type]||o.inputEditDateFormat,e),n&&n.attr({text:r.dateFormat(o.inputDateFormat,e)})}}setInputExtremes(i,s,o){let r="min"===i?this.minInput:this.maxInput;if(r){let t=this.inputTypeFormats[r.type],e=this.chart.time;t&&(i=e.dateFormat(t,s),r.min!==i&&(r.min=i),s=e.dateFormat(t,o),r.max!==s&&(r.max=s))}}showInput(t){var e,i,s,o,r,a,n="min"===t?this.minDateBox:this.maxDateBox,t="min"===t?this.minInput:this.maxInput;t&&n&&this.inputGroup&&(e="text"===t.type,{translateX:i=0,translateY:s=0}=this.inputGroup,{x:n=0,width:o=0,height:r=0}=n,a=this.options["inputBoxWidth"],E(t,{width:e?o+(a?-2:20)+"px":"auto",height:r-2+"px",border:"2px solid silver"}),e&&a?E(t,{left:i+n+"px",top:s+"px"}):E(t,{left:Math.min(Math.round(n+i-(t.offsetWidth-o)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:s-(t.offsetHeight-r)/2+"px"}))}hideInput(t){t="min"===t?this.minInput:this.maxInput;t&&E(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){let s=t.split("/").join("-").split(" ").join("T");if(-1===s.indexOf("T")&&(s+="T00:00"),e)s+="Z";else{let t;!f.isSafari||6<(t=s).length&&(t.lastIndexOf("-")===t.length-6||t.lastIndexOf("+")===t.length-6)||(r=new Date(s).getTimezoneOffset()/60,s+=r<=0?`+${n(-r)}:00`:`-${n(r)}:00`)}let o=Date.parse(s);var r;return O(o)||(r=t.split("-"),o=Date.UTC(l(r[0]),l(r[1])-1,l(r[2]))),i&&e&&O(o)&&(o+=i.getTimezoneOffset(o)),o}drawInput(e){let{chart:h,div:t,inputGroup:i}=this,d=this,s=h.renderer.style||{},o=h.renderer,r=h.options.rangeSelector,a=w.lang,p="min"===e;function n(t){let{maxInput:e,minInput:i}=d,s=h.xAxis[0],o=h.scroller?.getUnionExtremes()||s,r=o.dataMin,a=o.dataMax,n=h.xAxis[0].getExtremes()[t],l=d.getInputValue(t);O(l)&&l!==n&&(p&&e&&O(r)?l>Number(e.getAttribute("data-hc-time"))?l=void 0:l<r&&(l=r):i&&O(a)&&(l<Number(i.getAttribute("data-hc-time"))?l=void 0:l>a&&(l=a)),void 0!==l&&s.setExtremes(p?l:s.min,p?s.max:l,void 0,void 0,{trigger:"rangeSelectorInput"}))}let l=a[p?"rangeSelectorFrom":"rangeSelectorTo"]||"",c=o.label(l,0).addClass("highcharts-range-label").attr({padding:l?2:0,height:l?r.inputBoxHeight:0}).add(i),u=o.label("",0).addClass("highcharts-range-input").attr({padding:2,width:r.inputBoxWidth,height:r.inputBoxHeight,"text-align":"center"}).on("click",function(){d.showInput(e),d[e+"Input"].focus()}),g=(h.styledMode||u.attr({stroke:r.inputBoxBorderColor,"stroke-width":1}),u.add(i),m("input",{name:e,className:"highcharts-range-selector"},void 0,t)),x=(g.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t=["a","A","d","e","w","b","B","m","o","y","Y"].some(t=>-1!==e.indexOf("%"+t)),i=["H","k","I","l","M","S"].some(t=>-1!==e.indexOf("%"+t));return t&&i?"datetime-local":t?"date":i?"time":"text"}(r.inputDateFormat||"%e %b %Y")),h.styledMode||(c.css(A(s,r.labelStyle)),u.css(A({color:"#333333"},s,r.inputStyle)),E(g,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:"-9999em"},r.inputStyle))),g.onfocus=()=>{d.showInput(e)},!(g.onblur=()=>{g===f.doc.activeElement&&n(e),d.hideInput(e),d.setInputValue(e),g.blur()}));return g.onchange=()=>{x||(n(e),d.hideInput(e),g.blur())},g.onkeypress=t=>{13===t.keyCode&&n(e)},g.onkeydown=t=>{x=!0,"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Tab"!==t.key||n(e)},g.onkeyup=()=>{x=!1},{dateBox:u,input:g,label:c}}getPosition(){var t=this.chart,e=t.options.rangeSelector,t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:t+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){let s=this.chart.time,o=new s.Date(t),r=s.get("FullYear",o),a=Math.max(e,i?s.Date.UTC(r,0,1):+new s.Date(r,0,1)),n=o.getTime();return{max:Math.min(t||n,n),min:a}}createElements(){let t=this.chart,e=t.renderer,i=t.container,s=t.options,o=s.rangeSelector,r=o.inputEnabled,a=k(s.chart.style?.zIndex,0)+1;var n;!1!==o.enabled&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=m("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),i.parentNode&&i.parentNode.insertBefore(this.div,i),r)&&(this.inputGroup=e.g("input-group").add(this.group),n=this.drawInput("min"),this.minDateBox=n.dateBox,this.minLabel=n.label,this.minInput=n.input,n=this.drawInput("max"),this.maxDateBox=n.dateBox,this.maxLabel=n.label,this.maxInput=n.input)}render(t,e){let i=this.chart,s=i.options.rangeSelector,o=s.inputEnabled;if(!1!==s.enabled){if(o){this.setInputValue("min",t),this.setInputValue("max",e);t=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{};if(y(t.dataMin)&&y(t.dataMax)&&(e=i.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-e),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+e,t.dataMax)),this.inputGroup){let i=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(t=>{var e;t&&(e=t.getBBox()["width"],e&&(t.attr({x:i}),i+=e+s.inputSpacing))})}}this.alignElements(),this.updateButtonStates()}}renderButtons(){let{buttons:t,chart:e,options:i}=this,s=w.lang,r=e.renderer,a=A(i.buttonTheme),n=a&&a.states,l=a.width||28,h=(delete a.width,delete a.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group),this.dropdown=m("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div)),o=e.userOptions.rangeSelector?.buttonTheme,d=(this.dropdownLabel=r.button("",0,0,()=>{},A(a,{"stroke-width":k(a["stroke-width"],0),width:"auto",paddingLeft:k(i.buttonTheme.paddingLeft,o?.padding,8),paddingRight:k(i.buttonTheme.paddingRight,o?.padding,8)}),n&&n.hover,n&&n.select,n&&n.disabled).hide().add(this.group),b(h,"touchstart",()=>{h.style.fontSize="16px"}),f.isMS?"mouseover":"mouseenter"),p=f.isMS?"mouseout":"mouseleave";b(h,d,()=>{S(this.dropdownLabel.element,d)}),b(h,p,()=>{S(this.dropdownLabel.element,p)}),b(h,"change",()=>{S(this.buttons[h.selectedIndex-1].element,"click")}),this.zoomText=r.label(s.rangeSelectorZoom||"",0).attr({padding:i.buttonTheme.padding,height:i.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(i.labelStyle),a["stroke-width"]=k(a["stroke-width"],0)),m("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,h),this.buttonOptions.forEach((s,o)=>{m("option",{textContent:s.title||s.text},void 0,h),t[o]=r.button(s.text,0,0,t=>{let e,i=s.events&&s.events.click;!1!==(e=i?i.call(s,t):e)&&this.clickButton(o),this.isActive=!0},a,n&&n.hover,n&&n.select,n&&n.disabled).attr({"text-align":"center",width:l}).add(this.buttonGroup),s.title&&t[o].attr("title",s.title)})}alignElements(){let{buttonGroup:l,buttons:h,chart:d,group:p,inputGroup:c,options:u,zoomText:g}=this,t=d.options,i=t.exporting&&!1!==t.exporting.enabled&&t.navigation&&t.navigation.buttonOptions,{buttonPosition:x,inputPosition:f,verticalAlign:m}=u,v=(t,e)=>i&&this.titleCollision(d)&&"top"===m&&"right"===e.align&&e.y-t.getBBox().height-12<(i.y||0)+(i.height||0)+d.spacing[0]?-40:0,b=d.plotLeft;if(p&&x&&f){let t=x.x-d.spacing[3];if(l){if(this.positionButtons(),!this.initialButtonGroupWidth){let i=0;g&&(i+=g.getBBox().width+5),h.forEach((t,e)=>{i+=t.width||0,e!==h.length-1&&(i+=u.buttonSpacing)}),this.initialButtonGroupWidth=i}b-=d.spacing[3];var y=v(l,x);this.alignButtonGroup(y),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),p.placed=l.placed=d.hasLoaded}let e=0,i=(c&&(e=v(c,f),"left"===f.align?t=b:"right"===f.align&&(t=-Math.max(d.axisOffset[1],-e)),c.align({y:f.y,width:c.getBBox().width,align:f.align,x:f.x+t-2},!0,d.spacingBox),c.placed=d.hasLoaded),this.handleCollision(e),p.align({verticalAlign:m},!0,d.spacingBox),p.alignAttr.translateY),s=p.getBBox().height+20,o=0;"bottom"===m&&(y=d.legend&&d.legend.options,o=i-(s=s+(y&&"bottom"===y.verticalAlign&&y.enabled&&!y.floating?d.legend.legendHeight+k(y.margin,10):0)-20)-(u.floating?0:u.y)-(d.titleOffset?d.titleOffset[2]:0)-10),"top"===m?(u.floating&&(o=0),d.titleOffset&&d.titleOffset[0]&&(o=d.titleOffset[0]),o+=d.margin[0]-d.spacing[0]||0):"middle"===m&&(f.y===x.y?o=i:(f.y||x.y)&&(f.y<0||x.y<0?o-=Math.min(f.y,x.y):o=i-s)),p.translate(u.x,u.y+Math.floor(o));let{minInput:r,maxInput:a,dropdown:n}=this;u.inputEnabled&&r&&a&&(r.style.marginTop=p.translateY+"px",a.style.marginTop=p.translateY+"px"),n&&(n.style.marginTop=p.translateY+"px")}}alignButtonGroup(t,e){let{chart:i,options:s,buttonGroup:o}=this,r=s["buttonPosition"],a=i.plotLeft-i.spacing[3],n=r.x-i.spacing[3];"right"===r.align?n+=t-a:"center"===r.align&&(n-=a/2),o&&o.align({y:r.y,width:k(e,this.initialButtonGroupWidth),align:r.align,x:n},!0,i.spacingBox)}positionButtons(){let{buttons:i,chart:t,options:s,zoomText:e}=this,o=t.hasLoaded?"animate":"attr",r=s["buttonPosition"],a=t.plotLeft,n=a;e&&"hidden"!==e.visibility&&(e[o]({x:k(a+r.x,a)}),n+=r.x+e.getBBox().width+5);for(let t=0,e=this.buttonOptions.length;t<e;++t)"hidden"!==i[t].visibility?(i[t][o]({x:n}),n+=(i[t].width||0)+s.buttonSpacing):i[t][o]({x:a})}handleCollision(o){let{chart:t,buttonGroup:r,inputGroup:a}=this,{buttonPosition:n,dropdown:e,inputPosition:l}=this.options,i=()=>{let e=0;return this.buttons.forEach(t=>{t=t.getBBox();t.width>e&&(e=t.width)}),e},s=t=>{var e,i,s;return!(!a?.alignOptions||!r)&&(e=a.alignAttr.translateX+a.alignOptions.x-o+a.getBBox().x+2,i=a.alignOptions.width||0,e<(s=r.alignAttr.translateX+r.getBBox().x)+t&&s<e+i&&n.y<l.y+a.getBBox().height)},h=()=>{a&&r&&a.attr({translateX:a.alignAttr.translateX+(t.axisOffset[1]>=-o?0:-o),translateY:a.alignAttr.translateY+r.getBBox().height+10})};if(r){if("always"===e)return this.collapseButtons(),void(s(i())&&h());"never"===e&&this.expandButtons()}a&&r?l.align===n.align||s(this.initialButtonGroupWidth+20)?"responsive"===e?(this.collapseButtons(),s(i())&&h()):h():"responsive"===e&&this.expandButtons():r&&"responsive"===e&&(this.initialButtonGroupWidth>t.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){let{buttons:t,zoomText:e}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,e.hide(),t.forEach(t=>{t.hide()}),this.showDropdown())}expandButtons(){let{buttons:t,zoomText:e}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),e.show(),t.forEach(t=>{t.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:t,chart:e,dropdownLabel:i,dropdown:s}=this;var o,r;t&&s&&({translateX:r=0,translateY:o=0}=t,r=e.plotLeft+r,i.attr({x:r,y:o}).show(),E(s,{left:r+"px",top:o+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){var t=this["dropdown"];t&&(this.dropdownLabel.hide(),E(t,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,e=this.group,i=t.inputPosition,s=t.buttonPosition,o=t.y,r=s.y,a=i.y,n=0;if(t.height)return t.height;this.alignElements(),n=e?e.getBBox(!0).height+13+o:0;var l=Math.min(a,r);return(a<0&&r<0||0<a&&0<r)&&(n+=Math.abs(l)),n}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t,e=!0){var i=this.chart;A(!0,i.options.rangeSelector,t),this.destroy(),this.init(i),e&&this.render()}destroy(){let i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(t=>t()),i.eventsToUnbind=void 0),o(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),a(i,function(t,e){t&&"chart"!==e&&(t instanceof s?t.destroy():t instanceof window.HTMLElement&&r(t)),t!==h.prototype[e]&&(i[e]=null)},this)}}return M(h.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),h}),e(t,"Core/Chart/StockChart.js",[t["Core/Chart/Chart.js"],t["Core/Templating.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Stock/Utilities/StockUtilities.js"],t["Core/Utilities.js"]],function(t,e,i,n,l,h,s,o){let D=e["format"],d=i["getOptions"],r=s["setFixedRange"],{addEvent:a,clamp:S,crisp:p,defined:A,extend:w,find:k,isNumber:E,isString:C,merge:c,pick:O,splat:u}=o;function g(t,e,i){return"xAxis"===t?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===t?{labels:{y:-2},opposite:i.opposite??e.opposite??!0,showLastLabel:!(!e.categories&&"category"!==e.type),title:{text:"Values"!==i.title?.text?i.title?.text:null}}:{}}function x(t,i){if("xAxis"!==t)return{};{let t=O(i.navigator&&i.navigator.enabled,n.enabled,!0),e={type:"datetime",categories:void 0};return t&&(e.startOnTick=!1,e.endOnTick=!1),e}}class f extends t{init(e,t){let i=d(),s=e.xAxis,o=e.yAxis,r=O(e.navigator&&e.navigator.enabled,n.enabled,!0),a=(e.xAxis=e.yAxis=void 0,c({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:r},scrollbar:{enabled:O(h.enabled,!0)},rangeSelector:{enabled:O(l.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:O(i.tooltip&&i.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},e,{isStock:!0}));e.xAxis=s,e.yAxis=o,a.xAxis=u(e.xAxis||{}).map(t=>c(g("xAxis",t,i.xAxis),t,x("xAxis",e))),a.yAxis=u(e.yAxis||{}).map(t=>c(g("yAxis",t,i.yAxis),t)),super.init(a,t)}createAxis(t,e){return e.axis=c(g(t,e.axis,d()[t]),e.axis,x(t,this.userOptions)),super.createAxis(t,e)}}return a(t,"update",function(t){let e=t.options;"scrollbar"in e&&this.navigator&&(c(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete e.scrollbar)}),(G=f=f||{}).compose=function(t,e,i,s){let o=i.prototype;o.forceCropping||(a(e,"afterDrawCrosshair",m),a(e,"afterHideCrosshair",v),a(e,"autoLabelAlign",b),a(e,"destroy",y),a(e,"getPlotLinePath",M),t.prototype.setFixedRange=r,o.forceCropping=P,a(i,"setOptions",B),s.prototype.crispPolyLine=T)},G.stockChart=function(t,e,i){return new G(t,e,i)},f;function m(k){if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){let t=this.chart,e=this.logarithmic,i=this.crosshair.label,s=this.horiz,o=this.opposite,r=this.left,a=this.top,n=this.width,l="inside"===this.options.tickPosition,h=!1!==this.crosshair.snap,d=k.e||this.cross&&this.cross.e,p=k.point,c=this.crossLabel,u,g,x=i.format,f="",m,v=0,b=this.min,y=this.max;e&&(b=e.lin2log(this.min),y=e.lin2log(this.max));k=s?"center":o?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";c||(c=this.crossLabel=t.renderer.label("",0,void 0,i.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(p&&p.series?p.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:i.align||k,padding:O(i.padding,8),r:O(i.borderRadius,3),zIndex:2}).add(this.labelGroup),t.styledMode||c.attr({fill:i.backgroundColor||p&&p.series&&p.series.color||"#666666",stroke:i.borderColor||"","stroke-width":i.borderWidth||0}).css(w({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},i.style||{}))),g=s?(u=h?(p.plotX||0)+r:d.chartX,a+(o?0:this.height)):(u=r+this.offset+(o?n:0),h?(p.plotY||0)+a:d.chartY),x||i.formatter||(this.dateTime&&(f="%b %d, %Y"),x="{value"+(f?":"+f:"")+"}");let M=h?this.isXAxis?p.x:p.y:this.toValue(s?d.chartX:d.chartY),S=p&&p.series?p.series.isPointInside(p):E(M)&&M>b&&M<y,A="";x?A=D(x,{value:M},t):i.formatter&&E(M)&&(A=i.formatter.call(this,M)),c.attr({text:A,x:u,y:g,visibility:S?"inherit":"hidden"});var k=c.getBBox(),C=(!E(c.x)||s||o||(u=c.x-k.width/2),E(c.y)&&(s?(l&&!o||!l&&o)&&(g=c.y-k.height):g=c.y-k.height/2),m=s?{left:r,right:r+this.width}:{left:"left"===this.labelAlign?r:0,right:"right"===this.labelAlign?r+this.width:t.chartWidth},c.translateX||0);C<m.left&&(v=m.left-C),C+k.width>=m.right&&(v=-(C+k.width-m.right)),c.attr({x:u+v,y:g,anchorX:s?u:this.opposite?0:t.chartWidth,anchorY:s?this.opposite?t.chartHeight:0:g+k.height/2})}}function v(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function b(t){let e=this.chart,i=this.options,s=e._labelPanes=e._labelPanes||{},o=i.labels;var r;e.options.isStock&&"yAxis"===this.coll&&(r=i.top+","+i.height,!s[r]&&o.enabled&&(15===o.distance&&1===this.side&&(o.distance=0),void 0===o.align&&(o.align="right"),s[r]=this,t.align="right",t.preventDefault()))}function y(){let t=this.chart,e=this.options&&this.options.top+","+this.options.height;e&&t._labelPanes&&t._labelPanes[e]===this&&delete t._labelPanes[e]}function M(t){let i=this,s=(i.isLinked&&!i.series&&i.linkedParent?i.linkedParent:i).series,o=i.chart,e=o.renderer,r=i.left,a=i.top,n=[],l=t.translatedValue,h=t.value,d=t.force,p,c,u,g,x=[],f,m;if(o.options.isStock&&!1!==t.acrossPanes&&"xAxis"===i.coll||"yAxis"===i.coll){for(var v of(t.preventDefault(),x=(()=>{let e="xAxis"===i.coll?"yAxis":"xAxis",t=i.options[e];return E(t)?[o[e][t]]:C(t)?[o.get(t)]:s.map(t=>t[e])})(),i.isXAxis?o.yAxis:o.xAxis)){var b;v.options.isInternal||(b=v.isXAxis?"yAxis":"xAxis",i===(A(v.options[b])?o[b][v.options[b]]:o[b][0])&&x.push(v))}for(let e of(f=x.length?[]:[(i.isXAxis?o.yAxis:o.xAxis)[0]],x))-1!==f.indexOf(e)||k(f,t=>t.pos===e.pos&&t.len===e.len)||f.push(e);if(E(m=O(l,i.translate(h||0,void 0,void 0,t.old))))if(i.horiz)for(var y of f){let t;g=(c=y.pos)+y.len,p=u=Math.round(m+i.transB),"pass"!==d&&(p<r||p>r+i.width)&&(d?p=u=S(p,r,r+i.width):t=!0),t||n.push(["M",p,c],["L",u,g])}else for(var M of f){let t;u=(p=M.pos)+M.len,c=g=Math.round(a+i.height-m),"pass"!==d&&(c<a||c>a+i.height)&&(d?c=g=S(c,a,a+i.height):t=!0),t||n.push(["M",p,c],["L",u,g])}t.path=0<n.length?e.crispPolyLine(n,t.lineWidth||1):void 0}}function B(e){if(this.chart.options.isStock){let t;this.is("column")||this.is("columnrange")?t={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(t={marker:{enabled:!1,radius:2}}),t&&(e.plotOptions[this.type]=c(e.plotOptions[this.type],t))}}function P(){var t=this.chart,e=this.options.dataGrouping;return!1!==this.allowDG&&e&&O(e.enabled,t.options.isStock)}function T(s,o){for(let i=0;i<s.length;i+=2){let t=s[i],e=s[i+1];A(t[1])&&t[1]===e[1]&&(t[1]=e[1]=p(t[1],o)),A(t[2])&&t[2]===e[2]&&(t[2]=e[2]=p(t[2],o))}return s}var G}),e(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var{pointClass:t}=t.seriesTypes["column"]["prototype"];return class extends t{}}),e(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">â—</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),e(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){let o=i.seriesTypes["column"],{crisp:n,extend:r,merge:a}=s;class l extends o{extendStem(t,e,i){let s=t[0],o=t[1];"number"==typeof s[2]&&(s[2]=Math.max(i+e,s[2])),"number"==typeof o[2]&&(o[2]=Math.min(i-e,o[2]))}getPointPath(t,e){let i=e.strokeWidth(),s=t.series,o=n(t.plotX||0,i),r=Math.round(t.shapeArgs.width/2),a=[["M",o,Math.round(t.yBottom)],["L",o,Math.round(t.plotHigh)]];return null!==t.close&&(e=n(t.plotClose,i),a.push(["M",o,e],["L",o+r,e]),s.extendStem(a,i/2,e)),a}drawSinglePoint(t){let e=t.series,i=e.chart,s,o=t.graphic;void 0!==t.plotY&&(o||(t.graphic=o=i.renderer.path().add(e.group)),i.styledMode||o.attr(e.pointAttribs(t,t.selected&&"select")),s=e.getPointPath(t,o),o[o?"animate":"attr"]({d:s}).addClass(t.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e);return delete i.fill,i}toYData(t){return[t.high,t.low,t.close]}translate(){let o=this,r=o.yAxis,t=this.pointArrayMap&&this.pointArrayMap.slice()||[],a=t.map(t=>"plot"+(t.charAt(0).toUpperCase()+t.slice(1)));a.push("yBottom"),t.push("low"),super.translate.apply(o),o.points.forEach(function(s){t.forEach(function(t,e){let i=s[t];null!==i&&(o.dataModify&&(i=o.dataModify.modifyValue(i)),s[a[e]]=r.toPixels(i,!0))}),s.tooltipPos[1]=s.plotHigh+r.pos-o.chart.plotTop})}}return l.defaultOptions=a(o.defaultOptions,e),r(l.prototype,{pointClass:t,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),i.registerSeriesType("hlc",l),l}),e(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var t=t["seriesTypes"]["hlc"];class e extends t.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){var t=super.getZone();return this.resolveUpColor(),t}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return e}),e(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">â—</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),e(t,"Series/OHLC/OHLCSeries.js",[t["Core/Globals.js"],t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){let r=t["composed"],a=s.seriesTypes["hlc"],{addEvent:n,crisp:l,extend:h,merge:d,pushUnique:p}=o;function c(t){let e=t.options,i=e.dataGrouping;i&&e.useOhlcData&&"highcharts-navigator-series"!==e.id&&(i.approximation="ohlc")}function u(t){t=t.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&h(this,{pointValKey:g.prototype.pointValKey,pointArrayMap:g.prototype.pointArrayMap,toYData:g.prototype.toYData})}class g extends a{static compose(t){p(r,"OHLCSeries")&&(n(t,"afterSetOptions",c),n(t,"init",u))}getPointPath(t,e){let i=super.getPointPath(t,e),s=e.strokeWidth(),o=l(t.plotX||0,s),r=Math.round(t.shapeArgs.width/2);return null!==t.open&&(e=l(t.plotOpen,s),i.push(["M",o,e],["L",o-r,e]),super.extendStem(i,s/2,e)),i}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e),s=this.options;return delete i.fill,!t.options.color&&s.upColor&&t.open<t.close&&(i.stroke=s.upColor),i}toYData(t){return[t.open,t.high,t.low,t.close]}}return g.defaultOptions=d(a.defaultOptions,i),h(g.prototype,{pointClass:e,pointArrayMap:["open","high","low","close"]}),s.registerSeriesType("ohlc",g),g}),e(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[],function(){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),e(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){let{column:n,ohlc:s}=e.seriesTypes,{crisp:x,merge:o}=i;class r extends s{pointAttribs(t,e){let i=n.prototype.pointAttribs.call(this,t,e),s=this.options,o=t.open<t.close,r=s.lineColor||this.color,a=t.color||this.color;return i["stroke-width"]=s.lineWidth,i.fill=t.options.color||o&&s.upColor||a,i.stroke=t.options.lineColor||o&&s.upLineColor||r,e&&(t=s.states[e],i.fill=t.color||i.fill,i.stroke=t.lineColor||i.stroke,i["stroke-width"]=t.lineWidth||i["stroke-width"]),i}drawPoints(){let t=this.points,p=this.chart,c=this.yAxis.reversed;for(var u of t){let t=u.graphic,e,i,s,o,r,a,n,l,h,d=!t;var g;void 0!==u.plotY&&(t||(u.graphic=t=p.renderer.path().add(this.group)),this.chart.styledMode||t.attr(this.pointAttribs(u,u.selected&&"select")).shadow(this.options.shadow),g=t.strokeWidth(),n=x(u.plotX||0,g),s=Math.min(e=u.plotOpen,i=u.plotClose),o=Math.max(e,i),h=Math.round(u.shapeArgs.width/2),r=c?o!==u.yBottom:Math.round(s)!==Math.round(u.plotHigh||0),a=c?Math.round(s)!==Math.round(u.plotHigh||0):o!==u.yBottom,s=x(s,g),o=x(o,g),(l=[]).push(["M",n-h,o],["L",n-h,s],["L",n+h,s],["L",n+h,o],["Z"],["M",n,s],["L",n,r?Math.round(c?u.yBottom:u.plotHigh):s],["M",n,o],["L",n,a?Math.round(c?u.plotHigh:u.yBottom):o]),t[d?"attr":"animate"]({d:l}).addClass(u.getClassName(),!0))}}}return r.defaultOptions=o(s.defaultOptions,{tooltip:s.defaultOptions.tooltip},t),e.registerSeriesType("candlestick",r),r}),e(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){let{prototype:{pointClass:i}}=t.seriesTypes["column"],s=e["isNumber"];return class extends i{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return s(this.y)||void 0===this.y}hasNewShapeType(){var t=this.options.shape||this.series.options.shape;return this.graphic&&t&&t!==this.graphic.symbolKey}}}),e(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),e(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(t){var e;{var s=e=e||{};let i=[];function o(t,e,i,s,o){let r=o&&o.anchorX||t,a=o&&o.anchorY||e,n=this.circle(r-1,a-1,2,2);return n.push(["M",r,a],["L",t,e+s],["L",t,e],["L",t+i,e],["L",t+i,e+s],["L",t,e+s],["Z"]),n}function r(h,d){h[d+"pin"]=function(e,i,s,o,r){let a;var n=r&&r.anchorX,l=r&&r.anchorY;if("circle"===d&&s<o&&(e-=Math.round((o-s)/2),s=o),a=h[d](e,i,s,o,r),n&&l){let t=n;"circle"===d?t=e+s/2:(r=a[0],e=a[1],"M"===r[0]&&"L"===e[0]&&(t=(r[1]+e[1])/2));s=l<i?i:i+o;a.push(["M",t,s],["L",n,l]),a=a.concat(h.circle(n-1,l-1,2,2))}return a}}e.compose=function(e){if(-1===i.indexOf(e)){i.push(e);let t=e.prototype.symbols;t.flag=o,r(t,"circle"),r(t,"square")}e=t.getRendererType();i.indexOf(e)&&i.push(e)}}return e}),e(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i,s){var o;let r=e["composed"],k=t["prototype"],a=i["prototype"],{defined:C,pushUnique:n,stableSort:D}=s;return(e=o=o||{}).compose=function(e){if(n(r,"OnSeries")){let t=e.prototype;t.getPlotBox=l,t.translate=h}return e},e.getPlotBox=l,e.translate=h,o;function l(t){return a.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function h(){k.translate.apply(this);let s=this,t=s.options,e=s.chart,o=s.points,i=t.onSeries,r=i&&e.get(i),a=r&&r.options.step,n=r&&r.points,l=e.inverted,h=s.xAxis,d=s.yAxis,p=o.length-1,c,u,g=t.onKey||"y",x=n&&n.length,f=0,m,v,b,y,M;if(r&&r.visible&&x)for(f=(r.pointXOffset||0)+(r.barW||0)/2,y=r.currentDataGrouping,v=n[x-1].x+(y?y.totalRange:0),D(o,(t,e)=>t.x-e.x),g="plot"+g[0].toUpperCase()+g.substr(1);x--&&o[p];)if(m=n[x],(c=o[p]).y=m.y,m.x<=c.x&&void 0!==m[g]){if(c.x<=v&&(c.plotY=m[g],m.x<c.x&&!a&&(b=n[x+1])&&void 0!==b[g]))if(C(c.plotX)&&r.is("spline")){let i=[m.plotX||0,m.plotY||0],s=[b.plotX||0,b.plotY||0],o=m.controlPoints?.high||i,r=b.controlPoints?.low||s,e=(t,e)=>Math.pow(1-t,3)*i[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*r[e]+t*t*t*s[e],a=0,n=1,l;for(let t=0;t<100;t++){var S=(a+n)/2,A=e(S,0);if(null===A)break;if(Math.abs(A-c.plotX)<.25){l=S;break}A<c.plotX?a=S:n=S}C(l)&&(c.plotY=e(l,1),c.y=d.toValue(c.plotY,!0))}else M=(c.x-m.x)/(b.x-m.x),c.plotY+=M*(b[g]-m[g]),c.y+=M*(b.y-m.y);if(p--,x++,p<0)break}o.forEach((t,e)=>{let i;t.plotX+=f,void 0!==t.plotY&&!l||(0<=t.plotX&&t.plotX<=h.len?l?(t.plotY=h.translate(t.x,0,1,0,1),t.plotX=C(t.y)?d.translate(t.y,0,0,0,1):0):t.plotY=(h.opposite?0:s.yAxis.len)+h.offset:t.shapeArgs={}),(u=o[e-1])&&u.plotX===t.plotX&&(void 0===u.stackIndex&&(u.stackIndex=0),i=u.stackIndex+1),t.stackIndex=i}),this.onSeries=r}}),e(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,e,i,s,o,r,a,S,n){let l=s["noop"],A=r["distribute"],{series:h,seriesTypes:{column:d}}=a,{addEvent:p,defined:k,extend:c,isNumber:C,merge:D,objectEach:w,wrap:E}=n;class u extends d{animate(t){t&&this.setClip()}drawPoints(){let t,e,i,s,o,r,a,n,l,h,d,p=this.points,c=this.chart,u=c.renderer,g=c.inverted,x=this.options,f=x.y,m=this.yAxis,v={},b=[],y=C(x.borderRadius)?x.borderRadius:0;for(s=p.length;s--;)o=p[s],h=(g?o.plotY:o.plotX)>this.xAxis.len,t=o.plotX,a=o.stackIndex,i=o.options.shape||x.shape,void 0!==(e=o.plotY)&&(e=o.plotY+f-(void 0!==a&&a*x.stackDistance)),o.anchorX=a?void 0:o.plotX,n=a?void 0:o.plotY,d="flag"!==i,r=o.graphic,void 0!==e&&0<=t&&!h?((r=r&&o.hasNewShapeType()?r.destroy():r)||(r=o.graphic=u.label("",0,void 0,i,void 0,void 0,x.useHTML).addClass("highcharts-point").add(this.markerGroup),o.graphic.div&&(o.graphic.div.point=o),r.isNew=!0),r.attr({align:d?"center":"left",width:x.width,height:x.height,"text-align":x.textAlign,r:y}),c.styledMode||r.attr(this.pointAttribs(o)).css(D(x.style,o.style)).shadow(x.shadow),0<t&&(t-=r.strokeWidth()%2),l={y:e,anchorY:n},x.allowOverlapX&&(l.x=t,l.anchorX=o.anchorX),r.attr({text:o.options.title??x.title??"A"})[r.isNew?"attr":"animate"](l),x.allowOverlapX||(v[o.plotX]?v[o.plotX].size=Math.max(v[o.plotX].size,r.width||0):v[o.plotX]={align:d?.5:0,size:r.width||0,target:t,anchorX:t}),o.tooltipPos=[t,e+m.pos-c.plotTop]):r&&(o.graphic=r.destroy());if(!x.allowOverlapX){let e=100;for(var M of(w(v,function(t){t.plotX=t.anchorX,b.push(t),e=Math.max(t.size,e)}),A(b,(g?m:this.xAxis).len,e),p)){let t=M.plotX,e=M.graphic,i=e&&v[t];i&&e&&(k(i.pos)?e[e.isNew?"attr":"animate"]({x:i.pos+(i.align||0)*i.size,anchorX:M.anchorX}).show().isNew=!1:e.hide().isNew=!0)}}x.useHTML&&this.markerGroup&&E(this.markerGroup,"on",function(t){return S.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let s=this.points;for(let i of(super.drawTracker(),s)){let e=i.graphic;e&&(i.unbindMouseOver&&i.unbindMouseOver(),i.unbindMouseOver=p(e.element,"mouseover",function(){for(var t of(0<i.stackIndex&&!i.raised&&(i._y=e.y,e.attr({y:i._y-8}),i.raised=!0),s))t!==i&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)}))}}pointAttribs(t,e){let i=this.options,s=t&&t.color||this.color,o=i.lineColor,r=t&&t.lineWidth,a=t&&t.fillColor||i.fillColor;return e&&(a=i.states[e].fillColor,o=i.states[e].lineColor,r=i.states[e].lineWidth),{fill:a||s,stroke:o||s,"stroke-width":r||i.lineWidth||0}}setClip(){h.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return u.compose=i.compose,u.defaultOptions=D(d.defaultOptions,e),o.compose(u),c(u.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:t,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:l,init:h.prototype.init}),a.registerSeriesType("flags",u),u}),e(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(l,t){var e;let{addEvent:s,find:i,fireEvent:u,isArray:o,isNumber:g,pick:x}=t;{function r(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function a(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function n(){let s=this.brokenAxis;if(s?.hasBreaks){let e=this.tickPositions,t=this.tickPositions.info,i=[];for(let t=0;t<e.length;t++)s.isInAnyBreak(e[t])||i.push(e[t]);this.tickPositions=i,this.tickPositions.info=t}}function h(){this.brokenAxis||(this.brokenAxis=new m(this))}function d(){let{isDirty:t,options:{connectNulls:s},points:o,xAxis:r,yAxis:a}=this;if(t){let i=o.length;for(;i--;){let t=o[i],e=!(null===t.y&&!1===s)&&(r?.brokenAxis?.isInAnyBreak(t.x,!0)||a?.brokenAxis?.isInAnyBreak(t.y,!0));t.visible=!e&&!1!==t.options.visible}}}function p(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,x(this.pointArrayMap,["y"]))}function c(s,t){let o,r,a,n=this,l=n.points;if(s?.brokenAxis?.hasBreaks){let i=s.brokenAxis;t.forEach(function(t){o=i?.breakArray||[],r=s.isXAxis?s.min:x(n.options.threshold,s.min);let e=s?.options?.breaks?.filter(function(e){let i=!0;for(let t=0;t<o.length;t++){var s=o[t];if(s.from===e.from&&s.to===e.to){i=!1;break}}return i});l.forEach(function(i){a=x(i["stack"+t.toUpperCase()],i[t]),o.forEach(function(e){if(g(r)&&g(a)){let t="";r<e.from&&a>e.to||r>e.from&&a<e.from?t="pointBreak":(r<e.from&&a>e.from&&a<e.to||r>e.from&&a>e.to&&a<e.from)&&(t="pointInBreak"),t&&u(s,t,{point:i,brk:e})}}),e?.forEach(function(t){u(s,"pointOutsideOfBreak",{point:i,brk:t})})})})}}function f(){let t=this.currentDataGrouping,i=t?.gapSize,s=this.points.slice(),o=this.yAxis,r=this.options.gapSize,a=s.length-1;if(r&&0<a){let t,e;for("value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);a--;){var n;e&&!1!==e.visible||(e=s[a+1]),t=s[a],!1!==e.visible&&!1!==t.visible&&(e.x-t.x>r&&(n=(t.x+e.x)/2,s.splice(a+1,0,{isNull:!0,x:n}),o.stacking&&this.options.stacking&&((o.stacking.stacks[this.stackKey][n]=new l(o,o.options.stackLabels,!1,n,this.stack)).total=0)),e=t)}}return this.getGraphPath(s)}(t=e=e||{}).compose=function(e,i){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),s(e,"init",h),s(e,"afterInit",r),s(e,"afterSetTickPositions",n),s(e,"afterSetOptions",a);let t=i.prototype;t.drawBreaks=c,t.gappedPath=f,s(i,"afterGeneratePoints",d),s(i,"afterRender",p)}return e};class m{static isInBreak(t,e){var i=t.repeat||1/0,s=t.from,o=t.to-t.from,s=s<=e?(e-s)%i:i-(s-e)%i;return t.inclusive?s<=o:s<o&&0!=s}static lin2Val(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i||!g(t))return t;let s=t,o,r;for(r=0;r<i.length&&!((o=i[r]).from>=s);r++)(o.to<s||m.isInBreak(o,s))&&(s+=o.len);return s}static val2Lin(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i||!g(t))return t;let s=t,o,r;for(r=0;r<i.length;r++)if((o=i[r]).to<=t)s-=o.len;else{if(o.from>=t)break;if(m.isInBreak(o,t)){s-=t-o.from;break}}return s}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(e,t){return i(t,function(t){return t.from<e&&e<t.to})}isInAnyBreak(t,e){let i=this.axis,s=i.options.breaks||[],o=s.length,r,a,n;if(o&&g(t)){for(;o--;)m.isInBreak(s[o],t)&&(r=!0,a=a||x(s[o].showPoints,!i.isXAxis));n=r&&e?r&&!a:r}return n}setBreaks(t,e){let p=this,c=p.axis,i=o(t)&&!!t.length&&!!Object.keys(t[0]).length;c.isDirty=p.hasBreaks!==i,p.hasBreaks=i,t!==c.options.breaks&&(c.options.breaks=c.userOptions.breaks=t),c.forceRedraw=!0,c.series.forEach(function(t){t.isDirty=!0}),i||c.val2lin!==m.val2Lin||(delete c.val2lin,delete c.lin2val),i&&(c.userOptions.ordinal=!1,c.lin2val=m.lin2Val,c.val2lin=m.val2Lin,c.setExtremes=function(e,i,t,s,o){if(p.hasBreaks){let t;for(var r=this.options.breaks||[];t=p.findBreakAt(e,r);)e=t.to;for(;t=p.findBreakAt(i,r);)i=t.from;i<e&&(i=e)}c.constructor.prototype.setExtremes.call(this,e,i,t,s,o)},c.setAxisTranslation=function(){if(c.constructor.prototype.setAxisTranslation.call(this),p.unitLength=void 0,p.hasBreaks){let t=c.options.breaks||[],e=[],i=[],s=x(c.pointRangePadding,0),o=0,r,a,n=c.userMin||c.min,l=c.userMax||c.max,h,d;t.forEach(function(t){a=t.repeat||1/0,g(n)&&g(l)&&(m.isInBreak(t,n)&&(n+=t.to%a-n%a),m.isInBreak(t,l)&&(l-=l%a-t.from%a))}),t.forEach(function(t){if(h=t.from,a=t.repeat||1/0,g(n)&&g(l)){for(;h-a>n;)h-=a;for(;h<n;)h+=a;for(d=h;d<l;d+=a)e.push({value:d,move:"in"}),e.push({value:d+t.to-t.from,move:"out",size:t.breakSize})}}),e.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),r=0,h=n,e.forEach(function(t){1===(r+="in"===t.move?1:-1)&&"in"===t.move&&(h=t.value),0===r&&g(h)&&(i.push({from:h,to:t.value,len:t.value-h-(t.size||0)}),o+=t.value-h-(t.size||0))}),p.breakArray=i,g(n)&&g(l)&&g(c.min)&&(p.unitLength=l-n-o+s,u(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:p.unitLength&&(c.transA*=(l-c.min+s)/p.unitLength),s&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=n,c.max=l)}}),x(e,!0)&&c.chart.redraw()}}t.Additions=m}return e}),e(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(t,e){return t.BrokenAxis=t.BrokenAxis||e,t.BrokenAxis.compose(t.Axis,t.Series),t}),e(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),e(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(o,t){let{arrayMax:e,arrayMin:i,correctFloat:s,extend:r,isNumber:a}=t;function n(t){let e=t.length,i=l(t);return i=a(i)&&e?s(i/e):i}function l(t){let e=t.length,i;if(!e&&t.hasNulls)i=null;else if(e)for(i=0;e--;)i+=t[e];return i}t={average:n,averages:function(){let e=[];return[].forEach.call(arguments,function(t){e.push(n(t))}),void 0===e[0]?void 0:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?e(t):t.hasNulls?null:void 0},hlc:function(t,e,i){if(t=o.high(t),e=o.low(e),i=o.close(i),a(t)||a(e)||a(i))return[t,e,i]},low:function(t){return t.length?i(t):t.hasNulls?null:void 0},ohlc:function(t,e,i,s){if(t=o.open(t),e=o.high(e),i=o.low(i),s=o.close(s),a(t)||a(e)||a(i)||a(s))return[t,e,i,s]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,e){return t=o.low(t),e=o.high(e),a(t)||a(e)?[t,e]:null===t&&null===e?null:void 0},sum:l};return r(o,t),t}),e(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),e(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(a,t){let s,{addEvent:i,extend:o,merge:r,pick:n}=t;function l(e){let i=this,t=i.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!e.hasExtremesChanged)})}function h(){let t=this.series,e=t.length,i=0,s=!1,o,r;for(;e--;)(r=t[e].options.dataGrouping)&&(i=Math.max(i,n(r.groupPixelWidth,a.common.groupPixelWidth)),o=(t[e].processedXData||t[e].data).length,(t[e].groupPixelWidth||o>this.chart.plotSizeX/i||o&&r.forced)&&(s=!0));return s?i:0}function d(){this.series.forEach(function(t){t.hasProcessed=!1})}function p(e,t){let i;if(t=n(t,!0),e=e||{forced:!1,units:null},this instanceof s)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof e?e:r(e,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}return{compose:function(t){var e=(s=t).prototype;e.applyGrouping||(i(t,"afterSetScale",d),i(t,"postProcessData",l),o(e,{applyGrouping:l,getGroupPixelWidth:h,setDataGrouping:p}))}}}),e(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(w,B,P,n,t,e){let{prototype:T}=t["series"],{addEvent:i,defined:G,error:j,extend:s,isNumber:R,merge:E,pick:o}=e,r=T.generatePoints;function a(f){let m,v,b=this.chart,y=this.options.dataGrouping,t=!1!==this.allowDG&&y&&o(y.enabled,b.options.isStock),M=this.reserveSpace(),e=this.currentDataGrouping,S,A,i=!1;t&&!this.requireSorting&&(this.requireSorting=i=!0);f=0==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!f)||!t;if(i&&(this.requireSorting=!1),!f){this.destroyGroupedData();let d=y.groupAll?this.xData:this.processedXData,p=y.groupAll?this.yData:this.processedYData,c=b.plotSizeX,u=this.xAxis,g=u.options.ordinal,x=this.groupPixelWidth;if(x&&d&&d.length&&c){v=!0,this.isDirty=!0,this.points=null;let t=u.getExtremes(),e=t.min,i=t.max,s=g&&u.ordinal&&u.ordinal.getGroupIntervalFactor(e,i,this)||1,o=x*(i-e)/c*s,r=u.getTimeTicks(P.Additions.prototype.normalizeTimeTickInterval(o,y.units||B.units),Math.min(e,d[0]),Math.max(i,d[d.length-1]),u.options.startOfWeek,d,this.closestPointRange),a=T.groupData.apply(this,[d,p,r,y.approximation]),n=a.groupedXData,l=a.groupedYData,h=0;for(y&&y.smoothed&&n.length&&(y.firstAnchor="firstPoint",y.anchor="middle",y.lastAnchor="lastPoint",j(32,!1,b,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),m=1;m<r.length;m++)r.info.segmentStarts&&-1!==r.info.segmentStarts.indexOf(m)||(h=Math.max(r[m]-r[m-1],h));(S=r.info).gapSize=h,this.closestPointRange=r.info.totalRange,this.groupMap=a.groupMap,this.currentDataGrouping=S;var f=this,k=n,C=i,D=f.options.dataGrouping,w=f.currentDataGrouping&&f.currentDataGrouping.gapSize;if(D&&f.xData&&w&&f.groupMap){let t=k.length-1,e=D.anchor,i=D.firstAnchor,s=D.lastAnchor,o=k.length-1,r=0;if(i&&f.xData[0]>=k[0]){let t;r++;var D=f.groupMap[0].start,E=f.groupMap[0].length;R(D)&&R(E)&&(t=D+(E-1)),k[0]={start:k[0],middle:k[0]+.5*w,end:k[0]+w,firstPoint:f.xData[0],lastPoint:t&&f.xData[t]}[i]}if(0<t&&s&&w&&k[t]>=C-w&&(o--,D=f.groupMap[f.groupMap.length-1].start,k[t]={start:k[t],middle:k[t]+.5*w,end:k[t]+w,firstPoint:D&&f.xData[D],lastPoint:f.xData[f.xData.length-1]}[s]),e&&"start"!==e)for(var O=w*{middle:.5,end:1}[e];o>=r;)k[o]+=O,o--}M&&(G((E=n)[0])&&R(u.min)&&R(u.dataMin)&&E[0]<u.min&&((!G(u.options.min)&&u.min<=u.dataMin||u.min===u.dataMin)&&(u.min=Math.min(E[0],u.min)),u.dataMin=Math.min(E[0],u.dataMin)),G(E[E.length-1])&&R(u.max)&&R(u.dataMax)&&E[E.length-1]>u.max&&((!G(u.options.max)&&R(u.dataMax)&&u.max>=u.dataMax||u.max===u.dataMax)&&(u.max=Math.max(E[E.length-1],u.max)),u.dataMax=Math.max(E[E.length-1],u.dataMax))),y.groupAll&&(this.allGroupedData=l,n=(A=this.cropData(n,l,u.min,u.max)).xData,l=A.yData,this.cropStart=A.start),this.processedXData=n,this.processedYData=l}else this.groupMap=null,this.currentDataGrouping=void 0;this.hasGroupedData=v,this.preventGraphAnimation=(e&&e.totalRange)!==(S&&S.totalRange)}}function l(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedData)}function h(){r.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function d(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function p(e,i,s,t){let o=this,r=o.data,a=o.options&&o.options.data,n=[],l=[],h=[],d=e.length,p=!!i,c=[],u=o.pointArrayMap,g=u&&u.length,x=["x"].concat(u||["y"]),f=this.options.dataGrouping&&this.options.dataGrouping.groupAll,m,v,b,y=0,M=0,S="function"==typeof t?t:t&&w[t]?w[t]:w[o.getDGApproximation&&o.getDGApproximation()||"average"];if(g){let t=u.length;for(;t--;)c.push([])}else c.push([]);var A=g||1;for(let t=0;t<=d;t++)if(!(e[t]<s[0])){for(;void 0!==s[y+1]&&e[t]>=s[y+1]||t===d;){m=s[y],o.dataGroupInfo={start:f?M:o.cropStart+M,length:c[0].length,groupStart:m},b=S.apply(o,c),o.pointClass&&!G(o.dataGroupInfo.options)&&(o.dataGroupInfo.options=E(o.pointClass.prototype.optionsToObject.call({series:o},o.options.data[o.cropStart+M])),x.forEach(function(t){delete o.dataGroupInfo.options[t]})),void 0!==b&&(n.push(m),l.push(b),h.push(o.dataGroupInfo)),M=t;for(let t=0;t<A;t++)c[t].length=0,c[t].hasNulls=!1;if(y+=1,t===d)break}if(t===d)break;if(u){var k,C=o.options.dataGrouping&&o.options.dataGrouping.groupAll?t:o.cropStart+t,D=r&&r[C]||o.pointClass.prototype.applyOptions.apply({series:o},[a[C]]);for(let t=0;t<g;t++)R(k=D[u[t]])?c[t].push(k):null===k&&(c[t].hasNulls=!0)}else R(v=p?i[t]:null)?c[0].push(v):null===v&&(c[0].hasNulls=!0)}return{groupedXData:n,groupedYData:l,groupMap:h}}function c(t){let e=t.options,i=this.type,s=this.chart.options.plotOptions,o=this.useCommonDataGrouping&&B.common,r=B.seriesSpecific,a=n.defaultOptions.plotOptions[i].dataGrouping;s&&(r[i]||o)&&(t=this.chart.rangeSelector,a=a||E(B.common,r[i]),e.dataGrouping=E(o,a,s.series&&s.series.dataGrouping,s[i].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&t&&R(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}return{compose:function(t){var e=t.prototype;e.applyGrouping||(i(t.prototype.pointClass,"update",function(){if(this.dataGroup)return j(24,!1,this.series.chart),!1}),i(t,"afterSetOptions",c),i(t,"destroy",l),s(e,{applyGrouping:a,destroyGroupedData:l,generatePoints:h,getDGApproximation:d,groupData:p}))},groupData:p}}),e(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(s,b,o,t,e,i){let y=t["format"],r=e["composed"],{addEvent:a,extend:M,isNumber:S,pick:A,pushUnique:n}=i;function l(t){let e=this.chart,i=e.time,s=t.labelConfig,o=s.series,r=s.point,a=o.options,n=o.tooltipOptions,l=a.dataGrouping,h=o.xAxis,d=n.xDateFormat,p,c,u,g,x,f=n[t.isFooter?"footerFormat":"headerFormat"];var m,v;h&&"datetime"===h.options.type&&l&&S(s.key)&&(c=o.currentDataGrouping,u=l.dateTimeLabelFormats||b.common.dateTimeLabelFormats,c?(g=u[c.unitName],1===c.count?d=g[0]:(d=g[1],p=g[2])):!d&&u&&h.dateTime&&(d=h.dateTime.getXDateFormat(s.x,n.dateTimeLabelFormats)),v=(m=A(o.groupMap?.[r.index].groupStart,s.key))+c?.totalRange-1,x=i.dateFormat(d,m),p&&(x+=i.dateFormat(p,v)),o.chart.styledMode&&(f=this.styledModeFormat(f)),t.text=y(f,{point:M(s.point,{key:x}),series:o},e),t.preventDefault())}return{compose:function(t,e,i){s.compose(t),o.compose(e),i&&n(r,"DataGrouping")&&a(i,"headerFormatter",l)},groupData:o.groupData}}),e(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(t,e,i,s){return t.dataGrouping=t.dataGrouping||{},t.dataGrouping.approximationDefaults=t.dataGrouping.approximationDefaults||e,t.dataGrouping.approximations=t.dataGrouping.approximations||i,s.compose(t.Axis,t.Series,t.Tooltip),t}),e(t,"Extensions/Annotations/NavigationBindingsUtilities.js",[t["Core/Utilities.js"]],function(t){let{defined:o,isNumber:r,pick:a}=t,n={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:n,getAssignedAxis:function(t){return t.filter(t=>{var e=t.axis.getExtremes(),i=e.min,e=e.max,s=a(t.axis.minPointOffset,0);return r(i)&&r(e)&&t.value>=i-s&&t.value<=e+s&&!t.axis.options.isInternal})[0]},getFieldType:function(t,e){let i=n[t],s=typeof e;return{string:"text",number:"number",boolean:"checkbox"}[s=o(i)?i:s]}}}),e(t,"Extensions/MouseWheelZoom/MouseWheelZoom.js",[t["Core/Utilities.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"]],function(t,e){let h,{addEvent:i,isObject:s,pick:d,defined:p,merge:o}=t,l=e["getAssignedAxis"],r=[],a={enabled:!0,sensitivity:1.1};function n(){t=this.zooming.mouseWheel,s(t)||(t={enabled:t??!0});let n=o(a,t);var t;n.enabled&&i(this.container,"wheel",t=>{t=this.pointer?.normalize(t)||t;let e=this["pointer"],i=e&&!e.inClass(t.target,"highcharts-no-mousewheel");var s,o,r,a;this.isInsidePlot(t.chartX-this.plotLeft,t.chartY-this.plotTop)&&i&&(s=n.sensitivity||1.1,o=t.detail||(t.deltaY||0)/120,r=l(e.getCoordinates(t).xAxis),a=l(e.getCoordinates(t).yAxis),function(t,e,i,s,o,r,a){let n=d(a.type,t.zooming.type,""),l=[];"x"===n?l=i:"y"===n?l=s:"xy"===n&&(l=t.axes);a=t.transform({axes:l,to:{x:o-5,y:r-5,width:10,height:10},from:{x:o-5*e,y:r-5*e,width:10*e,height:10*e},trigger:"mousewheel"});return a&&(p(h)&&clearTimeout(h),h=setTimeout(()=>{t.pointer?.drop()},400)),a}(this,Math.pow(s,o),r?[r.axis]:this.xAxis,a?[a.axis]:this.yAxis,t.chartX,t.chartY,n)&&t.preventDefault?.())})}return{compose:function(t){-1===r.indexOf(t)&&(r.push(t),i(t,"afterGetContainer",n))}}}),e(t,"masters/modules/mouse-wheel-zoom.src.js",[t["Core/Globals.js"],t["Extensions/MouseWheelZoom/MouseWheelZoom.js"]],function(t,e){return t.MouseWheelZoom=t.MouseWheelZoom||e,t.MouseWheelZoom.compose(t.Chart),t}),e(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Core/Axis/OrdinalAxis.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Chart/StockChart.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"]],function(t,e,i,s,o,r,a,n,l){return t.Navigator=t.Navigator||i,t.OrdinalAxis=t.OrdinalAxis||s,t.RangeSelector=t.RangeSelector||o,t.Scrollbar=t.Scrollbar||r,t.stockChart=t.stockChart||a.stockChart,t.StockChart=t.StockChart||t.stockChart,t.extend(t.StockChart,a),e.compose(t.Series,t.Axis,t.Point),l.compose(t.Renderer),n.compose(t.Series),t.Navigator.compose(t.Chart,t.Axis,t.Series),t.OrdinalAxis.compose(t.Axis,t.Series,t.Chart),t.RangeSelector.compose(t.Axis,t.Chart),t.Scrollbar.compose(t.Axis),t.StockChart.compose(t.Chart,t.Axis,t.Series,t.SVGRenderer),t})});