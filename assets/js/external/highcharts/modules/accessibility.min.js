!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let{doc:s,win:n}=t,i=e["css"],o=n.EventTarget&&new n.EventTarget||"none";function r(e){if("function"==typeof n.MouseEvent)return new n.MouseEvent(e.type,e);if(s.createEvent){let t=s.createEvent("MouseEvent");if(t.initMouseEvent)return t.initMouseEvent(e.type,e.bubbles,e.cancelable,e.view||n,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t}return a(e.type)}function a(e,i,t){i=i||{x:0,y:0};if("function"==typeof n.MouseEvent)return new n.MouseEvent(e,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:t||o,view:n,detail:"click"===e?1:0,screenX:i.x,screenY:i.y,clientX:i.x,clientY:i.y});if(s.createEvent){let t=s.createEvent("MouseEvent");if(t.initMouseEvent)return t.initMouseEvent(e,!0,!0,n,"click"===e?1:0,i.x,i.y,i.x,i.y,!1,!1,!1,!1,0,null),t}return{type:e}}return{addClass:function(t,e){t.classList?t.classList.add(e):t.className.indexOf(e)<0&&(t.className+=" "+e)},cloneMouseEvent:r,cloneTouchEvent:function(e){var i=e=>{let i=[];for(let t=0;t<e.length;++t){var s=e.item(t);s&&i.push(s)}return i};if("function"==typeof n.TouchEvent){let t=new n.TouchEvent(e.type,{touches:i(e.touches),targetTouches:i(e.targetTouches),changedTouches:i(e.changedTouches),ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,detail:e.detail,view:e.view});return e.defaultPrevented&&t.preventDefault(),t}let t=r(e);return t.touches=e.touches,t.changedTouches=e.changedTouches,t.targetTouches=e.targetTouches,t},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return s.getElementById(t)},getFakeMouseEvent:a,getHeadingTagNameForElement:function(t){let i=t=>{t=parseInt(t.slice(1),10);return"h"+Math.min(6,t+1)},s=t=>/H[1-6]/.test(t),n=t=>{var e=(t=>{let e=t;for(;e=e.previousSibling;){var i=e.tagName||"";if(s(i))return i}return""})(t);if(e)return i(e);e=t.parentElement;if(!e)return"p";t=e.tagName;return s(t)?i(t):n(e)};return n(t)},removeChildNodes:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp(e,"g"),"")},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},reverseChildNodes:function(t){let e=t.childNodes.length;for(;e--;)t.appendChild(t.childNodes[e])},simulatedEventTarget:o,stripHTMLTagsFromString:function(t,e=!1){return"string"==typeof t?e?t.replace(/<\/?[^>]+(>|$)/g,""):t.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):t},visuallyHideElement:function(t){i(t,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(t,"Accessibility/A11yI18n.js",[t["Core/Templating.js"],t["Core/Utilities.js"]],function(e,i){var s;let a=e["format"],{getNestedProperty:u,pick:p}=i;{e=s=s||{};let t=[];function o(t,e,i){let s=[],n,o,r=0;for(;n=((t,e)=>{let i=t.slice(e||0),s=i.indexOf("{"),n=i.indexOf("}");if(-1<s&&s<n)return{statement:i.substring(s+1,n),begin:e+s+1,end:e+n}})(t,r),(o=t.substring(r,n&&n.begin-1)).length&&s.push({value:o,type:"constant"}),n&&s.push({value:n.statement,type:"statement"}),r=n?n.end+1:r+1,n;);return s.forEach(t=>{"statement"===t.type&&(t.value=function(a,l){let h,c;var d=a.indexOf("#each("),n=a.indexOf("#plural("),e=a.indexOf("["),i=a.indexOf("]");if(-1<d){let t=a.slice(d).indexOf(")")+d,e=a.substring(0,d),i=a.substring(t+1),s=a.substring(d+6,t),n=s.split(","),o=Number(n[1]),r;if(c="",h=u(n[0],l)){r=(o=isNaN(o)?h.length:o)<0?h.length+o:Math.min(o,h.length);for(let t=0;t<r;++t)c+=e+h[t]+i}return c.length?c:""}if(-1<n){let t=a.slice(n).indexOf(")")+n,e=a.substring(n+8,t),i=e.split(","),s=Number(u(i[0],l));switch(s){case 0:c=p(i[4],i[1]);break;case 1:c=p(i[2],i[1]);break;case 2:c=p(i[3],i[1]);break;default:c=i[1]}return c?(d=c).trim&&d.trim()||d.replace(/^\s+|\s+$/g,""):""}if(-1<e){let t;n=a.substring(0,e),d=Number(a.substring(e+1,i));return h=u(n,l),!isNaN(d)&&h&&(d<0?void 0===(t=h[h.length+d])&&(t=h[0]):void 0===(t=h[d])&&(t=h[h.length-1])),void 0!==t?t:""}return"{"+a+"}"}(t.value,e))}),a(s.reduce((t,e)=>t+e.value,""),e,i)}function n(t,e){let i=t.split("."),s=this.options.lang,n=0;for(;n<i.length;++n)s=s&&s[i[n]];return"string"==typeof s?o(s,e,this):""}e.compose=function(e){if(i.pushUnique(t,e)){let t=e.prototype;t.langFormat=n}return e},e.i18nFormat=o}return s}),e(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i){let o=t["doc"],s=e["stripHTMLTagsFromString"],{defined:r,find:a,fireEvent:l}=i;function n(t){if(t.points&&t.points.length)return(t=a(t.points,t=>!!t.graphic))&&t.graphic&&t.graphic.element}function h(t){var e=n(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}return{fireEventOnWrappedOrUnwrappedElement:function t(e,i){var s=i.type,n=e.hcEvents;o.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(s,i):n&&n[s]?l(e,s,i):e.element&&t(e.element,i)},getChartTitle:function(t){return s(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}),t.renderer.forExport)},getAxisDescription:function(t){return t&&(t.options.accessibility?.description||t.axisTitle?.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(e){var t=e.options||{};{if(t.accessibility&&void 0!==t.accessibility.rangeDescription)return t.accessibility.rangeDescription;if(e.categories){let t=e.chart;return e.dataMax&&e.dataMin?t.langFormat("accessibility.axis.rangeCategories",{chart:t,axis:e,numCategories:e.dataMax-e.dataMin+1}):""}return(!e.dateTime||0!==e.min&&0!==e.dataMin?function(e){function t(t){return e.dateTime?i.time.dateFormat(n,o[t]):o[t].toString()}let i=e.chart,s=i.options,n=s&&s.accessibility&&s.accessibility.screenReaderSection.axisRangeDateFormat||"",o={min:e.dataMin||e.min||0,max:e.dataMax||e.max||0};return i.langFormat("accessibility.axis.rangeFromTo",{chart:i,axis:e,rangeFrom:t("min"),rangeTo:t("max")})}:function(t){let e=t.chart,i={},s=t.dataMin||t.min||0,n=t.dataMax||t.max||0,o="Seconds",r=(i.Seconds=(n-s)/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach(function(t){2<i[t]&&(o=t)}),i[o].toFixed("Seconds"!==o&&"Minutes"!==o?1:0));return e.langFormat("accessibility.axis.timeRange"+o,{chart:e,axis:t,range:r.replace(".0","")})})(e)}},getPointFromXY:function(t,e,i){let s=t.length,n;for(;s--;)if(n=a(t[s].points||[],function(t){return t.x===e&&t.y===i}))return n},getSeriesFirstPointElement:n,getSeriesFromName:function(t,e){return e?(t.series||[]).filter(function(t){return t.name===e}):t.series},getSeriesA11yElement:h,unhideChartElementFromAT:function t(e,i){i.setAttribute("aria-hidden",!1),i!==e.renderTo&&i.parentNode&&i.parentNode!==o.body&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)}),t(e,i.parentNode))},hideSeriesFromAT:function(t){let e=h(t);e&&e.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(t){let e=t.series.xAxis,i=t.series.yAxis,s=e&&e.scrollbar?e:i,n=s&&s.scrollbar;var o;n&&r(n.to)&&r(n.from)&&(o=n.to-n.from,t=function(t,e){if(!r(t.dataMin)||!r(t.dataMax))return 0;var i=t.toPixels(t.dataMin),s=t.toPixels(t.dataMax),n="xAxis"===t.coll?"x":"y";return(t.toPixels(e[n]||0)-i)/(s-i)}(s,t),n.updatePosition(t-o/2,t+o/2),l(n,"changed",{from:n.from,to:n.to,trigger:"scrollbar",DOMEvent:null}))}}}),e(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e){let i=t["doc"],s=e["removeElement"];return class{constructor(){this.elements=[]}createElement(){var t=i.createElement.apply(i,arguments);return this.elements.push(t),t}destroyCreatedElements(){this.elements.forEach(function(t){s(t)}),this.elements=[]}}}),e(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){let i=t["addEvent"];return class{constructor(){this.eventRemovers=[]}addEvent(){var t=i.apply(e,arguments);return this.eventRemovers.push(t),t}removeAddedEvents(){this.eventRemovers.forEach(t=>t()),this.eventRemovers=[]}}}),e(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,i,s,e,n){let o=t["fireEventOnWrappedOrUnwrappedElement"],r=e["getFakeMouseEvent"],a=n["extend"];class l{constructor(){this.chart=void 0,this.domElementProvider=void 0,this.eventProvider=void 0,this.keyCodes=void 0,this.proxyProvider=void 0}initBase(t,e){this.chart=t,this.eventProvider=new s,this.domElementProvider=new i,this.proxyProvider=e,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(t,e,i,s){return this.eventProvider.addEvent(t,e,i,s)}createElement(t,e){return this.domElementProvider.createElement(t,e)}fakeClickEvent(t){var e=r("click");o(t,e)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return a(l.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),l}),e(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(t){let n=t["find"];return class{constructor(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(t){let e=t.which||t.keyCode,i=this.response.noHandler,s=n(this.keyCodeMap,function(t){return-1<t[0].indexOf(e)});return s?i=s[1].call(this,e,t):9===e&&(i=this.response[t.shiftKey?"prev":"next"]),i}}}),e(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,i,e,s,n){let{unhideChartElementFromAT:o,getChartTitle:r}=e,a=s["doc"],l=n["stripHTMLTagsFromString"];return class extends t{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let e=this.chart,i="highcharts-title-"+e.index,s=l(e.langFormat("accessibility.svgContainerTitle",{chartTitle:r(e)}));if(s.length){let t=this.svgTitleElement=this.svgTitleElement||a.createElementNS("http://www.w3.org/2000/svg","title");t.textContent=s,t.id=i,e.renderTo.insertBefore(t,e.renderTo.firstChild)}}setSVGContainerLabel(){let t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:r(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)}setGraphicContainerAttrs(){let t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:r(t)});e.length&&t.container.setAttribute("aria-label",e)}setRenderToAttrs(){let t=this.chart,e="disabled"!==t.options.accessibility.landmarkVerbosity,i=t.langFormat("accessibility.chartContainerLabel",{title:r(t),chart:t});i&&(t.renderTo.setAttribute("role",e?"region":"group"),t.renderTo.setAttribute("aria-label",i))}makeCreditsAccessible(){let t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:l(e.textStr,t.renderer.forExport)})),o(t,e.element))}getKeyboardNavigation(){let e=this.chart;return new i(e,{keyCodeMap:[],validate:function(){return!0},init:function(){let t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),e(t,"Accessibility/FocusBorder.js",[t["Core/Utilities.js"]],function(s){var e;let{addEvent:n,pick:w}=s;{var i=e=e||{};let t=[],A=["x","y","transform","width","height","r","d","stroke-width"];function o(){let t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function r(t,e){let i=this.options.accessibility.keyboardNavigation.focusBorder,s=e||t.element;s&&s.focus&&(s.hcEvents&&s.hcEvents.focusin||n(s,"focusin",function(){}),s.focus(),i.hideBrowserFocusOutline&&(s.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function a(t,e){this.focusBorder&&this.removeFocusBorder();let i=this.getBBox(),s=w(t,3),n=this.parentGroup,o=this.scaleX||n&&n.scaleX,r=this.scaleY||n&&n.scaleY,a=o?!r:r,l=a?Math.abs(o||r||1):(Math.abs(o||1)+Math.abs(r||1))/2,h=(i.x+=this.translateX||0,i.y+=this.translateY||0,i.x-s),c=i.y-s,d=i.width+2*s,u=i.height+2*s,p=!!this.text;if("text"===this.element.nodeName||p){let t,e;var g=!!this.rotation,m=p?{x:g?1:0,y:0}:(t=0,e=0,"middle"===this.attr("text-anchor")?t=e=.5:this.rotation?t=.25:e=.75,{x:t,y:e}),b=+this.attr("x"),x=+this.attr("y");isNaN(b)||(h=b-i.width*m.x-s),isNaN(x)||(c=x-i.height*m.y-s),p&&g&&(g=d,d=u,u=g,isNaN(b)||(h=b-i.height*m.x-s),isNaN(x)||(c=x-i.width*m.y-s))}this.focusBorder=this.renderer.rect(h,c,d,u,parseInt((e&&e.r||0).toString(),10)/l).addClass("highcharts-focus-border").attr({zIndex:99}).add(n),this.renderer.styledMode||this.focusBorder.attr({stroke:e&&e.stroke,"stroke-width":(e&&e.strokeWidth||0)/l}),y=[t,e],(f=this).focusBorderUpdateHooks||(f.focusBorderUpdateHooks={},A.forEach(t=>{let e=t+"Setter",i=f[e]||f._defaultSetter;f.focusBorderUpdateHooks[e]=i,f[e]=function(){var t=i.apply(f,arguments);return f.addFocusBorder.apply(f,y),t}}));var f,y,v=this;if(!v.focusBorderDestroyHook){let t=v.destroy;v.destroy=function(){return v.focusBorder&&v.focusBorder.destroy&&v.focusBorder.destroy(),t.apply(v,arguments)},v.focusBorderDestroyHook=t}}function l(){var i=this;i.focusBorderUpdateHooks&&(Object.keys(i.focusBorderUpdateHooks).forEach(t=>{var e=i.focusBorderUpdateHooks[t];e===i._defaultSetter?delete i[t]:i[t]=e}),delete i.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}e.compose=function(e,i){if(s.pushUnique(t,e)){let t=e.prototype;t.renderFocusBorder=o,t.setFocusToElement=r}if(s.pushUnique(t,i)){let t=i.prototype;t.addFocusBorder=a,t.removeFocusBorder=l}}}return e}),e(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(e,i,t,s,n){let o=t["doc"],{addClass:r,visuallyHideElement:a}=s,l=n["attr"];return class{constructor(t,e){this.chart=t,this.domElementProvider=new i,this.announceRegion=this.addAnnounceRegion(e)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(t){e.setElementHTML(this.announceRegion,t),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=e.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(t){let e=this.chart.announcerContainer||this.createAnnouncerContainer(),i=this.domElementProvider.createElement("div");return l(i,{"aria-hidden":!1,"aria-live":t,"aria-atomic":!0}),this.chart.styledMode?r(i,"highcharts-visually-hidden"):a(i),e.appendChild(i),i}createAnnouncerContainer(){let t=this.chart,e=o.createElement("div");return l(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e}}}),e(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(t){let{escapeStringForHTML:i,stripHTMLTagsFromString:s}=t;function n(t){let e=t.annotations||[];return e.reduce((t,e)=>t=e.options&&!1!==e.options.visible?t.concat(e.labels):t,[])}function h(t){return t.options&&t.options.accessibility&&t.options.accessibility.description||t.graphic&&t.graphic.text&&t.graphic.text.textStr||""}function o(t){var e=t.options&&t.options.accessibility&&t.options.accessibility.description;if(e)return e;let i=t.chart,s=h(t),n=t.points,o=n.filter(t=>!!t.graphic).map(t=>{var e=t.accessibility&&t.accessibility.valueDescription||((e=t).graphic&&e.graphic.element&&e.graphic.element.getAttribute("aria-label")||""),t=t&&t.series.name||"";return(t?t+", ":"")+"data point "+e}).filter(t=>!!t),r=o.length,a=1<r?"MultiplePoints":r?"SinglePoint":"NoPoints",l={annotationText:s,annotation:t,numPoints:r,annotationPoint:o[0],additionalAnnotationPoints:o.slice(1)};return i.langFormat("accessibility.screenReaderSection.annotations.description"+a,l)}function r(e){let t=n(e);return t.map(t=>{t=i(s(o(t),e.renderer.forExport));return t?`<li>${t}</li>`:""})}return{getAnnotationsInfoHTML:function(t){var e=t.annotations;if(!e||!e.length)return"";let i=r(t);return`<ul style="list-style-type: none">${i.join(" ")}</ul>`},getAnnotationLabelDescription:o,getAnnotationListItems:r,getPointAnnotationTexts:function(e){let t=n(e.series.chart),i=t.filter(t=>-1<t.points.indexOf(e));return i.length?i.map(t=>""+h(t)):[]}}}),e(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,t,i,e,r,s,n,o,a,h){let c=e["getAnnotationsInfoHTML"],{getAxisDescription:d,getAxisRangeDescription:u,getChartTitle:p,unhideChartElementFromAT:g}=s,m=n["format"],b=o["doc"],{addClass:x,getElement:f,getHeadingTagNameForElement:y,stripHTMLTagsFromString:v,visuallyHideElement:A}=a,{attr:w,pick:C}=h;function E(t){return t.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}return class extends t{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){let t=this.chart,e=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",function(t){e.onDataTableCreated(t)}),this.addEvent(t,"afterViewData",function(t){t.wasHidden&&(e.dataTableDiv=t.element,setTimeout(function(){e.focusDataTable()},300))}),this.addEvent(t,"afterHideData",function(){e.viewDataTableButton&&e.viewDataTableButton.setAttribute("aria-expanded","false")}),this.announcer=new i(t,"assertive")}initRegionsDefinitions(){let i=this,s=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(t){let e=s.screenReaderSection.beforeChartFormatter;return e?e(t):i.defaultBeforeChartFormatter(t)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==i.sonifyButtonId&&i.initSonifyButton(i.sonifyButtonId),void 0!==i.dataTableButtonId&&i.initDataTableButton(i.dataTableButtonId)}},after:{element:null,buildContent:function(t){let e=s.screenReaderSection.afterChartFormatter;return e?e(t):i.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){i.chart.accessibility&&s.keyboardNavigation.enabled&&i.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){let e=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(t){e.updateScreenReaderSection(t)})}getLinkedDescriptionElement(){var t=this.chart.options.accessibility.linkedDescription;if(t){if("string"!=typeof t)return t;t=m(t,this.chart),t=b.querySelectorAll(t);return 1===t.length?t[0]:void 0}}setLinkedDescriptionAttrs(){let t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),x(t,"highcharts-linked-description"))}updateScreenReaderSection(t){let e=this.chart,i=this.screenReaderSections[t],s=i.buildContent(e),n=i.element=i.element||this.createElement("div"),o=n.firstChild||this.createElement("div");s?(this.setScreenReaderSectionAttribs(n,t),r.setElementHTML(o,s),n.appendChild(o),i.insertIntoDOM(n,e),e.styledMode?x(o,"highcharts-visually-hidden"):A(o),g(e,o),i.afterInserted&&i.afterInserted()):(n.parentNode&&n.parentNode.removeChild(n),i.element=null)}setScreenReaderSectionAttribs(t,e){let i=this.chart,s=i.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:i,chartTitle:p(i)}),n=`highcharts-screen-reader-region-${e}-`+i.index;w(t,{id:n,"aria-label":s||void 0}),t.style.position="relative",s&&t.setAttribute("role","all"===i.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){let t=this.chart,e=t.options.accessibility.screenReaderSection.beforeChartFormat;if(!e)return"";var i=this.getAxesDescription(),s=t.sonify&&t.options.sonification&&t.options.sonification.enabled,n="highcharts-a11y-sonify-data-btn-"+t.index,o="hc-linkto-highcharts-data-table-"+t.index,r=c(t),a=t.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:t}),i={headingTagName:y(t.renderTo),chartTitle:p(t),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:i.xAxis,yAxisDescription:i.yAxis,playAsSoundButton:s?this.getSonifyButtonText(n):"",viewTableButton:t.getCSV?this.getDataTableButtonText(o):"",annotationsTitle:r?a:"",annotationsList:r},s=l.i18nFormat(e,i,t);return this.dataTableButtonId=o,this.sonifyButtonId=n,E(s)}defaultAfterChartFormatter(){var t=this.chart,e=t.options.accessibility.screenReaderSection.afterChartFormat;if(!e)return"";var i={endOfChartMarker:this.getEndOfChartMarkerText()};return E(l.i18nFormat(e,i,t))}getLinkedDescription(){var t=this.linkedDescriptionElement,t=t&&t.innerHTML||"";return v(t,this.chart.renderer.forExport)}getLongdescText(){var t=this.chart.options,e=t.caption,e=e&&e.text,i=this.getLinkedDescription();return t.accessibility.description||i||e||""}getTypeDescriptionText(){var t,e,i,s,n,o,r=this.chart;return r.types?r.options.accessibility.typeDescription||(t=(r=r).types,s=t[0],n=r.series&&r.series[0]||{},o=r.mapView&&r.mapView.geoMap&&r.mapView.geoMap.title,n={numSeries:r.series.length,numPoints:n.points&&n.points.length,chart:r,mapTitle:o},s?"map"===s||"tiledwebmap"===s?n.mapTitle?r.langFormat("accessibility.chartTypes.mapTypeDescription",n):r.langFormat("accessibility.chartTypes.unknownMap",n):1<r.types.length?r.langFormat("accessibility.chartTypes.combinationChart",n):(o=r,s=n,t=t[0],e=o.langFormat("accessibility.seriesTypeDescriptions."+t,s),i=o.series&&o.series.length<2?"Single":"Multiple",(o.langFormat("accessibility.chartTypes."+t+i,s)||o.langFormat("accessibility.chartTypes.default"+i,s))+(e?" "+e:"")):r.langFormat("accessibility.chartTypes.emptyChart",n)):""}getDataTableButtonText(t){let e=this.chart,i=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:p(e)});return'<button id="'+t+'">'+i+"</button>"}getSonifyButtonText(t){let e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:p(e)})+"</button>"}getSubtitleText(){var t=this.chart.options.subtitle;return v(t&&t.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t}),i="highcharts-end-of-chart-marker-"+t.index;return'<div id="'+i+'">'+e+"</div>"}onDataTableCreated(e){let i=this.chart;if(i.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let t=e.tree.attributes||{};t.tabindex=-1,t.summary=i.langFormat("accessibility.table.tableSummary",{chart:i}),e.tree.attributes=t}}focusDataTable(){let t=this.dataTableDiv,e=t&&t.getElementsByTagName("table")[0];e&&e.focus&&e.focus()}initSonifyButton(t){let e=this.sonifyButton=f(t),i=this.chart,s=t=>{e&&(e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation();t=i.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:i});this.announcer.announce(t),setTimeout(()=>{e&&(e.removeAttribute("aria-hidden"),e.removeAttribute("aria-label")),i.sonify&&i.sonify()},1e3)};e&&i&&(e.setAttribute("tabindex",-1),e.onclick=function(t){let e=i.options.accessibility&&i.options.accessibility.screenReaderSection.onPlayAsSoundClick;(e||s).call(this,t,i)})}initDataTableButton(t){let e=this.viewDataTableButton=f(t),i=this.chart,s=t.replace("hc-linkto-","");e&&(w(e,{tabindex:-1,"aria-expanded":!!f(s)}),e.onclick=i.options.accessibility.screenReaderSection.onViewDataTableClick||function(){i.viewData()})}getAxesDescription(){function t(t,e){return 1<(t=i[t]).length||t[0]&&C(t[0].options.accessibility&&t[0].options.accessibility.enabled,e)}let i=this.chart,e=!!i.types&&i.types.indexOf("map")<0&&i.types.indexOf("treemap")<0&&i.types.indexOf("tilemap")<0,s=!!i.hasCartesianSeries,n=t("xAxis",!i.angular&&s&&e),o=t("yAxis",s&&e),r={};return n&&(r.xAxis=this.getAxisDescriptionText("xAxis")),o&&(r.yAxis=this.getAxisDescriptionText("yAxis")),r}getAxisDescriptionText(t){let e=this.chart,i=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(1<i.length?"Plural":"Singular"),{chart:e,names:i.map(function(t){return d(t)}),ranges:i.map(function(t){return u(t)}),numAxes:i.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),e(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,t,e,n,o){let r=s["attr"],{getChartTitle:a,unhideChartElementFromAT:l}=n,h=o["getFakeMouseEvent"];function c(t){return t.exportSVGElements&&t.exportSVGElements[0]}class d extends t{init(){let t=this.chart,e=this;this.addEvent(t,"exportMenuShown",function(){e.onMenuShown()}),this.addEvent(t,"exportMenuHidden",function(){e.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let t=this.chart.exportContextMenu;t&&t.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){var t=this.chart,e=t.exportContextMenu;e&&(this.addAccessibleContextMenuAttribs(),l(t,e)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(t){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",t)}onChartRender(){let t=this.chart,e=t.focusElement,i=t.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&e&&e===t.exportingGroup&&(e.focusBorder?t.setFocusToElement(e,this.exportButtonProxy.innerElement):i&&i.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let t=this.chart,e=this.proxyProvider,i=c(t);var s,n;s=t,n=s.options.exporting,s=c(s),n&&!1!==n.enabled&&n.accessibility&&n.accessibility.enabled&&s&&s.element&&i&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:i},"button",{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:a(t)}),"aria-expanded":!1,title:t.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let t=this.chart,e=t.exportDivElements;var i;e&&e.length&&(e.forEach(t=>{t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))}),(i=e[0]&&e[0].parentNode)&&r(i,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"}))}getKeyboardNavigation(){let t=this.keyCodes,i=this.chart,s=this;return new e(i,{keyCodeMap:[[[t.left,t.up],function(){return s.onKbdPrevious(this)}],[[t.right,t.down],function(){return s.onKbdNext(this)}],[[t.enter,t.space],function(){return s.onKbdClick(this)}]],validate:function(){return!!i.exporting&&!1!==i.options.exporting.enabled&&!1!==i.options.exporting.accessibility.enabled},init:function(){var t=s.exportButtonProxy,e=s.chart.exportingGroup;t&&e&&i.setFocusToElement(e,t.innerElement)},terminate:function(){i.hideExportMenu()}})}onKbdPrevious(t){let e=this.chart,i=e.options.accessibility,s=t.response,n=e.highlightedExportItemIx||0;for(;n--;)if(e.highlightExportItem(n))return s.success;return i.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),s.success):s.prev}onKbdNext(t){let e=this.chart,i=e.options.accessibility,s=t.response;for(let t=(e.highlightedExportItemIx||0)+1;t<e.exportDivElements.length;++t)if(e.highlightExportItem(t))return s.success;return i.keyboardNavigation.wrapAround?(e.highlightExportItem(0),s.success):s.next}onKbdClick(t){let e=this.chart,i=e.exportDivElements[e.highlightedExportItemIx],s=c(e).element;return e.openMenu?this.fakeClickEvent(i):(this.fakeClickEvent(s),e.highlightExportItem(0)),t.response.success}}{n=d=d||{};let e=[];function u(){var e=c(this);if(e){let t=e.element;t.onclick&&t.onclick(h("click"))}}function p(){let t=this.exportDivElements;t&&this.exportContextMenu&&this.openMenu&&(t.forEach(t=>{t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(h("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function g(t){let e=this.exportDivElements&&this.exportDivElements[t],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];var s;return!(!e||"LI"!==e.tagName||e.children&&e.children.length)&&(s=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus,e.focus&&s&&e.focus(),i&&i.onmouseout&&i.onmouseout(h("mouseout")),e.onmouseover&&e.onmouseover(h("mouseover")),this.highlightedExportItemIx=t,!0)}function m(){if(this.exportDivElements){let t=this.exportDivElements.length;for(;t--;)if(this.highlightExportItem(t))return!0}return!1}n.compose=function(t){if(s.pushUnique(e,t)){let t=i.prototype;t.hideExportMenu=p,t.highlightExportItem=g,t.highlightLastExportItem=m,t.showExportMenu=u}}}return d}),e(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,i,s,n,o){let{doc:r,win:a}=e,{addEvent:l,fireEvent:h}=s,{getElement:c,simulatedEventTarget:t}=o;class d{constructor(t,e){this.chart=void 0,this.components=void 0,this.currentModuleIx=NaN,this.eventProvider=void 0,this.exitAnchor=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}init(e,t){let i=this.eventProvider=new n;this.chart=e,this.components=t,this.modules=[],this.currentModuleIx=0,this.update(),i.addEvent(this.tabindexContainer,"keydown",t=>this.onKeydown(t)),i.addEvent(this.tabindexContainer,"focus",t=>this.onFocus(t)),["mouseup","touchend"].forEach(t=>i.addEvent(r,t,t=>this.onMouseUp(t))),["mousedown","touchstart"].forEach(t=>i.addEvent(e.renderTo,t,()=>{this.isClickingChart=!0}))}update(t){let e=this.chart.options.accessibility,i=e&&e.keyboardNavigation,s=this.components;this.updateContainerTabindex(),i&&i.enabled&&t&&t.length?(this.modules=t.reduce(function(t,e){e=s[e].getKeyboardNavigation();return t.concat(e)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){var t="highcharts-end-of-chart-marker-"+this.chart.index,t=c(t);this.removeExitAnchor(),t?(this.makeElementAnExitAnchor(t),this.exitAnchor=t):this.createExitAnchor()}move(t){let e=this.modules&&this.modules[this.currentModuleIx],i=(e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t,this.modules&&this.modules[this.currentModuleIx]);if(i){if(i.validate&&!i.validate())return this.move(t);if(i.init)return i.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,0<t?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(t){let e=this.chart,i=t.relatedTarget&&e.container.contains(t.relatedTarget),s=e.options.accessibility,n=s&&s.keyboardNavigation,o=n&&n.enabled;!o||this.exiting||this.tabbingInBackwards||this.isClickingChart||i||null!==(t=this.getFirstValidModuleIx())&&(this.currentModuleIx=t,this.modules[t].init(1)),this.exiting=!1}onMouseUp(e){if(delete this.isClickingChart,!this.keyboardReset&&e.relatedTarget!==t){let t=this.chart;if(!e.target||!t.container.contains(e.target)){let t=this.modules&&this.modules[this.currentModuleIx||0];t&&t.terminate&&t.terminate(),this.currentModuleIx=0}t.focusElement&&(t.focusElement.removeFocusBorder(),delete t.focusElement),this.keyboardReset=!0}}onKeydown(t){let e,i=t||a.event,s=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],n=i.target;n&&"INPUT"===n.nodeName&&!n.classList.contains("highcharts-a11y-proxy-element")||(this.keyboardReset=!1,this.exiting=!1,!s)||((t=s.run(i))===s.response.success?e=!0:t===s.response.prev?e=this.move(-1):t===s.response.next&&(e=this.move(1)),e&&(i.preventDefault(),i.stopPropagation()))}updateContainerTabindex(){let t,e=this.chart.options.accessibility,i=e&&e.keyboardNavigation,s=!(i&&!1===i.enabled),n=this.chart,o=n.container;t=n.renderTo.hasAttribute("tabindex")?(o.removeAttribute("tabindex"),n.renderTo):o;var r=(this.tabindexContainer=t).getAttribute("tabindex");s&&!r?t.setAttribute("tabindex","0"):s||n.container.removeAttribute("tabindex")}createExitAnchor(){let t=this.chart,e=this.exitAnchor=r.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)}makeElementAnExitAnchor(t){var e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(t){let n=this.chart,o=this;this.eventProvider.addEvent(t,"focus",function(t){let e=t||a.event,i=e.relatedTarget&&n.container.contains(e.relatedTarget),s=!(i||o.exiting);if(n.focusElement&&delete n.focusElement,s){if(o.tabbingInBackwards=!0,o.tabindexContainer.focus(),delete o.tabbingInBackwards,e.preventDefault(),o.modules&&o.modules.length){o.currentModuleIx=o.modules.length-1;let t=o.modules[o.currentModuleIx];t&&t.validate&&!t.validate()?o.move(-1):t&&t.init(-1)}}else o.exiting=!1})}getFirstValidModuleIx(){var t=this.modules.length;for(let e=0;e<t;++e){let t=this.modules[e];if(!t.validate||t.validate())return e}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}{o=d=d||{};let t=[];function u(){let t=this;h(this,"dismissPopupContent",{},function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()})}function p(t){27===(t.which||t.keyCode)&&e.charts&&e.charts.forEach(t=>{t&&t.dismissPopupContent&&t.dismissPopupContent()})}o.compose=function(e){if(i.compose(e),s.pushUnique(t,e)){let t=e.prototype;t.dismissPopupContent=u}return s.pushUnique(t,r)&&l(r,"keydown",p),e}}return d}),e(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,i,s,n,o,r,a){let l=t["animObject"],h=e["doc"],{addEvent:c,fireEvent:d,isNumber:u,pick:p,syncTimeout:g}=s,m=r["getChartTitle"],{stripHTMLTagsFromString:b,addClass:x,removeClass:f}=a;function y(t){var e=t.legend&&t.legend.allItems,i=t.options.legend.accessibility||{},t=t.colorAxis&&t.colorAxis.some(t=>!t.dataClasses||!t.dataClasses.length);return e&&e.length&&!t&&!1!==i.enabled}function v(t,e){var i,s=e.legendItem||{};for(i of(e.setState(t?"hover":"",!0),["group","label","symbol"])){var n=s[i],n=n&&n.element||n;n&&d(n,t?"mouseover":"mouseout")}}class A extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let e=this;this.recreateProxies(),this.addEvent(i,"afterScroll",function(){this.chart===e.chart&&(e.proxyProvider.updateGroupProxyElementPositions("legend"),e.updateLegendItemProxyVisibility(),-1<e.highlightedLegendItemIx&&this.chart.highlightLegendItem(e.highlightedLegendItemIx))}),this.addEvent(i,"afterPositionItem",function(t){this.chart===e.chart&&this.chart.renderer&&e.updateProxyPositionForItem(t.item)}),this.addEvent(i,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&e.recreateProxies()&&g(()=>e.proxyProvider.updateGroupProxyElementPositions("legend"),l(p(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let r,a=this.chart,l=a.legend,t=l.allItems||[],h=l.currentPage||1,c=l.clipHeight||0;t.forEach(s=>{if(s.a11yProxyElement){let t=l.pages&&l.pages.length,e=s.a11yProxyElement.element,i=!1;var n,o;r=s.legendItem||{},t&&(s=r.pageIx||0,n=r.y||0,o=r.label?Math.round(r.label.getBBox().height):0,i=n+o-l.pages[s]>c||s!==h-1),i?a.styledMode?x(e,"highcharts-a11y-invisible"):e.style.visibility="hidden":(f(e,"highcharts-a11y-invisible"),e.style.visibility="")}})}onChartRender(){y(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(t){let e=this.chart,i=e.legend,s=i.currentPage||1,n=s+t,o=i.pages||[];if(0<n&&n<=o.length){let t=0;for(var r of i.allItems)((r.legendItem||{}).pageIx||0)+1===n&&e.highlightLegendItem(t)&&(this.highlightedLegendItemIx=t),++t}}updateProxyPositionForItem(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()}recreateProxies(){let t=h.activeElement,e=this.proxyGroup,i=t&&e&&e.contains(t);return this.removeProxies(),!!y(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),i&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let t=this.chart,e=b((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," "),t.renderer.forExport),i=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:m(t)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":i})}addLegendProxyGroup(){var t="all"===this.chart.options.accessibility.landmarkVerbosity?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:t})}proxyLegendItems(){let e,i=this,t=(this.chart.legend||{}).allItems||[];t.forEach(t=>{(e=t.legendItem||{}).label&&e.label.element&&i.proxyLegendItem(t)})}proxyLegendItem(t){var e,i,s=t.legendItem||{};s.label&&s.group&&(e=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:b(t.name,this.chart.renderer.forExport),item:t}),e={tabindex:-1,"aria-pressed":t.visible,"aria-label":e},i=s.group.div?s.label:s.group,t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:s.label,visual:i.element},"button",e))}getKeyboardNavigation(){let e=this.keyCodes,i=this,t=this.chart;return new o(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return i.onKbdArrowKey(this,t)}],[[e.enter,e.space],function(){return i.onKbdClick(this)}],[[e.pageDown,e.pageUp],function(t){t=t===e.pageDown?1:-1;return i.highlightAdjacentLegendPage(t),this.response.success}]],validate:function(){return i.shouldHaveLegendNavigation()},init:function(){t.highlightLegendItem(0),i.highlightedLegendItemIx=0},terminate:function(){i.highlightedLegendItemIx=-1,t.legend.allItems.forEach(t=>v(!1,t))}})}onKbdArrowKey(t,e){let i=this.keyCodes,s=t.response,n=this.chart,o=n.options.accessibility,r=n.legend.allItems.length,a=e===i.left||e===i.up?-1:1,l=n.highlightLegendItem(this.highlightedLegendItemIx+a);return l?this.highlightedLegendItemIx+=a:1<r&&o.keyboardNavigation.wrapAround&&t.init(a),s.success}onKbdClick(t){let e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success}shouldHaveLegendNavigation(){if(!y(this.chart))return!1;var t=this.chart,e=(t.options.legend||{}).accessibility||{};return!!(t.legend.display&&e.keyboardNavigation&&e.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}{t=A=A||{};let i=[];function w(t){var e=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,s=e[t],n=s.legendItem||{};return!!s&&(u(i)&&e[i]&&v(!1,e[i]),e=this.legend,i=(e.allItems[t].legendItem||{}).pageIx,t=e.currentPage,void 0!==i&&i+1!==t&&e.scroll(1+i-t),e=n.label,i=s.a11yProxyElement&&s.a11yProxyElement.innerElement,e&&e.element&&i&&this.setFocusToElement(e,i),v(!0,s),!0)}function C(t){let e=this.chart,i=e.options.accessibility,s=t.item;i.enabled&&s&&s.a11yProxyElement&&s.a11yProxyElement.innerElement.setAttribute("aria-pressed",t.visible?"true":"false")}t.compose=function(e,t){if(s.pushUnique(i,e)){let t=e.prototype;t.highlightLegendItem=w}s.pushUnique(i,t)&&c(t,"afterColorizeItem",C)}}return A}),e(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let h=t["isTouchDevice"],{addEvent:i,correctFloat:c,defined:d,isNumber:u,pick:p}=e,s=[];function n(){this.navigatorAxis||(this.navigatorAxis=new r(this))}function o(t){let e=this.chart,i=e.options,s=i.navigator,n=this.navigatorAxis,o=e.zooming.pinchType,r=i.rangeSelector,a=e.zooming.type;var l;this.isXAxis&&(s&&s.enabled||r&&r.enabled)&&("y"===a?t.zoomed=!1:(!h&&"xy"===a||h&&"xy"===o)&&this.options.range&&(l=n.previousZoom,d(t.newMin)?n.previousZoom=[this.min,this.max]:l&&(t.newMin=l[0],t.newMax=l[1],n.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()}class r{static compose(t){e.pushUnique(s,t)&&(t.keepProps.push("navigatorAxis"),i(t,"init",n),i(t,"zoom",o))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let n=this.axis,o=n.chart,r=p(i,n.translate(t,!0,!n.horiz)),a=p(s,n.translate(e,!0,!n.horiz)),l=o&&o.fixedRange,h=(n.pointRange||0)/2;return d(i)||(r=c(r+h)),d(s)||(a=c(a-h)),l&&n.dataMin&&n.dataMax&&((r=a>=n.dataMax?c(n.dataMax-l):r)<=n.dataMin&&(a=c(n.dataMin+l))),{min:r=u(r)&&u(a)?r:a=void 0,max:a}}}return class{static compose(t){e.pushUnique(s,t)&&(t.keepProps.push("navigatorAxis"),i(t,"init",n),i(t,"zoom",o))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let n=this.axis,o=n.chart,r=p(i,n.translate(t,!0,!n.horiz)),a=p(s,n.translate(e,!0,!n.horiz)),l=o&&o.fixedRange,h=(n.pointRange||0)/2;return d(i)||(r=c(r+h)),d(s)||(a=c(a-h)),l&&n.dataMin&&n.dataMax&&(r=a>=n.dataMax?c(n.dataMax-l):r)<=n.dataMin&&(a=c(n.dataMin+l)),{min:r=u(r)&&u(a)?r:a=void 0,max:a}}}}),e(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e){let i=t["parse"],s=e["seriesTypes"],n={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===s.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}};return n}),e(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(t,e,i,s,n={}){var i=n.width?n.width/2:i,o=Math.round(i/3)+.5;return[["M",-i-1,.5],["L",i,.5],["L",i,(s=n.height||s)+.5],["L",-i-1,s+.5],["L",-i-1,.5],["M",-o,4],["L",-o,s-3],["M",o-1,4],["L",o-1,s-3]]}}}),e(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(t,e,n,o,r,i,a){let l,{defaultOptions:h,setOptions:c}=t,s=e["isTouchDevice"],d=i["getRendererType"],{addEvent:u,extend:p,merge:g,pick:m}=a,b=[];function x(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function f(){let t,e,i,s=this.legend,n=this.navigator;var o,r;n&&(t=s&&s.options,e=n.xAxis,i=n.yAxis,{scrollbarHeight:o,scrollButtonSize:r}=n,this.inverted?(n.left=n.opposite?this.chartWidth-o-n.height:this.spacing[3]+o,n.top=this.plotTop+r):(n.left=m(e.left,this.plotLeft+r),n.top=n.navigatorOptions.top||this.chartHeight-n.height-o-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?s.legendHeight+m(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&i&&(this.inverted?e.options.left=i.options.left=n.left:e.options.top=i.options.top=n.top,e.setAxisSize(),i.setAxisSize()))}function y(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new l(this),m(t.redraw,!0)&&this.redraw(t.animation))}function v(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new l(this))}function A(){var t=this.options,e=t.navigator,t=t.rangeSelector;if((e&&e.enabled||t&&t.enabled)&&(!s&&"x"===this.zooming.type||s&&"x"===this.zooming.pinchType))return!1}function w(t){let e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function C(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(g(!0,this.options.navigator,e),g(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}function E(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(t,e,i,s){if(n.compose(t),l=i,a.pushUnique(b,e)){let t=e.prototype;t.callbacks.push(w),u(e,"afterAddSeries",x),u(e,"afterSetChartSize",f),u(e,"afterUpdate",y),u(e,"beforeRender",v),u(e,"beforeShowResetZoom",A),u(e,"update",C)}a.pushUnique(b,s)&&u(s,"afterUpdate",E),a.pushUnique(b,d)&&p(d().prototype.symbols,r),a.pushUnique(b,c)&&p(h,{navigator:o})}}}),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(t){var e;let{addEvent:n,defined:c,pick:o,pushUnique:r}=t;{t=e=e||{};let i,s=[];function d(t){var e=o(t.options&&t.options.min,t.min),i=o(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:i,scrollMin:c(t.dataMin)?Math.min(e,t.min,t.dataMin,o(t.threshold,1/0)):e,scrollMax:c(t.dataMax)?Math.max(i,t.max,t.dataMax,o(t.threshold,-1/0)):i}}function a(){var t=this.scrollbar,e=t&&!t.options.opposite,e=this.horiz?2:e?3:1;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))}function l(){let a=this;a.options&&a.options.scrollbar&&a.options.scrollbar.enabled&&(a.options.scrollbar.vertical=!a.horiz,a.options.startOnTick=a.options.endOnTick=!1,a.scrollbar=new i(a.chart.renderer,a.options.scrollbar,a.chart),n(a.scrollbar,"changed",function(t){let e,i;var{axisMin:s,axisMax:n,scrollMin:o,scrollMax:r}=d(a),r=r-o;c(s)&&c(n)&&(i=a.horiz&&!a.reversed||!a.horiz&&a.reversed?(e=o+r*this.to,o+r*this.from):(e=o+r*(1-this.from),o+r*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?(s="mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&void 0,a.setExtremes(i,e,!0,s,t)):this.setRange(this.from,this.to))}))}function h(){let t,e,i,{scrollMin:s,scrollMax:n}=d(this),o=this.scrollbar,r=this.axisTitleMargin+(this.titleOffset||0),a=this.chart.scrollbarsOffsets,l=this.options.margin||0;var h;o&&a&&(t=this.horiz?(this.opposite||(a[1]+=r),o.position(this.left,this.top+this.height+2+a[1]-(this.opposite?l:0),this.width,this.height),this.opposite||(a[1]+=l),1):(this.opposite&&(a[0]+=r),h=o.options.opposite?this.left+this.width+2+a[0]-(this.opposite?0:l):this.opposite?0:l,o.position(h,this.top,this.width,this.height),this.opposite&&(a[0]+=l),0),a[t]+=o.size+(o.options.margin||0),isNaN(s)||isNaN(n)||!c(this.min)||!c(this.max)||this.min===this.max?o.setRange(0,1):(e=(this.min-s)/(n-s),i=(this.max-s)/(n-s),this.horiz&&!this.reversed||!this.horiz&&this.reversed?o.setRange(e,i):o.setRange(1-i,1-e)))}t.compose=function(t,e){r(s,e)&&(i=e),r(s,t)&&(n(t,"afterGetOffset",a),n(t,"afterInit",l),n(t,"afterRender",h))}}return e}),e(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(t){var{}=t;return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),e(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(t,l,e,s,i){let n=t["defaultOptions"],{addEvent:h,correctFloat:c,defined:d,destroyObjectProperties:o,fireEvent:r,merge:a,pick:u,removeEvent:p}=i;class g{static compose(t){e.compose(t,g)}static swapXY(t,e){return e&&t.forEach(e=>{var i,s=e.length;for(let t=0;t<s;t+=2)"number"==typeof(i=e[t+1])&&(e[t+1]=e[t+2],e[t+2]=i)}),t}constructor(t,e,i){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(t,e,i)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,s=this.track.element,n=this.mouseDownHandler.bind(this),o=this.mouseMoveHandler.bind(this),r=this.mouseUpHandler.bind(this),a=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[s,"click",this.trackClick.bind(this)],[i,"mousedown",n],[i.ownerDocument,"mousemove",o],[i.ownerDocument,"mouseup",r]];l.hasTouch&&a.push([i,"touchstart",n],[i.ownerDocument,"touchmove",o],[i.ownerDocument,"touchend",r]),a.forEach(function(t){h.apply(null,t)}),this._events=a}buttonToMaxClick(t){var e=(this.to-this.from)*u(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){var e=c(this.to-this.from)*u(this.options.step,.2);this.updatePosition(c(this.from-e),c(this.to-e)),r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this.options,e=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}}destroy(){let e=this,t=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){e[t]&&e[t].destroy&&(e[t]=e[t].destroy())}),t&&e===t.scrollbar&&(t.scrollbar=null,o(t.scrollbarButtons))}drawScrollbarButton(i){let s=this.renderer,n=this.scrollbarButtons,o=this.options,r=this.size,a=s.g().add(this.group);if(n.push(a),o.buttonsEnabled){let t=s.rect().addClass("highcharts-scrollbar-button").add(a),e=(this.chart.styledMode||t.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),t.attr(t.crisp({x:-.5,y:-.5,width:r+1,height:r+1,r:o.buttonBorderRadius},t.strokeWidth())),s.path(g.swapXY([["M",r/2+(i?-1:1),r/2-3],["L",r/2+(i?-1:1),r/2+3],["L",r/2+(i?2:-2),r/2]],o.vertical)).addClass("highcharts-scrollbar-arrow").add(n[i]));this.chart.styledMode||e.attr({fill:o.buttonArrowColor})}}init(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=a(s,n.scrollbar,e),this.options.margin=u(this.options.margin,10),this.chart=i,this.size=u(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t);this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var e=this.chart.pointer.normalize(t),i=this.options.vertical?"chartY":"chartX",s=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][i]||(e=this.cursorToScrollbarPosition(e)[i]-this[i],this.hasDragged=!0,this.updatePosition(s[0]+e,s[1]+e),this.hasDragged&&r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,i,s){let n=this.options,{buttonsEnabled:o,margin:r=0,vertical:a}=n,l=this.rendered?"animate":"attr",h=s,c=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.height=s,this.xOffset=h,this.yOffset=c,a?(this.width=this.yOffset=i=c=this.size,this.xOffset=h=0,this.yOffset=c=o?this.size:0,this.barWidth=s-(o?2*i:0),this.x=t+=r):(this.height=s=this.size,this.xOffset=h=o?this.size:0,this.barWidth=i-(o?2*s:0),this.y=this.y+r),this.group[l]({translateX:t,translateY:this.y}),this.track[l]({width:i,height:s}),this.scrollbarButtons[1][l]({translateX:a?0:i-h,translateY:a?s-c:0})}removeEvents(){this._events.forEach(function(t){p.apply(null,t)}),this._events.length=0}render(){let t=this.renderer,e=this.options,i=this.size,s=this.chart.styledMode,n=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=n,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:i,width:i}).add(n),s||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});var o=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-o%2/2,y:-o%2/2}),this.scrollbarGroup=t.g().add(n),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:i-o,width:i-o,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(g.swapXY([["M",-3,i/4],["L",-3,2*i/3],["M",0,i/4],["L",0,2*i/3],["M",3,i/4],["L",3,2*i/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){let i,s;var n,o=this.options,r=o.vertical,a=o.minWidth,l=this.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";d(l)&&(n=l*Math.min(e,1),i=Math.ceil(l*(t=Math.max(t,0))),this.calculatedWidth=s=c(n-i),s<a&&(i=(l-a+s)*t,s=a),n=Math.floor(i+this.xOffset+this.yOffset),l=s/2-.5,this.from=t,this.to=e,r?(this.scrollbarGroup[h]({translateY:n}),this.scrollbar[h]({height:s}),this.scrollbarRifles[h]({translateY:l}),this.scrollbarTop=n,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:n}),this.scrollbar[h]({width:s}),this.scrollbarRifles[h]({translateX:l}),this.scrollbarLeft=n,this.scrollbarTop=0),s<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===o.showFull&&(t<=0&&1<=e?this.group.hide():this.group.show()),this.rendered=!0)}shouldUpdateExtremes(t){return u(this.options.liveRedraw,l.svg&&!l.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!d(t)}trackClick(t){var e=this.chart.pointer.normalize(t),i=this.to-this.from,s=this.y+this.scrollbarTop,n=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>s||!this.options.vertical&&e.chartX>n?this.updatePosition(this.from+i,this.to+i):this.updatePosition(this.from-i,this.to-i),r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,a(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=c(1-c(e-t)),e=1),t<0&&(e=c(e-t),t=0),this.from=t,this.to=e}}return g.defaultOptions=s,n.scrollbar=a(!0,g.defaultOptions,n.scrollbar),g}),e(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(g,t,e,m,s,b,i){let x=t["defaultOptions"],{hasTouch:r,isTouchDevice:h}=e,{addEvent:f,clamp:w,correctFloat:C,defined:E,destroyObjectProperties:n,erase:o,extend:y,find:a,fireEvent:T,isArray:v,isNumber:M,merge:A,pick:S,removeEvent:k,splat:P}=i;function D(t,...e){e=[].filter.call(e,M);if(e.length)return Math[t].apply(0,e)}return class l{static compose(t,e,i){s.compose(t,e,l,i)}constructor(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.range=void 0,this.rendered=void 0,this.scrollbarHeight=0,this.scrollButtonSize=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}drawHandle(t,e,i,s){var n=this.navigatorOptions.handles.height;this.handles[e][s](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-n/2-1)})}drawOutline(t,e,i,s){let n=this.navigatorOptions.maskInside,o=this.outline.strokeWidth(),r=o/2,a=o%2/2,l=this.scrollButtonSize,h=this.size,c=this.top,d=this.height,u=c-r,p=c+d,g=this.left,m,b;i?(m=c+e+a,e=c+t+a,b=[["M",g+d,c-l-a],["L",g+d,m],["L",g,m],["M",g,e],["L",g+d,e],["L",g+d,c+h+l]],n&&b.push(["M",g+d,m-r],["L",g+d,e+r])):(t+=(g-=l)+l-a,e+=g+l-a,b=[["M",g,u],["L",t,u],["L",t,p],["M",e,p],["L",e,u],["L",g+h+2*l,c+r]],n&&b.push(["M",t-r,u],["L",e+r,u])),this.outline[s]({d:b})}drawMasks(t,e,i,s){let n,o,r,a;var l=this.left,h=this.top,c=this.height;n=i?(r=[l,l,l],a=[h,h+t,h+e],o=[c,c,c],[t,e-t,this.size-e]):(r=[l,l+t,l+e],a=[h,h,h],o=[t,e-t,this.size-e],[c,c,c]),this.shades.forEach((t,e)=>{t[s]({x:r[e],y:a[e],width:o[e],height:n[e]})})}renderElements(){let n=this,o=n.navigatorOptions,t=o.maskInside,r=n.chart,e=r.inverted,a=r.renderer,l={cursor:e?"ns-resize":"ew-resize"},h=n.navigatorGroup=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!t,t,!t].forEach((t,e)=>{let i=a.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(h);r.styledMode||(i.attr({fill:t?o.maskFill:"rgba(0,0,0,0)"}),1===e&&i.css(l)),n.shades[e]=i}),n.outline=a.path().addClass("highcharts-navigator-outline").add(h),r.styledMode||n.outline.attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}),o.handles&&o.handles.enabled){let e=o.handles,{height:i,width:s}=e;[0,1].forEach(t=>{n.handles[t]=a.symbol(e.symbols[t],-s/2-1,0,s,i,e),r.inverted&&n.handles[t].attr({rotation:90,rotationOriginX:Math.floor(-s/2),rotationOriginY:(i+s)/2}),n.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(h),r.styledMode||n.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(l)})}}update(t){(this.series||[]).forEach(t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;A(!0,e.navigator,t),this.init(this.chart)}render(t,e,i,s){let n=this.chart,o=this.xAxis,r=o.pointRange||0,a=o.navigatorAxis.fake?n.xAxis[0]:o,l=this.navigatorEnabled,h=this.rendered,c=n.inverted,d=n.xAxis[0].minRange,u=n.xAxis[0].options.maxRange,p=this.scrollButtonSize,g,m,b,x=this.scrollbarHeight,f,y;if(!this.hasDragged||E(i)){if(t=C(t-r/2),e=C(e+r/2),!M(t)||!M(e)){if(!h)return;i=0,s=S(o.width,a.width)}this.left=S(o.left,n.plotLeft+p+(c?n.plotWidth:0));var v=this.size=f=S(o.len,(c?n.plotHeight:n.plotWidth)-2*p),t=(g=c?x:f+2*p,i=S(i,o.toPixels(t,!0)),s=S(s,o.toPixels(e,!0)),M(i)&&Math.abs(i)!==1/0||(i=0,s=g),o.toValue(i,!0)),e=o.toValue(s,!0),A=((A=Math.abs(C(e-t)))<d?this.grabbedLeft?i=o.toPixels(e-d-r,!0):this.grabbedRight&&(s=o.toPixels(t+d+r,!0)):E(u)&&C(A-r)>u&&(this.grabbedLeft?i=o.toPixels(e-u-r,!0):this.grabbedRight&&(s=o.toPixels(t+u+r,!0))),this.zoomedMax=w(Math.max(i,s),0,v),this.zoomedMin=w(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,s),0,v),this.range=this.zoomedMax-this.zoomedMin,v=Math.round(this.zoomedMax),Math.round(this.zoomedMin));l&&(this.navigatorGroup.attr({visibility:"inherit"}),y=h&&!this.hasDragged?"animate":"attr",this.drawMasks(A,v,c,y),this.drawOutline(A,v,c,y),this.navigatorOptions.handles.enabled&&(this.drawHandle(A,0,c,y),this.drawHandle(v,1,c,y))),this.scrollbar&&(c?(b=this.top-p,m=this.left-x+(l||!a.opposite?0:(a.titleOffset||0)+a.axisTitleMargin),x=f+2*p):(b=this.top+(l?this.height:-x),m=this.left-p),this.scrollbar.position(m,b,g,x),this.scrollbar.setRange(this.zoomedMin/(f||1),this.zoomedMax/(f||1))),this.rendered=!0,T(this,"afterRender")}}addMouseEvents(){let e=this,t=e.chart,i=t.container,s=[],n,o;e.mouseMoveHandler=n=function(t){e.onMouseMove(t)},e.mouseUpHandler=o=function(t){e.onMouseUp(t)},(s=e.getPartsEvents("mousedown")).push(f(t.renderTo,"mousemove",n),f(i.ownerDocument,"mouseup",o)),r&&(s.push(f(t.renderTo,"touchmove",n),f(i.ownerDocument,"touchend",o)),s.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=s,e.series&&e.series[0]&&s.push(f(e.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(s){let n=this,o=[];return["shades","handles"].forEach(function(i){n[i].forEach(function(t,e){o.push(f(t.element,s,function(t){n[i+"Mousedown"](t,e)}))})}),o}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);let i=this.chart,s=this.xAxis,n=this.zoomedMin,o=this.size,r=this.range,a=this.left,l=t.chartX,h,c,d,u;i.inverted&&(l=t.chartY,a=this.top),1===e?(this.grabbedCenter=l,this.fixedWidth=r,this.dragOffset=l-n):(u=l-a-r/2,0===e?u=Math.max(0,u):2===e&&u+r>=o&&(u=o-r,this.reversedExtremes?(u-=r,c=this.getUnionExtremes().dataMin):h=this.getUnionExtremes().dataMax),u!==n&&(this.fixedWidth=r,E((d=s.navigatorAxis.toFixedRange(u,u+r,c,h)).min)&&i.xAxis[0].setExtremes(Math.min(d.min,d.max),Math.max(d.min,d.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){t=this.chart.pointer.normalize(t);let i=this.chart,s=i.xAxis[0],n=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=n?s.min:s.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=n?s.max:s.min),i.fixedRange=null}onMouseMove(t){let e=this,i=e.chart,s=e.navigatorSize,n=e.range,o=e.dragOffset,r=i.inverted,a=e.left,l;t.touches&&0===t.touches[0].pageX||(l=(t=i.pointer.normalize(t)).chartX,r&&(a=e.top,l=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,l-a,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,l-a)):e.grabbedCenter&&(e.hasDragged=!0,l<o?l=o:l>s+o-n&&(l=s+o-n),e.render(0,0,l-o,l-o+n)),e.hasDragged&&e.scrollbar&&S(e.scrollbar.options.liveRedraw,!h&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){let e,i,s,n,o,r,a=this.chart,l=this.xAxis,h=this.scrollbar,c=t.DOMEvent||t,d=a.inverted,u=this.rendered&&!this.hasDragged?"animate":"attr";(!this.hasDragged||h&&h.hasDragged)&&"scrollbar"!==t.trigger||(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?n=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(o=this.fixedExtreme),this.zoomedMax===this.size&&(o=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(n=this.reversedExtremes?s.dataMax:s.dataMin),E((r=l.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,n,o)).min)&&a.xAxis[0].setExtremes(Math.min(r.min,r.max),Math.max(r.min,r.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:c})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&M(this.zoomedMin)&&M(this.zoomedMax)&&(i=Math.round(this.zoomedMin),e=Math.round(this.zoomedMax),this.shades&&this.drawMasks(i,e,d,u),this.outline&&this.drawOutline(i,e,d,u),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(i,0,d,u),this.drawHandle(e,1,d,u)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){k(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&k(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(a){let t=a.options,e=t.navigator||{},i=e.enabled,s=t.scrollbar||{},n=s.enabled,o=i&&e.height||0,r=n&&s.height||0,l=s.buttonsEnabled&&r||0,h=(this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=o,this.scrollbarHeight=r,this.scrollButtonSize=l,this.scrollbarEnabled=n,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=s,this.opposite=S(e.opposite,!(i||!a.inverted)),this),c=h.baseSeries,d=a.xAxis.length,u=a.yAxis.length,p=c&&c[0]&&c[0].xAxis||a.xAxis[0]||{options:{}};if(a.isDirtyBox=!0,h.navigatorEnabled?(h.xAxis=new g(a,A({breaks:p.options.breaks,ordinal:p.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[l,0,-l,0],width:o}:{offsets:[0,-l,0,l],height:o}),"xAxis"),h.yAxis=new g(a,A(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:u,isInternal:!0,reversed:S(e.yAxis&&e.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:o}:{height:o}),"yAxis"),c||e.series.data?h.updateNavigatorSeries(!1):0===a.series.length&&(h.unbindRedraw=f(a,"beforeRedraw",function(){0<a.series.length&&!h.series&&(h.setBaseSeries(),h.unbindRedraw())})),h.reversedExtremes=a.inverted&&!h.xAxis.reversed||!a.inverted&&h.xAxis.reversed,h.renderElements(),h.addMouseEvents()):(h.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(t,e){let i=a.xAxis[0],s=i.getExtremes(),n=i.len-2*l,o=D("min",i.options.min,s.dataMin),r=D("max",i.options.max,s.dataMax)-o;return e?t*r/n+o:n*(t-o)/r},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},h.xAxis.navigatorAxis.axis=h.xAxis,h.xAxis.navigatorAxis.toFixedRange=m.prototype.toFixedRange.bind(h.xAxis.navigatorAxis)),a.options.scrollbar.enabled){let t=A(a.options.scrollbar,{vertical:a.inverted});!M(t.margin)&&h.navigatorEnabled&&(t.margin=a.inverted?-3:3),a.scrollbar=h.scrollbar=new b(a.renderer,t,a),f(h.scrollbar,"changed",function(t){var e=(i=h.size)*this.to,i=i*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,i,e),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){h.onMouseUp(t)})})}h.addBaseSeriesEvents(),h.addChartEvents()}getUnionExtremes(t){let e;var i=this.chart.xAxis[0],s=this.xAxis,n=s.options,o=i.options;return e=t&&null===i.dataMin?e:{dataMin:S(n&&n.min,D("min",o.min,i.dataMin,s.dataMin,s.min)),dataMax:S(n&&n.max,D("max",o.max,i.dataMax,s.dataMax,s.max))}}setBaseSeries(i,t){let e=this.chart,s=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?a(e.series,t=>!t.options.isInternal).index:0),(e.series||[]).forEach((t,e)=>{t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||s.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(t,n){let o=this,r=o.chart,a=o.baseSeries,l={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},h=o.series=(o.series||[]).filter(t=>{let e=t.baseSeries;return!(a.indexOf(e)<0&&(e&&(k(e,"updatedData",o.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))}),c,d,u=o.navigatorOptions.series,p;a&&a.length&&a.forEach(t=>{let e=t.navigatorSeries,i=y({color:t.color,visible:t.visible},v(u)?x.navigator.series:u);var s;e&&!1===o.navigatorOptions.adaptToUpdatedData||(l.name="Navigator "+a.length,p=(c=t.options||{}).navigatorOptions||{},i.dataLabels=P(i.dataLabels),(d=A(c,l,i,p)).pointRange=S(i.pointRange,p.pointRange,x.plotOptions[d.type||"line"].pointRange),s=p.data||i.data,o.hasNavigatorData=o.hasNavigatorData||!!s,d.data=s||c.data&&c.data.slice(0),e&&e.options?e.update(d,n):(t.navigatorSeries=r.initSeries(d),t.navigatorSeries.baseSeries=t,h.push(t.navigatorSeries)))}),(!u.data||a&&a.length)&&!v(u)||(o.hasNavigatorData=!1,(u=P(u)).forEach((t,e)=>{l.name="Navigator "+(h.length+1),(d=A(x.navigator.series,{color:r.series[e]&&!r.series[e].options.isInternal&&r.series[e].color||r.options.colors[e]||r.options.colors[0]},l,t)).data=t.data,d.data&&(o.hasNavigatorData=!0,h.push(r.initSeries(d)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(f(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(t=>{t.eventsToUnbind.push(f(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(f(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(f(t,"updatedData",this.updatedDataHandler)),t.eventsToUnbind.push(f(t,"remove",function(){this.navigatorSeries&&(o(e.series,this.navigatorSeries),E(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;var e;void 0===t.getExtremes||!(e=this.getUnionExtremes(!0))||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}modifyBaseAxisExtremes(){let t,e,i=this.chart.navigator,s=this.getExtremes(),n=s.min,o=s.max,r=s.dataMin,a=s.dataMax,l=o-n,h=i.stickToMin,c=i.stickToMax,d=S(this.options.overscroll,0),u=i.series&&i.series[0],p=!!this.setExtremes,g=this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger;g||(h&&(t=(e=r)+l),c&&(t=a+d,h||(e=Math.max(r,t-l,i.getBaseSeriesMin(u&&u.xData?u.xData[0]:-Number.MAX_VALUE)))),p&&(h||c)&&M(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=S(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){var e=e.getBaseSeriesMin(t.xData[0]),i=(t=t.xAxis).max,s=t.min,t=t.options.range;return!(!M(i)||!M(s))&&(t&&0<i-e?i-e<t:s<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(f(this.chart,"redraw",function(){let t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),f(this.chart,"getMargins",function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this[e=this.inverted?t.opposite?"marginRight":"plotLeft":e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(o(this.chart.xAxis,this.xAxis),o(this.chart.axes,this.xAxis)),this.yAxis&&(o(this.chart.yAxis,this.yAxis),o(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{n(t)})}}}),e(t,"Accessibility/Components/NavigatorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Stock/Navigator/Navigator.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(t,i,r,s,e,n,o,a,l){let h=e["animObject"],c=n["format"],{clamp:d,pick:u,syncTimeout:p}=o,g=a["getFakeMouseEvent"],{getAxisRangeDescription:m,fireEventOnWrappedOrUnwrappedElement:b}=l;return class extends t{constructor(){super(...arguments),this.announcer=void 0}init(){let t=this.chart,e=this;this.announcer=new i(t,"polite"),this.addEvent(s,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&p(()=>{e.proxyProvider.updateGroupProxyElementPositions("navigator"),e.updateHandleValues()},h(u(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){let n=this.chart,t=n.options;if(t.navigator.accessibility?.enabled){var e=t.accessibility.landmarkVerbosity,i=t.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:"all"===e?"region":"group","aria-label":c(i,{chart:n},n)});let s=t.lang.accessibility?.navigator.handleLabel;[0,1].forEach(e=>{var i=this.getHandleByIx(e);if(i){let t=this.proxyProvider.addProxyElement("navigator",{click:i},"input",{type:"range","aria-label":c(s,{handleIx:e,chart:n},n)});this[e?"maxHandleProxy":"minHandleProxy"]=t.innerElement,t.innerElement.style.pointerEvents="none",t.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(e){let i=this,s=this.chart,n=e?this.maxHandleProxy:this.minHandleProxy,o=this.keyCodes;return new r(s,{keyCodeMap:[[[o.left,o.right,o.up,o.down],function(t){return n&&(t=t===o.left||t===o.up?-1:1,n.value=""+d(parseFloat(n.value)+t,0,100),i.updateNavigator(()=>{var t=i.getHandleByIx(e);t&&s.setFocusToElement(t,n)})),this.response.success}]],init:()=>{s.setFocusToElement(this.getHandleByIx(e),n)},validate:()=>!!(this.getHandleByIx(e)&&n&&s.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){var t,e=this.chart.navigator;e&&this.minHandleProxy&&this.maxHandleProxy&&(t=e.size,this.minHandleProxy.value=""+Math.round(e.zoomedMin/t*100),this.maxHandleProxy.value=""+Math.round(e.zoomedMax/t*100))}getHandleByIx(t){var e=this.chart.navigator;return e&&e.handles&&e.handles[t]}updateNavigator(t){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((i=>{let n=this.chart,o=n.navigator;if(o&&this.minHandleProxy&&this.maxHandleProxy){let s=n.pointer.getChartPosition(),t=parseFloat(this.minHandleProxy.value)/100*o.size,e=parseFloat(this.maxHandleProxy.value)/100*o.size;[[0,"mousedown",o.zoomedMin],[0,"mousemove",t],[0,"mouseup",t],[1,"mousedown",o.zoomedMax],[1,"mousemove",e],[1,"mouseup",e]].forEach(([t,e,i])=>{t=this.getHandleByIx(t)?.element;t&&b(t,g(e,{x:s.left+o.left+i,y:s.top+o.top},t))}),i&&i();var i=n.options.lang.accessibility?.navigator.changeAnnouncement,r=m(n.xAxis[0]);this.announcer.announce(c(i,{axisRangeDescription:r,chart:n},n))}}).bind(this,t),20)}}}),e(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i,s,n){let u=t["getPointAnnotationTexts"],{getAxisDescription:o,getSeriesFirstPointElement:c,getSeriesA11yElement:d,unhideChartElementFromAT:p}=e,{format:m,numberFormat:r}=i,{reverseChildNodes:g,stripHTMLTagsFromString:b}=s,{find:x,isNumber:a,isString:f,pick:y,defined:v}=n;function A(t){var e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==e&&t.points&&t.points.length>=+e)}function w(t,e){var t=t.series,i=t.chart,s=i.options.accessibility.point||{},n=t.options.accessibility&&t.options.accessibility.point||{},t=t.tooltipOptions||{},i=i.options.lang;return a(e)?r(e,n.valueDecimals||s.valueDecimals||t.valueDecimals||-1,i.decimalPoint,i.accessibility.thousandsSep||i.thousandsSep):e}function C(t,e){var i=t[e];return t.chart.langFormat("accessibility.series."+e+"Description",{name:o(i),series:t})}function E(t){var e,i,s,n,o,r=t.series,a=1<r.chart.series.length||r.options.name,l=(e=(d=t).series,i=e.chart,s=(s=e.options.accessibility)&&s.point&&s.point.valueDescriptionFormat||i.options.accessibility.point.valueDescriptionFormat,e=y(e.xAxis&&e.xAxis.options.accessibility&&e.xAxis.options.accessibility.enabled,!i.angular&&"flowmap"!==e.type),n=e?(n=function(t){let e=t.series,i=e.chart,s=e.options.accessibility&&e.options.accessibility.point||{},n=i.options.accessibility.point||{},o=e.xAxis&&e.xAxis.dateTime;var r;if(o)return r=o.getXDateFormat(t.x||0,i.options.tooltip.dateTimeLabelFormats),r=s.dateFormatter&&s.dateFormatter(t)||n.dateFormatter&&n.dateFormatter(t)||s.dateFormat||n.dateFormat||r,i.time.dateFormat(r,t.x||0,void 0)}(h=d),o=(h.series.xAxis||{}).categories&&v(h.category)&&(""+h.category).replace("<br/>"," "),l=v(h.id)&&(""+h.id).indexOf("highcharts-")<0,c="x, "+h.x,h.name||n||o||(l?h.id:c)):"",o={point:d,index:v(d.index)?d.index+1:"",xDescription:n,value:function(e){let t=e.series,i=t.chart.options.accessibility.point||{},s=t.chart.options.accessibility&&t.chart.options.accessibility.point||{},n=t.tooltipOptions||{},o=s.valuePrefix||i.valuePrefix||n.valuePrefix||"",r=s.valueSuffix||i.valueSuffix||n.valueSuffix||"",a=void 0!==e.value?"value":"y",l=w(e,e[a]);{if(e.isNull)return t.chart.langFormat("accessibility.series.nullPointValue",{point:e});if(t.pointArrayMap){var h=e;let s=o||"",n=r||"",t=h.series.pointArrayMap;return t.reduce(function(t,e){e=e;var i,e=void 0!==(i=w(h,y(h[e],h.options[e])))?e+": "+s+i+n:i;return e?t+(t.length?", ":"")+e:t},"")}return o+l+r}}(d),separator:e?", ":""},m(s,o,i)),h=t.options&&t.options.accessibility&&t.options.accessibility.description,c=a?" "+r.name+".":"",d=function(t){let e=t.series.chart,i=u(t);return i.length?e.langFormat("accessibility.series.pointAnnotationsDescription",{point:t,annotations:i}):""}(t);return t.accessibility=t.accessibility||{},(t.accessibility.valueDescription=l)+(h?" "+h:"")+c+(d?" "+d:"")}function T(e){function t(t){return i[t]&&1<i[t].length&&e[t]}let i=e.chart,s=i.types||[],n=(g=((p=e).options.accessibility||{}).description)&&p.chart.langFormat("accessibility.series.description",{description:g,series:p})||"",o=e.index+1,r=C(e,"xAxis"),a=C(e,"yAxis"),l={seriesNumber:o,series:e,chart:i},h=1<s.length?"Combination":"",c=i.langFormat("accessibility.series.summary."+e.type+h,l)||i.langFormat("accessibility.series.summary.default"+h,l),d=(t("yAxis")?" "+a+".":"")+(t("xAxis")?" "+r+".":""),u=y(e.options.accessibility&&e.options.accessibility.descriptionFormat,i.options.accessibility.series.descriptionFormat,"");var p,g;return m(u,{seriesDescription:c,authorDescription:n?" "+n:"",axisDescription:d,series:e,chart:i,seriesNumber:o},void 0)}return{defaultPointDescriptionFormatter:E,defaultSeriesDescriptionFormatter:T,describeSeries:function(s){let t=s.chart,e=c(s),n=d(s),i=t.is3d&&t.is3d();if(n){n.lastChild!==e||i||g(n);{var a=s;o=a.options.accessibility||{};let e=!A(a)&&!o.exposeAsGroupOnly,t=(o=a.chart.options.accessibility.keyboardNavigation.seriesNavigation,!(!a.points||!(a.points.length<+o.pointNavigationEnabledThreshold||!1===o.pointNavigationEnabledThreshold))),i=a.chart.options.accessibility.point.describeNull;(e||t)&&a.points.forEach(n=>{let o=n.graphic&&n.graphic.element||function(t){let e=t.series,i=e&&e.chart,s=e&&e.is("sunburst"),n=t.isNull,o=i&&i.options.accessibility.point.describeNull;return n&&!s&&o}(n)&&function(i){let t=i.series,e=function(t){let e=t.index;return t.series&&t.series.data&&v(e)&&x(t.series.data,function(t){return!!(t&&void 0!==t.index&&t.index>e&&t.graphic&&t.graphic.element)})||null}(i),s=e&&e.graphic,n=s?s.parentGroup:t.graph||t.group,o=e?{x:y(i.plotX,e.plotX,0),y:y(i.plotY,e.plotY,0)}:{x:y(i.plotX,0),y:y(i.plotY,0)},r=function(){let t=i.series.chart.renderer,e=t.rect(o.x,o.y,1,1);return e.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),e}();if(n&&n.element)return i.graphic=r,i.hasMockGraphic=!0,r.add(n),n.element.insertBefore(r.element,s?s.element:null),r.element}(n),t=n.options&&n.options.accessibility&&!1===n.options.accessibility.enabled;if(o)if(n.isNull&&!i)o.setAttribute("aria-hidden",!0);else if(o.setAttribute("tabindex","-1"),a.chart.styledMode||(o.style.outline="none"),e&&!t){var r=o;let t=n.series,e=t.options.accessibility?.point||{},i=t.chart.options.accessibility.point||{},s=b(f(e.descriptionFormat)&&m(e.descriptionFormat,n,t.chart)||e.descriptionFormatter?.(n)||f(i.descriptionFormat)&&m(i.descriptionFormat,n,t.chart)||i.descriptionFormatter?.(n)||E(n),t.chart.renderer.forExport);r.setAttribute("role","img"),r.setAttribute("aria-label",s)}else o.setAttribute("aria-hidden",!0)})}if(p(t,n),o=s.chart,r=(r=o.options.chart).options3d&&r.options3d.enabled,l=1<o.series.length,o=o.options.accessibility.series.describeSingleSeries,h=(s.options.accessibility||{}).exposeAsGroupOnly,r&&l||!(l||o||h||A(s)))n.removeAttribute("aria-label");else{r=s,l=n;let t=r.options.accessibility||{},e=r.chart.options.accessibility,i=e.landmarkVerbosity;t.exposeAsGroupOnly?l.setAttribute("role","img"):"all"===i?l.setAttribute("role","region"):l.setAttribute("role","group"),l.setAttribute("tabindex","-1"),r.chart.styledMode||(l.style.outline="none"),l.setAttribute("aria-label",b(e.series.descriptionFormatter&&e.series.descriptionFormatter(r)||T(r),r.chart.renderer.forExport))}}var o,r,l,h}}}),e(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,e,i,t,s,n){let{addEvent:o,defined:a}=e,l=t["getChartTitle"],{defaultPointDescriptionFormatter:h,defaultSeriesDescriptionFormatter:c}=n;function d(t){return t.options.accessibility.announceNewData.enabled}class u{constructor(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}init(){var t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new s,this.announcer=new i(t,e),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let e=this,t=this.chart,i=this.eventProvider;i.addEvent(t,"afterApplyDrilldown",function(){e.lastAnnouncementTime=0}),i.addEvent(t,"afterAddSeries",function(t){e.onSeriesAdded(t.series)}),i.addEvent(t,"redraw",function(){e.announceDirtyData()})}onSeriesAdded(t){d(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=a(this.dirty.newSeries)?void 0:t)}announceDirtyData(){let t=this.chart,e=this;if(t.options.accessibility.announceNewData&&this.dirty.hasDirty){let t=this.dirty.newPoint;t=t&&(i=t,1===(s=i.series.data.filter(t=>i.x===t.x&&i.y===t.y)).length?s[0]:i),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(t=>e.dirty.allSeries[t]),this.dirty.newSeries,t),this.dirty={allSeries:{}}}var i,s}queueAnnouncement(i,t,e){var s,n,o=this.chart.options.accessibility.announceNewData;o.enabled&&(n=(s=+new Date)-this.lastAnnouncementTime,o=Math.max(0,o.minAnnounceInterval-n),n=function(t){let e=(t||[]).concat(i||[]).reduce((t,e)=>(t[e.name+e.index]=e,t),{});return Object.keys(e).map(t=>e[t])}(this.queuedAnnouncement&&this.queuedAnnouncement.series),(t=this.buildAnnouncementMessage(n,t,e))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:s,message:t,series:n},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},o)))}buildAnnouncementMessage(t,e,i){let s=this.chart,n=s.options.accessibility.announceNewData;if(n.announcementFormatter){t=n.announcementFormatter(t,e,i);if(!1!==t)return t.length?t:null}var t=r.charts&&1<r.charts.length?"Multiple":"Single",t=e?"newSeriesAnnounce"+t:i?"newPointAnnounce"+t:"newDataAnnounce",o=l(s);return s.langFormat("accessibility.announceNewData."+t,{chartTitle:o,seriesDesc:e?c(e):null,pointDesc:i?h(i):null,point:i,series:e})}}return(m=u=u||{}).composedMembers=[],m.compose=function(t){e.pushUnique(m.composedMembers,t)&&(o(t,"addPoint",p),o(t,"updatedData",g))},u;function p(t){let e=this.chart,i=this.newDataAnnouncer;i&&i.chart===e&&d(e)&&(i.dirty.newPoint=a(i.dirty.newPoint)?void 0:t.point)}function g(){let t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&d(t)&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}var m}),e(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,a,i,s){let l=t["doc"],{attr:n,css:o,merge:r}=e,h=i["fireEventOnWrappedOrUnwrappedElement"],{cloneMouseEvent:c,cloneTouchEvent:d,getFakeMouseEvent:u,removeElement:p}=s;return class{constructor(t,e,i="button",s,n){this.chart=t,this.target=e,this.eventProvider=new a;let o=this.innerElement=l.createElement(i),r=this.element=s?l.createElement(s):o;t.styledMode||this.hideElementVisually(o),s&&("li"!==s||t.styledMode||(r.style.listStyle="none"),r.appendChild(o),this.element=r),this.updateTarget(e,n)}click(){let t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2;var e=u("click",t);h(this.target.click,e)}updateTarget(t,e){this.target=t,this.updateCSSClassName();let i=e||{};Object.keys(i).forEach(t=>{null===i[t]&&delete i[t]});e=this.getTargetAttr(t.click,"aria-label");n(this.innerElement,r(e?{"aria-label":e}:{},i)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,t.click),this.refreshPosition()}refreshPosition(){var t=this.getTargetPosition();o(this.innerElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),p(this.element)}updateCSSClassName(){var t=t=>-1<t.indexOf("highcharts-no-tooltip"),e=this.chart.legend,e=e.group&&e.group.div,e=t(e&&e.className||""),t=t(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=e||t?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(e,s){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(t=>{let i=0===t.indexOf("touch");this.eventProvider.addEvent(e,t,t=>{var e=(i?d:c)(t);s&&h(s,e),t.stopPropagation(),i||t.preventDefault()},{passive:!1})})}hideElementVisually(t){o(t,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let t=this.target.click,e=t.element||t,i=this.target.visual||e,s=this.chart.renderTo;var n,o;return s&&i&&i.getBoundingClientRect?(n=i.getBoundingClientRect(),o=this.chart.pointer.getChartPosition(),{x:(n.left-o.left)/o.scaleX,y:(n.top-o.top)/o.scaleY,width:n.right/o.scaleX-n.left/o.scaleX,height:n.bottom/o.scaleY-n.top/o.scaleY}):{x:0,y:0,width:1,height:1}}getTargetAttr(t,e){return(t.element||t).getAttribute(e)}}}),e(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(t,e,i,s,n,o){let r=t["doc"],{attr:a,css:l}=e,h=i["unhideChartElementFromAT"],{removeElement:c,removeChildNodes:d}=n;return class{constructor(t){this.chart=t,this.domElementProvider=new s,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(t,e,i="button",s){let n=this.groups[t];if(!n)throw Error("ProxyProvider.addProxyElement: Invalid group key "+t);t="ul"===n.type||"ol"===n.type?"li":void 0,e=new o(this.chart,e,i,t,s);return n.proxyContainerElement.appendChild(e.element),n.proxyElements.push(e),e}addGroup(t,e="div",i){let s;var n=this.groups[t];if(n)return n.groupElement;let o=this.domElementProvider.createElement(e);return i&&i.role&&"div"!==e?(s=this.domElementProvider.createElement("div")).appendChild(o):s=o,s.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:o,groupElement:s,type:e,proxyElements:[]},a(s,i||{}),"ul"===e&&o.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(s),this.updateGroupOrder(this.groupOrder),s}updateGroupAttrs(t,e){var i=this.groups[t];if(!i)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);a(i.groupElement,e)}updateGroupOrder(n){if(this.groupOrder=n.slice(),!this.isDOMOrderGroupOrder()){let t=n.indexOf("series"),i=-1<t?n.slice(0,t):n,s=-1<t?n.slice(t+1):[],e=r.activeElement;["before","after"].forEach(t=>{let e=this["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];d(e),("before"===t?i:s).forEach(t=>{t=this.groups[t];t&&e.appendChild(t.groupElement)})}),(this.beforeChartProxyPosContainer.contains(e)||this.afterChartProxyPosContainer.contains(e))&&e&&e.focus&&e.focus()}}clearGroup(t){var e=this.groups[t];if(!e)throw Error("ProxyProvider.clearGroup: Invalid group key "+t);d(e.proxyContainerElement)}removeGroup(t){var e=this.groups[t];e&&(c(e.groupElement),delete this.groups[t])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(t){let e=this.groups[t];e&&e.proxyElements.forEach(t=>t.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(t){let e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),l(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e}getCurrentGroupOrderInDOM(){let n=t=>{let e=Object.keys(this.groups),i=e.length;for(;i--;){var s=e[i],n=this.groups[s];if(n&&t===n.groupElement)return s}},t=t=>{let e=[],i=t.children;for(let t=0;t<i.length;++t){var s=n(i[t]);s&&e.push(s)}return e},e=t(this.beforeChartProxyPosContainer),i=t(this.afterChartProxyPosContainer);return e.push("series"),e.concat(i)}isDOMOrderGroupOrder(){let t=this.getCurrentGroupOrderInDOM(),e=this.groupOrder.filter(t=>"series"===t||!!this.groups[t]),i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0}updatePosContainerPositions(){let t=this.chart;var e;t.renderer.forExport||(e=t.renderer.box,t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),h(this.chart,this.afterChartProxyPosContainer),h(this.chart,this.beforeChartProxyPosContainer))}}}),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(t,s,n){let r,{defaultOptions:o,setOptions:a}=t,{addEvent:l,defined:h,extend:c,find:d,isNumber:u,merge:p,pick:g}=n,m=[],b=[];function x(){function t(t,e){let i="year"===o?"FullYear":"Month",s=new r.Date(t),n=r.get(i,s);return r.set(i,s,n+e),n===r.get(i,s)&&r.set("Date",s,0),s.getTime()-t}let e,i,s=this.range,o=s.type,n=this.max,r=this.chart.time;u(s)?(e=n-s,i=s):s&&(e=n+t(n,-(s.count||1)),this.chart&&(this.chart.fixedRange=n-e));var a=g(this.dataMin,Number.MIN_VALUE);return(e=u(e)?e:a)<=a&&(e=a,void 0===i&&(i=t(e,s.count)),this.newMax=Math.min(e+i,g(this.dataMax,Number.MAX_VALUE))),u(n)?!u(s)&&s&&s._offsetMin&&(e+=s._offsetMin):e=void 0,e}function f(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new r(this))}function y(){let t=this.axes,e=this.rangeSelector;var i;e&&(u(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(t=>{t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),i=e.options.verticalAlign,e.options.floating||("bottom"===i?this.extraBottomMargin=!0:"middle"!==i&&(this.extraTopMargin=!0)))}function v(e){let t,i,s,n,o=e.rangeSelector,r=()=>{o&&(t=e.xAxis[0].getExtremes(),i=e.legend,n=o&&o.options.verticalAlign,u(t.min)&&o.render(t.min,t.max),i.display&&"top"===n&&n===i.options.verticalAlign&&(s=p(e.spacingBox),"vertical"===i.options.layout?s.y=e.plotTop:s.y+=o.getHeight(),i.group.placed=!1,i.align(s)))};o&&(d(m,t=>t[0]===e)||m.push([e,[l(e.xAxis[0],"afterSetExtremes",function(t){o&&o.render(t.min,t.max)}),l(e,"redraw",r)]]),r())}function A(){for(let e=0,t=m.length;e<t;++e){let t=m[e];if(t[0]===this)return t[1].forEach(t=>t()),void m.splice(e,1)}}function w(){let t=this.rangeSelector;var e;t&&(e=t.getHeight(),this.extraTopMargin&&(this.plotTop+=e),this.extraBottomMargin&&(this.marginBottom+=e))}function C(){let t=this.rangeSelector;var e;t&&!t.options.floating&&(t.render(),"bottom"===(e=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}function E(t){let e=t.options,i=e.rangeSelector,s=this.extraBottomMargin,n=this.extraTopMargin,o=this.rangeSelector;i&&i.enabled&&!h(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new r(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(v(this),t=i&&i.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)),this.extraBottomMargin===s&&this.extraTopMargin===n||(this.isDirtyBox=!0))}return{compose:function(t,e,i){if(r=i,n.pushUnique(b,t)&&(t.prototype.minFromRange=x),n.pushUnique(b,e)){l(e,"afterGetContainer",f),l(e,"beforeRender",y),l(e,"destroy",A),l(e,"getMargins",w),l(e,"render",C),l(e,"update",E);let t=e.prototype;t.callbacks.push(v)}n.pushUnique(b,a)&&(c(o,{rangeSelector:s.rangeSelector}),c(o.lang,s.lang))}}}),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(v,t,b,i,s,e){let x=t["defaultOptions"],{addEvent:A,createElement:f,css:y,defined:w,destroyObjectProperties:n,discardElement:o,extend:C,fireEvent:E,isNumber:k,merge:T,objectEach:r,pad:a,pick:M,pInt:l,splat:S}=e;class h{static compose(t,e){i.compose(t,e,h)}constructor(t){this.buttons=void 0,this.buttonOptions=h.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(t,e){let i=this.chart,s=this.buttonOptions[t],n=i.xAxis[0],o=i.scroller&&i.scroller.getUnionExtremes()||n||{},r=s.type,a=s.dataGrouping,l=o.dataMin,h=o.dataMax,c,d=n&&Math.round(Math.min(n.max,M(h,n.max))),u,p=s._range,g,m,b,x,f,y=!0;if(null!==l&&null!==h){if(i.fixedRange=p,this.setSelected(t),a&&(this.forcedDataGrouping=!0,v.prototype.setDataGrouping.call(n||{chart:this.chart},a,!1),this.frozenStates=s.preserveDataGrouping),"month"===r||"year"===r)n?(x={range:s,max:d,chart:i,dataMin:l,dataMax:h},c=n.minFromRange.call(x),k(x.newMax)&&(d=x.newMax),y=!1):p=s;else if(p)d=Math.min((c=Math.max(d-p,l))+p,h),y=!1;else if("ytd"===r){if(!n)return void(this.deferredYTDClick=t);void 0!==h&&void 0!==l||(l=Number.MAX_VALUE,h=Number.MIN_VALUE,i.series.forEach(t=>{t=t.xData;t&&(l=Math.min(t[0],l),h=Math.max(t[t.length-1],h))}),e=!1),c=g=(f=this.getYTDExtremes(h,l,i.time.useUTC)).min,d=f.max}else"all"===r&&n&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),c=l,d=h);y&&s._offsetMin&&w(c)&&(c+=s._offsetMin),s._offsetMax&&w(d)&&(d+=s._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),n?n.setExtremes(c,d,M(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:s}):(b=(u=S(i.options.xAxis)[0]).range,u.range=p,m=u.min,u.min=g,A(i,"load",function(){u.range=b,u.min=m})),E(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&E(t,"blur"),e&&e.blur&&E(e,"blur")}let i=this,s=e.options.rangeSelector,n=s.buttons||i.defaultButtons.slice(),o=s.selected;i.chart=e,i.options=s,i.buttons=[],i.buttonOptions=n,this.eventsToUnbind=[],this.eventsToUnbind.push(A(e.container,"mousedown",t)),this.eventsToUnbind.push(A(e,"resize",t)),n.forEach(i.computeButtonRange),void 0!==o&&n[o]&&this.clickButton(o,!1),this.eventsToUnbind.push(A(e,"load",function(){e.xAxis&&e.xAxis[0]&&A(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){let m=this,t=this.chart,b=this.dropdown,x=t.xAxis[0],f=Math.round(x.max-x.min),y=!x.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||x,v=e.dataMin,A=e.dataMax,i=m.getYTDExtremes(A,v,t.time.useUTC),w=i.min,C=i.max,E=m.selected,T=m.options.allButtonsEnabled,M=m.buttons,S=k(E);m.buttonOptions.forEach((t,e)=>{let i=t._range,s=t.type,n=t.count||1,o=M[e],r=t._offsetMax-t._offsetMin,a=e===E,l=i>A-v,h=i<x.minRange,c=0,d=!1,u=!1,p=i===f;("month"===s||"year"===s)&&f+36e5>=864e5*{month:28,year:365}[s]*n-r&&f-36e5<=864e5*{month:31,year:366}[s]*n+r?p=!0:"ytd"===s?(p=C-w+r===f,d=!a):"all"===s&&(p=x.max-x.min>=A-v,u=!a&&S&&p);var t=!T&&(l||h||u||y),g=a&&p||p&&!S&&!d||a&&m.frozenStates;t?c=3:g&&(S=!0,c=2),o.state!==c&&(o.setState(c),b&&(b.options[e+1].disabled=t,2===c&&(b.selectedIndex=e+1)),0===c&&E===e&&m.setSelected())})}computeButtonRange(t){var e=t.type,i=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[e]?t._range=s[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=M(t.offsetMin,0),t._offsetMax=M(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let e="min"===t?this.minInput:this.maxInput,i=this.chart.options.rangeSelector,s=this.chart.time;return e?("text"===e.type&&i.inputDateParser||this.defaultInputDateParser)(e.value,s.useUTC,s):0}setInputValue(i,s){let n=this.options,o=this.chart.time,r="min"===i?this.minInput:this.maxInput,a="min"===i?this.minDateBox:this.maxDateBox;if(r){let t=r.getAttribute("data-hc-time"),e=w(t)?Number(t):void 0;w(s)&&(i=e,w(i)&&r.setAttribute("data-hc-time-previous",i),r.setAttribute("data-hc-time",s),e=s),r.value=o.dateFormat(this.inputTypeFormats[r.type]||n.inputEditDateFormat,e),a&&a.attr({text:o.dateFormat(n.inputDateFormat,e)})}}setInputExtremes(i,s,n){let o="min"===i?this.minInput:this.maxInput;if(o){let t=this.inputTypeFormats[o.type],e=this.chart.time;t&&(i=e.dateFormat(t,s),o.min!==i&&(o.min=i),s=e.dateFormat(t,n),o.max!==s&&(o.max=s))}}showInput(t){var e,i,s,n,o,r,a="min"===t?this.minDateBox:this.maxDateBox,t="min"===t?this.minInput:this.maxInput;t&&a&&this.inputGroup&&(e="text"===t.type,{translateX:i=0,translateY:s=0}=this.inputGroup,{x:a=0,width:n=0,height:o=0}=a,r=this.options["inputBoxWidth"],y(t,{width:e?n+(r?-2:20)+"px":"auto",height:o-2+"px",border:"2px solid silver"}),e&&r?y(t,{left:i+a+"px",top:s+"px"}):y(t,{left:Math.min(Math.round(a+i-(t.offsetWidth-n)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:s-(t.offsetHeight-o)/2+"px"}))}hideInput(t){t="min"===t?this.minInput:this.maxInput;t&&y(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){let s=t.split("/").join("-").split(" ").join("T");var n;-1===s.indexOf("T")&&(s+="T00:00"),e?s+="Z":!b.isSafari||6<(n=s).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6)||(n=new Date(s).getTimezoneOffset()/60,s+=n<=0?`+${a(-n)}:00`:`-${a(n)}:00`);let o=Date.parse(s);return k(o)||(n=t.split("-"),o=Date.UTC(l(n[0]),l(n[1])-1,l(n[2]))),i&&e&&k(o)&&(o+=i.getTimezoneOffset(o)),o}drawInput(a){let{chart:l,div:t,inputGroup:e}=this,h=this,i=l.renderer.style||{},s=l.renderer,n=l.options.rangeSelector,o=x.lang,c="min"===a;function r(){let{maxInput:t,minInput:e}=h,i=l.xAxis[0],s=l.scroller&&l.scroller.getUnionExtremes()||i,n=s.dataMin,o=s.dataMax,r=h.getInputValue(a);r!==Number(g.getAttribute("data-hc-time-previous"))&&k(r)&&(g.setAttribute("data-hc-time-previous",r),c&&t&&k(n)?r>Number(t.getAttribute("data-hc-time"))?r=void 0:r<n&&(r=n):e&&k(o)&&(r<Number(e.getAttribute("data-hc-time"))?r=void 0:r>o&&(r=o)),void 0!==r&&i.setExtremes(c?r:i.min,c?i.max:r,void 0,void 0,{trigger:"rangeSelectorInput"}))}let d=o[c?"rangeSelectorFrom":"rangeSelectorTo"]||"",u=s.label(d,0).addClass("highcharts-range-label").attr({padding:d?2:0,height:d?n.inputBoxHeight:0}).add(e),p=s.label("",0).addClass("highcharts-range-input").attr({padding:2,width:n.inputBoxWidth,height:n.inputBoxHeight,"text-align":"center"}).on("click",function(){h.showInput(a),h[a+"Input"].focus()}),g=(l.styledMode||p.attr({stroke:n.inputBoxBorderColor,"stroke-width":1}),p.add(e),f("input",{name:a,className:"highcharts-range-selector"},void 0,t)),m=(g.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t=["a","A","d","e","w","b","B","m","o","y","Y"].some(t=>-1!==e.indexOf("%"+t)),i=["H","k","I","l","M","S"].some(t=>-1!==e.indexOf("%"+t));return t&&i?"datetime-local":t?"date":i?"time":"text"}(n.inputDateFormat||"%e %b %Y")),l.styledMode||(u.css(T(i,n.labelStyle)),p.css(T({color:"#333333"},i,n.inputStyle)),y(g,C({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:"-9999em"},n.inputStyle))),g.onfocus=()=>{h.showInput(a)},!(g.onblur=()=>{g===b.doc.activeElement&&r(),h.hideInput(a),h.setInputValue(a),g.blur()}));return g.onchange=()=>{m||(r(),h.hideInput(a),g.blur())},g.onkeypress=t=>{13===t.keyCode&&r()},g.onkeydown=t=>{m=!0,38!==t.keyCode&&40!==t.keyCode||r()},g.onkeyup=()=>{m=!1},{dateBox:p,input:g,label:u}}getPosition(){var t=this.chart,e=t.options.rangeSelector,t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:t+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){let s=this.chart.time,n=new s.Date(t),o=s.get("FullYear",n),r=i?s.Date.UTC(o,0,1):+new s.Date(o,0,1),a=n.getTime();return{max:Math.min(t||a,a),min:Math.max(e,r)}}render(t,e){let i=this.chart,s=i.renderer,n=i.container,o=i.options,r=o.rangeSelector,a=M(o.chart.style&&o.chart.style.zIndex,0)+1,l=r.inputEnabled,h=this.rendered;if(!1!==r.enabled){if(!h&&(this.group=s.g("range-selector-group").attr({zIndex:7}).add(),this.div=f("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),l)&&(this.inputGroup=s.g("input-group").add(this.group),c=this.drawInput("min"),this.minDateBox=c.dateBox,this.minLabel=c.label,this.minInput=c.input,c=this.drawInput("max"),this.maxDateBox=c.dateBox,this.maxLabel=c.label,this.maxInput=c.input),l){this.setInputValue("min",t),this.setInputValue("max",e);var c=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{};if(w(c.dataMin)&&w(c.dataMax)&&(t=i.xAxis[0].minRange||0,this.setInputExtremes("min",c.dataMin,Math.min(c.dataMax,this.getInputValue("max"))-t),this.setInputExtremes("max",Math.max(c.dataMin,this.getInputValue("min"))+t,c.dataMax)),this.inputGroup){let i=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(t=>{var e;t&&(e=t.getBBox()["width"],e&&(t.attr({x:i}),i+=e+r.inputSpacing))})}}this.alignElements(),this.rendered=!0}}renderButtons(){let{buttons:o,chart:t,options:e}=this,i=x.lang,r=t.renderer,a=T(e.buttonTheme),l=a&&a.states,h=a.width||28,c=(delete a.width,delete a.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group),this.dropdown=f("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div));A(c,"touchstart",()=>{c.style.fontSize="16px"}),[[b.isMS?"mouseover":"mouseenter"],[b.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([e,i])=>{A(c,e,()=>{var t=o[this.currentButtonIndex()];t&&E(t.element,i||e)})}),this.zoomText=r.label(i&&i.rangeSelectorZoom||"",0).attr({padding:e.buttonTheme.padding,height:e.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(e.labelStyle),a["stroke-width"]=M(a["stroke-width"],0)),f("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,c),this.buttonOptions.forEach((s,n)=>{f("option",{textContent:s.title||s.text},void 0,c),o[n]=r.button(s.text,0,0,t=>{let e,i=s.events&&s.events.click;!1!==(e=i?i.call(s,t):e)&&this.clickButton(n),this.isActive=!0},a,l&&l.hover,l&&l.select,l&&l.disabled).attr({"text-align":"center",width:h}).add(this.buttonGroup),s.title&&o[n].attr("title",s.title)})}alignElements(){let{buttonGroup:l,buttons:h,chart:c,group:d,inputGroup:u,options:p,zoomText:g}=this,t=c.options,i=t.exporting&&!1!==t.exporting.enabled&&t.navigation&&t.navigation.buttonOptions,{buttonPosition:m,inputPosition:b,verticalAlign:x}=p,f=(t,e)=>i&&this.titleCollision(c)&&"top"===x&&"right"===e.align&&e.y-t.getBBox().height-12<(i.y||0)+(i.height||0)+c.spacing[0]?-40:0,y=c.plotLeft;if(d&&m&&b){let t=m.x-c.spacing[3];if(l){if(this.positionButtons(),!this.initialButtonGroupWidth){let i=0;g&&(i+=g.getBBox().width+5),h.forEach((t,e)=>{i+=t.width||0,e!==h.length-1&&(i+=p.buttonSpacing)}),this.initialButtonGroupWidth=i}y-=c.spacing[3],this.updateButtonStates();var v=f(l,m);this.alignButtonGroup(v),d.placed=l.placed=c.hasLoaded}let e=0,i=(u&&(e=f(u,b),"left"===b.align?t=y:"right"===b.align&&(t=-Math.max(c.axisOffset[1],-e)),u.align({y:b.y,width:u.getBBox().width,align:b.align,x:b.x+t-2},!0,c.spacingBox),u.placed=c.hasLoaded),this.handleCollision(e),d.align({verticalAlign:x},!0,c.spacingBox),d.alignAttr.translateY),s=d.getBBox().height+20,n=0;"bottom"===x&&(v=(v=c.legend&&c.legend.options)&&"bottom"===v.verticalAlign&&v.enabled&&!v.floating?c.legend.legendHeight+M(v.margin,10):0,n=i-(s=s+v-20)-(p.floating?0:p.y)-(c.titleOffset?c.titleOffset[2]:0)-10),"top"===x?(p.floating&&(n=0),c.titleOffset&&c.titleOffset[0]&&(n=c.titleOffset[0]),n+=c.margin[0]-c.spacing[0]||0):"middle"===x&&(b.y===m.y?n=i:(b.y||m.y)&&(b.y<0||m.y<0?n-=Math.min(b.y,m.y):n=i-s)),d.translate(p.x,p.y+Math.floor(n));let{minInput:o,maxInput:r,dropdown:a}=this;p.inputEnabled&&o&&r&&(o.style.marginTop=d.translateY+"px",r.style.marginTop=d.translateY+"px"),a&&(a.style.marginTop=d.translateY+"px")}}alignButtonGroup(t,e){let{chart:i,options:s,buttonGroup:n}=this,o=s["buttonPosition"],r=i.plotLeft-i.spacing[3],a=o.x-i.spacing[3];"right"===o.align?a+=t-r:"center"===o.align&&(a-=r/2),n&&n.align({y:o.y,width:M(e,this.initialButtonGroupWidth),align:o.align,x:a},!0,i.spacingBox)}positionButtons(){let{buttons:i,chart:t,options:s,zoomText:e}=this,n=t.hasLoaded?"animate":"attr",o=s["buttonPosition"],r=t.plotLeft,a=r;e&&"hidden"!==e.visibility&&(e[n]({x:M(r+o.x,r)}),a+=o.x+e.getBBox().width+5);for(let t=0,e=this.buttonOptions.length;t<e;++t)"hidden"!==i[t].visibility?(i[t][n]({x:a}),a+=(i[t].width||0)+s.buttonSpacing):i[t][n]({x:r})}handleCollision(n){let{chart:t,buttonGroup:o,inputGroup:r}=this,{buttonPosition:a,dropdown:e,inputPosition:l}=this.options,i=()=>{let e=0;return this.buttons.forEach(t=>{t=t.getBBox();t.width>e&&(e=t.width)}),e},s=t=>{var e,i,s;return!(!r||!o)&&(e=r.alignAttr.translateX+r.alignOptions.x-n+r.getBBox().x+2,i=r.alignOptions.width,e<(s=o.alignAttr.translateX+o.getBBox().x)+t&&s<e+i&&a.y<l.y+r.getBBox().height)},h=()=>{r&&o&&r.attr({translateX:r.alignAttr.translateX+(t.axisOffset[1]>=-n?0:-n),translateY:r.alignAttr.translateY+o.getBBox().height+10})};if(o){if("always"===e)return this.collapseButtons(n),void(s(i())&&h());"never"===e&&this.expandButtons()}r&&o?l.align===a.align||s(this.initialButtonGroupWidth+20)?"responsive"===e?(this.collapseButtons(n),s(i())&&h()):h():"responsive"===e&&this.expandButtons():o&&"responsive"===e&&(this.initialButtonGroupWidth>t.plotWidth?this.collapseButtons(n):this.expandButtons())}collapseButtons(t){let{buttons:s,buttonOptions:e,chart:i,dropdown:n,options:o,zoomText:r}=this,a=i.userOptions.rangeSelector&&i.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?t+" ▾":"▾",width:"auto",paddingLeft:M(o.buttonTheme.paddingLeft,a.padding,8),paddingRight:M(o.buttonTheme.paddingRight,a.padding,8)}),h=(r&&r.hide(),!1);e.forEach((t,e)=>{let i=s[e];2!==i.state?i.hide():(i.show(),i.attr(l(t.text)),h=!0)}),h||(n&&(n.selectedIndex=0),s[0].show(),s[0].attr(l(this.zoomText&&this.zoomText.textStr)));var c=o.buttonPosition["align"];this.positionButtons(),"right"!==c&&"center"!==c||this.alignButtonGroup(t,s[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){let{buttons:s,buttonOptions:t,options:n,zoomText:e}=this;this.hideDropdown(),e&&e.show(),t.forEach((t,e)=>{let i=s[e];i.show(),i.attr({text:t.text,width:n.buttonTheme.width||28,paddingLeft:M(n.buttonTheme.paddingLeft,"unset"),paddingRight:M(n.buttonTheme.paddingRight,"unset")}),i.state<2&&i.setState(0)}),this.positionButtons()}currentButtonIndex(){var t=this["dropdown"];return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){let{buttonGroup:t,buttons:e,chart:i,dropdown:s}=this;var n,o,r;t&&s&&({translateX:n=0,translateY:o=0}=t,r=e[this.currentButtonIndex()].getBBox(),y(s,{left:i.plotLeft+n+"px",top:o+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0)}hideDropdown(){var t=this["dropdown"];t&&(y(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,e=this.group,i=t.inputPosition,s=t.buttonPosition,n=t.y,o=s.y,r=i.y,a=0;return t.height||(this.alignElements(),a=e?e.getBBox(!0).height+13+n:0,(r<0&&o<0||0<r&&0<o)&&(a+=Math.abs(Math.min(r,o))),a)}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){var e=this.chart;T(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){let i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(t=>t()),i.eventsToUnbind=void 0),n(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),r(i,function(t,e){t&&"chart"!==e&&(t instanceof s?t.destroy():t instanceof window.HTMLElement&&o(t)),t!==h.prototype[e]&&(i[e]=null)},this)}}return C(h.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),h}),e(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(s,t,e,i,n,o){let{unhideChartElementFromAT:r,getAxisRangeDescription:a}=e,{addEvent:h,attr:l}=o;class c extends t{constructor(){super(...arguments),this.announcer=void 0}init(){var t=this.chart;this.announcer=new i(t,"polite")}onChartUpdate(){let i=this.chart,s=this,n=i.rangeSelector;n&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),n.buttons&&n.buttons.length&&n.buttons.forEach(t=>{s.setRangeButtonAttrs(t)}),n.maxInput&&n.minInput&&["minInput","maxInput"].forEach(function(t,e){t=n[t];t&&(r(i,t),s.setRangeInputAttrs(t,"accessibility.rangeSelector."+(e?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let e=this.chart,t=e.rangeSelector,i=t&&t.dropdown,s=t&&t.buttons||[],n=t=>t.setAttribute("aria-hidden",!0);t&&t.hasVisibleDropdown&&i?(r(e,i),s.forEach(t=>n(t.element))):(i&&n(i),s.forEach(t=>r(e,t.element)))}setDropdownAttrs(){let t=this.chart,e=t.rangeSelector&&t.rangeSelector.dropdown;var i;e&&(i=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",i),e.setAttribute("tabindex",-1))}setRangeButtonAttrs(t){l(t.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(t,e){let i=this.chart;l(t,{tabindex:-1,"aria-label":i.langFormat(e,{chart:i})})}onButtonNavKbdArrowKey(t,e){let i=t.response,s=this.keyCodes,n=this.chart,o=n.options.accessibility.keyboardNavigation.wrapAround,r=e===s.left||e===s.up?-1:1,a=n.highlightRangeSelectorButton(n.highlightedRangeSelectorItemIx+r);return a?i.success:o?(t.init(r),i.success):i[0<r?"next":"prev"]}onButtonNavKbdClick(t){var t=t.response,e=this.chart;return 3===e.oldRangeSelectorItemState||this.fakeClickEvent(e.rangeSelector.buttons[e.highlightedRangeSelectorItemIx].element),t.success}onAfterBtnClick(){let t=this.chart,e=a(t.xAxis[0]),i=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e});i&&this.announcer.announce(i)}onInputKbdMove(t){let e=this.chart,i=e.rangeSelector,s=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t;var n;if(1<s||s<0){if(e.accessibility)return e.accessibility.keyboardNavigation.exiting=!0,e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation.move(t)}else i&&(t=i[s?"maxDateBox":"minDateBox"],n=i[s?"maxInput":"minInput"],t&&n&&e.setFocusToElement(t,n));return!0}onInputNavInit(t){let s=this,n=this.chart,e=0<t?0:1,i=n.rangeSelector,o=i&&i[e?"maxDateBox":"minDateBox"],r=i&&i.minInput,a=i&&i.maxInput,l=e?a:r;if(n.highlightedInputRangeIx=e,o&&r&&a){n.setFocusToElement(o,l),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let t=t=>{(t.which||t.keyCode)===this.keyCodes.tab&&s.onInputKbdMove(t.shiftKey?-1:1)&&(t.preventDefault(),t.stopPropagation())},e=h(r,"keydown",t),i=h(a,"keydown",t);this.removeInputKeydownHandler=()=>{e(),i()}}}onInputNavTerminate(){let t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let s=this.chart,t=s.rangeSelector,e=t&&t.dropdown;t&&e&&(s.setFocusToElement(t.buttonGroup,e),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=h(e,"keydown",t=>{let e=(t.which||t.keyCode)===this.keyCodes.tab,i=s.accessibility;e&&(t.preventDefault(),t.stopPropagation(),i&&(i.keyboardNavigation.tabindexContainer.focus(),i.keyboardNavigation.move(t.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){let i=this.chart,t=this.keyCodes,s=this;return new n(i,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return s.onButtonNavKbdArrowKey(this,t)}],[[t.enter,t.space],function(){return s.onButtonNavKbdClick(this)}]],validate:function(){return!!(i.rangeSelector&&i.rangeSelector.buttons&&i.rangeSelector.buttons.length)},init:function(t){var e=i.rangeSelector;e&&e.hasVisibleDropdown?s.initDropdownNav():e&&(e=e.buttons.length-1,i.highlightRangeSelectorButton(0<t?0:e))},terminate:function(){s.removeDropdownKeydownHandler&&(s.removeDropdownKeydownHandler(),delete s.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let t=this.chart,e=this;return new n(t,{keyCodeMap:[],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput)},init:function(t){e.onInputNavInit(t)},terminate:function(){e.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}{e=c=c||{};let i=[];function d(t){let e=this.rangeSelector&&this.rangeSelector.buttons||[],i=this.highlightedRangeSelectorItemIx,s=this.rangeSelector&&this.rangeSelector.selected;return void 0!==i&&e[i]&&i!==s&&e[i].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=t,!!e[t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==s&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function u(){let t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}e.compose=function(e,t){if(o.pushUnique(i,e)){let t=e.prototype;t.highlightRangeSelectorButton=d}o.pushUnique(i,t)&&h(s,"afterBtnClick",u)}}return c}),e(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(i){var t;let{addEvent:s,merge:r}=i;{var n=t=t||{};let e=[];function a(t){r(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function l(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function h(t){return t._hasPointMarkers&&t.points&&t.points.length}function o(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),h(this)&&this.points.forEach(t=>{t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function c(t){this.resetA11yMarkerOptions=r(t.options.marker||{},this.userOptions.marker||{})}function d(){var n,t,e,i,s=this.options;if(e=(t=this).chart.options.accessibility.enabled,i=!1!==(t.options.accessibility&&t.options.accessibility.enabled),e&&i&&(e=t.chart.options.accessibility,t.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold)){if(s.marker&&!1===s.marker.enabled&&(this.a11yMarkersForced=!0,a(this.options)),h(this)){var o=this;let s=o.points.length;for(;s--;){let t=o.points[s],e=t.options,i=t.hasForcedA11yMarker;delete t.hasForcedA11yMarker,e.marker&&(n=i&&0===l(e),e.marker.enabled&&!n?(r(!0,e.marker,{states:{normal:{opacity:l(e)||1}}}),t.hasForcedA11yMarker=!1):!1===e.marker.enabled&&(a(e),t.hasForcedA11yMarker=!0))}}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(t=(i=this).resetA11yMarkerOptions)&&(e=t.states&&t.states.normal&&t.states.normal.opacity,i.userOptions&&i.userOptions.marker&&(i.userOptions.marker.enabled=!0),i.update({marker:{enabled:t.enabled,states:{normal:{opacity:e}}}})),delete this.resetA11yMarkerOptions)}t.compose=function(t){i.pushUnique(e,t)&&(s(t,"afterSetOptions",c),s(t,"render",d),s(t,"afterRender",o))}}return t}),e(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(e,s,i,t,n,o,r,a){let l=i["seriesTypes"],h=t["doc"],{defined:c,fireEvent:d}=n,{getPointFromXY:u,getSeriesFromName:p,scrollAxisToPoint:g}=a;function m(t){let e=t.index,i=t.series.points,s=i.length;if(i[e]===t)return e;for(;s--;)if(i[s]===t)return s}function b(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,i=t.options.accessibility||{},s=i.keyboardNavigation;return s&&!1===s.enabled||!1===i.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&+e.pointNavigationEnabledThreshold<=t.points.length}function x(t){var e=t.series.chart.options.accessibility,i=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||i||b(t.series)}function f(t){var s=t.series||[],e=s.length;for(let t=0;t<e;++t)if(!b(s[t])){var i=function(){var e=s[t].points||[],i=e.length;for(let t=0;t<i;++t)if(!x(e[t]))return e[t];return null}();if(i)return i}return null}function y(t){let e=t.series.length,i=e,s=!1;for(;i--&&(t.highlightedPoint=t.series[i].points[t.series[i].points.length-1],!(s=t.series[i].highlightNextValidPoint())););return s}function v(t){delete t.highlightedPoint;let e=f(t);return e&&e.highlight()}class A{constructor(t,e){this.keyCodes=e,this.chart=t}init(){let i=this,n=this.chart,t=this.eventProvider=new r;t.addEvent(s,"destroy",function(){return i.onSeriesDestroy(this)}),t.addEvent(n,"afterApplyDrilldown",function(){{var e;let t=f(this);return void(t&&t.highlight(!1))}}),t.addEvent(n,"drilldown",function(t){var t=t.point,e=t.series;i.lastDrilledDownPoint={x:t.x,y:t.y,seriesName:e?e.name:""}}),t.addEvent(n,"drillupall",function(){setTimeout(function(){i.onDrillupAll()},10)}),t.addEvent(e,"afterSetState",function(){let t=this.graphic&&this.graphic.element,e=h.activeElement,i=e&&e.getAttribute("class"),s=i&&-1<i.indexOf("highcharts-a11y-proxy-element");n.highlightedPoint===this&&e!==t&&!s&&t&&t.focus&&t.focus()})}onDrillupAll(){let t,e=this.lastDrilledDownPoint,i=this.chart,s=e&&p(i,e.seriesName);t=(t=e&&s&&c(e.x)&&c(e.y)?u(s,e.x,e.y):t)||f(i),i.container&&i.container.focus(),t&&t.highlight&&t.highlight(!1)}getKeyboardNavigationHandler(){let e=this,i=this.keyCodes,s=this.chart,t=s.inverted;return new o(s,{keyCodeMap:[[t?[i.up,i.down]:[i.left,i.right],function(t){return e.onKbdSideways(this,t)}],[t?[i.left,i.right]:[i.up,i.down],function(t){return e.onKbdVertical(this,t)}],[[i.enter,i.space],function(t,e){let i=s.highlightedPoint;return i&&(e.point=i,d(i.series,"click",e),i.firePointEvent("click")),this.response.success}],[[i.home],function(){return v(s),this.response.success}],[[i.end],function(){return y(s),this.response.success}],[[i.pageDown,i.pageUp],function(t){return s.highlightAdjacentSeries(t===i.pageDown),this.response.success}]],init:function(){return e.onHandlerInit(this)},validate:function(){return!!f(s)},terminate:function(){return e.onHandlerTerminate()}})}onKbdSideways(t,e){var i=this.keyCodes,e=e===i.right||e===i.down;return this.attemptHighlightAdjacentPoint(t,e)}onHandlerInit(t){let e=this.chart,i=e.options.accessibility.keyboardNavigation;return i.seriesNavigation.rememberPointFocus&&e.highlightedPoint?e.highlightedPoint.highlight():v(e),t.response.success}onKbdVertical(t,e){let i=this.chart,s=this.keyCodes,n=e===s.down||e===s.right,o=i.options.accessibility.keyboardNavigation.seriesNavigation;if(o.mode&&"serialize"===o.mode)return this.attemptHighlightAdjacentPoint(t,n);e=i.highlightedPoint&&i.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return i[e](n),t.response.success}onHandlerTerminate(){let t=this.chart,e=t.options.accessibility.keyboardNavigation,i=(t.tooltip&&t.tooltip.hide(0),t.highlightedPoint&&t.highlightedPoint.series);i&&i.onMouseOut&&i.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),e.seriesNavigation.rememberPointFocus||delete t.highlightedPoint}attemptHighlightAdjacentPoint(t,e){let i=this.chart,s=i.options.accessibility.keyboardNavigation.wrapAround,n=i.highlightAdjacentPoint(e);return n||s&&(e?v:y)(i)?t.response.success:t.response[e?"next":"prev"]}onSeriesDestroy(t){let e=this.chart,i=e.highlightedPoint&&e.highlightedPoint.series===t;i&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}{i=A=A||{};let t=[];function w(t){let e,i;var s=this.series,n=this.highlightedPoint,o=n&&m(n)||0,r=n&&n.series.points||[],a=this.series&&this.series[this.series.length-1],a=a&&a.points&&a.points[a.points.length-1];if(!s[0]||!s[0].points)return!1;if(n){if(e=s[n.series.index+(t?1:-1)],!(i=!(i=r[o+(t?1:-1)])&&e?e.points[t?0:e.points.length-1]:i))return!1}else i=t?s[0].points[0]:a;return x(i)?(b(e=i.series)?this.highlightedPoint=t?e.points[e.points.length-1]:e.points[0]:this.highlightedPoint=i,this.highlightAdjacentPoint(t)):i.highlight()}function C(o){let r=this.highlightedPoint,a=1/0,l;return!(!c(r.plotX)||!c(r.plotY))&&(this.series.forEach(n=>{b(n)||n.points.forEach(s=>{if(c(s.plotY)&&c(s.plotX)&&s!==r){let t=s.plotY-r.plotY,e=Math.abs(s.plotX-r.plotX),i=Math.abs(t)*Math.abs(t)+e*e*4;n.yAxis&&n.yAxis.reversed&&(t*=-1),!(t<=0&&o||0<=t&&!o||i<5||x(s))&&i<a&&(a=i,l=s)}})}),!!l&&l.highlight())}function E(t){let e,i,s,n=this.highlightedPoint,o=this.series&&this.series[this.series.length-1],r=o&&o.points&&o.points[o.points.length-1];return this.highlightedPoint?!(!(e=this.series[n.series.index+(t?-1:1)])||!(i=function(t,e){let i=1/0,s,n,o,r=e.points.length,a=t=>!(c(t.plotX)&&c(t.plotY));if(!a(t)){for(;r--;)!a(s=e.points[r])&&(o=(t.plotX-s.plotX)*(t.plotX-s.plotX)*4+(t.plotY-s.plotY)*(t.plotY-s.plotY)*1)<i&&(i=o,n=r);return c(n)?e.points[n]:void 0}}(n,e)))&&(b(e)?(i.highlight(),(s=this.highlightAdjacentSeries(t))?s:(n.highlight(),!1)):(i.highlight(),i.series.highlightNextValidPoint())):(e=t?this.series&&this.series[0]:o,!!(i=t?e&&e.points&&e.points[0]:r)&&i.highlight())}function T(t=!0){let e=this.series.chart,i=e.tooltip?.label?.element;!this.isNull&&t?this.onMouseOver():e.tooltip&&e.tooltip.hide(0),g(this),this.graphic&&(e.setFocusToElement(this.graphic),!t&&e.focusElement&&e.focusElement.removeFocusBorder()),e.highlightedPoint=this;var s,t=i?.getBoundingClientRect().top;return i&&t&&t<0&&(s=window.scrollY,window.scrollTo({behavior:"smooth",top:s+t})),this}function M(){let t=this.chart.highlightedPoint,e=(t&&t.series)===this?m(t):0,i=this.points,s=i.length;if(i&&s){for(let t=e;t<s;++t)if(!x(i[t]))return i[t].highlight();for(let t=e;0<=t;--t)if(!x(i[t]))return i[t].highlight()}return!1}i.compose=function(e,i,s){if(n.pushUnique(t,e)){let t=e.prototype;t.highlightAdjacentPoint=w,t.highlightAdjacentPointVertical=C,t.highlightAdjacentSeries=E}if(n.pushUnique(t,i)){let t=i.prototype;t.highlight=T}if(n.pushUnique(t,s)){let t=s.prototype;t.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(t=>{l[t]&&(l[t].prototype.keyboardMoveVertical=!1)}),t.highlightNextValidPoint=M}}}return A}),e(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(t,e,s,n,i,o){let r=e["hideSeriesFromAT"],a=i["describeSeries"];return class extends t{static compose(t,e,i){n.compose(i),s.compose(i),o.compose(t,e,i)}init(){this.newDataAnnouncer=new n(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new o(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let t=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===t.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){let t=this.chart;t.series.forEach(function(t){(!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?a:r)(t)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),e(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(t,e,i,r,s){let n=e["unhideChartElementFromAT"],d=i["getFakeMouseEvent"],{attr:o,pick:a}=s;return class extends t{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let e=this,i=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(t=>{e.addEvent(i,t,function(){e.updateProxyOverlays()})})}onChartUpdate(){let i=this.chart,s=this;i.mapNavigation&&i.mapNavigation.navButtons.forEach((t,e)=>{n(i,t.element),s.setMapNavButtonAttrs(t.element,"accessibility.zoom.mapZoom"+(e?"Out":"In"))})}setMapNavButtonAttrs(t,e){let i=this.chart,s=i.langFormat(e,{chart:i});o(t,{tabindex:-1,role:"button","aria-label":s})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let t=this.chart;var e;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&t.breadcrumbs&&t.breadcrumbs.list&&(e=t.breadcrumbs.list[t.breadcrumbs.list.length-1],this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.breadcrumbs.getButtonText(e)})))}createZoomProxyButton(t,e,i){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},"button",{"aria-label":i,tabindex:-1})}getMapZoomNavigation(){let t=this.keyCodes,e=this.chart,i=this;return new r(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return i.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return i.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return i.onMapKbdClick(this)}]],validate:function(){return!!(e.mapView&&e.mapNavigation&&e.mapNavigation.navButtons.length)},init:function(t){return i.onMapNavInit(t)}})}onMapKbdArrow(t,e){let i=this.chart,s=this.keyCodes,n=i.container,o=e===s.up||e===s.down,r=e===s.left||e===s.up?1:-1,a=(o?i.plotHeight:i.plotWidth)/10*r,l=10*Math.random(),h={x:n.offsetLeft+i.plotLeft+i.plotWidth/2+l,y:n.offsetTop+i.plotTop+i.plotHeight/2+l},c=o?{x:h.x,y:h.y+a}:{x:h.x+a,y:h.y};return[d("mousedown",h),d("mousemove",c),d("mouseup",c)].forEach(t=>n.dispatchEvent(t)),t.response.success}onMapKbdTab(t,e){let i=this.chart,s=t.response,n=e.shiftKey,o=n&&!this.focusedMapNavButtonIx||!n&&this.focusedMapNavButtonIx;if(i.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),o)return i.mapView&&i.mapView.zoomBy(),s[n?"prev":"next"];this.focusedMapNavButtonIx+=n?-1:1;let r=i.mapNavigation.navButtons[this.focusedMapNavButtonIx];return i.setFocusToElement(r.box,r.element),r.setState(2),s.success}onMapKbdClick(t){var e=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(e),t.response.success}onMapNavInit(t){let e=this.chart,i=e.mapNavigation.navButtons[0],s=e.mapNavigation.navButtons[1],n=0<t?i:s;e.setFocusToElement(n.box,n.element),n.setState(2),this.focusedMapNavButtonIx=0<t?0:1}simpleButtonNavigation(t,e,i){let s=this.keyCodes,n=this,o=this.chart;return new r(o,{keyCodeMap:[[[s.tab,s.up,s.down,s.left,s.right],function(t,e){e=t===s.tab&&e.shiftKey||t===s.left||t===s.up;return this.response[e?"prev":"next"]}],[[s.space,s.enter],function(){var t=i(this,o);return a(t,this.response.success)}]],validate:function(){return o[t]&&o[t].box&&n[e].innerElement},init:function(){o.setFocusToElement(o[t].box,n[e].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(t,e){e.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(t,e){return e.drillUp(),t.response.prev}),this.getMapZoomNavigation()]}}}),e(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(t){let{doc:i,isMS:s,win:n}=t;return{isHighContrastModeActive:function(){var e=/(Edg)/.test(n.navigator.userAgent);if(n.matchMedia&&e)return n.matchMedia("(-ms-high-contrast: active)").matches;if(s&&n.getComputedStyle){let t=i.createElement("div");t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",i.body.appendChild(t);e=(t.currentStyle||n.getComputedStyle(t)).backgroundImage;return i.body.removeChild(t),"none"===e}return n.matchMedia&&n.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(t){t.highContrastModeActive=!0;let i=t.options.accessibility.highContrastTheme;t.update(i,!1),t.series.forEach(function(t){let e=i.plotOptions[t.type]||{};t.update({color:e.color||"windowText",colors:[e.color||"windowText"],borderColor:e.borderColor||"window"}),t.points.forEach(function(t){t.options&&t.options.color&&t.update({color:e.color||"windowText",borderColor:e.borderColor||"window"},!1)})}),t.redraw()}}}),e(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),e(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),e(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(t){let{error:l,pick:r}=t;function h(t,e,i){let s=t,n,o=0;for(;o<e.length-1;++o)s=s[n=e[o]]=r(s[n],{});s[e[e.length-1]]=i}function e(i,s,n,o){function t(t,e){return e.reduce(function(t,e){return t[e]},t)}let r=t(i.options,s),a=t(i.options,n);Object.keys(o).forEach(function(t){var e=r[t];void 0!==e&&(h(a,o[t],e),l(32,!1,i,{[s.join(".")+"."+t]:n.join(".")+"."+o[t].join(".")}))})}return function(t){{var s=t;let e=s.options.chart,i=s.options.accessibility||{};["description","typeDescription"].forEach(function(t){e[t]&&(i[t]=e[t],l(32,!1,s,{["chart."+t]:"use accessibility."+t}))})}if((i=t).axes.forEach(function(t){let e=t.options;e&&e.description&&(e.accessibility=e.accessibility||{},e.accessibility.description=e.description,l(32,!1,i,{"axis.description":"use axis.accessibility.description"}))}),t.series){var n=t;let s={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};n.series.forEach(function(i){Object.keys(s).forEach(function(t){let e=i.options[t];void 0!==(e="accessibility.pointDescriptionFormatter"===t?i.options.accessibility&&i.options.accessibility.pointDescriptionFormatter:e)&&(h(i.options,s[t],"skipKeyboardNavigation"===t?!e:e),l(32,!1,n,{["series."+t]:"series."+s[t].join(".")}))})})}var i;e(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),e(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),e(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/NavigatorComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(t,e,a,i,l,n,h,o,c,d,u,r,p,s,g,m,b,x,f,y,v,A){let w=t["defaultOptions"],C=e["doc"],{addEvent:E,extend:T,fireEvent:M,merge:S}=a,k=i["removeElement"];class P{constructor(t){this.chart=void 0,this.components=void 0,this.keyboardNavigation=void 0,this.proxyProvider=void 0,this.init(t)}init(t){if(this.chart=t,!C.addEventListener)return this.zombie=!0,this.components={},void t.renderTo.setAttribute("aria-hidden",!0);A(t),this.proxyProvider=new s(this.chart),this.initComponents(),this.keyboardNavigation=new c(t,this.components)}initComponents(){let e=this.chart,i=this.proxyProvider,t=e.options.accessibility,s=(this.components={container:new n,infoRegions:new o,legend:new d,chartMenu:new u,rangeSelector:new g,series:new m,zoom:new b,navigator:new r},t.customComponents&&T(this.components,t.customComponents),this.components);this.getComponentOrder().forEach(function(t){s[t].initBase(e,i),s[t].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var t=Object.keys(this.components).filter(t=>"series"!==t);return["series"].concat(t)}update(){let e=this.components,i=this.chart,t=i.options.accessibility;M(i,"beforeA11yUpdate"),i.types=this.getChartTypes();var s=t.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(s),this.getComponentOrder().forEach(function(t){e[t].onChartUpdate(),M(i,"afterA11yComponentUpdate",{name:t,component:e[t]})}),this.keyboardNavigation.update(s),!i.highContrastModeActive&&x.isHighContrastModeActive()&&x.setHighContrastTheme(i),M(i,"afterA11yUpdate",{accessibility:this})}destroy(){let t=this.chart||{},e=this.components;Object.keys(e).forEach(function(t){e[t].destroy(),e[t].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),t.announcerContainer&&k(t.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()}getChartTypes(){let e={};return this.chart.series.forEach(function(t){e[t.type]=1}),Object.keys(e)}}{var D=P=P||{};let r=[];function B(){this.accessibility&&this.accessibility.destroy()}function N(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let e=this.accessibility;e&&!e.zombie&&(e.proxyProvider.updateProxyElementPositions(),e.getComponentOrder().forEach(function(t){e.components[t].onChartRender()}))}function I(t){let e=t.options.accessibility;e&&(e.customComponents&&(this.options.accessibility.customComponents=e.customComponents,delete e.customComponents),S(!0,this.options.accessibility,e),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function j(){let t=this.accessibility,e=this.options.accessibility;e&&e.enabled?t&&!t.zombie?t.update():(this.accessibility=t=new D(this),t&&!t.zombie&&t.update()):t?(t.destroy&&t.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function F(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}D.i18nFormat=l.i18nFormat,D.compose=function(e,t,i,s,n,o){if(c.compose(e),p.compose(s),d.compose(e,t),u.compose(e),m.compose(e,i,s),l.compose(e),h.compose(e,n),o&&g.compose(e,o),a.pushUnique(r,e)){let t=e.prototype;t.updateA11yEnabled=j,E(e,"destroy",B),E(e,"render",N),E(e,"update",I),["addSeries","init"].forEach(t=>{E(e,t,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(t=>{E(e,t,function(){let t=this.accessibility;t&&!t.zombie&&t.update()})})}a.pushUnique(r,i)&&E(i,"update",F),a.pushUnique(r,s)&&["update","updatedData","remove"].forEach(t=>{E(s,t,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}return S(!0,w,y,{accessibility:{highContrastTheme:f},lang:v}),P}),e(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(t,e,i,s,n,o,r){t.i18nFormat=e.i18nFormat,t.A11yChartUtilities=s,t.A11yHTMLUtilities=n,t.AccessibilityComponent=i,t.KeyboardNavigationHandler=o,t.SeriesAccessibilityDescriber=r,e.compose(t.Chart,t.Legend,t.Point,t.Series,t.SVGElement,t.RangeSelector)})});