"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){function i(t){if("function"==typeof o.MouseEvent)return new o.MouseEvent(t.type,t);if(s.createEvent){const e=s.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(t.type,t.bubbles,t.cancelable,t.view||o,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e}return n(t.type)}function n(t,e,i){return e=e||{x:0,y:0},"function"==typeof o.MouseEvent?new o.MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:i||a,view:o,detail:"click"===t?1:0,screenX:e.x,screenY:e.y,clientX:e.x,clientY:e.y}):s.createEvent&&(i=s.createEvent("MouseEvent")).initMouseEvent?(i.initMouseEvent(t,!0,!0,o,"click"===t?1:0,e.x,e.y,e.x,e.y,!1,!1,!1,!1,0,null),i):{type:t}}const{doc:s,win:o}=t,r=e["css"],a=o.EventTarget&&new o.EventTarget||"none";return{addClass:function(t,e){t.classList?t.classList.add(e):t.className.indexOf(e)<0&&(t.className+=" "+e)},cloneMouseEvent:i,cloneTouchEvent:function(t){var e=e=>{const i=[];for(let t=0;t<e.length;++t){var n=e.item(t);n&&i.push(n)}return i};return"function"==typeof o.TouchEvent?(e=new o.TouchEvent(t.type,{touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed,detail:t.detail,view:t.view}),t.defaultPrevented&&e.preventDefault()):((e=i(t)).touches=t.touches,e.changedTouches=t.changedTouches,e.targetTouches=t.targetTouches),e},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return s.getElementById(t)},getFakeMouseEvent:n,getHeadingTagNameForElement:function(t){const i=t=>(t=parseInt(t.slice(1),10),"h"+Math.min(6,t+1)),n=t=>{var e;t:{for(e=t;e=e.previousSibling;){const t=e.tagName||"";if(/H[1-6]/.test(t)){e=t;break t}}e=""}return e?i(e):(t=t.parentElement)?(e=t.tagName,/H[1-6]/.test(e)?i(e):n(t)):"p"};return n(t)},removeChildNodes:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},reverseChildNodes:function(t){let e=t.childNodes.length;for(;e--;)t.appendChild(t.childNodes[e])},simulatedEventTarget:a,stripHTMLTagsFromString:function(t){return"string"==typeof t?t.replace(/<\/?[^>]+(>|$)/g,""):t},visuallyHideElement:function(t){r(t,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(t,e){const a=t["format"],{getNestedProperty:l,pick:c}=e;var i;{function s(t,e,i){const n=[];let s,o,r=0;for(;s=((t,e)=>{var i=(t=t.slice(e||0)).indexOf("{"),n=t.indexOf("}");if(-1<i&&i<n)return{statement:t.substring(i+1,n),begin:e+i+1,end:e+n}})(t,r),(o=t.substring(r,s&&s.begin-1)).length&&n.push({value:o,type:"constant"}),s&&n.push({value:s.statement,type:"statement"}),r=s?s.end+1:r+1,s;);return n.forEach(t=>{"statement"===t.type&&(t.value=function(t,e){var i=t.indexOf("#each("),n=t.indexOf("#plural("),s=t.indexOf("["),o=t.indexOf("]");if(-1<i){var s=t.slice(i).indexOf(")")+i,r=t.substring(0,i),n=t.substring(s+1);if(s=t.substring(i+6,s).split(","),i=Number(s[1]),t="",e=l(s[0],e))for(i=(i=isNaN(i)?e.length:i)<0?e.length+i:Math.min(i,e.length),s=0;s<i;++s)t+=r+e[s]+n;return t.length?t:""}if(-1<n){switch(r=t.slice(n).indexOf(")")+n,t=t.substring(n+8,r).split(","),Number(l(t[0],e))){case 0:t=c(t[4],t[1]);break;case 1:t=c(t[2],t[1]);break;case 2:t=c(t[3],t[1]);break;default:t=t[1]}return e=t?(e=t).trim&&e.trim()||e.replace(/^\s+|\s+$/g,""):""}return-1<s?(n=t.substring(0,s),t=Number(t.substring(s+1,o)),e=l(n,e),!isNaN(t)&&e&&(t<0?void 0===(r=e[e.length+t])&&(r=e[0]):void 0===(r=e[t])&&(r=e[e.length-1])),void 0!==r?r:""):"{"+t+"}"}(t.value,e))}),a(n.reduce((t,e)=>t+e.value,""),e,i)}function n(t,e){t=t.split(".");let i=this.options.lang,n=0;for(;n<t.length;++n)i=i&&i[t[n]];return"string"==typeof i?s(i,e,this):""}t=i=i||{};const o=[];t.compose=function(t){return e.pushUnique(o,t)&&(t.prototype.langFormat=n),t},t.i18nFormat=s}return i}),e(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i){function n(t){if(t.points&&t.points.length)return(t=l(t.points,t=>!!t.graphic))&&t.graphic&&t.graphic.element}function s(t){var e=n(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}const o=t["doc"],r=e["stripHTMLTagsFromString"],{defined:a,find:l,fireEvent:c}=i;return{fireEventOnWrappedOrUnwrappedElement:function t(e,i){var n=i.type,s=e.hcEvents;o.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(n,i):s&&s[n]?c(e,n,i):e.element&&t(e.element,i)},getChartTitle:function(t){return r(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}))},getAxisDescription:function(t){return t&&(t.userOptions&&t.userOptions.accessibility&&t.userOptions.accessibility.description||t.axisTitle&&t.axisTitle.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(t){var e=t.options||{};return e.accessibility&&void 0!==e.accessibility.rangeDescription?e.accessibility.rangeDescription:t.categories?(e=t.chart,t=t.dataMax&&t.dataMin?e.langFormat("accessibility.axis.rangeCategories",{chart:e,axis:t,numCategories:t.dataMax-t.dataMin+1}):""):(!t.dateTime||0!==t.min&&0!==t.dataMin?function(e){const i=e.chart;var t=i.options;const n=t&&t.accessibility&&t.accessibility.screenReaderSection.axisRangeDateFormat||"",s={min:e.dataMin||e.min||0,max:e.dataMax||e.max||0};return t=function(t){return e.dateTime?i.time.dateFormat(n,s[t]):s[t].toString()},i.langFormat("accessibility.axis.rangeFromTo",{chart:i,axis:e,rangeFrom:t("min"),rangeTo:t("max")})}:function(t){const e=t.chart,i={};let n="Seconds";i.Seconds=((t.dataMax||t.max||0)-(t.dataMin||t.min||0))/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach(function(t){2<i[t]&&(n=t)});const s=i[n].toFixed("Seconds"!==n&&"Minutes"!==n?1:0);return e.langFormat("accessibility.axis.timeRange"+n,{chart:e,axis:t,range:s.replace(".0","")})})(t)},getPointFromXY:function(t,e,i){let n=t.length,s;for(;n--;)if(s=l(t[n].points||[],function(t){return t.x===e&&t.y===i}))return s},getSeriesFirstPointElement:n,getSeriesFromName:function(t,e){return e?(t.series||[]).filter(function(t){return t.name===e}):t.series},getSeriesA11yElement:s,unhideChartElementFromAT:function t(e,i){i.setAttribute("aria-hidden",!1),i!==e.renderTo&&i.parentNode&&i.parentNode!==o.body&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)}),t(e,i.parentNode))},hideSeriesFromAT:function(t){(t=s(t))&&t.setAttribute("aria-hidden",!0)},scrollToPoint:function(t){var e,i,n=t.series.xAxis,s=t.series.yAxis;const o=n&&n.scrollbar?n:s;(n=o&&o.scrollbar)&&a(n.to)&&a(n.from)&&(s=n.to-n.from,t=a(o.dataMin)&&a(o.dataMax)?(e=o.toPixels(o.dataMin),i=o.toPixels(o.dataMax),(o.toPixels(t["xAxis"===o.coll?"x":"y"]||0)-e)/(i-e)):0,n.updatePosition(t-s/2,t+s/2),c(n,"changed",{from:n.from,to:n.to,trigger:"scrollbar",DOMEvent:null}))}}}),e(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e){const i=t["doc"],n=e["removeElement"];return class{constructor(){this.elements=[]}createElement(){var t=i.createElement.apply(i,arguments);return this.elements.push(t),t}destroyCreatedElements(){this.elements.forEach(function(t){n(t)}),this.elements=[]}}}),e(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){const i=t["addEvent"];return class{constructor(){this.eventRemovers=[]}addEvent(){var t=i.apply(e,arguments);return this.eventRemovers.push(t),t}removeAddedEvents(){this.eventRemovers.forEach(t=>t()),this.eventRemovers=[]}}}),e(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,i,n,e,s){const o=t["fireEventOnWrappedOrUnwrappedElement"],r=e["getFakeMouseEvent"];t=s.extend;class a{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(t,e){this.chart=t,this.eventProvider=new n,this.domElementProvider=new i,this.proxyProvider=e,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(t,e,i,n){return this.eventProvider.addEvent(t,e,i,n)}createElement(t,e){return this.domElementProvider.createElement(t,e)}fakeClickEvent(t){var e=r("click");o(t,e)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return t(a.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),a}),e(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(t){const s=t["find"];return class{constructor(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(t){const e=t.which||t.keyCode;let i=this.response.noHandler;const n=s(this.keyCodeMap,function(t){return-1<t[0].indexOf(e)});return n?i=n[1].call(this,e,t):9===e&&(i=this.response[t.shiftKey?"prev":"next"]),i}}}),e(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,i,e,n,s){const{unhideChartElementFromAT:o,getChartTitle:r}=e,a=n["doc"],l=s["stripHTMLTagsFromString"];class c extends t{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const t=this.chart,e="highcharts-title-"+t.index,i=l(t.langFormat("accessibility.svgContainerTitle",{chartTitle:r(t)}));if(i.length){const n=this.svgTitleElement=this.svgTitleElement||a.createElementNS("http://www.w3.org/2000/svg","title");n.textContent=i,n.id=e,t.renderTo.insertBefore(n,t.renderTo.firstChild)}}setSVGContainerLabel(){const t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:r(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)}setGraphicContainerAttrs(){const t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:r(t)});e.length&&t.container.setAttribute("aria-label",e)}setRenderToAttrs(){const t=this.chart,e="disabled"!==t.options.accessibility.landmarkVerbosity,i=t.langFormat("accessibility.chartContainerLabel",{title:r(t),chart:t});i&&(t.renderTo.setAttribute("role",e?"region":"group"),t.renderTo.setAttribute("aria-label",i))}makeCreditsAccessible(){const t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:l(e.textStr)})),o(t,e.element))}getKeyboardNavigation(){const e=this.chart;return new i(e,{keyCodeMap:[],validate:function(){return!0},init:function(){const t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return c}),e(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(y,i){const{addEvent:n,pick:f}=i;var t;{var e=t=t||{};function s(){const t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function o(t,e){var i=this.options.accessibility.keyboardNavigation.focusBorder;(e=e||t.element)&&e.focus&&(e.hcEvents&&e.hcEvents.focusin||n(e,"focusin",function(){}),e.focus(),i.hideBrowserFocusOutline&&(e.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function r(t,e){this.focusBorder&&this.removeFocusBorder();const i=this.getBBox(),n=f(t,3),s=this.parentGroup;var o=this.scaleX||s&&s.scaleX,r=this.scaleY||s&&s.scaleY,o=(o?!r:r)?Math.abs(o||r||1):(Math.abs(o||1)+Math.abs(r||1))/2;i.x+=this.translateX||0,i.y+=this.translateY||0,r=i.x-n;let a=i.y-n,l=i.width+2*n,c=i.height+2*n;var h,d,u,p,g=this instanceof y;if("text"===this.element.nodeName||g){const t=!!this.rotation;var m=g?{x:t?1:0,y:0}:(b=m=0,"middle"===this.attr("text-anchor")?m=b=.5:this.rotation?m=.25:b=.75,{x:m,y:b}),b=+this.attr("x");const e=+this.attr("y");isNaN(b)||(r=b-i.width*m.x-n),isNaN(e)||(a=e-i.height*m.y-n),g&&t&&(g=l,l=c,c=g,isNaN(b)||(r=b-i.height*m.x-n),isNaN(e)||(a=e-i.width*m.y-n))}this.focusBorder=this.renderer.rect(r,a,l,c,parseInt((e&&e.r||0).toString(),10)/o).addClass("highcharts-focus-border").attr({zIndex:99}).add(s),this.renderer.styledMode||this.focusBorder.attr({stroke:e&&e.stroke,"stroke-width":(e&&e.strokeWidth||0)/o}),d=[t,e],(h=this).focusBorderUpdateHooks||(h.focusBorderUpdateHooks={},x.forEach(t=>{const e=h[t+="Setter"]||h._defaultSetter;h.focusBorderUpdateHooks[t]=e,h[t]=function(){var t=e.apply(h,arguments);return h.addFocusBorder.apply(h,d),t}})),(u=this).focusBorderDestroyHook||(p=u.destroy,u.destroy=function(){return u.focusBorder&&u.focusBorder.destroy&&u.focusBorder.destroy(),p.apply(u,arguments)},u.focusBorderDestroyHook=p)}function a(){var i;(i=this).focusBorderUpdateHooks&&(Object.keys(i.focusBorderUpdateHooks).forEach(t=>{var e=i.focusBorderUpdateHooks[t];e===i._defaultSetter?delete i[t]:i[t]=e}),delete i.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}const l=[],x="x y transform width height r d stroke-width".split(" ");e.compose=function(t,e){i.pushUnique(l,t)&&((t=t.prototype).renderFocusBorder=s,t.setFocusToElement=o),i.pushUnique(l,e)&&((e=e.prototype).addFocusBorder=r,e.removeFocusBorder=a)}}return t}),e(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(e,i,t,n,s){const o=t["doc"],{addClass:r,visuallyHideElement:a}=n,l=s["attr"];return class{constructor(t,e){this.chart=t,this.domElementProvider=new i,this.announceRegion=this.addAnnounceRegion(e)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(t){e.setElementHTML(this.announceRegion,t),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=e.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(t){const e=this.chart.announcerContainer||this.createAnnouncerContainer(),i=this.domElementProvider.createElement("div");return l(i,{"aria-hidden":!1,"aria-live":t}),this.chart.styledMode?r(i,"highcharts-visually-hidden"):a(i),e.appendChild(i),i}createAnnouncerContainer(){const t=this.chart,e=o.createElement("div");return l(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e}}}),e(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(t){function i(t){return(t.annotations||[]).reduce((t,e)=>t=e.options&&!1!==e.options.visible?t.concat(e.labels):t,[])}function r(t){return t.options&&t.options.accessibility&&t.options.accessibility.description||t.graphic&&t.graphic.text&&t.graphic.text.textStr||""}function e(t){var e=t.options&&t.options.accessibility&&t.options.accessibility.description;if(e)return e;e=t.chart;const i=r(t),n=t.points.filter(t=>!!t.graphic).map(t=>{var e=t.accessibility&&t.accessibility.valueDescription||t.graphic&&t.graphic.element&&t.graphic.element.getAttribute("aria-label")||"";return((t=t&&t.series.name||"")?t+", ":"")+"data point "+e}).filter(t=>!!t),s=n.length,o="accessibility.screenReaderSection.annotations.description"+(1<s?"MultiplePoints":s?"SinglePoint":"NoPoints");return t={annotationText:i,annotation:t,numPoints:s,annotationPoint:n[0],additionalAnnotationPoints:n.slice(1)},e.langFormat(o,t)}function n(t){return i(t).map(t=>(t=s(o(e(t))))?`<li>${t}</li>`:"")}const{escapeStringForHTML:s,stripHTMLTagsFromString:o}=t;return{getAnnotationsInfoHTML:function(t){var e=t.annotations;return e&&e.length?`<ul style="list-style-type: none">${n(t).join(" ")}</ul>`:""},getAnnotationLabelDescription:e,getAnnotationListItems:n,getPointAnnotationTexts:function(e){const t=i(e.series.chart).filter(t=>-1<t.points.indexOf(e));return t.length?t.map(t=>""+r(t)):[]}}}),e(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,t,i,e,r,n,s,o,a,c){const h=e["getAnnotationsInfoHTML"],{getAxisDescription:d,getAxisRangeDescription:u,getChartTitle:p,unhideChartElementFromAT:g}=n,m=s["format"],b=o["doc"],{addClass:y,getElement:f,getHeadingTagNameForElement:x,stripHTMLTagsFromString:v,visuallyHideElement:A}=a,{attr:w,pick:C}=c;class E extends t{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const t=this.chart,e=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",function(t){e.onDataTableCreated(t)}),this.addEvent(t,"afterViewData",function(t){t.wasHidden&&(e.dataTableDiv=t.element,setTimeout(function(){e.focusDataTable()},300))}),this.announcer=new i(t,"assertive")}initRegionsDefinitions(){const i=this;this.screenReaderSections={before:{element:null,buildContent:function(t){const e=t.options.accessibility.screenReaderSection.beforeChartFormatter;return e?e(t):i.defaultBeforeChartFormatter(t)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==i.sonifyButtonId&&i.initSonifyButton(i.sonifyButtonId),void 0!==i.dataTableButtonId&&i.initDataTableButton(i.dataTableButtonId)}},after:{element:null,buildContent:function(t){const e=t.options.accessibility.screenReaderSection.afterChartFormatter;return e?e(t):i.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){i.chart.accessibility&&i.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const e=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(t){e.updateScreenReaderSection(t)})}getLinkedDescriptionElement(){var t=this.chart.options.accessibility.linkedDescription;if(t)return"string"!=typeof t?t:(t=m(t,this.chart),1===(t=b.querySelectorAll(t)).length?t[0]:void 0)}setLinkedDescriptionAttrs(){const t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),y(t,"highcharts-linked-description"))}updateScreenReaderSection(t){const e=this.chart,i=this.screenReaderSections[t],n=i.buildContent(e),s=i.element=i.element||this.createElement("div"),o=s.firstChild||this.createElement("div");n?(this.setScreenReaderSectionAttribs(s,t),r.setElementHTML(o,n),s.appendChild(o),i.insertIntoDOM(s,e),e.styledMode?y(o,"highcharts-visually-hidden"):A(o),g(e,o),i.afterInserted&&i.afterInserted()):(s.parentNode&&s.parentNode.removeChild(s),i.element=null)}setScreenReaderSectionAttribs(t,e){const i=this.chart,n=i.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:i,chartTitle:p(i)});w(t,{id:`highcharts-screen-reader-region-${e}-`+i.index,"aria-label":n||void 0}),t.style.position="relative",n&&t.setAttribute("role","all"===i.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){var t=(a=this.chart).options.accessibility.screenReaderSection.beforeChartFormat;if(!t)return"";var e=this.getAxesDescription(),i=a.sonify&&a.options.sonification&&a.options.sonification.enabled,n="highcharts-a11y-sonify-data-btn-"+a.index,s="hc-linkto-highcharts-data-table-"+a.index,o=h(a),r=a.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:a}),e={headingTagName:x(a.renderTo),chartTitle:p(a),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:e.xAxis,yAxisDescription:e.yAxis,playAsSoundButton:i?this.getSonifyButtonText(n):"",viewTableButton:a.getCSV?this.getDataTableButtonText(s):"",annotationsTitle:o?r:"",annotationsList:o},a=l.i18nFormat(t,e,a);return this.dataTableButtonId=s,this.sonifyButtonId=n,a.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){var t=this.chart,e=t.options.accessibility.screenReaderSection.afterChartFormat;if(!e)return"";var i={endOfChartMarker:this.getEndOfChartMarkerText()};return l.i18nFormat(e,i,t).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){var t=this.linkedDescriptionElement;return v(t&&t.innerHTML||"")}getLongdescText(){var t=this.chart.options,e=(e=t.caption)&&e.text,i=this.getLinkedDescription();return t.accessibility.description||i||e||""}getTypeDescriptionText(){var t=this.chart;return t.types?t.options.accessibility.typeDescription||function(t,e){var i=e[0],n=t.series&&t.series[0]||{},n={numSeries:t.series.length,numPoints:n.points&&n.points.length,chart:t,mapTitle:t.mapView&&t.mapView.geoMap&&t.mapView.geoMap.title};if(!i)return t.langFormat("accessibility.chartTypes.emptyChart",n);if("map"===i)return n.mapTitle?t.langFormat("accessibility.chartTypes.mapTypeDescription",n):t.langFormat("accessibility.chartTypes.unknownMap",n);if(1<t.types.length)return t.langFormat("accessibility.chartTypes.combinationChart",n);e=e[0];var i=t.langFormat("accessibility.seriesTypeDescriptions."+e,n),s=t.series&&t.series.length<2?"Single":"Multiple";return t=(t.langFormat("accessibility.chartTypes."+e+s,n)||t.langFormat("accessibility.chartTypes.default"+s,n))+(i?" "+i:"")}(t,t.types):""}getDataTableButtonText(t){var e=this.chart;return'<button id="'+t+'">'+(e=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:p(e)}))+"</button>"}getSonifyButtonText(t){var e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+(e=e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:p(e)}))+"</button>"}getSubtitleText(){var t=this.chart.options.subtitle;return v(t&&t.text||"")}getEndOfChartMarkerText(){const t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t});return'<div id="highcharts-end-of-chart-marker-'+t.index+'">'+e+"</div>"}onDataTableCreated(t){const e=this.chart;if(e.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const i=t.tree.attributes||{};i.tabindex=-1,i.summary=e.langFormat("accessibility.table.tableSummary",{chart:e}),t.tree.attributes=i}}focusDataTable(){var t=this.dataTableDiv;(t=t&&t.getElementsByTagName("table")[0])&&t.focus&&t.focus()}initSonifyButton(t){const e=this.sonifyButton=f(t),i=this.chart,n=t=>{e&&(e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation(),t=i.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:i}),this.announcer.announce(t),setTimeout(()=>{e&&(e.removeAttribute("aria-hidden"),e.removeAttribute("aria-label")),i.sonify&&i.sonify()},1e3)};e&&i&&(e.setAttribute("tabindex",-1),e.onclick=function(t){(i.options.accessibility&&i.options.accessibility.screenReaderSection.onPlayAsSoundClick||n).call(this,t,i)})}initDataTableButton(t){const e=this.viewDataTableButton=f(t),i=this.chart;t=t.replace("hc-linkto-",""),e&&(w(e,{tabindex:-1,"aria-expanded":!!f(t)}),e.onclick=i.options.accessibility.screenReaderSection.onViewDataTableClick||function(){i.viewData()})}getAxesDescription(){const i=this.chart;var t=function(t,e){return 1<(t=i[t]).length||t[0]&&C(t[0].options.accessibility&&t[0].options.accessibility.enabled,e)},e=!!i.types&&i.types.indexOf("map")<0&&i.types.indexOf("treemap")<0&&i.types.indexOf("tilemap")<0,n=!!i.hasCartesianSeries,s=t("xAxis",!i.angular&&n&&e),t=t("yAxis",n&&e),e={};return s&&(e.xAxis=this.getAxisDescriptionText("xAxis")),t&&(e.yAxis=this.getAxisDescriptionText("yAxis")),e}getAxisDescriptionText(t){const e=this.chart,i=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(1<i.length?"Plural":"Singular"),{chart:e,names:i.map(function(t){return d(t)}),ranges:i.map(function(t){return u(t)}),numAxes:i.length})}destroy(){this.announcer&&this.announcer.destroy()}}return E}),e(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,i,t,s,n,o){const r=i["attr"],{getChartTitle:a,unhideChartElementFromAT:l}=n,c=o["getFakeMouseEvent"];class h extends t{init(){const t=this.chart,e=this;this.addEvent(t,"exportMenuShown",function(){e.onMenuShown()}),this.addEvent(t,"exportMenuHidden",function(){e.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const t=this.chart.exportContextMenu;t&&t.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){var t=this.chart,e=t.exportContextMenu;e&&(this.addAccessibleContextMenuAttribs(),l(t,e)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(t){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",t)}onChartRender(){const t=this.chart,e=t.focusElement,i=t.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&e&&e===t.exportingGroup&&(e.focusBorder?t.setFocusToElement(e,this.exportButtonProxy.buttonElement):i&&i.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const t=this.chart,e=this.proxyProvider,i=t.exportSVGElements&&t.exportSVGElements[0];{var n=t.options.exporting;const e=t.exportSVGElements&&t.exportSVGElements[0];n=!!(n&&!1!==n.enabled&&n.accessibility&&n.accessibility.enabled&&e&&e.element)}n&&i&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:i},{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:a(t)}),"aria-expanded":!1,title:t.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const t=this.chart;var e=t.exportDivElements;e&&e.length&&(e.forEach(t=>{t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))}),(e=e[0]&&e[0].parentNode)&&r(e,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"}))}getKeyboardNavigation(){const t=this.keyCodes,i=this.chart,n=this;return new s(i,{keyCodeMap:[[[t.left,t.up],function(){return n.onKbdPrevious(this)}],[[t.right,t.down],function(){return n.onKbdNext(this)}],[[t.enter,t.space],function(){return n.onKbdClick(this)}]],validate:function(){return!!i.exporting&&!1!==i.options.exporting.enabled&&!1!==i.options.exporting.accessibility.enabled},init:function(){var t=n.exportButtonProxy,e=n.chart.exportingGroup;t&&e&&i.setFocusToElement(e,t.buttonElement)},terminate:function(){i.hideExportMenu()}})}onKbdPrevious(t){const e=this.chart,i=e.options.accessibility;t=t.response;let n=e.highlightedExportItemIx||0;for(;n--;)if(e.highlightExportItem(n))return t.success;return i.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),t.success):t.prev}onKbdNext(e){const i=this.chart,t=i.options.accessibility;e=e.response;for(let t=(i.highlightedExportItemIx||0)+1;t<i.exportDivElements.length;++t)if(i.highlightExportItem(t))return e.success;return t.keyboardNavigation.wrapAround?(i.highlightExportItem(0),e.success):e.next}onKbdClick(t){const e=this.chart,i=e.exportDivElements[e.highlightedExportItemIx],n=(e.exportSVGElements&&e.exportSVGElements[0]).element;return e.openMenu?this.fakeClickEvent(i):(this.fakeClickEvent(n),e.highlightExportItem(0)),t.response.success}}{function d(){var t=this.exportSVGElements&&this.exportSVGElements[0];t&&(t=t.element).onclick&&t.onclick(c("click"))}function u(){const t=this.exportDivElements;t&&this.exportContextMenu&&this.openMenu&&(t.forEach(t=>{t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(c("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function p(t){const e=this.exportDivElements&&this.exportDivElements[t],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];var n;return!(!e||"LI"!==e.tagName||e.children&&e.children.length)&&(n=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus,e.focus&&n&&e.focus(),i&&i.onmouseout&&i.onmouseout(c("mouseout")),e.onmouseover&&e.onmouseover(c("mouseover")),this.highlightedExportItemIx=t,!0)}function g(){if(this.exportDivElements){let t=this.exportDivElements.length;for(;t--;)if(this.highlightExportItem(t))return!0}return!1}n=h=h||{};const m=[];n.compose=function(t){i.pushUnique(m,t)&&((t=e.prototype).hideExportMenu=u,t.highlightExportItem=p,t.highlightLastExportItem=g,t.showExportMenu=d)}}return h}),e(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,i,n,s,t){const{doc:o,win:r}=e,{addEvent:a,fireEvent:l}=n,{getElement:c,simulatedEventTarget:h}=t;class d{constructor(t,e){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}init(e,t){const i=this.eventProvider=new s;this.chart=e,this.components=t,this.modules=[],this.currentModuleIx=0,this.update(),i.addEvent(this.tabindexContainer,"keydown",t=>this.onKeydown(t)),i.addEvent(this.tabindexContainer,"focus",t=>this.onFocus(t)),["mouseup","touchend"].forEach(t=>i.addEvent(o,t,t=>this.onMouseUp(t))),["mousedown","touchstart"].forEach(t=>i.addEvent(e.renderTo,t,()=>{this.isClickingChart=!0}))}update(t){var e=(e=this.chart.options.accessibility)&&e.keyboardNavigation;const i=this.components;this.updateContainerTabindex(),e&&e.enabled&&t&&t.length?(this.modules=t.reduce(function(t,e){return e=i[e].getKeyboardNavigation(),t.concat(e)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){var t=c("highcharts-end-of-chart-marker-"+this.chart.index);this.removeExitAnchor(),t?(this.makeElementAnExitAnchor(t),this.exitAnchor=t):this.createExitAnchor()}move(t){var e=this.modules&&this.modules[this.currentModuleIx];if(e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t,e=this.modules&&this.modules[this.currentModuleIx]){if(e.validate&&!e.validate())return this.move(t);if(e.init)return e.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,0<t?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(t){var e=this.chart;t=t.relatedTarget&&e.container.contains(t.relatedTarget),!(e=(e=e.options.accessibility)&&e.keyboardNavigation)||!e.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||t||null!==(t=this.getFirstValidModuleIx())&&(this.currentModuleIx=t,this.modules[t].init(1)),this.exiting=!1}onMouseUp(t){if(delete this.isClickingChart,!this.keyboardReset&&t.relatedTarget!==h){const e=this.chart;t.target&&e.container.contains(t.target)||((t=this.modules&&this.modules[this.currentModuleIx||0])&&t.terminate&&t.terminate(),this.currentModuleIx=0),e.focusElement&&(e.focusElement.removeFocusBorder(),delete e.focusElement),this.keyboardReset=!0}}onKeydown(t){t=t||r.event;const e=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let i;var n;this.exiting=this.keyboardReset=!1,e&&((n=e.run(t))===e.response.success?i=!0:n===e.response.prev?i=this.move(-1):n===e.response.next&&(i=this.move(1)),i&&(t.preventDefault(),t.stopPropagation()))}updateContainerTabindex(){var t=this.chart.options.accessibility;t=!((t=t&&t.keyboardNavigation)&&!1===t.enabled);const e=this.chart;var i=e.container,n=(e.renderTo.hasAttribute("tabindex")&&(i.removeAttribute("tabindex"),i=e.renderTo),(this.tabindexContainer=i).getAttribute("tabindex"));t&&!n?i.setAttribute("tabindex","0"):t||e.container.removeAttribute("tabindex")}createExitAnchor(){const t=this.chart,e=this.exitAnchor=o.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)}makeElementAnExitAnchor(t){var e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(t){const i=this.chart,n=this;this.eventProvider.addEvent(t,"focus",function(t){var e=!((t=t||r.event).relatedTarget&&i.container.contains(t.relatedTarget)||n.exiting);i.focusElement&&delete i.focusElement,e?(n.tabbingInBackwards=!0,n.tabindexContainer.focus(),delete n.tabbingInBackwards,t.preventDefault(),n.modules&&n.modules.length&&(n.currentModuleIx=n.modules.length-1,(t=n.modules[n.currentModuleIx])&&t.validate&&!t.validate()?n.move(-1):t&&t.init(-1))):n.exiting=!1})}getFirstValidModuleIx(){const e=this.modules.length;for(let t=0;t<e;++t){const e=this.modules[t];if(!e.validate||e.validate())return t}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}{function u(){const t=this;l(this,"dismissPopupContent",{},function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()})}function p(t){27===(t.which||t.keyCode)&&e.charts&&e.charts.forEach(t=>{t&&t.dismissPopupContent&&t.dismissPopupContent()})}t=d=d||{};const g=[];t.compose=function(t){return i.compose(t),n.pushUnique(g,t)&&(t.prototype.dismissPopupContent=u),n.pushUnique(g,o)&&a(o,"keydown",p),t}}return d}),e(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,i,n,s,o,r,a){function l(t){var e=t.legend&&t.legend.allItems,i=t.options.legend.accessibility||{};return t=t.colorAxis&&t.colorAxis.some(t=>!t.dataClasses||!t.dataClasses.length),e&&e.length&&!t&&!1!==i.enabled}function c(t,e){var i=e.legendItem||{};e.setState(t?"hover":"",!0);for(const n of["group","label","symbol"])(e=(e=i[n])&&e.element||e)&&p(e,t?"mouseover":"mouseout")}const h=t["animObject"],d=e["doc"],{addEvent:u,fireEvent:p,isNumber:g,pick:m,syncTimeout:b}=n,y=r["getChartTitle"],{stripHTMLTagsFromString:f,addClass:x,removeClass:v}=a;class A extends s{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const e=this;this.recreateProxies(),this.addEvent(i,"afterScroll",function(){this.chart===e.chart&&(e.proxyProvider.updateGroupProxyElementPositions("legend"),e.updateLegendItemProxyVisibility(),-1<e.highlightedLegendItemIx&&this.chart.highlightLegendItem(e.highlightedLegendItemIx))}),this.addEvent(i,"afterPositionItem",function(t){this.chart===e.chart&&this.chart.renderer&&e.updateProxyPositionForItem(t.item)}),this.addEvent(i,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&e.recreateProxies()&&b(()=>e.proxyProvider.updateGroupProxyElementPositions("legend"),h(m(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const s=this.chart,o=s.legend,r=o.currentPage||1,a=o.clipHeight||0;let l;(o.allItems||[]).forEach(t=>{if(t.a11yProxyElement){var e=o.pages&&o.pages.length;const n=t.a11yProxyElement.element;var i=!1;l=t.legendItem||{},e&&(t=l.pageIx||0,i=(l.y||0)+(i=l.label?Math.round(l.label.getBBox().height):0)-o.pages[t]>a||t!==r-1),i?s.styledMode?x(n,"highcharts-a11y-invisible"):n.style.visibility="hidden":(v(n,"highcharts-a11y-invisible"),n.style.visibility="")}})}onChartRender(){l(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(t){const e=this.chart;var i=e.legend,n=(t=(i.currentPage||1)+t,i.pages||[]);if(0<t&&t<=n.length){n=0;for(const s of i.allItems)((s.legendItem||{}).pageIx||0)+1===t&&(i=e.highlightLegendItem(n))&&(this.highlightedLegendItemIx=n),++n}}updateProxyPositionForItem(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()}recreateProxies(){var t=d.activeElement;const e=this.proxyGroup;return t=t&&e&&e.contains(t),this.removeProxies(),!!l(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),t&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var t=this.chart,e=f((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),t=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:y(t)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":t})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})}proxyLegendItems(){const e=this;let i;((this.chart.legend||{}).allItems||[]).forEach(t=>{(i=t.legendItem||{}).label&&i.label.element&&e.proxyLegendItem(t)})}proxyLegendItem(t){var e,i=t.legendItem||{};i.label&&i.group&&(e=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:f(t.name),item:t}),t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:i.label,visual:(i.group.div?i.label:i.group).element},{tabindex:-1,"aria-pressed":t.visible,"aria-label":e}))}getKeyboardNavigation(){const e=this.keyCodes,i=this,t=this.chart;return new o(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return i.onKbdArrowKey(this,t)}],[[e.enter,e.space],function(){return i.onKbdClick(this)}],[[e.pageDown,e.pageUp],function(t){return i.highlightAdjacentLegendPage(t===e.pageDown?1:-1),this.response.success}]],validate:function(){return i.shouldHaveLegendNavigation()},init:function(){t.highlightLegendItem(0),i.highlightedLegendItemIx=0},terminate:function(){i.highlightedLegendItemIx=-1,t.legend.allItems.forEach(t=>c(!1,t))}})}onKbdArrowKey(t,e){const i=this.keyCodes,n=t.response,s=this.chart,o=s.options.accessibility,r=s.legend.allItems.length;return e=e===i.left||e===i.up?-1:1,s.highlightLegendItem(this.highlightedLegendItemIx+e)?this.highlightedLegendItemIx+=e:1<r&&o.keyboardNavigation.wrapAround&&t.init(e),n.success}onKbdClick(t){const e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success}shouldHaveLegendNavigation(){if(!l(this.chart))return!1;var t=this.chart,e=(t.options.legend||{}).accessibility||{};return!!(t.legend.display&&e.keyboardNavigation&&e.keyboardNavigation.enabled)}}{function w(t){var e=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,n=e[t],s=n.legendItem||{};return!!n&&(g(i)&&e[i]&&c(!1,e[i]),t=((e=this.legend).allItems[t].legendItem||{}).pageIx,i=e.currentPage,void 0!==t&&t+1!==i&&e.scroll(1+t-i),s=s.label,t=n.a11yProxyElement&&n.a11yProxyElement.buttonElement,s&&s.element&&t&&this.setFocusToElement(s,t),c(!0,n),!0)}function C(t){const e=t.item;this.chart.options.accessibility.enabled&&e&&e.a11yProxyElement&&e.a11yProxyElement.buttonElement.setAttribute("aria-pressed",t.visible?"true":"false")}t=A=A||{};const E=[];t.compose=function(t,e){n.pushUnique(E,t)&&(t.prototype.highlightLegendItem=w),n.pushUnique(E,e)&&u(e,"afterColorizeItem",C)}}return A}),e(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i,n,s){function a(t){var e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==e&&t.points&&t.points.length>=e)}function u(t,e){t=(s=(n=t.series).chart).options.accessibility.point||{};var i=n.options.accessibility&&n.options.accessibility.point||{},n=n.tooltipOptions||{},s=s.options.lang;return A(e)?y(e,i.valueDecimals||t.valueDecimals||n.valueDecimals||-1,s.decimalPoint,s.accessibility.thousandsSep||s.thousandsSep):e}function c(t,e){return t.chart.langFormat("accessibility.series."+e+"Description",{name:h(t[e]),series:t})}function l(t){var e,i,n,s,o=t.series,r=1<o.chart.series.length||o.options.name,a=t.series,l=a.chart,c=(c=a.options.accessibility)&&c.point&&c.point.valueDescriptionFormat||l.options.accessibility.point.valueDescriptionFormat;i=e=(a=w(a.xAxis&&a.xAxis.options.accessibility&&a.xAxis.options.accessibility.enabled,!l.angular&&"flowmap"!==a.type))?(e=(s=t.series).chart,i=s.options.accessibility&&s.options.accessibility.point||{},n=e.options.accessibility.point||{},e=(s=s.xAxis&&s.xAxis.dateTime)?(s=s.getXDateFormat(t.x||0,e.options.tooltip.dateTimeLabelFormats),i=i.dateFormatter&&i.dateFormatter(t)||n.dateFormatter&&n.dateFormatter(t)||i.dateFormat||n.dateFormat||s,e.time.dateFormat(i,t.x||0,void 0)):void 0,i=(t.series.xAxis||{}).categories&&C(t.category)&&(""+t.category).replace("<br/>"," "),n=C(t.id)&&(""+t.id).indexOf("highcharts-")<0,s="x, "+t.x,t.name||e||i||(n?t.id:s)):"",e=C(t.index)?t.index+1:"";{var h=(n=t.series).chart.options.accessibility.point||{},d=n.chart.options.accessibility&&n.chart.options.accessibility.point||{};const o=n.tooltipOptions||{};s=d.valuePrefix||h.valuePrefix||o.valuePrefix||"",h=d.valueSuffix||h.valueSuffix||o.valueSuffix||"",d=u(t,t[void 0!==t.value?"value":"y"]),n=t.isNull?n.chart.langFormat("accessibility.series.nullPointValue",{point:t}):n.pointArrayMap?function(i,t,e){const n=t||"",s=e||"";return i.series.pointArrayMap.reduce(function(t,e){{const t=u(i,w(i[e],i.options[e]));e=void 0!==t?e+": "+n+t+s:t}return e?t+(t.length?", ":"")+e:t},"")}(t,s,h):s+d+h}return l=b(c,{point:t,index:e,xDescription:i,value:n,separator:a?", ":""},l),c=(c=t.options&&t.options.accessibility&&t.options.accessibility.description)?" "+c:"",o=r?" "+o.name+".":"",r=t.series.chart,e={point:t,annotations:a=p(t)},r=a.length?r.langFormat("accessibility.series.pointAnnotationsDescription",e):"",t.accessibility=t.accessibility||{},(t.accessibility.valueDescription=l)+c+o+(r?" "+r:"")}function o(s){i=s.options.accessibility||{};const o=!a(s)&&!i.exposeAsGroupOnly,t=(e=(i=s).chart.options.accessibility.keyboardNavigation.seriesNavigation,!(!i.points||!(i.points.length<e.pointNavigationEnabledThreshold||!1===e.pointNavigationEnabledThreshold))),r=s.chart.options.accessibility.point.describeNull;var e,i;(o||t)&&s.points.forEach(t=>{var e,i,n;(n=t.graphic&&t.graphic.element)||(n=(e=t.series)&&e.chart,e=e&&e.is("sunburst"),n=n&&n.options.accessibility.point.describeNull,(n=t.isNull&&!e&&n)&&(e=t.series,e=(n=(i=function(t){const e=t.index;return t.series&&t.series.data&&C(e)&&v(t.series.data,function(t){return!!(t&&void 0!==t.index&&t.index>e&&t.graphic&&t.graphic.element)})||null}(t))&&i.graphic)?n.parentGroup:e.graph||e.group,i=i?{x:w(t.plotX,i.plotX,0),y:w(t.plotY,i.plotY,0)}:{x:w(t.plotX,0),y:w(t.plotY,0)},(i=t.series.chart.renderer.rect(i.x,i.y,1,1)).attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),n=e&&e.element?(t.graphic=i,t.hasMockGraphic=!0,i.add(e),e.element.insertBefore(i.element,n?n.element:null),i.element):void 0)),e=t.options&&t.options.accessibility&&!1===t.options.accessibility.enabled,n&&(t.isNull&&!r?n.setAttribute("aria-hidden",!0):(n.setAttribute("tabindex","-1"),s.chart.styledMode||(n.style.outline="none"),o&&!e?(e=(i=t.series).chart.options.accessibility.point||{},i=i.options.accessibility&&i.options.accessibility.point||{},t=x(i.descriptionFormatter&&i.descriptionFormatter(t)||e.descriptionFormatter&&e.descriptionFormatter(t)||l(t)),n.setAttribute("role","img"),n.setAttribute("aria-label",t)):n.setAttribute("aria-hidden",!0)))})}function r(e){const i=e.chart;var t=i.types||[],n=(n=((s=e).options.accessibility||{}).description)&&s.chart.langFormat("accessibility.series.description",{description:n,series:s})||"",s=function(t){return i[t]&&1<i[t].length&&e[t]},o=e.index+1,r=c(e,"xAxis"),a=c(e,"yAxis"),l={seriesNumber:o,series:e,chart:i},t=1<t.length?"Combination":"",l=i.langFormat("accessibility.series.summary."+e.type+t,l)||i.langFormat("accessibility.series.summary.default"+t,l),s=(s("yAxis")?" "+a+".":"")+(s("xAxis")?" "+r+".":""),r=w(e.options.accessibility&&e.options.accessibility.descriptionFormat,i.options.accessibility.series.descriptionFormat,"");return b(r,{seriesDescription:l,authorDescription:n?" "+n:"",axisDescription:s,series:e,chart:i,seriesNumber:o},void 0)}const p=t["getPointAnnotationTexts"],{getAxisDescription:h,getSeriesFirstPointElement:d,getSeriesA11yElement:g,unhideChartElementFromAT:m}=e,{format:b,numberFormat:y}=i,{reverseChildNodes:f,stripHTMLTagsFromString:x}=n,{find:v,isNumber:A,pick:w,defined:C}=s;return{defaultPointDescriptionFormatter:l,defaultSeriesDescriptionFormatter:r,describeSeries:function(t){var e=t.chart,i=d(t);const n=g(t);var s=e.is3d&&e.is3d();if(n){n.lastChild!==i||s||f(n),o(t),m(e,n);{e=(s=t.chart).options.chart,i=1<s.series.length,s=s.options.accessibility.series.describeSingleSeries;const x=(t.options.accessibility||{}).exposeAsGroupOnly;e=!(e.options3d&&e.options3d.enabled&&i)&&(i||s||x||a(t))}e?(i=(e=t.chart.options.accessibility).landmarkVerbosity,(t.options.accessibility||{}).exposeAsGroupOnly?n.setAttribute("role","img"):"all"===i?n.setAttribute("role","region"):n.setAttribute("role","group"),n.setAttribute("tabindex","-1"),t.chart.styledMode||(n.style.outline="none"),n.setAttribute("aria-label",x(e.series.descriptionFormatter&&e.series.descriptionFormatter(t)||r(t)))):n.removeAttribute("aria-label")}}}}),e(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(o,e,i,t,n,s){const{addEvent:r,defined:a}=e,l=t["getChartTitle"],{defaultPointDescriptionFormatter:c,defaultSeriesDescriptionFormatter:h}=s;class d{constructor(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}init(){var t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new i(t,e),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const e=this,t=this.chart,i=this.eventProvider;i.addEvent(t,"afterApplyDrilldown",function(){e.lastAnnouncementTime=0}),i.addEvent(t,"afterAddSeries",function(t){e.onSeriesAdded(t.series)}),i.addEvent(t,"redraw",function(){e.announceDirtyData()})}onSeriesAdded(t){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=a(this.dirty.newSeries)?void 0:t)}announceDirtyData(){const e=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let t=this.dirty.newPoint;t=t&&(i=t,1===(n=i.series.data.filter(t=>i.x===t.x&&i.y===t.y)).length?n[0]:i),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(t=>e.dirty.allSeries[t]),this.dirty.newSeries,t),this.dirty={allSeries:{}}}var i,n}queueAnnouncement(t,e,i){var n,s=this.chart.options.accessibility.announceNewData;s.enabled&&(n=+new Date,s=Math.max(0,s.minAnnounceInterval-(n-this.lastAnnouncementTime)),t=function(t,e){const i=(t||[]).concat(e||[]).reduce((t,e)=>(t[e.name+e.index]=e,t),{});return Object.keys(i).map(t=>i[t])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,t),(e=this.buildAnnouncementMessage(t,e,i))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:n,message:e,series:t},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},s)))}buildAnnouncementMessage(t,e,i){const n=this.chart;var s=n.options.accessibility.announceNewData;return s.announcementFormatter&&!1!==(t=s.announcementFormatter(t,e,i))?t.length?t:null:(t=o.charts&&1<o.charts.length?"Multiple":"Single",t=e?"newSeriesAnnounce"+t:i?"newPointAnnounce"+t:"newDataAnnounce",s=l(n),n.langFormat("accessibility.announceNewData."+t,{chartTitle:s,seriesDesc:e?h(e):null,pointDesc:i?c(i):null,point:i,series:e}))}}function u(t){const e=this.chart,i=this.newDataAnnouncer;i&&i.chart===e&&e.options.accessibility.announceNewData.enabled&&(i.dirty.newPoint=a(i.dirty.newPoint)?void 0:t.point)}function p(){const t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&t.options.accessibility.announceNewData.enabled&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}var g;return(g=d=d||{}).composedMembers=[],g.compose=function(t){e.pushUnique(g.composedMembers,t)&&(r(t,"addPoint",u),r(t,"updatedData",p))},d}),e(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,r,i,n){const a=t["doc"],{attr:s,css:o,merge:l}=e,c=i["fireEventOnWrappedOrUnwrappedElement"],{cloneMouseEvent:h,cloneTouchEvent:d,getFakeMouseEvent:u,removeElement:p}=n;return class{constructor(t,e,i,n){this.chart=t,this.target=e,i="ul"===(this.groupType=i),this.eventProvider=new r;const s=i?a.createElement("li"):null,o=this.buttonElement=a.createElement("button");t.styledMode||this.hideButtonVisually(o),s?(i&&!t.styledMode&&(s.style.listStyle="none"),s.appendChild(o),this.element=s):this.element=o,this.updateTarget(e,n)}click(){var t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2,t=u("click",t),c(this.target.click,t)}updateTarget(t,e){this.target=t,this.updateCSSClassName();const i=e||{};Object.keys(i).forEach(t=>{null===i[t]&&delete i[t]}),s(this.buttonElement,l({"aria-label":this.getTargetAttr(t.click,"aria-label")},i)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,t.click),this.refreshPosition()}refreshPosition(){var t=this.getTargetPosition();o(this.buttonElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),p(this.element)}updateCSSClassName(){var t=this.chart.legend,e=(t=-1<((t=t.group&&t.group.div)&&t.className||"").indexOf("highcharts-no-tooltip"),-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip"));this.buttonElement.className=t||e?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(e,n){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(t=>{const i=0===t.indexOf("touch");this.eventProvider.addEvent(e,t,t=>{var e=(i?d:h)(t);n&&c(n,e),t.stopPropagation(),i||t.preventDefault()},{passive:!1})})}hideButtonVisually(t){o(t,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var t,e=this.target.click;return e=e.element||e,e=this.target.visual||e,this.chart.renderTo&&e&&e.getBoundingClientRect?(e=e.getBoundingClientRect(),t=this.chart.pointer.getChartPosition(),{x:(e.left-t.left)/t.scaleX,y:(e.top-t.top)/t.scaleY,width:e.right/t.scaleX-e.left/t.scaleX,height:e.bottom/t.scaleY-e.top/t.scaleY}):{x:0,y:0,width:1,height:1}}getTargetAttr(t,e){return(t.element||t).getAttribute(e)}}}),e(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(t,e,i,n,s,o){const r=t["doc"],{attr:a,css:l}=e,c=i["unhideChartElementFromAT"],{removeElement:h,removeChildNodes:d}=s;return class{constructor(t){this.chart=t,this.domElementProvider=new n,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(t,e,i){const n=this.groups[t];if(n)return t=new o(this.chart,e,n.type,i),n.proxyContainerElement.appendChild(t.element),n.proxyElements.push(t),t;throw Error("ProxyProvider.addProxyElement: Invalid group key "+t)}addGroup(t,e,i){var n=this.groups[t];if(n)return n.groupElement;n=this.domElementProvider.createElement(e);let s;return i&&i.role&&"div"!==e?(s=this.domElementProvider.createElement("div")).appendChild(n):s=n,s.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:n,groupElement:s,type:e,proxyElements:[]},a(s,i||{}),"ul"===e&&n.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(s),this.updateGroupOrder(this.groupOrder),s}updateGroupAttrs(t,e){var i=this.groups[t];if(!i)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);a(i.groupElement,e)}updateGroupOrder(t){var e,i,n;this.groupOrder=t.slice(),this.isDOMOrderGroupOrder()||(e=t.indexOf("series"),i=-1<e?t.slice(0,e):t,n=-1<e?t.slice(e+1):[],t=r.activeElement,["before","after"].forEach(t=>{const e=this["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];t="before"===t?i:n,d(e),t.forEach(t=>{(t=this.groups[t])&&e.appendChild(t.groupElement)})}),(this.beforeChartProxyPosContainer.contains(t)||this.afterChartProxyPosContainer.contains(t))&&t&&t.focus&&t.focus())}clearGroup(t){var e=this.groups[t];if(!e)throw Error("ProxyProvider.clearGroup: Invalid group key "+t);d(e.proxyContainerElement)}removeGroup(t){var e=this.groups[t];e&&(h(e.groupElement),delete this.groups[t])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(t){(t=this.groups[t])&&t.proxyElements.forEach(t=>t.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(t){const e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),l(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e}getCurrentGroupOrderInDOM(){const s=t=>{var e=Object.keys(this.groups);let i=e.length;for(;i--;){var n=e[i],s=this.groups[n];if(s&&t===s.groupElement)return n}};var t=e=>{const i=[];e=e.children;for(let t=0;t<e.length;++t){var n=s(e[t]);n&&i.push(n)}return i};const e=t(this.beforeChartProxyPosContainer);return t=t(this.afterChartProxyPosContainer),e.push("series"),e.concat(t)}isDOMOrderGroupOrder(){var t=this.getCurrentGroupOrderInDOM(),e=this.groupOrder.filter(t=>"series"===t||!!this.groups[t]);let i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0}updatePosContainerPositions(){const t=this.chart;var e;t.renderer.forExport||(e=t.renderer.box,t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),c(this.chart,this.afterChartProxyPosContainer),c(this.chart,this.beforeChartProxyPosContainer))}}}),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:""},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(t,n,s){function o(){function t(t,e){const i="year"===o?"FullYear":"Month",n=new r.Date(t),s=r.get(i,n);return r.set(i,n,s+e),s===r.get(i,n)&&r.set("Date",n,0),n.getTime()-t}const e=this.range,o=e.type,i=this.max,r=this.chart.time;let n,s;x(e)?(n=i-e,s=e):e&&(n=i+t(i,-(e.count||1)),this.chart&&(this.chart.fixedRange=i-n));var a=A(this.dataMin,Number.MIN_VALUE);return(n=x(n)?n:a)<=a&&(n=a,void 0===s&&(s=t(n,e.count)),this.newMax=Math.min(n+s,A(this.dataMax,Number.MAX_VALUE))),x(i)?!x(e)&&e&&e._offsetMin&&(n+=e._offsetMin):n=void 0,n}function r(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new E(this))}function a(){var t=this.axes;const e=this.rangeSelector;e&&(x(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(t=>{t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}function l(e){let t,i,n,s;const o=e.rangeSelector,r=()=>{o&&(t=e.xAxis[0].getExtremes(),i=e.legend,s=o&&o.options.verticalAlign,x(t.min)&&o.render(t.min,t.max),i.display&&"top"===s&&s===i.options.verticalAlign&&((n=v(e.spacingBox)).y="vertical"===i.options.layout?e.plotTop:n.y+o.getHeight(),i.group.placed=!1,i.align(n)))};o&&(f(w,t=>t[0]===e)||w.push([e,[m(e.xAxis[0],"afterSetExtremes",function(t){o&&o.render(t.min,t.max)}),m(e,"redraw",r)]]),r())}function c(){for(let t=0,e=w.length;t<e;++t){const i=w[t];if(i[0]===this){i[1].forEach(t=>t()),w.splice(t,1);break}}}function h(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}function d(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}function u(t){var e=t.options.rangeSelector,i=(t=this.extraBottomMargin,this.extraTopMargin);let n=this.rangeSelector;e&&e.enabled&&!b(n)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=n=new E(this)),this.extraTopMargin=this.extraBottomMargin=!1,n&&(l(this),e=e&&e.verticalAlign||n.options&&n.options.verticalAlign,n.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==t||this.extraTopMargin!==i)&&(this.isDirtyBox=!0)}const{defaultOptions:p,setOptions:g}=t,{addEvent:m,defined:b,extend:y,find:f,isNumber:x,merge:v,pick:A}=s,w=[],C=[];let E;return{compose:function(t,e,i){E=i,s.pushUnique(C,t)&&(t.prototype.minFromRange=o),s.pushUnique(C,e)&&(m(e,"afterGetContainer",r),m(e,"beforeRender",a),m(e,"destroy",c),m(e,"getMargins",h),m(e,"render",d),m(e,"update",u),e.prototype.callbacks.push(l)),s.pushUnique(C,g)&&(y(p,{rangeSelector:n.rangeSelector}),y(p.lang,n.lang))}}}),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(y,t,p,i,n,e){const g=t["defaultOptions"],{addEvent:f,createElement:m,css:b,defined:x,destroyObjectProperties:s,discardElement:o,extend:v,fireEvent:A,isNumber:T,merge:w,objectEach:r,pad:a,pick:C,pInt:l,splat:E}=e;class c{static compose(t,e){i.compose(t,e,c)}constructor(t){this.buttons=void 0,this.buttonOptions=c.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(t,e){const i=this.chart,n=this.buttonOptions[t],s=i.xAxis[0];var o=i.scroller&&i.scroller.getUnionExtremes()||s||{},r=n.type,a=n.dataGrouping;let l=o.dataMin,c=o.dataMax,h,d=s&&Math.round(Math.min(s.max,C(c,s.max))),u;o=n._range;let p,g,m,b=!0;if(null!==l&&null!==c){if(i.fixedRange=o,this.setSelected(t),a&&(this.forcedDataGrouping=!0,y.prototype.setDataGrouping.call(s||{chart:this.chart},a,!1),this.frozenStates=n.preserveDataGrouping),"month"===r||"year"===r)s?(r={range:n,max:d,chart:i,dataMin:l,dataMax:c},h=s.minFromRange.call(r),T(r.newMax)&&(d=r.newMax),b=!1):o=n;else if(o)h=Math.max(d-o,l),d=Math.min(h+o,c),b=!1;else if("ytd"===r){if(!s)return void(this.deferredYTDClick=t);void 0!==c&&void 0!==l||(l=Number.MAX_VALUE,c=Number.MIN_VALUE,i.series.forEach(t=>{(t=t.xData)&&(l=Math.min(t[0],l),c=Math.max(t[t.length-1],c))}),e=!1),r=this.getYTDExtremes(c,l,i.time.useUTC),h=p=r.min,d=r.max}else"all"===r&&s&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),h=l,d=c);b&&n._offsetMin&&x(h)&&(h+=n._offsetMin),n._offsetMax&&x(d)&&(d+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),s?s.setExtremes(h,d,C(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(u=E(i.options.xAxis)[0],m=u.range,u.range=o,g=u.min,u.min=p,f(i,"load",function(){u.range=m,u.min=g})),A(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&A(t,"blur"),e&&e.blur&&A(e,"blur")}const i=this,n=e.options.rangeSelector,s=n.buttons||i.defaultButtons.slice(),o=n.selected;i.chart=e,i.options=n,i.buttons=[],i.buttonOptions=s,this.eventsToUnbind=[],this.eventsToUnbind.push(f(e.container,"mousedown",t)),this.eventsToUnbind.push(f(e,"resize",t)),s.forEach(i.computeButtonRange),void 0!==o&&s[o]&&this.clickButton(o,!1),this.eventsToUnbind.push(f(e,"load",function(){e.xAxis&&e.xAxis[0]&&f(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const u=this;var t=this.chart;const p=this.dropdown,g=t.xAxis[0],m=Math.round(g.max-g.min),b=!g.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||g,y=e.dataMin,f=e.dataMax,x=(t=u.getYTDExtremes(f,y,t.time.useUTC)).min,v=t.max,A=u.selected,w=u.options.allButtonsEnabled,C=u.buttons;let E=T(A);u.buttonOptions.forEach((t,e)=>{var i=t._range,n=t.type,s=t.count||1;const o=C[e],r=t._offsetMax-t._offsetMin,a=e===A,l=i>f-y,c=i<g.minRange;t=0;let h=!1,d=!1;i=i===m,("month"===n||"year"===n)&&m+36e5>=864e5*{month:28,year:365}[n]*s-r&&m-36e5<=864e5*{month:31,year:366}[n]*s+r?i=!0:"ytd"===n?(i=v-x+r===m,h=!a):"all"===n&&(i=g.max-g.min>=f-y,d=!a&&E&&i),n=!w&&(l||c||d||b),s=a&&i||i&&!E&&!h||a&&u.frozenStates,n?t=3:s&&(E=!0,t=2),o.state!==t&&(o.setState(t),p&&(p.options[e+1].disabled=n,2===t&&(p.selectedIndex=e+1)),0===t&&A===e&&u.setSelected())})}computeButtonRange(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){t="min"===t?this.minInput:this.maxInput;const e=this.chart.options.rangeSelector,i=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,i.useUTC,i):0}setInputValue(t,e){const i=this.options,n=this.chart.time,s="min"===t?this.minInput:this.maxInput;var o;t="min"===t?this.minDateBox:this.maxDateBox,s&&(o=s.getAttribute("data-hc-time"),o=x(o)?Number(o):void 0,x(e)&&(x(o)&&s.setAttribute("data-hc-time-previous",o),s.setAttribute("data-hc-time",e),o=e),s.value=n.dateFormat(this.inputTypeFormats[s.type]||i.inputEditDateFormat,o),t&&t.attr({text:n.dateFormat(i.inputDateFormat,o)}))}setInputExtremes(t,e,i){if(t="min"===t?this.minInput:this.maxInput){const n=this.inputTypeFormats[t.type],s=this.chart.time;n&&(e=s.dateFormat(n,e),t.min!==e&&(t.min=e),i=s.dateFormat(n,i),t.max!==i&&(t.max=i))}}showInput(t){var e,i,n,s,o="min"===t?this.minDateBox:this.maxDateBox;(t="min"===t?this.minInput:this.maxInput)&&o&&this.inputGroup&&(e="text"===t.type,{translateX:i,translateY:n}=this.inputGroup,s=this.options["inputBoxWidth"],b(t,{width:e?o.width+(s?-2:20)+"px":"auto",height:o.height-2+"px",border:"2px solid silver"}),e&&s?b(t,{left:i+o.x+"px",top:n+"px"}):b(t,{left:Math.min(Math.round(o.x+i-(t.offsetWidth-o.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:n-(t.offsetHeight-o.height)/2+"px"}))}hideInput(t){(t="min"===t?this.minInput:this.maxInput)&&b(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){var n,s=t.split("/").join("-").split(" ").join("T");return-1===s.indexOf("T")&&(s+="T00:00"),e?s+="Z":(n=(n=p.isSafari)?!(6<(n=s).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6)):n)&&(s+=(n=new Date(s).getTimezoneOffset()/60)<=0?`+${a(-n)}:00`:`-${a(n)}:00`),s=Date.parse(s),T(s)||(t=t.split("-"),s=Date.UTC(l(t[0]),l(t[1])-1,l(t[2]))),i&&e&&T(s)&&(s+=i.getTimezoneOffset(s)),s}drawInput(r){function e(){const{maxInput:t,minInput:e}=l,i=a.xAxis[0];var n=(s=a.scroller&&a.scroller.xAxis?a.scroller.xAxis:i).dataMin,s=s.dataMax;let o=l.getInputValue(r);o!==Number(d.getAttribute("data-hc-time-previous"))&&T(o)&&(d.setAttribute("data-hc-time-previous",o),c&&t&&T(n)?o>Number(t.getAttribute("data-hc-time"))?o=void 0:o<n&&(o=n):e&&T(s)&&(o<Number(e.getAttribute("data-hc-time"))?o=void 0:o>s&&(o=s)),void 0!==o&&i.setExtremes(c?o:i.min,c?i.max:o,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:a,div:t,inputGroup:i}=this,l=this,n=a.renderer.style||{};var s=a.renderer;const o=a.options.rangeSelector,c="min"===r;var h=g.lang[c?"rangeSelectorFrom":"rangeSelectorTo"]||"",h=s.label(h,0).addClass("highcharts-range-label").attr({padding:h?2:0,height:h?o.inputBoxHeight:0}).add(i),s=s.label("",0).addClass("highcharts-range-input").attr({padding:2,width:o.inputBoxWidth,height:o.inputBoxHeight,"text-align":"center"}).on("click",function(){l.showInput(r),l[r+"Input"].focus()});a.styledMode||s.attr({stroke:o.inputBoxBorderColor,"stroke-width":1}),s.add(i);const d=m("input",{name:r,className:"highcharts-range-selector"},void 0,t);d.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t="aAdewbBmoyY".split("").some(t=>-1!==e.indexOf("%"+t)),i="HkIlMS".split("").some(t=>-1!==e.indexOf("%"+t));return t&&i?"datetime-local":t?"date":i?"time":"text"}(o.inputDateFormat||"%e %b %Y")),a.styledMode||(h.css(w(n,o.labelStyle)),s.css(w({color:"#333333"},n,o.inputStyle)),b(d,v({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:n.fontSize,fontFamily:n.fontFamily,top:"-9999em"},o.inputStyle))),d.onfocus=()=>{l.showInput(r)};let u=!(d.onblur=()=>{d===p.doc.activeElement&&e(),l.hideInput(r),l.setInputValue(r),d.blur()});return d.onchange=()=>{u||(e(),l.hideInput(r),d.blur())},d.onkeypress=t=>{13===t.keyCode&&e()},d.onkeydown=t=>{u=!0,38!==t.keyCode&&40!==t.keyCode||e()},d.onkeyup=()=>{u=!1},{dateBox:s,input:d,label:h}}getPosition(){var t=this.chart,e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){const n=this.chart.time;var s=new n.Date(t),o=n.get("FullYear",s);return i=i?n.Date.UTC(o,0,1):+new n.Date(o,0,1),e=Math.max(e,i),s=s.getTime(),{max:Math.min(t||s,s),min:e}}render(t,e){var i=this.chart,n=i.renderer;const s=i.container;var o=i.options;const r=o.rangeSelector,a=C(o.chart.style&&o.chart.style.zIndex,0)+1;if(o=r.inputEnabled,!1!==r.enabled){if(this.rendered||(this.group=n.g("range-selector-group").attr({zIndex:7}).add(),this.div=m("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),s.parentNode&&s.parentNode.insertBefore(this.div,s),o&&(this.inputGroup=n.g("input-group").add(this.group),n=this.drawInput("min"),this.minDateBox=n.dateBox,this.minLabel=n.label,this.minInput=n.input,n=this.drawInput("max"),this.maxDateBox=n.dateBox,this.maxLabel=n.label,this.maxInput=n.input)),o&&(this.setInputValue("min",t),this.setInputValue("max",e),t=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{},x(t.dataMin)&&x(t.dataMax)&&(i=i.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-i),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+i,t.dataMax)),this.inputGroup)){let i=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(t=>{var e;t&&(e=t.getBBox()["width"],e&&(t.attr({x:i}),i+=e+r.inputSpacing))})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:o,chart:t,options:e}=this,i=g.lang,r=t.renderer,a=w(e.buttonTheme),l=a&&a.states,c=a.width||28,h=(delete a.width,delete a.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group),this.dropdown=m("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div));f(h,"touchstart",()=>{h.style.fontSize="16px"}),[[p.isMS?"mouseover":"mouseenter"],[p.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([e,i])=>{f(h,e,()=>{var t=o[this.currentButtonIndex()];t&&A(t.element,i||e)})}),this.zoomText=r.label(i&&i.rangeSelectorZoom||"",0).attr({padding:e.buttonTheme.padding,height:e.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(e.labelStyle),a["stroke-width"]=C(a["stroke-width"],0)),m("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,h),this.buttonOptions.forEach((n,s)=>{m("option",{textContent:n.title||n.text},void 0,h),o[s]=r.button(n.text,0,0,t=>{const e=n.events&&n.events.click;let i;!1!==(i=e?e.call(n,t):i)&&this.clickButton(s),this.isActive=!0},a,l&&l.hover,l&&l.select,l&&l.disabled).attr({"text-align":"center",width:c}).add(this.buttonGroup),n.title&&o[s].attr("title",n.title)})}alignElements(){const{buttonGroup:t,buttons:n,chart:i,group:e,inputGroup:s,options:o,zoomText:r}=this;const a=(d=i.options).exporting&&!1!==d.exporting.enabled&&d.navigation&&d.navigation.buttonOptions,{buttonPosition:l,inputPosition:c,verticalAlign:h}=o;var d=(t,e)=>a&&this.titleCollision(i)&&"top"===h&&"right"===e.align&&e.y-t.getBBox().height-12<(a.y||0)+(a.height||0)+i.spacing[0]?-40:0,u=i.plotLeft;if(e&&l&&c){var p=l.x-i.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let i=0;r&&(i+=r.getBBox().width+5),n.forEach((t,e)=>{i+=t.width,e!==n.length-1&&(i+=o.buttonSpacing)}),this.initialButtonGroupWidth=i}u-=i.spacing[3],this.updateButtonStates();var g=d(t,l);this.alignButtonGroup(g),e.placed=t.placed=i.hasLoaded}g=0,s&&(g=d(s,c),"left"===c.align?p=u:"right"===c.align&&(p=-Math.max(i.axisOffset[1],-g)),s.align({y:c.y,width:s.getBBox().width,align:c.align,x:c.x+p-2},!0,i.spacingBox),s.placed=i.hasLoaded),this.handleCollision(g),e.align({verticalAlign:h},!0,i.spacingBox),d=e.alignAttr.translateY,u=e.getBBox().height+20,p=0,"bottom"===h&&(p=d-(u=u+(p=(p=i.legend&&i.legend.options)&&"bottom"===p.verticalAlign&&p.enabled&&!p.floating?i.legend.legendHeight+C(p.margin,10):0)-20)-(o.floating?0:o.y)-(i.titleOffset?i.titleOffset[2]:0)-10),"top"===h?(o.floating&&(p=0),i.titleOffset&&i.titleOffset[0]&&(p=i.titleOffset[0]),p+=i.margin[0]-i.spacing[0]||0):"middle"===h&&(c.y===l.y?p=d:(c.y||l.y)&&(p=c.y<0||l.y<0?p-Math.min(c.y,l.y):d-u)),e.translate(o.x,o.y+Math.floor(p));const{minInput:m,maxInput:b,dropdown:y}=this;o.inputEnabled&&m&&b&&(m.style.marginTop=e.translateY+"px",b.style.marginTop=e.translateY+"px"),y&&(y.style.marginTop=e.translateY+"px")}}alignButtonGroup(t,e){const{chart:i,options:n,buttonGroup:s}=this,o=n["buttonPosition"],r=i.plotLeft-i.spacing[3];let a=o.x-i.spacing[3];"right"===o.align?a+=t-r:"center"===o.align&&(a-=r/2),s&&s.align({y:o.y,width:C(e,this.initialButtonGroupWidth),align:o.align,x:a},!0,i.spacingBox)}positionButtons(){const{buttons:i,chart:t,options:n,zoomText:e}=this,s=t.hasLoaded?"animate":"attr",o=n["buttonPosition"],r=t.plotLeft;let a=r;e&&"hidden"!==e.visibility&&(e[s]({x:C(r+o.x,r)}),a+=o.x+e.getBBox().width+5);for(let t=0,e=this.buttonOptions.length;t<e;++t)"hidden"!==i[t].visibility?(i[t][s]({x:a}),a+=i[t].width+n.buttonSpacing):i[t][s]({x:r})}handleCollision(s){const{chart:t,buttonGroup:o,inputGroup:r}=this,{buttonPosition:a,dropdown:e,inputPosition:l}=this.options,i=()=>{let e=0;return this.buttons.forEach(t=>{(t=t.getBBox()).width>e&&(e=t.width)}),e},n=t=>{var e,i,n;return!(!r||!o)&&(e=r.alignAttr.translateX+r.alignOptions.x-s+r.getBBox().x+2,i=r.alignOptions.width,e<(n=o.alignAttr.translateX+o.getBBox().x)+t&&n<e+i&&a.y<l.y+r.getBBox().height)},c=()=>{r&&o&&r.attr({translateX:r.alignAttr.translateX+(t.axisOffset[1]>=-s?0:-s),translateY:r.alignAttr.translateY+o.getBBox().height+10})};if(o){if("always"===e)return this.collapseButtons(s),void(n(i())&&c());"never"===e&&this.expandButtons()}r&&o?l.align===a.align||n(this.initialButtonGroupWidth+20)?"responsive"===e?(this.collapseButtons(s),n(i())&&c()):c():"responsive"===e&&this.expandButtons():o&&"responsive"===e&&(this.initialButtonGroupWidth>t.plotWidth?this.collapseButtons(s):this.expandButtons())}collapseButtons(t){const{buttons:i,buttonOptions:e,chart:n,dropdown:s,options:o,zoomText:r}=this,a=n.userOptions.rangeSelector&&n.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?t+" ":"",width:"auto",paddingLeft:C(o.buttonTheme.paddingLeft,a.padding,8),paddingRight:C(o.buttonTheme.paddingRight,a.padding,8)});r&&r.hide();let c=!1;e.forEach((t,e)=>{2!==(e=i[e]).state?e.hide():(e.show(),e.attr(l(t.text)),c=!0)}),c||(s&&(s.selectedIndex=0),i[0].show(),i[0].attr(l(this.zoomText&&this.zoomText.textStr)));var h=o.buttonPosition["align"];this.positionButtons(),"right"!==h&&"center"!==h||this.alignButtonGroup(t,i[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:i,buttonOptions:t,options:n,zoomText:e}=this;this.hideDropdown(),e&&e.show(),t.forEach((t,e)=>{(e=i[e]).show(),e.attr({text:t.text,width:n.buttonTheme.width||28,paddingLeft:C(n.buttonTheme.paddingLeft,"unset"),paddingRight:C(n.buttonTheme.paddingRight,"unset")}),e.state<2&&e.setState(0)}),this.positionButtons()}currentButtonIndex(){var t=this["dropdown"];return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){const{buttonGroup:t,buttons:e,chart:i,dropdown:n}=this;var s,o,r;t&&n&&({translateX:s,translateY:o}=t,r=e[this.currentButtonIndex()].getBBox(),b(n,{left:i.plotLeft+s+"px",top:o+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0)}hideDropdown(){var t=this["dropdown"];t&&(b(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var t=this.options,e=this.group,i=t.y,n=t.buttonPosition.y,s=t.inputPosition.y;return t.height||(this.alignElements(),t=e?e.getBBox(!0).height+13+i:0,e=Math.min(s,n),(s<0&&n<0||0<s&&0<n)&&(t+=Math.abs(e)),t)}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){var e=this.chart;w(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){const i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(t=>t()),i.eventsToUnbind=void 0),s(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),r(i,function(t,e){t&&"chart"!==e&&(t instanceof n?t.destroy():t instanceof window.HTMLElement&&o(t)),t!==c.prototype[e]&&(i[e]=null)},this)}}return v(c.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),c}),e(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(i,t,e,n,s,o){const{unhideChartElementFromAT:r,getAxisRangeDescription:a}=e,{addEvent:l,attr:c}=o;class h extends t{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new n(this.chart,"polite")}onChartUpdate(){const i=this.chart,n=this,s=i.rangeSelector;s&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),s.buttons&&s.buttons.length&&s.buttons.forEach(t=>{n.setRangeButtonAttrs(t)}),s.maxInput&&s.minInput&&["minInput","maxInput"].forEach(function(t,e){(t=s[t])&&(r(i,t),n.setRangeInputAttrs(t,"accessibility.rangeSelector."+(e?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const e=this.chart,t=e.rangeSelector,i=t&&t.dropdown,n=t&&t.buttons||[];t&&t.hasVisibleDropdown&&i?(r(e,i),n.forEach(t=>t.element.setAttribute("aria-hidden",!0))):(i&&i.setAttribute("aria-hidden",!0),n.forEach(t=>r(e,t.element)))}setDropdownAttrs(){var t=this.chart;const e=t.rangeSelector&&t.rangeSelector.dropdown;e&&(t=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",t),e.setAttribute("tabindex",-1))}setRangeButtonAttrs(t){c(t.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(t,e){const i=this.chart;c(t,{tabindex:-1,"aria-label":i.langFormat(e,{chart:i})})}onButtonNavKbdArrowKey(t,e){const i=t.response,n=this.keyCodes,s=this.chart,o=s.options.accessibility.keyboardNavigation.wrapAround;return e=e===n.left||e===n.up?-1:1,s.highlightRangeSelectorButton(s.highlightedRangeSelectorItemIx+e)?i.success:o?(t.init(e),i.success):i[0<e?"next":"prev"]}onButtonNavKbdClick(t){t=t.response;var e=this.chart;return 3!==e.oldRangeSelectorItemState&&this.fakeClickEvent(e.rangeSelector.buttons[e.highlightedRangeSelectorItemIx].element),t.success}onAfterBtnClick(){var t=this.chart,e=a(t.xAxis[0]);(t=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e}))&&this.announcer.announce(t)}onInputKbdMove(t){const e=this.chart;var i=e.rangeSelector,n=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t;if(1<n||n<0){if(e.accessibility)return e.accessibility.keyboardNavigation.exiting=!0,e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation.move(t)}else i&&(t=i[n?"maxDateBox":"minDateBox"],i=i[n?"maxInput":"minInput"],t&&i&&e.setFocusToElement(t,i));return!0}onInputNavInit(t){const e=this;var i=this.chart,n=0<t?0:1,s=i.rangeSelector,o=s&&s[n?"maxDateBox":"minDateBox"];if(t=s&&s.minInput,s=s&&s.maxInput,i.highlightedInputRangeIx=n,o&&t&&s){i.setFocusToElement(o,n?s:t),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),i=t=>{(t.which||t.keyCode)===this.keyCodes.tab&&e.onInputKbdMove(t.shiftKey?-1:1)&&(t.preventDefault(),t.stopPropagation())};const r=l(t,"keydown",i),a=l(s,"keydown",i);this.removeInputKeydownHandler=()=>{r(),a()}}}onInputNavTerminate(){const t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const i=this.chart,t=i.rangeSelector,e=t&&t.dropdown;t&&e&&(i.setFocusToElement(t.buttonGroup,e),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=l(e,"keydown",t=>{const e=i.accessibility;(t.which||t.keyCode)===this.keyCodes.tab&&(t.preventDefault(),t.stopPropagation(),e&&(e.keyboardNavigation.tabindexContainer.focus(),e.keyboardNavigation.move(t.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const i=this.chart,t=this.keyCodes,n=this;return new s(i,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return n.onButtonNavKbdArrowKey(this,t)}],[[t.enter,t.space],function(){return n.onButtonNavKbdClick(this)}]],validate:function(){return!!(i.rangeSelector&&i.rangeSelector.buttons&&i.rangeSelector.buttons.length)},init:function(t){var e=i.rangeSelector;e&&e.hasVisibleDropdown?n.initDropdownNav():e&&(e=e.buttons.length-1,i.highlightRangeSelectorButton(0<t?0:e))},terminate:function(){n.removeDropdownKeydownHandler&&(n.removeDropdownKeydownHandler(),delete n.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const t=this.chart,e=this;return new s(t,{keyCodeMap:[],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput)},init:function(t){e.onInputNavInit(t)},terminate:function(){e.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}{function d(t){const e=this.rangeSelector&&this.rangeSelector.buttons||[],i=this.highlightedRangeSelectorItemIx,n=this.rangeSelector&&this.rangeSelector.selected;return void 0!==i&&e[i]&&i!==n&&e[i].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=t,!!e[t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==n&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function u(){const t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}e=h=h||{};const p=[];e.compose=function(t,e){o.pushUnique(p,t)&&(t.prototype.highlightRangeSelectorButton=d),o.pushUnique(p,e)&&l(i,"afterBtnClick",u)}}return h}),e(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(e){const{addEvent:i,merge:s}=e;var t;{var n=t=t||{};function o(t){s(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function r(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function a(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(t=>{t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function l(t){this.resetA11yMarkerOptions=s(t.options.marker||{},this.userOptions.marker||{})}function c(){var t=this.options,e=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if((e=this.chart.options.accessibility.enabled&&e)&&(e=this.chart.options.accessibility,e=this.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold),e){if(t.marker&&!1===t.marker.enabled&&(this.a11yMarkersForced=!0,o(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(t=this.points.length;t--;){var i=(e=this.points[t]).options,n=e.hasForcedA11yMarker;delete e.hasForcedA11yMarker,i.marker&&(n=n&&0===r(i),i.marker.enabled&&!n?(s(!0,i.marker,{states:{normal:{opacity:r(i)||1}}}),e.hasForcedA11yMarker=!1):!1===i.marker.enabled&&(o(i),e.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(t=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:t.enabled,states:{normal:{opacity:t.states&&t.states.normal&&t.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const h=[];t.compose=function(t){e.pushUnique(h,t)&&(i(t,"afterSetOptions",l),i(t,"render",c),i(t,"afterRender",a))}}return t}),e(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(e,s,t,i,n,o,r,a){function l(t){var e=t.index,i=t.series.points;let n=i.length;if(i[e]===t)return e;for(;n--;)if(i[n]===t)return n}function c(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,i=t.options.accessibility||{},n=i.keyboardNavigation;return n&&!1===n.enabled||!1===i.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&e.pointNavigationEnabledThreshold<=t.points.length}function h(t){var e=t.series.chart.options.accessibility,i=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||i||c(t.series)}function d(e){const i=(e=e.series||[]).length;for(let t=0;t<i;++t)if(!c(e[t])){t:{var n=e[t].points||[];const i=n.length;for(let t=0;t<i;++t)if(!h(n[t])){n=n[t];break t}n=null}if(n)return n}return null}function u(t){let e=t.series.length,i=!1;for(;e--&&(t.highlightedPoint=t.series[e].points[t.series[e].points.length-1],!(i=t.series[e].highlightNextValidPoint())););return i}function p(t){return delete t.highlightedPoint,(t=d(t))&&t.highlight()}const g=t["seriesTypes"],m=i["doc"],{defined:b,fireEvent:y}=n,{getPointFromXY:f,getSeriesFromName:x,scrollToPoint:v}=a;class A{constructor(t,e){this.keyCodes=e,this.chart=t}init(){const i=this,n=this.chart,t=this.eventProvider=new r;t.addEvent(s,"destroy",function(){return i.onSeriesDestroy(this)}),t.addEvent(n,"afterApplyDrilldown",function(){{const t=d(this);t&&t.highlight(!1)}}),t.addEvent(n,"drilldown",function(t){var e=(t=t.point).series;i.lastDrilledDownPoint={x:t.x,y:t.y,seriesName:e?e.name:""}}),t.addEvent(n,"drillupall",function(){setTimeout(function(){i.onDrillupAll()},10)}),t.addEvent(e,"afterSetState",function(){const t=this.graphic&&this.graphic.element,e=m.activeElement;var i=(i=e&&e.getAttribute("class"))&&-1<i.indexOf("highcharts-a11y-proxy-button");n.highlightedPoint===this&&e!==t&&!i&&t&&t.focus&&t.focus()})}onDrillupAll(){const t=this.lastDrilledDownPoint,e=this.chart,i=t&&x(e,t.seriesName);let n;n=(n=t&&i&&b(t.x)&&b(t.y)?f(i,t.x,t.y):n)||d(e),e.container&&e.container.focus(),n&&n.highlight&&n.highlight(!1)}getKeyboardNavigationHandler(){const e=this,i=this.keyCodes,n=this.chart,t=n.inverted;return new o(n,{keyCodeMap:[[t?[i.up,i.down]:[i.left,i.right],function(t){return e.onKbdSideways(this,t)}],[t?[i.left,i.right]:[i.up,i.down],function(t){return e.onKbdVertical(this,t)}],[[i.enter,i.space],function(t,e){return(t=n.highlightedPoint)&&(e.point=t,y(t.series,"click",e),t.firePointEvent("click")),this.response.success}],[[i.home],function(){return p(n),this.response.success}],[[i.end],function(){return u(n),this.response.success}],[[i.pageDown,i.pageUp],function(t){return n.highlightAdjacentSeries(t===i.pageDown),this.response.success}]],init:function(){return e.onHandlerInit(this)},validate:function(){return!!d(n)},terminate:function(){return e.onHandlerTerminate()}})}onKbdSideways(t,e){var i=this.keyCodes;return this.attemptHighlightAdjacentPoint(t,e===i.right||e===i.down)}onHandlerInit(t){const e=this.chart;return e.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&e.highlightedPoint?e.highlightedPoint.highlight():p(e),t.response.success}onKbdVertical(t,e){const i=this.chart;var n=this.keyCodes;return e=e===n.down||e===n.right,(n=i.options.accessibility.keyboardNavigation.seriesNavigation).mode&&"serialize"===n.mode?this.attemptHighlightAdjacentPoint(t,e):(i[i.highlightedPoint&&i.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](e),t.response.success)}onHandlerTerminate(){const t=this.chart,e=t.options.accessibility.keyboardNavigation,i=(t.tooltip&&t.tooltip.hide(0),t.highlightedPoint&&t.highlightedPoint.series);i&&i.onMouseOut&&i.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),e.seriesNavigation.rememberPointFocus||delete t.highlightedPoint}attemptHighlightAdjacentPoint(t,e){const i=this.chart,n=i.options.accessibility.keyboardNavigation.wrapAround;return i.highlightAdjacentPoint(e)||n&&(e?p:u)(i)?t.response.success:t.response[e?"next":"prev"]}onSeriesDestroy(t){const e=this.chart;e.highlightedPoint&&e.highlightedPoint.series===t&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}{function w(t){var e=this.series,i=this.highlightedPoint,n=i&&l(i)||0,s=i&&i.series.points||[],o=(o=this.series&&this.series[this.series.length-1])&&o.points&&o.points[o.points.length-1];if(!e[0]||!e[0].points)return!1;if(i){if(e=e[i.series.index+(t?1:-1)],!(n=!(n=s[n+(t?1:-1)])&&e?e.points[t?0:e.points.length-1]:n))return!1}else n=t?e[0].points[0]:o;return h(n)?(c(e=n.series)?this.highlightedPoint=t?e.points[e.points.length-1]:e.points[0]:this.highlightedPoint=n,this.highlightAdjacentPoint(t)):n.highlight()}function C(s){const o=this.highlightedPoint;let r=1/0,a;return!(!b(o.plotX)||!b(o.plotY))&&(this.series.forEach(n=>{c(n)||n.points.forEach(t=>{var e,i;b(t.plotY)&&b(t.plotX)&&t!==o&&(e=t.plotY-o.plotY,i=Math.abs(t.plotX-o.plotX),i=Math.abs(e)*Math.abs(e)+i*i*4,n.yAxis&&n.yAxis.reversed&&(e*=-1),!(e<=0&&s||0<=e&&!s||i<5||h(t))&&i<r&&(r=i,a=t))})}),!!a&&a.highlight())}function E(t){const e=this.highlightedPoint;var i=this.series&&this.series[this.series.length-1],n=i&&i.points&&i.points[i.points.length-1];return this.highlightedPoint?!!(i=this.series[e.series.index+(t?-1:1)])&&(!!(n=function(t,e,i,n){let s=1/0,o,r=e.points.length;var a=t=>!(b(t.plotX)&&b(t.plotY));if(!a(t)){for(;r--;){var l=e.points[r];a(l)||(l=(t.plotX-l.plotX)*(t.plotX-l.plotX)*(i||1)+(t.plotY-l.plotY)*(t.plotY-l.plotY)*(n||1))<s&&(s=l,o=r)}return b(o)?e.points[o]:void 0}}(e,i,4))&&(c(i)?(n.highlight(),(t=this.highlightAdjacentSeries(t))||(e.highlight(),!1)):(n.highlight(),n.series.highlightNextValidPoint()))):(i=t?this.series&&this.series[0]:i,!!(n=t?i&&i.points&&i.points[0]:n)&&n.highlight())}function T(t=!0){const e=this.series.chart;return!this.isNull&&t?this.onMouseOver():e.tooltip&&e.tooltip.hide(0),v(this),this.graphic&&(e.setFocusToElement(this.graphic),!t&&e.focusElement&&e.focusElement.removeFocusBorder()),e.highlightedPoint=this}function S(){var e=this.chart.highlightedPoint,i=(e&&e.series)===this?l(e):0,n=(e=this.points).length;if(e&&n){for(let t=i;t<n;++t)if(!h(e[t]))return e[t].highlight();for(;0<=i;--i)if(!h(e[i]))return e[i].highlight()}return!1}t=A=A||{};const M=[];t.compose=function(t,e,i){n.pushUnique(M,t)&&((t=t.prototype).highlightAdjacentPoint=w,t.highlightAdjacentPointVertical=C,t.highlightAdjacentSeries=E),n.pushUnique(M,e)&&(e.prototype.highlight=T),n.pushUnique(M,i)&&((e=i.prototype).keyboardMoveVertical=!0,["column","gantt","pie"].forEach(t=>{g[t]&&(g[t].prototype.keyboardMoveVertical=!1)}),e.highlightNextValidPoint=S)}}return A}),e(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(t,e,n,s,i,o){const r=e["hideSeriesFromAT"],a=i["describeSeries"];class l extends t{static compose(t,e,i){s.compose(i),n.compose(i),o.compose(t,e,i)}init(){this.newDataAnnouncer=new s(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new o(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const t=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===t.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(t){(!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?a:r)(t)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return l}),e(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(t,e,i,r,n){const s=e["unhideChartElementFromAT"],a=i["getFakeMouseEvent"],{attr:o,pick:l}=n;class c extends t{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const e=this,i=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(t=>{e.addEvent(i,t,function(){e.updateProxyOverlays()})})}onChartUpdate(){const i=this.chart,n=this;i.mapNavigation&&i.mapNavigation.navButtons.forEach((t,e)=>{s(i,t.element),n.setMapNavButtonAttrs(t.element,"accessibility.zoom.mapZoom"+(e?"Out":"In"))})}setMapNavButtonAttrs(t,e){const i=this.chart;e=i.langFormat(e,{chart:i}),o(t,{tabindex:-1,role:"button","aria-label":e})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const t=this.chart;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&t.breadcrumbs&&t.breadcrumbs.list&&this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.breadcrumbs.getButtonText(t.breadcrumbs.list[t.breadcrumbs.list.length-1])}))}createZoomProxyButton(t,e,i){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},{"aria-label":i,tabindex:-1})}getMapZoomNavigation(){const t=this.keyCodes,e=this.chart,i=this;return new r(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return i.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return i.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return i.onMapKbdClick(this)}]],validate:function(){return!!(e.mapView&&e.mapNavigation&&e.mapNavigation.navButtons.length)},init:function(t){return i.onMapNavInit(t)}})}onMapKbdArrow(t,e){var i=this.chart,n=this.keyCodes;const s=i.container;var o=e===n.up||e===n.down;return e=(o?i.plotHeight:i.plotWidth)/10*(e===n.left||e===n.up?1:-1),n=10*Math.random(),i={x:s.offsetLeft+i.plotLeft+i.plotWidth/2+n,y:s.offsetTop+i.plotTop+i.plotHeight/2+n},o=o?{x:i.x,y:i.y+e}:{x:i.x+e,y:i.y},[a("mousedown",i),a("mousemove",o),a("mouseup",o)].forEach(t=>s.dispatchEvent(t)),t.response.success}onMapKbdTab(t,e){const i=this.chart;t=t.response;var n=(e=e.shiftKey)&&!this.focusedMapNavButtonIx||!e&&this.focusedMapNavButtonIx;return i.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),n?(i.mapView&&i.mapView.zoomBy(),t[e?"prev":"next"]):(this.focusedMapNavButtonIx+=e?-1:1,e=i.mapNavigation.navButtons[this.focusedMapNavButtonIx],i.setFocusToElement(e.box,e.element),e.setState(2),t.success)}onMapKbdClick(t){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),t.response.success}onMapNavInit(t){const e=this.chart;var i=e.mapNavigation.navButtons[0],n=e.mapNavigation.navButtons[1],i=0<t?i:n;e.setFocusToElement(i.box,i.element),i.setState(2),this.focusedMapNavButtonIx=0<t?0:1}simpleButtonNavigation(t,e,i){const n=this.keyCodes,s=this,o=this.chart;return new r(o,{keyCodeMap:[[[n.tab,n.up,n.down,n.left,n.right],function(t,e){return this.response[t===n.tab&&e.shiftKey||t===n.left||t===n.up?"prev":"next"]}],[[n.space,n.enter],function(){var t=i(this,o);return l(t,this.response.success)}]],validate:function(){return o[t]&&o[t].box&&s[e].buttonElement},init:function(){o.setFocusToElement(o[t].box,s[e].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(t,e){e.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(t,e){return e.drillUp(),t.response.prev}),this.getMapZoomNavigation()]}}return c}),e(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(t){const{doc:i,isMS:n,win:s}=t;return{isHighContrastModeActive:function(){var t,e=/(Edg)/.test(s.navigator.userAgent);return s.matchMedia&&e?s.matchMedia("(-ms-high-contrast: active)").matches:n&&s.getComputedStyle?((e=i.createElement("div")).style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",i.body.appendChild(e),t=(e.currentStyle||s.getComputedStyle(e)).backgroundImage,i.body.removeChild(e),"none"===t):s.matchMedia&&s.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(t){t.highContrastModeActive=!0;const i=t.options.accessibility.highContrastTheme;t.update(i,!1),t.series.forEach(function(t){const e=i.plotOptions[t.type]||{};t.update({color:e.color||"windowText",colors:[e.color||"windowText"],borderColor:e.borderColor||"window"}),t.points.forEach(function(t){t.options&&t.options.color&&t.update({color:e.color||"windowText",borderColor:e.borderColor||"window"},!1)})}),t.redraw()}}}),e(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),e(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),e(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(t){function l(t,e,i){let n,s=0;for(;s<e.length-1;++s)t=t[n=e[s]]=o(t[n],{});t[e[e.length-1]]=i}function a(i,n,s,o){function t(t,e){return e.reduce(function(t,e){return t[e]},t)}const r=t(i.options,n),a=t(i.options,s);Object.keys(o).forEach(function(t){var e=r[t];void 0!==e&&(l(a,o[t],e),c(32,!1,i,{[n.join(".")+"."+t]:s.join(".")+"."+o[t].join(".")}))})}const{error:c,pick:o}=t;return function(t){{var e=t;const s=e.options.chart,o=e.options.accessibility||{};["description","typeDescription"].forEach(function(t){s[t]&&(o[t]=s[t],c(32,!1,e,{["chart."+t]:"use accessibility."+t}))})}var i;if((i=t).axes.forEach(function(t){(t=t.options)&&t.description&&(t.accessibility=t.accessibility||{},t.accessibility.description=t.description,c(32,!1,i,{"axis.description":"use axis.accessibility.description"}))}),t.series){var n=t;const r={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};n.series.forEach(function(i){Object.keys(r).forEach(function(t){let e=i.options[t];void 0!==(e="accessibility.pointDescriptionFormatter"===t?i.options.accessibility&&i.options.accessibility.pointDescriptionFormatter:e)&&(l(i.options,r[t],"skipKeyboardNavigation"===t?!e:e),c(32,!1,n,{["series."+t]:"series."+r[t].join(".")}))})})}a(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),a(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),a(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(t,e,r,i,a,s,l,o,c,h,d,u,n,p,g,m,b,y,f,x,v){t=t.defaultOptions;const A=e["doc"],{addEvent:w,extend:C,fireEvent:E,merge:T}=r,S=i["removeElement"];class M{constructor(t){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(t)}init(t){this.chart=t,A.addEventListener?(v(t),this.proxyProvider=new n(this.chart),this.initComponents(),this.keyboardNavigation=new c(t,this.components)):(this.zombie=!0,this.components={},t.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const e=this.chart,i=this.proxyProvider,t=e.options.accessibility,n=(this.components={container:new s,infoRegions:new o,legend:new h,chartMenu:new d,rangeSelector:new p,series:new g,zoom:new m},t.customComponents&&C(this.components,t.customComponents),this.components);this.getComponentOrder().forEach(function(t){n[t].initBase(e,i),n[t].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var t=Object.keys(this.components).filter(t=>"series"!==t);return["series"].concat(t)}update(){const e=this.components,i=this.chart;var t=i.options.accessibility;E(i,"beforeA11yUpdate"),i.types=this.getChartTypes(),t=t.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(t),this.getComponentOrder().forEach(function(t){e[t].onChartUpdate(),E(i,"afterA11yComponentUpdate",{name:t,component:e[t]})}),this.keyboardNavigation.update(t),!i.highContrastModeActive&&b.isHighContrastModeActive()&&b.setHighContrastTheme(i),E(i,"afterA11yUpdate",{accessibility:this})}destroy(){const t=this.chart||{},e=this.components;Object.keys(e).forEach(function(t){e[t].destroy(),e[t].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),t.announcerContainer&&S(t.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()}getChartTypes(){const e={};return this.chart.series.forEach(function(t){e[t.type]=1}),Object.keys(e)}}{var P=M=M||{};function k(){this.accessibility&&this.accessibility.destroy()}function B(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const e=this.accessibility;e&&!e.zombie&&(e.proxyProvider.updateProxyElementPositions(),e.getComponentOrder().forEach(function(t){e.components[t].onChartRender()}))}function D(t){(t=t.options.accessibility)&&(t.customComponents&&(this.options.accessibility.customComponents=t.customComponents,delete t.customComponents),T(!0,this.options.accessibility,t),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function I(){let t=this.accessibility;var e=this.options.accessibility;e&&e.enabled?t&&!t.zombie?t.update():(this.accessibility=t=new P(this),t.zombie||t.update()):t?(t.destroy&&t.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function N(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const F=[];P.i18nFormat=a.i18nFormat,P.compose=function(e,t,i,n,s,o){c.compose(e),u.compose(n),h.compose(e,t),d.compose(e),g.compose(e,i,n),a.compose(e),l.compose(e,s),o&&p.compose(e,o),r.pushUnique(F,e)&&(e.prototype.updateA11yEnabled=I,w(e,"destroy",k),w(e,"render",B),w(e,"update",D),["addSeries","init"].forEach(t=>{w(e,t,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(t=>{w(e,t,function(){const t=this.accessibility;t&&!t.zombie&&t.update()})})),r.pushUnique(F,i)&&w(i,"update",N),r.pushUnique(F,n)&&["update","updatedData","remove"].forEach(t=>{w(n,t,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}return T(!0,t,f,{accessibility:{highContrastTheme:y},lang:x}),M}),e(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(t,e,i,n,s,o,r){t.i18nFormat=e.i18nFormat,t.A11yChartUtilities=n,t.A11yHTMLUtilities=s,t.AccessibilityComponent=i,t.KeyboardNavigationHandler=o,t.SeriesAccessibilityDescriber=r,e.compose(t.Chart,t.Legend,t.Point,t.Series,t.SVGElement,t.RangeSelector)})});