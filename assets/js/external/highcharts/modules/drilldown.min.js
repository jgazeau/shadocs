!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drilldown",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/Breadcrumbs.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"],t["Core/FormatUtilities.js"]],function(t,e,i,o,r){var s=r.format,n=(r=o.addEvent,o.objectEach),l=o.extend,a=o.fireEvent,d=o.merge,h=o.pick,p=o.defined,u=o.isString;function c(t,e){this.group=void 0,this.list=[],this.elementList={},this.isDirty=!0,this.level=0,this.options=void 0,e=d(t.options.drilldown&&t.options.drilldown.drillUpButton,c.defaultBreadcrumbsOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e),this.chart=t,this.options=e||{}}return l(i.defaultOptions.lang,{mainBreadcrumb:"Main"}),c.prototype.updateProperties=function(t){this.setList(t),this.setLevel(),this.isDirty=!0},c.prototype.setList=function(t){this.list=t},c.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},c.prototype.getLevel=function(){return this.level},c.prototype.getButtonText=function(t){var e=this.chart,i=this.options,o=e.options.lang,r=h(i.format,i.showFullPath?"{level.name}":"← {level.name}"),o=o&&h(o.drillUpText,o.mainBreadcrumb);return t=i.formatter&&i.formatter(t)||s(r,{level:t.levelOptions},e)||"",t=(u(t)&&!t.length||"← "===t)&&p(o)?i.showFullPath?o:"← "+o:t},c.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},c.prototype.render=function(){var t=this.chart,e=this.options;!this.group&&e&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:e.zIndex}).add()),e.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},c.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},c.prototype.renderSingleButton=function(){var t=this.chart,e=this.list,i=this.options.buttonSpacing,o=(this.destroyListElements(),this.group?this.group.getBBox().width:i),e=e[e.length-2];!t.drillUpButton&&0<this.level?t.drillUpButton=this.renderButton(e,o,i):t.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())},c.prototype.alignBreadcrumbsGroup=function(t){var e,i,o,r,s;this.group&&(e=(s=this.options).buttonTheme,i=s.position,o="chart"===s.relativeTo||"spacingBox"===s.relativeTo?void 0:"scrollablePlotBox",r=this.group.getBBox(),s=2*(e.padding||0)+s.buttonSpacing,i.width=r.width+s,i.height=r.height+s,r=d(i),t&&(r.x+=t),this.options.rtl&&(r.x+=i.width),r.y=h(r.y,this.yOffset,0),this.group.align(r,!0,o))},c.prototype.renderButton=function(o,t,e){var r=this,i=this.chart,s=r.options,n=d(s.buttonTheme);return t=i.renderer.button(r.getButtonText(o),t,e,function(t){var e,i=s.events&&s.events.click;!1!==(e=i?i.call(r,t,o):e)&&(t.newLevel=s.showFullPath?o.level:r.level-1,a(r,"up",t))},n).addClass("highcharts-breadcrumbs-button").add(r.group),i.styledMode||t.attr(s.style),t},c.prototype.renderSeparator=function(t,e){var i=this.chart,o=this.options.separator;return t=i.renderer.label(o.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),i.styledMode||t.css(o.style),t},c.prototype.update=function(t){d(!0,this.options,t),this.destroy(),this.isDirty=!0},c.prototype.updateSingleButton=function(){var t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})},c.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},c.prototype.destroyListElements=function(i){var o=this.elementList;n(o,function(t,e){!i&&o[e].updated||((t=o[e]).button&&t.button.destroy(),t.separator&&t.separator.destroy(),delete t.button,delete t.separator,delete o[e])}),i&&(this.elementList={})},c.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},c.prototype.resetElementListState=function(){n(this.elementList,function(t){t.updated=!1})},c.prototype.updateListElements=function(){function r(t,e){return p*t.getBBox().width+p*e}var s,n=this,l=n.elementList,a=n.options.buttonSpacing,d=n.list,h=n.options.rtl,p=h?-1:1,u=n.group?r(n.group,a):a;d.forEach(function(t,e){var i,o;e=e===d.length-1,l[t.level]?(i=(s=l[t.level]).button,s.separator||e?s.separator&&e&&(s.separator.destroy(),delete s.separator):(u+=p*a,s.separator=n.renderSeparator(u,a),h&&(o=s.separator).translate(u-o.getBBox().width,a),u+=r(s.separator,a)),l[t.level].updated=!0):(i=n.renderButton(t,u,a),h&&i.translate(u-i.getBBox().width,a),u+=r(i,a),e||(o=n.renderSeparator(u,a),h&&o.translate(u-o.getBBox().width,a),u+=r(o,a)),l[t.level]={button:i,separator:o,updated:!0}),i&&i.setState(e?2:0)})},c.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7},i=c,e.Breadcrumbs||(e.Breadcrumbs=i,r(t,"getMargins",function(){var t,e,i=this.breadcrumbs;i&&!i.options.floating&&i.level&&(t=((t=(e=i.options).buttonTheme).height||0)+2*(t.padding||0)+e.buttonSpacing,"bottom"===(e=e.position.verticalAlign)?(this.marginBottom=(this.marginBottom||0)+t,i.yOffset=t):"middle"!==e?(this.plotTop+=t,i.yOffset=-t):i.yOffset=void 0)}),r(t,"redraw",function(){this.breadcrumbs&&this.breadcrumbs.redraw()}),r(t,"destroy",function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}),r(t,"afterShowResetZoom",function(){var t,e;this.breadcrumbs&&(t=this.resetZoomButton&&this.resetZoomButton.getBBox(),e=this.breadcrumbs.options,t&&"right"===e.position.align&&"plotBox"===e.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-e.buttonSpacing))}),r(t,"selection",function(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()})),i}),e(t,"Extensions/Drilldown.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeries.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Extensions/Breadcrumbs.js"]],function(t,e,i,p,o,r,s,n,l,a,d,h,u,c,f){function m(t){var e=b(this.chart.options.drilldown.animation);t&&(t.hide(),E(function(){t&&t.added&&t.fadeIn()},Math.max(e.duration-50,0)))}function v(t){var i=[];return(t=t.drilldownLevels)&&t.length&&(i[0]||i.push({level:0,levelOptions:t[0].seriesOptions}),t.forEach(function(t,e){t.levelNumber+1>i[i.length-1].level&&i.push({level:t.levelNumber+1,levelOptions:S({name:t.lowerSeries.name},t.pointOptions)})})),i}function g(t,e,i,o){t[i?"addClass":"removeClass"]("highcharts-drilldown-point"),o||t.css({cursor:e})}var b=t.animObject,w=s.noop,y=(t=n.defaultOptions,c.addEvent),x=c.removeEvent,D=c.extend,B=c.fireEvent,S=c.merge,L=c.objectEach,C=c.pick,E=c.syncTimeout,O=(d=d.seriesTypes.pie,1),A=(D(t.lang,{}),t.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},h.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:C(this.newOpacity,1)},t||{duration:250})},i.prototype.addSeriesAsDrilldown=function(t,e){this.addSingleSeriesAsDrilldown(t,e),this.applyDrilldown()},i.prototype.addSingleSeriesAsDrilldown=function(t,e){var i,o=t.series,r=o.xAxis,s=o.yAxis,n=[],l=[],a=this.styledMode?{colorIndex:C(t.colorIndex,o.colorIndex)}:{color:t.color||o.color},d=(this.drilldownLevels||(this.drilldownLevels=[]),o.options._levelNumber||0),h=((i=this.drilldownLevels[this.drilldownLevels.length-1])&&i.levelNumber!==d&&(i=void 0),e=D(D({_ddSeriesId:O++},a),e),o.points.indexOf(t));o.chart.series.forEach(function(t){t.xAxis!==r||t.isDrilling||(t.options._ddSeriesId=t.options._ddSeriesId||O++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||d,i?(n=i.levelSeries,l=i.levelSeriesOptions):(n.push(t),t.purgedOptions=S({_ddSeriesId:t.options._ddSeriesId,_levelNumber:t.options._levelNumber,selected:t.options.selected},t.userOptions),l.push(t.purgedOptions)))}),t=D({levelNumber:d,seriesOptions:o.options,seriesPurgedOptions:o.purgedOptions,levelSeriesOptions:l,levelSeries:n,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:t.isNull?p.parse(a.color).setOpacity(0).get():a.color,lowerSeriesOptions:e,pointOptions:o.options.data[h],pointIndex:h,oldExtremes:{xMin:r&&r.userMin,xMax:r&&r.userMax,yMin:s&&s.userMin,yMax:s&&s.userMax},resetZoomButton:i&&i.levelNumber===d?void 0:this.resetZoomButton},a),this.drilldownLevels.push(t),r&&r.names&&(r.names.length=0),(e=t.lowerSeries=this.addSeries(e,!1)).options._levelNumber=d+1,r&&(r.oldPos=r.pos,r.userMin=r.userMax=null,s.userMin=s.userMax=null),o.type===e.type&&(e.animate=e.animateDrilldown||w,e.options.animation=!0)},i.prototype.applyDrilldown=function(){var e,t=this.drilldownLevels;t&&0<t.length&&(e=t[t.length-1].levelNumber,this.drilldownLevels.forEach(function(t){t.levelNumber===e&&t.levelSeries.forEach(function(t){t.options&&t.options._levelNumber===e&&t.remove(!1)})})),this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),B(this,"afterDrilldown"),this.redraw(),B(this,"afterApplyDrilldown")},i.prototype.drillUp=function(){if(this.drilldownLevels&&0!==this.drilldownLevels.length){B(this,"beforeDrillUp");function t(e){d.forEach(function(t){t.options._ddSeriesId===e._ddSeriesId&&(i=t)});var i=i||n.addSeries(e,!1);i.type===r.type&&i.animateDrillupTo&&(i.animate=i.animateDrillupTo),e===o.seriesPurgedOptions&&(s=i)}for(var e,o,r,s,n=this,i=n.drilldownLevels,l=i[i.length-1].levelNumber,a=i.length,d=n.series,h=n.drilldownLevels.length;a--;)if((o=i[a]).levelNumber===l){if(i.pop(),!(r=o.lowerSeries).chart)for(e=d.length;e--;)if(d[e].options.id===o.lowerSeriesOptions.id&&d[e].options._levelNumber===l+1){r=d[e];break}r.xData=[],r.xAxis&&r.xAxis.names&&(0===h||a===h)&&(r.xAxis.names.length=0),o.levelSeriesOptions.forEach(t),B(n,"drillup",{seriesOptions:o.seriesPurgedOptions||o.seriesOptions}),s.type===r.type&&(s.drilldownLevel=o,s.options.animation=n.options.drilldown.animation,r.animateDrillupFrom&&r.chart&&r.animateDrillupFrom(o)),s.options._levelNumber=l,r.remove(!1),s.xAxis&&(e=o.oldExtremes,s.xAxis.setExtremes(e.xMin,e.xMax,!1),s.yAxis.setExtremes(e.yMin,e.yMax,!1)),o.resetZoomButton&&(n.resetZoomButton=o.resetZoomButton)}B(n,"afterDrillUp"),this.redraw(),this.ddDupes&&(this.ddDupes.length=0),B(n,"drillupall")}},y(i,"afterInit",function(){var i=this;i.drilldown={chart:i,fadeInGroup:m,update:function(t,e){S(!0,i.options.drilldown,t),C(e,!0)&&i.redraw()}}}),y(i,"render",function(){(this.xAxis||[]).forEach(function(s){s.ddPoints={},s.series.forEach(function(t){for(var e=t.xData||[],i=t.points,o=0;o<e.length;o++){var r=t.options.data[o];"number"!=typeof r&&(t.pointClass.prototype.optionsToObject.call({series:t},r).drilldown&&(s.ddPoints[e[o]]||(s.ddPoints[e[o]]=[]),r=o-(t.cropStart||0),s.ddPoints[e[o]].push(!(i&&0<=r&&r<i.length)||i[r])))}}),L(s.ticks,u.prototype.drillable)})}),y(s.Breadcrumbs,"up",function(t){var e=this.chart;t=this.getLevel()-t.newLevel;for(var i=0;i<t;i++)e.drillUp()}),y(i,"afterDrilldown",function(){var t=(t=this.options.drilldown)&&t.breadcrumbs;this.breadcrumbs||(this.breadcrumbs=new f(this,t)),this.breadcrumbs.updateProperties(v(this))}),y(i,"afterDrillUp",function(){this.breadcrumbs&&this.breadcrumbs.updateProperties(v(this))}),y(i,"update",function(t){var e=this.breadcrumbs,i=t.options.drilldown&&t.options.drilldown.breadcrumbs;e&&i&&e.update(t.options.drilldown.breadcrumbs)}),o.prototype.animateDrillupTo=function(t){var i,o;t||(o=(i=this).drilldownLevel,this.points.forEach(function(t){var e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),t.connector&&t.connector.hide()))}),E(function(){var e;i.points&&(e=[],i.data.forEach(function(t){e.push(t)}),(e=i.nodes?e.concat(i.nodes):e).forEach(function(t,e){e=e===(o&&o.pointIndex)?"show":"fadeIn";var i=t.dataLabel;t.graphic&&t.graphic[e]("show"===e||void 0),i&&!i.hidden&&(i.fadeIn(),t.connector&&t.connector.fadeIn())}))},Math.max(this.chart.options.drilldown.animation.duration-50,0)),delete this.animate)},o.prototype.animateDrilldown=function(t){var i,o=this,e=this.chart,r=e.drilldownLevels,s=b(e.options.drilldown.animation),n=this.xAxis,l=e.styledMode;t||(r.forEach(function(t){o.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(i=t.shapeArgs,l||(i.fill=t.color))}),i.x+=C(n.oldPos,n.pos)-n.pos,this.points.forEach(function(t){var e=t.shapeArgs;l||(e.fill=t.color),t.graphic&&t.graphic.attr(i).animate(D(t.shapeArgs,{fill:t.color||o.color}),s)}),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)},o.prototype.animateDrillupFrom=function(r){var s=b(this.chart.options.drilldown.animation),n=this.group,l=n!==this.chart.columnGroup,a=this;a.trackerGroups.forEach(function(t){a[t]&&a[t].on("mouseover")}),l&&delete this.group,this.points.forEach(function(t){function e(){i.destroy(),n&&l&&(n=n.destroy())}var i=t.graphic,o=r.shapeArgs;i&&o&&(delete t.graphic,a.chart.styledMode||(o.fill=r.color),s.duration?i.animate(o,S(s,{complete:e})):(i.attr(o),e()))})},d&&D(d.prototype,{animateDrillupTo:o.prototype.animateDrillupTo,animateDrillupFrom:o.prototype.animateDrillupFrom,animateDrilldown:function(t){var o,r,s,n,l=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],a=this.chart.options.drilldown.animation;this.is("item")&&(a.duration=0),this.center&&(o=l.shapeArgs,r=o.start,s=(o.end-r)/this.points.length,n=this.chart.styledMode,t||(this.points.forEach(function(t,e){var i=t.shapeArgs;n||(o.fill=l.color,i.fill=t.color),t.graphic&&t.graphic.attr(S(o,{start:r+e*s,end:r+(e+1)*s}))[a?"animate":"attr"](i,a)}),this.chart.drilldown&&this.chart.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate))}}),l.prototype.doDrilldown=function(){this.runDrilldown()},l.prototype.runDrilldown=function(o,t,e){var i,r=this.series.chart,s=r.options.drilldown,n=(s.series||[]).length;for(r.ddDupes||(r.ddDupes=[]);n--&&!i;)s.series[n].id===this.drilldown&&-1===r.ddDupes.indexOf(this.drilldown)&&(i=s.series[n],r.ddDupes.push(this.drilldown));B(r,"drilldown",{point:this,seriesOptions:i,category:t,originalEvent:e,points:void 0!==t&&this.series.xAxis.getDDPoints(t).slice(0)},function(t){var e=t.point.series&&t.point.series.chart,i=t.seriesOptions;e&&i&&(o?e.addSingleSeriesAsDrilldown(t.point,i):e.addSeriesAsDrilldown(t.point,i))})},e.prototype.drilldownCategory=function(e,i){this.getDDPoints(e).forEach(function(t){t&&t.series&&t.series.visible&&t.runDrilldown&&t.runDrilldown(!0,e,i)}),this.chart.applyDrilldown()},e.prototype.getDDPoints=function(t){return this.ddPoints&&this.ddPoints[t]||[]},u.prototype.drillable=function(){var e=this.pos,t=this.label,i=this.axis,o="xAxis"===i.coll&&i.getDDPoints,r=o&&i.getDDPoints(e),s=i.chart.styledMode;o&&(t&&r&&r.length?(t.drillable=!0,t.basicStyles||s||(t.basicStyles=S(t.styles)),t.addClass("highcharts-drilldown-axis-label"),t.removeOnDrillableClick&&x(t.element,"click"),t.removeOnDrillableClick=y(t.element,"click",function(t){t.preventDefault(),i.drilldownCategory(e,t)}),s||t.css(i.chart.options.drilldown.activeAxisLabelStyle)):t&&t.drillable&&t.removeOnDrillableClick&&(s||(t.styles={},t.css(t.basicStyles)),t.removeOnDrillableClick(),t.removeClass("highcharts-drilldown-axis-label")))},y(l,"afterInit",function(){return this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=y(this,"click",A)),this}),y(l,"update",function(t){(t=t.options||{}).drilldown&&!this.unbindDrilldownClick?this.unbindDrilldownClick=y(this,"click",A):!t.drilldown&&void 0!==t.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())}),function(t){var e=this.series;e.xAxis&&!1===e.chart.options.drilldown.allowPointDrilldown?e.xAxis.drilldownCategory(this.x,t):this.runDrilldown(void 0,void 0,t)});y(a,"afterDrawDataLabels",function(){var o=this.chart.options.drilldown.activeDataLabelStyle,r=this.chart.renderer,s=this.chart.styledMode;this.points.forEach(function(t){var e=t.options.dataLabels,i=C(t.dlOptions,e&&e.style,{});t.drilldown&&t.dataLabel&&("contrast"!==o.color||s||(i.color=r.getContrast(t.color||this.color)),e&&e.color&&(i.color=e.color),t.dataLabel.addClass("highcharts-drilldown-data-label"),s||t.dataLabel.css(o).css(i))},this)});y(a,"afterDrawTracker",function(){var e=this.chart.styledMode;this.points.forEach(function(t){t.drilldown&&t.graphic&&g(t.graphic,"pointer",!0,e)})}),y(l,"afterSetState",function(){var t=this.series.chart.styledMode;this.drilldown&&this.series.halo&&"hover"===this.state?g(this.series.halo,"pointer",!0,t):this.series.halo&&g(this.series.halo,"auto",!1,t)}),y(i,"drillup",function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())}),y(i,"drillupall",function(){this.resetZoomButton&&this.showResetZoom()})}),e(t,"masters/modules/drilldown.src.js",[],function(){})});