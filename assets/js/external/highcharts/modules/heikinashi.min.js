"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/heikinashi",["highcharts","highcharts/modules/stock"],function(i){return e(i),e.Highcharts=i,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function e(i,e,s,t){i.hasOwnProperty(e)||(i[e]=t.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:i[e]}})))}e(i=i?i._modules:{},"Series/HeikinAshi/HeikinAshiPoint.js",[i["Core/Series/SeriesRegistry.js"]],function(i){const{candlestick:{prototype:{pointClass:e}},hlc:{prototype:{pointClass:s}}}=i.seriesTypes;class t extends e{constructor(){super(...arguments),this.resolveColor=s.prototype.resolveColor}}return t}),e(i,"Series/HeikinAshi/HeikinAshiSeriesDefaults.js",[],function(){return{dataGrouping:{groupAll:!0}}}),e(i,"Series/HeikinAshi/HeikinAshiSeries.js",[i["Series/HeikinAshi/HeikinAshiPoint.js"],i["Series/HeikinAshi/HeikinAshiSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(i,e,s,t){function a(){this.series.forEach(i=>{i.is("heikinashi")&&(i.heikiashiData.length=0,i.getHeikinashiData())})}function h(){var e=this.points,s=this.heikiashiData,t=this.cropStart||0;for(let i=this.processedYData.length=0;i<e.length;i++){const a=e[i],h=s[i+t];a.open=h[0],a.high=h[1],a.low=h[2],a.close=h[3],this.processedYData.push([a.open,a.high,a.low,a.close])}}function o(){this.heikiashiData.length&&(this.heikiashiData.length=0)}const n=s.seriesTypes["candlestick"],{addEvent:r,merge:l}=t,p=[];class u extends n{constructor(){super(...arguments),this.data=void 0,this.heikiashiData=[],this.processedYData=this.yData=this.points=this.options=void 0}static compose(i,e){n.compose(i),t.pushUnique(p,e)&&r(e,"postProcessData",a),t.pushUnique(p,u)&&(r(u,"afterTranslate",h),r(u,"updatedData",o))}getHeikinashiData(){var e=this.allGroupedData||this.yData,s=this.heikiashiData;if(!s.length&&e&&e.length){this.modifyFirstPointValue(e[0]);for(let i=1;i<e.length;i++)this.modifyDataPoint(e[i],s[i-1])}this.heikiashiData=s}init(){super.init.apply(this,arguments),this.heikiashiData=[]}modifyFirstPointValue(i){this.heikiashiData.push([(i[0]+i[1]+i[2]+i[3])/4,i[1],i[2],(i[0]+i[3])/2])}modifyDataPoint(i,e){e=(e[0]+e[3])/2;var s=(i[0]+i[1]+i[2]+i[3])/4;this.heikiashiData.push([e,Math.max(i[1],s,e),Math.min(i[2],s,e),s])}}return u.defaultOptions=l(n.defaultOptions,e),u.prototype.pointClass=i,s.registerSeriesType("heikinashi",u),u}),e(i,"masters/modules/heikinashi.src.js",[i["Core/Globals.js"],i["Series/HeikinAshi/HeikinAshiSeries.js"]],function(i,e){e.compose(i.Series,i.Axis)})});