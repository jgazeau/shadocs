"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){function a(t,e,i,s,o){let a=!0;var r=i[0],n=i[1],l=Math.sqrt(Math.pow(t-r,2)+Math.pow(e-n,2));return p(s)&&p(o)&&(t=Math.atan2(h(e-n,8),h(t-r,8)),o!==s&&(a=o<s?s<=t&&t<=Math.PI||t<=o&&t>=-Math.PI:s<=t&&t<=h(o,8))),l<=Math.ceil(i[2]/2)&&a}const{addEvent:r,correctFloat:h,defined:p,extend:n,merge:l,pick:d,splat:c}=o;t.prototype.collectionsWithUpdate.push("pane");return t.prototype.getHoverPane=function(e){const i=this;let s;return e&&i.pane.forEach(t=>{a(e.chartX-i.plotLeft,e.chartY-i.plotTop,t.center)&&(s=t)}),s},r(t,"afterIsInsidePlot",function(e){this.polar&&(e.options.inverted&&([e.x,e.y]=[e.y,e.x]),e.isInsidePlot=this.pane.some(t=>a(e.x,e.y,t.center,t.axis&&t.axis.normalizedStartAngleRad,t.axis&&t.axis.normalizedEndAngleRad)))}),r(s,"beforeGetHoverData",function(e){const i=this.chart;i.polar?(i.hoverPane=i.getHoverPane(e),e.filter=function(t){return t.visible&&!(!e.shared&&t.directTouch)&&d(t.options.enableMouseTracking,!0)&&(!i.hoverPane||t.xAxis.pane===i.hoverPane)}):i.hoverPane=void 0}),r(s,"afterGetHoverData",function(t){var e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!a(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)}),i.Pane=class{constructor(t,e){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,e)}init(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)}setOptions(t){this.options=l(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){var t=this.options,e=this.options.background,i=this.chart.renderer;if(this.group||(this.group=i.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=c(e),t=Math.max(e.length,this.background.length||0),i=0;i<t;i++)e[i]&&this.axis?this.renderBackground(l(this.defaultBackgroundOptions,e[i]),i):this.background[i]&&(this.background[i]=this.background[i].destroy(),this.background.splice(i,1))}renderBackground(t,e){let i="animate",s={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||n(s,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(s)}updateCenter(t){this.center=(t||this.axis||{}).center=e.getCenter.call(this)}update(t,e){l(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}},i.Pane}),e(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){const{prototype:{pointClass:i,pointClass:{prototype:s}}}=t.seriesTypes["area"],{defined:o,isNumber:a}=e;class r extends i{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const t=this.state,e=this.series,i=e.chart.polar;o(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),o(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,i&&a(this.plotHighX)&&(this.plotX=this.plotHighX),s.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],i&&a(this.plotLowX)&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),s.setState.apply(this,arguments)}haloPath(){var t=this.series.chart.polar;let e=[];return this.plotY=this.plotLow,t&&a(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(e=s.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&a(this.plotHighX)&&(this.plotX=this.plotHighX),e=this.isTopInside?e.concat(s.haloPath.apply(this,arguments)):e}isValid(){return a(this.low)&&a(this.high)}}return r}),e(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){e=e.noop;const{area:o,area:{prototype:c},column:{prototype:a}}=i.seriesTypes,{addEvent:r,defined:n,extend:u,isArray:g,isNumber:l,pick:b,merge:h}=s;class p extends o{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(t){return[t.low,t.high]}highToXY(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-(t.plotHigh||0));t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX}getGraphPath(t){var e=[],i=[];const s=c.getGraphPath;var o=this.options,a=this.chart.polar,r=a&&!1!==o.connectEnds,n=o.connectNulls;let l,h,p,d=o.step;for(t=t||this.points,l=t.length;l--;){h=t[l];const d=a?{plotX:h.rectPlotX,plotY:h.yBottom,doCurve:!1}:{plotX:h.plotX,plotY:h.plotY,doCurve:!1};h.isNull||r||n||t[l+1]&&!t[l+1].isNull||i.push(d),p={polarPlotY:h.polarPlotY,rectPlotX:h.rectPlotX,yBottom:h.yBottom,plotX:b(h.plotHighX,h.plotX),plotY:h.plotHigh,isNull:h.isNull},i.push(p),e.push(p),h.isNull||r||n||t[l-1]&&!t[l-1].isNull||i.push(d)}return t=s.call(this,t),d&&(!0===d&&(d="left"),o.step={left:"right",center:"center",right:"left"}[d]),e=s.call(this,e),i=s.call(this,i),o.step=d,o=[].concat(t,e),!this.chart.polar&&i[0]&&"M"===i[0][0]&&(i[0]=["L",i[0][1],i[0][2]]),this.graphPath=o,this.areaPath=t.concat(i),o.isArea=!0,o.xMap=t.xMap,this.areaPath.xMap=t.xMap,o}drawDataLabels(){const t=this.points,e=t.length,i=[],s=this.options.dataLabels,o=this.chart.inverted;let a,r,n,l,h;if(s){if(g(s)?(l=s[0]||{enabled:!1},h=s[1]||{enabled:!1}):((l=u({},s)).x=s.xHigh,l.y=s.yHigh,(h=u({},s)).x=s.xLow,h.y=s.yLow),l.enabled||this._hasPointLabels){for(a=e;a--;)if(r=t[a]){const{plotHigh:t=0,plotLow:p=0}=r;n=l.inside?t<p:t>p,r.y=r.high,r._plotY=r.plotY,r.plotY=t,i[a]=r.dataLabel,r.dataLabel=r.dataLabelUpper,r.below=n,o?l.align||(l.align=n?"right":"left"):l.verticalAlign||(l.verticalAlign=n?"top":"bottom")}for(this.options.dataLabels=l,c.drawDataLabels&&c.drawDataLabels.apply(this,arguments),a=e;a--;)(r=t[a])&&(r.dataLabelUpper=r.dataLabel,r.dataLabel=i[a],delete r.dataLabels,r.y=r.low,r.plotY=r._plotY)}if(h.enabled||this._hasPointLabels){for(a=e;a--;)if(r=t[a]){const{plotHigh:t=0,plotLow:d=0}=r;n=h.inside?t<d:t>d,r.below=!n,o?h.align||(h.align=n?"left":"right"):h.verticalAlign||(h.verticalAlign=n?"bottom":"top")}this.options.dataLabels=h,c.drawDataLabels&&c.drawDataLabels.apply(this,arguments)}if(l.enabled)for(a=e;a--;)(r=t[a])&&(r.dataLabels=[r.dataLabelUpper,r.dataLabel].filter(function(t){return!!t}));this.options.dataLabels=s}}alignDataLabel(){a.alignDataLabel.apply(this,arguments)}drawPoints(){var t=this.points.length;let e,i;for(c.drawPoints.apply(this,arguments),e=0;e<t;)(i=this.points[e]).graphics=i.graphics||[],i.origProps={plotY:i.plotY,plotX:i.plotX,isInside:i.isInside,negative:i.negative,zone:i.zone,y:i.y},(i.graphic||i.graphics[0])&&(i.graphics[0]=i.graphic),i.graphic=i.graphics[1],i.plotY=i.plotHigh,n(i.plotHighX)&&(i.plotX=i.plotHighX),i.y=b(i.high,i.origProps.y),i.negative=i.y<(this.options.threshold||0),this.zones.length&&(i.zone=i.getZone()),this.chart.polar||(i.isInside=i.isTopInside=void 0!==i.plotY&&0<=i.plotY&&i.plotY<=this.yAxis.len&&0<=i.plotX&&i.plotX<=this.xAxis.len),e++;for(c.drawPoints.apply(this,arguments),e=0;e<t;)(i=this.points[e]).graphics=i.graphics||[],(i.graphic||i.graphics[1])&&(i.graphics[1]=i.graphic),i.graphic=i.graphics[0],i.origProps&&(u(i,i.origProps),delete i.origProps),e++}}return p.defaultOptions=h(o.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),r(p,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(t=>{var e=t.high,i=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=i,t.plotHigh=l(e)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(e):e,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))})},{order:0}),r(p,"afterTranslate",function(){this.points.forEach(t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{const e=t.pos(!1,t.plotLow),i=t.pos(!1,t.plotHigh);e&&i&&(e[0]=(e[0]+i[0])/2,e[1]=(e[1]+i[1])/2),t.tooltipPos=e}})},{order:3}),u(p.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:t,pointValKey:"low",setStackedPoints:e}),i.registerSeriesType("arearange",p),p}),e(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){const{prototype:s}=e.seriesTypes["spline"],{merge:o,extend:a}=i;class r extends t{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return r.defaultOptions=o(t.defaultOptions),a(r.prototype,{getPointSpline:s.getPointSpline}),e.registerSeriesType("areasplinerange",r),r}),e(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){e=e.noop;const{extend:o,merge:a,pick:A}=s;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const i=this.yAxis,t=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(e){t.forEach(function(t){null!==e[t]&&(e[t+"Plot"]=i.translate(e[t],0,1,0,1))}),e.plotHigh=e.highPlot})}drawPoints(){let h=this,p=h.options,d=h.chart,c=d.renderer,u,g,b,f,m,y,x,v,P,S,M,L=!1!==h.doQuartiles,k,C=h.options.whiskerLength;h.points.forEach(function(t){var e=t.graphic;let i=e?"animate":"attr",s=t.shapeArgs,o={},a={},r={},n={},l=t.color||h.color;void 0!==t.plotY&&(v=Math.round(s.width),P=Math.floor(s.x),S=P+v,M=Math.round(v/2),u=Math.floor(L?t.q1Plot:t.lowPlot),g=Math.floor(L?t.q3Plot:t.lowPlot),b=Math.floor(t.highPlot),f=Math.floor(t.lowPlot),e||(t.graphic=e=c.g("point").add(h.group),t.stem=c.path().addClass("highcharts-boxplot-stem").add(e),C&&(t.whiskers=c.path().addClass("highcharts-boxplot-whisker").add(e)),L&&(t.box=c.path(void 0).addClass("highcharts-boxplot-box").add(e)),t.medianShape=c.path(void 0).addClass("highcharts-boxplot-median").add(e)),d.styledMode||(a.stroke=t.stemColor||p.stemColor||l,a["stroke-width"]=A(t.stemWidth,p.stemWidth,p.lineWidth),a.dashstyle=t.stemDashStyle||p.stemDashStyle||p.dashStyle,t.stem.attr(a),C&&(r.stroke=t.whiskerColor||p.whiskerColor||l,r["stroke-width"]=A(t.whiskerWidth,p.whiskerWidth,p.lineWidth),r.dashstyle=t.whiskerDashStyle||p.whiskerDashStyle||p.dashStyle,t.whiskers.attr(r)),L&&(o.fill=t.fillColor||p.fillColor||l,o.stroke=p.lineColor||l,o["stroke-width"]=p.lineWidth||0,o.dashstyle=t.boxDashStyle||p.boxDashStyle||p.dashStyle,t.box.attr(o)),n.stroke=t.medianColor||p.medianColor||l,n["stroke-width"]=A(t.medianWidth,p.medianWidth,p.lineWidth),n.dashstyle=t.medianDashStyle||p.medianDashStyle||p.dashStyle,t.medianShape.attr(n)),y=t.stem.strokeWidth()%2/2,e=[["M",x=P+M+y,g],["L",x,b],["M",x,u],["L",x,f]],t.stem[i]({d:e}),L&&(y=t.box.strokeWidth()%2/2,u=Math.floor(u)+y,g=Math.floor(g)+y,P+=y,S+=y,e=[["M",P,g],["L",P,u],["L",S,u],["L",S,g],["L",P,g],["Z"]],t.box[i]({d:e})),C&&(y=t.whiskers.strokeWidth()%2/2,b+=y,f+=y,k=/%$/.test(C)?M*parseFloat(C)/100:C/2,e=[["M",x-k,b],["L",x+k,b],["M",x-k,f],["L",x+k,f]],t.whiskers[i]({d:e})),m=Math.round(t.medianPlot),y=t.medianShape.strokeWidth()%2/2,m+=y,e=[["M",P,m],["L",S,m]],t.medianShape[i]({d:e}))})}toYData(t){return[t.low,t.q1,t.median,t.q3,t.high]}}return r.defaultOptions=a(t.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),o(r.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:e,setStackedPoints:e}),i.registerSeriesType("boxplot",r),r}),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,o,e,i){const d=t["parse"],s=e["noop"],{arrayMax:r,arrayMin:n,isNumber:l,merge:c,pick:u,stableSort:h}=i;return class{constructor(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=s,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){const e=u(t.options.itemDistance,20),i=this.legendItem||{},s=this.options;var o,a=s.ranges,r=s.connectorDistance;a&&a.length&&l(a[0].value)?(h(a,function(t,e){return e.value-t.value}),this.ranges=a,this.setOptions(),this.render(),t=this.getMaxLabelSize(),a=2*(o=this.ranges[0].radius),r=0<(r=r-o+t.width)?r:0,this.maxLabel=t,this.movementX="left"===s.labels.align?r:0,i.labelWidth=a+r+e,i.labelHeight=a+t.height/2):t.options.bubbleLegend.autoRanges=!0}setOptions(){const i=this.ranges,s=this.options,o=this.chart.series[s.seriesIndex],a=this.legend.baseline,r={zIndex:s.zIndex,"stroke-width":s.borderWidth},n={zIndex:s.zIndex,"stroke-width":s.connectorWidth},l={align:this.legend.options.rtl||"left"===s.labels.align?"right":"left",zIndex:s.zIndex},h=o.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(r.stroke=u(t.borderColor,s.borderColor,o.color),r.fill=u(t.color,s.color,1!==h?d(o.color).setOpacity(h).get("rgba"):o.color),n.stroke=u(t.connectorColor,s.connectorColor,o.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=c(i[e],{center:i[0].radius-i[e].radius+a}),p||c(!0,i[e],{bubbleAttribs:c(r),connectorAttribs:c(n),labelAttribs:l})},this)}getRangeRadius(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)}render(){const t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item"),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(const e of this.ranges)e.value>=i&&this.renderRange(e);this.hideOverlappingLabels()}renderRange(t){var e=this.options,i=e.labels;const s=(r=this.chart).series[e.seriesIndex],o=r.renderer,a=this.symbols;var r=a.labels,n=t.center,l=Math.abs(t.radius),h=e.connectorDistance||0,p=i.align,d=e.connectorWidth,c=this.ranges[0].radius||0,u=n-l-e.borderWidth/2+d/2,g=o.styledMode,h=this.legend.options.rtl||"left"===p?-h:h;"center"===p&&(e.connectorDistance=h=0,t.labelAttribs.align="center"),a.bubbleItems.push(o.circle(c,n+((u%1?1:.5)-(d%2?0:.5)),l).attr(g?{}:t.bubbleAttribs).addClass((g?"highcharts-color-"+s.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendItem.symbol)),a.connectors.push(o.path(o.crispLine([["M",c,u],["L",c+h,u]],e.connectorWidth)).attr(g?{}:t.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendItem.symbol)),t=o.text(this.formatLabel(t)).attr(g?{}:t.labelAttribs).css(g?{}:i.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendItem.symbol),e={x:c+h+e.labels.x,y:u+e.labels.y+.4*t.getBBox().height},t.attr(e),r.push(t),t.placed=!0,t.alignAttr=e}getMaxLabelSize(){let e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}}formatLabel(t){var e=this.options;const i=e.labels.formatter,s=(e=e.labels.format,this.chart)["numberFormatter"];return e?o.format(e,t):i?i.call(t):s(t.value,1)}hideOverlappingLabels(){const t=this.chart,i=this.symbols;!this.options.labels.allowOverlap&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))}getRanges(){const t=this.legend.bubbleLegend,i=t.options.ranges;let s,e,o=Number.MAX_VALUE,a=-Number.MAX_VALUE;return t.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&((e=t.zData.filter(l)).length&&(o=u(t.options.zMin,Math.min(o,Math.max(n(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),a=u(t.options.zMax,Math.max(a,r(e)))))}),s=o===a?[{value:a}]:[{value:o},{value:(o+a)/2},{value:a,autoRanges:!0}],i.length&&i[0].radius&&s.reverse(),s.forEach(function(t,e){i&&i[e]&&(s[e]=c(i[e],t))}),s}predictBubbleSizes(){var t=(r=this.chart).legend.options,e=t.floating,i=(t="horizontal"===t.layout)?r.legend.lastLineHeight:0,s=r.plotSizeX,o=r.plotSizeY,a=(l=r.series[this.options.seriesIndex]).getPxExtremes(),r=Math.ceil(a.minPxSize),a=Math.ceil(a.maxPxSize),n=Math.min(o,s),l=l.options.maxSize;return e||!/%$/.test(l)?e=a:(e=(n+i)*(l=parseFloat(l))/100/(l/100+1),(t&&s<=o-e||!t&&o<=s-e)&&(e=a)),[r,Math.ceil(e)]}updateRanges(t,e){const i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){const t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}}}),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(s,a,t,o){function r(t,e,i){const s=this.legend;var o=0<=n(this);let a,r;s&&s.options.enabled&&s.bubbleLegend&&s.options.bubbleLegend.autoRanges&&o?(a=s.bubbleLegend.options,o=s.bubbleLegend.predictBubbleSizes(),s.bubbleLegend.updateRanges(o[0],o[1]),a.placed||(s.group.placed=!1,s.allItems.forEach(t=>{(r=t.legendItem||{}).group&&(r.group.translateY=null)})),s.render(),this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),a.placed||(t.setScale(),t.updateNames(),g(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),a.placed=!0,this.getMargins(),t.call(this,e,i),s.bubbleLegend.correctSizes(),d(s,l(s))):(t.call(this,e,i),s&&s.options.enabled&&s.bubbleLegend&&(s.render(),d(s,l(s))))}function n(t){t=t.series;let e=0;for(;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function l(t){const e=[],i=(t=t.allItems).length;let s,o,a=0;for(o=0;o<i;o++){var r=t[o].legendItem||{};if(s=(t[o+1]||{}).legendItem||{},r.labelHeight&&(t[o].itemHeight=r.labelHeight),t[o]===t[i-1]||r.y!==s.y){for(e.push({height:0}),r=e[e.length-1],a;a<=o;a++)t[a].itemHeight>r.height&&(r.height=t[a].itemHeight);r.step=o}}return e}function h(t){const e=this.bubbleLegend,i=this.options,s=i.bubbleLegend,o=n(this.chart);e&&e.ranges&&e.ranges.length&&(s.ranges.length&&(s.autoRanges=!!s.ranges[0].autoRanges),this.destroyItem(e)),0<=o&&i.enabled&&s.enabled&&(s.seriesIndex=o,this.bubbleLegend=new a(s,this),this.bubbleLegend.addToLegend(t.allItems))}function p(t){if(t.defaultPrevented)return!1;var e=this.chart;t=this.visible;const i=this.chart.legend;i&&i.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,e=0<=n(e),i.bubbleLegend.visible!==e&&(i.update({bubbleLegend:{enabled:e}}),i.bubbleLegend.visible=e),this.visible=t)}function d(t,i){const s=t.options.rtl;let o,a,r,n,l=0;t.allItems.forEach((t,e)=>{(n=t.legendItem||{}).group&&(o=n.group.translateX||0,a=n.y||0,((r=t.movementX)||s&&t.ranges)&&(r=s?o-t.options.maxSize/2:o+r,n.group.attr({translateX:r})),e>i[l].step&&l++,n.group.attr({translateY:Math.round(a+i[l].height/2)}),n.y=a+i[l].height/2)})}const c=t["setOptions"],{addEvent:u,objectEach:g,wrap:b}=o,f=[];return{compose:function(t,e,i){o.pushUnique(f,t)&&(c({legend:{bubbleLegend:s}}),b(t.prototype,"drawChartBox",r)),o.pushUnique(f,e)&&u(e,"afterGetAllItems",h),o.pushUnique(f,i)&&u(i,"legendItemClick",p)}}}),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,i){({scatter:{prototype:{pointClass:t}}}=t.seriesTypes),i=i.extend;class s extends t{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(t){return e.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)}}return i(s.prototype,{ttBelow:!1}),s}),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(o,t,e,i,s,a){function r(){const t=this.len,i=this.chart,s=this.isXAxis,o=s?"xData":"yData",a=this.min,r=this.max-a;let n=0,l=t,h=t/r,p;this.series.forEach(e=>{if(e.bubblePadding&&(e.visible||!i.options.chart.ignoreHiddenSeries)){p=this.allowZoomOutside=!0;const i=e[o];if(s&&((e.onPoint||e).getRadii(0,0,e),e.onPoint&&(e.radii=e.onPoint.radii)),0<r){let t=i.length;for(;t--;)if(f(i[t])&&this.dataMin<=i[t]&&i[t]<=this.max){const r=e.radii&&e.radii[t]||0;n=Math.min((i[t]-a)*h-r,n),l=Math.max((i[t]-a)*h+r,l)}}}}),p&&0<r&&!this.logarithmic&&(l-=t,h*=(t+Math.max(0,n)-Math.min(l,t))/t,[["min","userMin",n],["max","userMax",l]].forEach(t=>{void 0===y(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)}))}const n=e["parse"],{series:l,seriesTypes:{column:{prototype:h},scatter:p}}=(e=i["noop"],s),{addEvent:d,arrayMax:c,arrayMin:u,clamp:g,extend:b,isNumber:f,merge:m,pick:y}=a,x=[];class v extends p{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(t,e,i,s){o.compose(e,i,s),a.pushUnique(x,t)&&(t.prototype.beforePadding=r)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){const e=t["graphic"];e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)}getRadii(){const t=this.zData,e=this.yData,i=[];let s,o,a,r=this.chart.bubbleZExtremes;var{minPxSize:n,maxPxSize:l}=this.getPxExtremes();if(!r){let e=Number.MAX_VALUE,i=-Number.MAX_VALUE,s;this.chart.series.forEach(t=>{t.bubblePadding&&(t.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(t=(t.onPoint||t).getZExtremes())&&(e=Math.min(y(e,t.zMin),t.zMin),i=Math.max(y(i,t.zMax),t.zMax),s=!0)}),s?(r={zMin:e,zMax:i},this.chart.bubbleZExtremes=r):r={zMin:0,zMax:0}}for(o=0,s=t.length;o<s;o++)a=t[o],i.push(this.getRadius(r.zMin,r.zMax,n,l,a,e&&e[o]));this.radii=i}getRadius(t,e,i,s,o,a){var r=this.options,n="width"!==r.sizeBy,l=r.zThreshold;let h=e-t,p=.5;if(null===a||null===o)return null;if(f(o)){if(r.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(e-l,Math.abs(t-l)),t=0),o<t)return i/2-1;0<h&&(p=(o-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(s-i))/2}hasData(){return!!this.processedXData.length}pointAttribs(t,e){var i=this.options.marker.fillOpacity;return t=l.prototype.pointAttribs.call(this,t,e),1!==i&&(t.fill=n(t.fill).setOpacity(i).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){var{data:t,radii:e}=this,i=this.getPxExtremes()["minPxSize"];let s=t.length;for(;s--;){const o=t[s],a=e?e[s]:0;f(a)&&i/2<=a?(o.marker=b(o.marker,{radius:a,width:2*a,height:2*a}),o.dlBox={x:o.plotX-a,y:o.plotY-a,width:2*a,height:2*a}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}}getPxExtremes(){const i=Math.min(this.chart.plotWidth,this.chart.plotHeight);var t=t=>{let e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?i*t/100:t},e=t(y(this.options.minSize,8));return{minPxSize:e,maxPxSize:Math.max(t(y(this.options.maxSize,"20%")),e)}}getZExtremes(){var t=this.options,e=(this.zData||[]).filter(f);if(e.length){var i=y(t.zMin,g(u(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=y(t.zMax,c(e));if(f(i)&&f(t))return{zMin:i,zMax:t}}}}return v.defaultOptions=m(p.defaultOptions,{dataLabels:{formatter:function(){const t=this.series.chart["numberFormatter"],e=this.point["z"];return f(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),b(v.prototype,{alignDataLabel:h.alignDataLabel,applyZones:e,bubblePadding:!0,buildKDTree:e,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(v,"updatedData",t=>{delete t.target.chart.bubbleZExtremes}),d(v,"remove",t=>{delete t.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",v),v}),e(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){const{column:{prototype:{pointClass:{prototype:i}}},arearange:{prototype:{pointClass:s}}}=t["seriesTypes"],{extend:o,isNumber:a}=e;class r extends s{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return a(this.low)}}return o(r.prototype,{setState:i.setState}),r}),e(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){e=e.noop;const{arearange:o,column:a,column:{prototype:r}}=i["seriesTypes"],{addEvent:n,clamp:b,extend:l,isNumber:f,merge:m,pick:y}=s;class h extends o{setOptions(){return m(!0,arguments[0],{stacking:void 0}),o.prototype.setOptions.apply(this,arguments)}translate(){return r.translate.apply(this)}pointAttribs(){return r.pointAttribs.apply(this,arguments)}translate3dPoints(){return r.translate3dPoints.apply(this,arguments)}translate3dShapes(){return r.translate3dShapes.apply(this,arguments)}}return h.defaultOptions=m(a.defaultOptions,o.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),n(h,"afterColumnTranslate",function(){const a=this.yAxis,r=this.xAxis,n=r.startAngleRad,l=this.chart,h=this.xAxis.isRadial,p=Math.max(l.chartWidth,l.chartHeight)+999;let d,c,u,g;this.points.forEach(t=>{const e=t.shapeArgs||{},i=this.options.minPointLength,s=t.plotY,o=a.translate(t.high,0,1,0,1);if(f(o)&&f(s))if(t.plotHigh=b(o,-p,p),t.plotLow=b(s,-p,p),g=t.plotHigh,d=y(t.rectPlotY,t.plotY)-t.plotHigh,Math.abs(d)<i?(c=i-d,d+=c,g-=c/2):d<0&&(d*=-1,g-=d),h&&this.polar)u=t.barX+n,t.shapeType="arc",t.shapeArgs=this.polar.arc(g+d,g,u,u+t.pointWidth);else{e.height=d,e.y=g;const{x:n=0,width:h=0}=e;t.shapeArgs=m(t.shapeArgs,this.crispCol(n,g,h,d)),t.tooltipPos=l.inverted?[a.len+a.pos-l.plotLeft-g-d/2,r.len+r.pos-l.plotTop-n-h/2,d]:[r.left-l.plotLeft+n+h/2,a.pos-l.plotTop+g+d/2,d]}})},{order:5}),l(h.prototype,{directTouch:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:r.adjustForMissingColumns,animate:r.animate,crispCol:r.crispCol,drawGraph:e,drawPoints:r.drawPoints,getSymbol:e,drawTracker:r.drawTracker,getColumnMetrics:r.getColumnMetrics}),i.registerSeriesType("columnrange",h),h}),e(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){const s=t["prototype"],{clamp:S,merge:o,pick:M}=i;class a extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let c=this,u=c.chart,g=c.options;var t=c.dense=c.closestPointRange*c.xAxis.transA<2,t=c.borderWidth=M(g.borderWidth,t?0:1);let b=c.yAxis,f=g.threshold,m=c.translatedThreshold=b.getThreshold(f),y=M(g.minPointLength,5),e=c.getColumnMetrics(),x=e.width,v=c.barW=Math.max(x,1+2*t),P=c.pointXOffset=e.offset;u.inverted&&(m-=.5),g.pointPadding&&(v=Math.ceil(v)),s.translate.apply(c),c.points.forEach(function(t){var e=M(t.yBottom,m),i=999+Math.abs(e),s=S(t.plotY,-i,b.len+i),i=t.plotX+P,o=v/2,a=Math.min(s,e),e=Math.max(s,e)-a;let r,n;t.barX=i,t.pointWidth=x,t.tooltipPos=u.inverted?[b.len+b.pos-u.plotLeft-s,c.xAxis.len-i-o,e]:[i+o,s+b.pos-u.plotTop,e],s=f+(t.total||t.y),"percent"===g.stacking&&(s=f+(t.y<0)?-100:100);var s=b.toPixels(s,!0),l=(p=u.plotHeight-s-(u.plotHeight-m))?o*(a-s)/p:0,h=p?o*(a+e-s)/p:0,p=i-l+o,l=i+l+o,d=i+h+o,h=i-h+o;r=a-y,n=a+e,t.y<0&&(r=a,n=a+e+y),u.inverted&&(h=o*(s-((d=b.width-a)-e))/(p=s-(b.width-m)),l=(p=i+o+(l=o*(s-d)/p))-2*l,d=i-h+o,h=i+h+o,r=a,n=a+e-y,t.y<0&&(n=a+e+y)),t.shapeType="path",t.shapeArgs={x:p,y:r,width:l-p,height:e,d:[["M",p,r],["L",l,r],["L",d,n],["L",h,n],["Z"]]}})}}return a.defaultOptions=o(t.defaultOptions,{}),e.registerSeriesType("columnpyramid",a),a}),e(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),e(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){const a=s.seriesTypes["arearange"],{addEvent:r,merge:n,extend:l}=o;class h extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||e.prototype.getColumnMetrics.call(this)}drawDataLabels(){const e=this.pointValKey;a&&(a.prototype.drawDataLabels.call(this),this.data.forEach(function(t){t.y=t[e]}))}toYData(t){return[t.low,t.high]}}return h.defaultOptions=n(t.defaultOptions,i),r(h,"afterTranslate",function(){this.points.forEach(t=>{t.plotLow=t.plotY})},{order:0}),l(h.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),s.registerSeriesType("errorbar",h),h}),e(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){({prototype:{pointClass:t}}=t.series);class e extends t{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(t){this.state=t}}return e}),e(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){e=e.noop;const{series:o,seriesTypes:{column:a}}=i,{clamp:c,isNumber:u,extend:r,merge:g,pick:n,pInt:b,defined:f}=s;class l extends o{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const h=this.yAxis,p=this.options,d=h.center;this.generatePoints(),this.points.forEach(t=>{var e=g(p.dial,t.dial),i=b(e.radius)*d[2]/200,s=b(e.baseLength)*i/100,o=b(e.rearLength)*i/100,a=e.baseWidth,r=e.topWidth;let n=p.overshoot,l=h.startAngleRad+h.translate(t.y,void 0,void 0,void 0,!0);!u(n)&&!1!==p.wrap||(n=u(n)?n/180*Math.PI:0,l=c(l,h.startAngleRad-n,h.endAngleRad+n)),l=180*l/Math.PI,t.shapeType="path",t.shapeArgs={d:e.path||[["M",-o,-a/2],["L",s,-a/2],["L",i,-r/2],["L",i,r/2],["L",s,a/2],["L",-o,a/2],["Z"]],translateX:d[0],translateY:d[1],rotation:l},t.plotX=d[0],t.plotY=d[1],f(t.y)&&h.max-h.min&&(t.percentage=(t.y-h.min)/(h.max-h.min)*100)})}drawPoints(){const a=this,r=a.chart,t=a.yAxis.center,e=a.pivot,n=a.options,i=n.pivot,l=r.renderer;a.points.forEach(t=>{const e=t.graphic,i=t.shapeArgs,s=i.d,o=g(n.dial,t.dial);e?(e.animate(i),i.d=s):t.graphic=l[t.shapeType](i).addClass("highcharts-dial").add(a.group),r.styledMode||t.graphic[e?"animate":"attr"]({stroke:o.borderColor,"stroke-width":o.borderWidth,fill:o.backgroundColor})}),e?e.animate({translateX:t[0],translateY:t[1]}):i&&(a.pivot=l.circle(0,0,i.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(t[0],t[1]).add(a.group),r.styledMode||a.pivot.attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth}))}animate(t){const i=this;t||i.points.forEach(t=>{const e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),o.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,e){o.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),n(e,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return l.defaultOptions=g(o.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),r(l.prototype,{angular:!0,directTouch:!0,drawGraph:e,drawTracker:a.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",l),l}),e(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(e){function i(){const i=this;let t,s,o;i.container&&(t=a(i.container,"mousedown",t=>{const e=i.hoverPoint;e&&e.series&&e.series.hasDraggableNodes&&e.series.options.draggable&&(e.series.onMouseDown(e,t),s=a(i.container,"mousemove",t=>e&&e.series&&e.series.onMouseMove(e,t)),o=a(i.container.ownerDocument,"mouseup",t=>(s(),o(),e&&e.series&&e.series.onMouseUp(e,t))))})),a(i,"destroy",function(){t()})}const a=e["addEvent"],s=[];return{compose:function(t){e.pushUnique(s,t)&&a(t,"load",i)},onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){const o=this.chart;e=o.pointer.normalize(e);var i=t.fixedPosition.chartX-e.chartX,s=t.fixedPosition.chartY-e.chartY;e=o.graphLayoutsLookup,(5<Math.abs(i)||5<Math.abs(s))&&(i=t.fixedPosition.plotX-i,s=t.fixedPosition.plotY-s,o.isInsidePlot(i,s)&&(t.plotX=i,t.plotY=s,t.hasDragged=!0,this.redrawHalo(t),e.forEach(t=>{t.restartSimulation()})))}},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}}),e(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(t,e){function i(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(t=>{t.updateSimulation()}),this.redraw())}function s(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(t=>{t.updateSimulation(!1)}),this.redraw())}function o(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(t=>{t.stop()})}function a(){let e,i=!1;var t=t=>{t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),e=!1,i=!0)};if(this.graphLayoutsLookup){for(r(!1,this),this.graphLayoutsLookup.forEach(t=>t.start());!e;)e=!0,this.graphLayoutsLookup.forEach(t);i&&this.series.forEach(t=>{t&&t.layout&&t.render()})}}const r=t["setAnimation"],n=e["addEvent"],l=[];return{compose:function(t){e.pushUnique(l,t)&&(n(t,"afterPrint",i),n(t,"beforePrint",s),n(t,"predraw",o),n(t,"render",a))},integrations:{},layouts:{}}}),e(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(e,i,t){({bubble:{prototype:{pointClass:t}}}=t.seriesTypes);class s extends t{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),i.prototype.destroy.apply(this,arguments)}firePointEvent(){const t=this.series.options;var e;this.isParentNode&&t.parentNode?(e=t.allowPointSelect,t.allowPointSelect=t.parentNode.allowPointSelect,i.prototype.firePointEvent.apply(this,arguments),t.allowPointSelect=e):i.prototype.firePointEvent.apply(this,arguments)}select(){const t=this.series.chart;this.isParentNode?(t.getSelectedPoints=t.getSelectedParentNodes,i.prototype.select.apply(this,arguments),t.getSelectedPoints=e.prototype.getSelectedPoints):i.prototype.select.apply(this,arguments)}}return s}),e(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(t){const i=t["isNumber"];return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const t=this.series.chart["numberFormatter"],e=this.point["value"];return i(e)?t(e,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),e(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(t,e,i){var s=t.getMass(),o=-i.x*e*this.diffTemperature;e=-i.y*e*this.diffTemperature,t.fromNode.fixedPosition||(t.fromNode.plotX-=o*s.fromNode/t.fromNode.degree,t.fromNode.plotY-=e*s.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=o*s.toNode/t.toNode.degree,t.toNode.plotY+=e*s.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){let t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,i=(i-(this.box.top+this.box.height)/2)*t,this.nodes.forEach(function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){var i=-t.options.friction,s=t.options.maxSpeed,o=(e.plotX+e.dispX-e.prevX)*i;i*=e.plotY+e.dispY-e.prevY;var a=(r=Math.abs)(o)/(o||1),r=r(i)/(i||1),o=a*Math.min(s,Math.abs(o)),i=r*Math.min(s,Math.abs(i));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=o,e.plotY+=i,e.temperature=t.vectorLength({x:o,y:i})},repulsive:function(t,e,i){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=i.x*e,t.plotY+=i.y*e)},repulsiveForceFunction:function(t,e){return(e-t)/t*(t<e?1:0)}}}),e(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(t,e){return t=t["noop"],{barycenter:function(){var t=this.options.gravitationalConstant,e=this.box,i=this.nodes;let s,o;for(const a of i)o=this.options.splitSeries&&!a.isParentNode?(s=a.series.parentNode.plotX,a.series.parentNode.plotY):(s=e.width/2,e.height/2),a.fixedPosition||(a.plotX-=(a.plotX-s)*t/(a.mass*Math.sqrt(i.length)),a.plotY-=(a.plotY-o)*t/(a.mass*Math.sqrt(i.length)))},getK:t,integrate:e.integrate,repulsive:function(t,e,i,s){var o=e*this.diffTemperature/t.mass/t.degree;e=i.x*o,i=i.y*o,t.fixedPosition||(t.plotX+=e,t.plotY+=i),s.fixedPosition||(s.plotX-=e,s.plotY-=i)},repulsiveForceFunction:function(t,e,i,s){return Math.min(t,(i.marker.radius+s.marker.radius)/2)}}}),e(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(t,e,i,s){var o=t.getMass(),a=i.x/s*e;e*=i.y/s,t.fromNode.fixedPosition||(t.fromNode.dispX-=a*o.fromNode/t.fromNode.degree,t.fromNode.dispY-=e*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=a*o.toNode/t.toNode.degree,t.toNode.dispY+=e*o.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){const i=this.options.gravitationalConstant,s=this.barycenter.xFactor,o=this.barycenter.yFactor;this.nodes.forEach(function(t){var e;t.fixedPosition||(e=t.getDegree(),e*=1+e/2,t.dispX+=(s-t.plotX)*i*e/t.degree,t.dispY+=(o-t.plotY)*i*e/t.degree)})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){var i;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,0!==(i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}))&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,i,s){t.dispX+=i.x/s*e/t.degree,t.dispY+=i.y/s*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}}),e(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){return class i{constructor(t){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}divideBox(){var t=this.box.width/2,e=this.box.height/2;this.nodes[0]=new i({left:this.box.left,top:this.box.top,width:t,height:e}),this.nodes[1]=new i({left:this.box.left+t,top:this.box.top,width:t,height:e}),this.nodes[2]=new i({left:this.box.left+t,top:this.box.top+e,width:t,height:e}),this.nodes[3]=new i({left:this.box.left,top:this.box.top+e,width:t,height:e})}getBoxPosition(t){var e=t.plotY<this.box.top+this.box.height/2;return t.plotX<this.box.left+this.box.width/2?e?0:3:e?1:2}insert(t,e){this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):((e=new i({top:t.plotX||NaN,left:t.plotY||NaN,width:.1,height:.1})).body=t,e.isInternal=!1,this.nodes.push(e)):(this.isInternal=!1,this.body=t))}updateMassAndCenter(){let t=0,e=0,i=0;if(this.isInternal){for(const s of this.nodes)s.isEmpty||(t+=s.mass,e+=s.plotX*s.mass,i+=s.plotY*s.mass);e/=t,i/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,i=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=i}}}),e(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(o){return class{constructor(t,e,i,s){this.box={left:t,top:e,width:i,height:s},this.maxDepth=25,this.root=new o(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}insertNodes(t){for(const e of t)this.root.insert(e,this.maxDepth)}visitNodeRecursive(t,e,i){let s;if(t=t||this.root,!1!==(s=t===this.root&&e?e(t):s)){for(const o of t.nodes){if(o.isInternal){if(!1===(s=e?e(o):s))continue;this.visitNodeRecursive(o,e,i)}else o.body&&e&&e(o.body);i&&i(o)}t===this.root&&i&&i(t)}}}}),e(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(e,t,i,s,o,a){const r=t["win"],{clamp:n,defined:l,isFunction:h,fireEvent:p,pick:d}=o;return class c{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(t){i.compose(t),i.integrations.euler=e,i.integrations.verlet=a,i.layouts["reingold-fruchterman"]=c}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=d(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=d(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=d(t,this.options.enableSimulation)}start(){const t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach(function(t){t.finishedAnimating=!0,t.render()})),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()}step(){const t=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const t of this.forces||[])this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const e of t)e.chart&&e.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&r.cancelAnimationFrame(this.simulation),this.simulation=r.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(t=>{p(t,"afterSimulation")}))}}stop(){this.simulation&&r.cancelAnimationFrame(this.simulation)}setArea(t,e,i,s){this.box={left:t,top:e,width:i,height:s}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,e){for(const i of t)-1===e.indexOf(i)&&e.push(i)}removeElementFromCollection(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=d(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new s(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const t=this.options.initialPositions;if(h(t)){t.call(this);for(const t of this.nodes)l(t.prevX)||(t.prevX=t.plotX),l(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}else"circle"===t?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const i=this.box;var s=this.nodes;const o=2*Math.PI/(s.length+1),t=s.filter(function(t){return 0===t.linksTo.length}),a={},r=this.options.initialPositionRadius,n=t=>{for(const e of t.linksFrom||[])a[e.toNode.id]||(a[e.toNode.id]=!0,l.push(e.toNode),n(e.toNode))};let l=[];for(const i of t)l.push(i),n(i);if(l.length)for(const i of s)-1===l.indexOf(i)&&l.push(i);else l=s;for(let t=0,e=l.length;t<e;++t)(s=l[t]).plotX=s.prevX=d(s.plotX,i.width/2+r*Math.cos(t*o)),s.plotY=s.prevY=d(s.plotY,i.height/2+r*Math.sin(t*o)),s.dispX=0,s.dispY=0}setRandomPositions(){var i=this.box,s=this.nodes,o=s.length+1,a=t=>(t=t*t/Math.PI)-Math.floor(t);let r;for(let t=0,e=s.length;t<e;++t)(r=s[t]).plotX=r.prevX=d(r.plotX,i.width*a(t)),r.plotY=r.prevY=d(r.plotY,i.height*a(o+t)),r.dispX=0,r.dispY=0}force(t,...e){this.integration[t].apply(this,e)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,e=0,i=0;for(const s of this.nodes)e+=s.plotX*s.mass,i+=s.plotY*s.mass,t+=s.mass;return this.barycenter={x:e,y:i,xFactor:e/t,yFactor:i/t}}barnesHutApproximation(t,e){var i=this.getDistXY(t,e),s=this.vectorLength(i);let o,a;return t!==e&&0!==s&&(e.isInternal?o=!(e.boxSize/s<this.options.theta&&0!==s&&(a=this.repulsiveForce(s,this.k),this.force("repulsive",t,a*e.mass,i,s),1)):(a=this.repulsiveForce(s,this.k),this.force("repulsive",t,a*e.mass,i,s))),o}repulsiveForces(){var t,e,i;if("barnes-hut"===this.approximation)for(const s of this.nodes)this.quadTree.visitNodeRecursive(null,t=>this.barnesHutApproximation(s,t));else for(const o of this.nodes)for(const a of this.nodes)o===a||o.fixedPosition||(i=this.getDistXY(o,a),e=this.vectorLength(i),0!==e&&(t=this.repulsiveForce(e,this.k),this.force("repulsive",o,t*a.mass,i,e)))}attractiveForces(){var t,e,i;for(const s of this.links)s.fromNode&&s.toNode&&(t=this.getDistXY(s.fromNode,s.toNode),e=this.vectorLength(t),0!==e&&(i=this.attractiveForce(e,this.k),this.force("attractive",s,i,t,e)))}applyLimits(){for(const t of this.nodes){if(t.fixedPosition)break;this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0}}applyLimitBox(t,e){var i=t.radius;t.plotX=n(t.plotX,e.left+i,e.width-i),t.plotY=n(t.plotY,e.top+i,e.height-i)}coolDown(t,e,i){return t-e*i}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let t=0;for(const e of this.nodes)t+=e.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,e){return t=this.getDistXY(t,e),this.vectorLength(t)}getDistXY(t,e){var i=t.plotX-e.plotX;return{x:i,y:t=t.plotY-e.plotY,absX:Math.abs(i),absY:Math.abs(t)}}}}),e(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(e,i,s,o){function a(){const e=[];return this.series.forEach(t=>{t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)}),e}function r(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:n,pick:l}=o,h=[];class p extends s{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(t){s.compose(t),e.integrations.packedbubble=i,e.layouts.packedbubble=p,o.pushUnique(h,t)&&(n(t,"beforeRedraw",r),t.prototype.getSelectedParentNodes=a)}beforeStep(){this.options.marker&&this.series.forEach(t=>{t&&t.calculateParentRadius()})}isStable(){var t=Math.abs(this.prevSystemTemperature-this.systemTemperature);return Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))<1&&t<1e-5||this.temperature<=0}setCircularPositions(){var t=this.box,e=this.nodes,i=2*Math.PI/(e.length+1),s=this.options.initialPositionRadius;let o,a=0;for(const r of e)o=this.options.splitSeries&&!r.isParentNode?(e=r.series.parentNode.plotX,r.series.parentNode.plotY):(e=t.width/2,t.height/2),r.plotX=r.prevX=l(r.plotX,e+s*Math.cos(r.index||a*i)),r.plotY=r.prevY=l(r.plotY,o+s*Math.sin(r.index||a*i)),r.dispX=0,r.dispY=0,a++}repulsiveForces(){const i=this,s=i.options.bubblePadding;let o,a,r;i.nodes.forEach(e=>{e.degree=e.mass,e.neighbours=0,i.nodes.forEach(t=>{o=0,e===t||e.fixedPosition||!i.options.seriesInteraction&&e.series!==t.series||(r=i.getDistXY(e,t),(a=i.vectorLength(r)-(e.marker.radius+t.marker.radius+s))<0&&(e.degree+=.01,e.neighbours++,o=i.repulsiveForce(-a/Math.sqrt(e.neighbours),i.k,e,t)),i.force("repulsive",e,o*t.mass,r,t,a))})})}applyLimitBox(t,e){var i,s;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(i=this.getDistXY(t,t.series.parentNode),(s=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(i))<0&&s>-2*t.marker.radius&&(t.plotX-=.01*i.x,t.plotY-=.01*i.y)),super.applyLimitBox(t,e)}}return e.layouts.packedbubble=p}),e(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(t,e){const i=t["syncTimeout"],s=e["animObject"];return{initDataLabels:function(){var t=this.options.dataLabels;if(this.dataLabelsGroup)return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup;{const e=this.initDataLabelsGroup();return!this.chart.styledMode&&null!=t&&t.style&&e.css(t.style),e.attr({opacity:0}),this.visible&&e.show(),e}},initDataLabelsDefer:function(){var t,e=this.options.dataLabels;null!=e&&e.defer&&null!=(t=this.options.layoutAlgorithm)&&t.enableSimulation?i(()=>{this.deferDataLabels=!1},e?s(e.animation).defer:0):this.deferDataLabels=!1}}}),e(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(t,a,r,e,i,s,o,n,l,h,p){const d=t["parse"],{series:{prototype:c},seriesTypes:{bubble:u}}=(t=e["noop"],n),{initDataLabels:g,initDataLabelsDefer:b}=l,{addEvent:f,clamp:m,defined:y,extend:x,fireEvent:v,isArray:P,isNumber:S,merge:M,pick:L}=h;class k extends u{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(t,e,i,s){u.compose(t,e,i,s),a.compose(e),o.compose(e)}accumulateAllPoints(){const t=this.chart,e=[];var i;for(const s of t.series)if(s.is("packedbubble")&&s.visible||!t.options.chart.ignoreHiddenSeries){i=s.yData||[];for(let t=0;t<i.length;t++)e.push([null,null,i[t],s.index,t,{id:t,marker:{radius:0}}])}return e}addLayout(){const t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},e=t.type||"packedbubble",i=this.chart.options.chart;let s=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup,a;s||(this.chart.graphLayoutsStorage=s={},this.chart.graphLayoutsLookup=o=[]),(a=s[e])||(t.enableSimulation=y(i.forExport)?!i.forExport:t.enableSimulation,s[e]=a=new r.layouts[e],a.init(t),o.splice(a.index,0,a)),this.layout=a,this.points.forEach(t=>{t.mass=2,t.degree=1,t.collisionNmb=1}),a.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),a.addElementsToCollection([this],a.series),a.addElementsToCollection(this.points,a.nodes)}addSeriesLayout(){var t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const e=t.type||"packedbubble",i=this.chart.graphLayoutsStorage,s=this.chart.graphLayoutsLookup;t=M(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let o=i[e+"-series"];o||(i[e+"-series"]=o=new r.layouts[e],o.init(t),s.splice(o.index,0,o)),this.parentNodeLayout=o,this.createParentNodes()}calculateParentRadius(){var t=this.seriesBox();this.parentNodeRadius=m(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let t=this.options.zMin,e=this.options.zMax,i=1/0,s=-1/0;return t&&e||(this.chart.series.forEach(t=>{t.yData.forEach(t=>{y(t)&&(t>s&&(s=t),t<i&&(i=t))})}),t=L(t,i),e=L(e,s)),[t,e]}checkOverlap(t,e){var i=t[0]-e[0],s=t[1]-e[1];return Math.sqrt(i*i+s*s)-Math.abs(t[2]+e[2])<-.001}createParentNodes(){const t=this.pointClass,e=this.chart,i=this.parentNodeLayout,s=this.layout.options;let o,a=this.parentNode,r={radius:this.parentNodeRadius,lineColor:this.color,fillColor:d(this.color).brighten(.4).get()};s.parentNodeOptions&&(r=M(s.parentNodeOptions.marker||{},r)),this.parentNodeMass=0,this.points.forEach(t=>{this.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)}),this.calculateParentRadius(),i.nodes.forEach(t=>{t.seriesIndex===this.index&&(o=!0)}),i.setArea(0,0,e.plotWidth,e.plotHeight),o||(a=a||(new t).init(this,{mass:this.parentNodeRadius/2,marker:r,dataLabels:{inside:!1},states:{normal:{marker:r},hover:{marker:r}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index}),this.parentNode&&(a.plotX=this.parentNode.plotX,a.plotY=this.parentNode.plotY),this.parentNode=a,i.addElementsToCollection([this],i.series),i.addElementsToCollection([a],i.nodes))}deferLayout(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(t=>{t.removeElementFromCollection(this,t.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),c.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(c.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",c.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var t,e,i;this.layout&&this.layout.options.splitSeries&&(t=this.chart,e={fill:(e=this.layout.options.parentNodeOptions.marker).fillColor||d(this.color).brighten(.4).get(),opacity:e.fillOpacity,stroke:e.lineColor||this.color,"stroke-width":L(e.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,t.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),i=M({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},e),this.parentNode.graphic||(this.graph=this.parentNode.graphic=t.renderer.symbol(e.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(i))}drawTracker(){const e=this.parentNode;let t;super.drawTracker(),e&&(t=P(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach(t=>{t.div?t.div.point=e:t.element.point=e}))}getPointRadius(){const t=this.chart,s=this.options,i=s.useSimulation,o=Math.min(t.plotWidth,t.plotHeight),a={},r=[],n=t.allDataPoints||[],l=n.length;let h,p,d,c;["minSize","maxSize"].forEach(t=>{var e=parseInt(s[t],10),i=/%$/.test(s[t]);a[t]=i?o*e/100:e*Math.sqrt(l)}),t.minRadius=h=a.minSize/Math.sqrt(l),t.maxRadius=p=a.maxSize/Math.sqrt(l);const u=i?this.calculateZExtremes():[h,p];n.forEach((t,e)=>{d=i?m(t[2],u[0],u[1]):t[2],0===(c=this.getRadius(u[0],u[1],h,p,d))&&(c=null),n[e][2]=c,r.push(c)}),this.radii=r}init(){return c.init.apply(this,arguments),b.call(this),this.eventsToUnbind.push(f(this,"updatedData",function(){this.chart.series.forEach(t=>{t.type===this.type&&(t.isDirty=!0)},this)})),this}onMouseUp(s){const o=s;if(o.fixedPosition&&!o.removed){const s=this.layout,t=this.parentNodeLayout;let e,i;t&&s.options.dragBetweenSeries&&t.nodes.forEach(t=>{o&&o.marker&&t!==o.series.parentNode&&(e=s.getDistXY(o,t),(i=s.vectorLength(e)-t.marker.radius-o.marker.radius)<0&&(t.series.addPoint(M(o.options,{plotX:o.plotX,plotY:o.plotY}),!1),s.removeElementFromCollection(o,s.nodes),o.remove()))}),a.onMouseUp.apply(this,arguments)}}placeBubbles(t){const e=this.checkOverlap,i=this.positionBubble,s=[];let o=1,a=0,r=0;var n=[];let l;if((t=t.sort((t,e)=>e[2]-t[2])).length){if(s.push([[0,0,t[0][2],t[0][3],t[0][4]]]),1<t.length)for(s.push([[0,0-t[1][2]-t[0][2],t[1][2],t[1][3],t[1][4]]]),l=2;l<t.length;l++)t[l][2]=t[l][2]||1,n=i(s[o][a],s[o-1][r],t[l]),e(n,s[o][0])?(s.push([]),r=0,s[o+1].push(i(s[o][a],s[o][0],t[l])),o++,a=0):1<o&&s[o-1][r+1]&&e(n,s[o-1][r+1])?(r++,s[o].push(i(s[o][a],s[o-1][r],t[l])),a++):(a++,s[o].push(n));this.chart.stages=s,this.chart.rawPositions=[].concat.apply([],s),this.resizeRadius(),n=this.chart.rawPositions}return n}pointAttribs(t,e){var i=this.options;let s=i.marker;return i=(s=t&&t.isParentNode&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions?i.layoutAlgorithm.parentNodeOptions.marker:s).fillOpacity,t=c.pointAttribs.call(this,t,e),1!==i&&(t["fill-opacity"]=i),t}positionBubble(t,e,i){var s=Math.sqrt,o=Math.asin,a=Math.acos;const r=Math.pow,n=Math.abs;return s=s(r(t[0]-e[0],2)+r(t[1]-e[1],2)),a=a((r(s,2)+r(i[2]+e[2],2)-r(i[2]+t[2],2))/(2*(i[2]+e[2])*s)),o=o(n(t[0]-e[0])/s),t=(t[1]-e[1]<0?0:Math.PI)+a+o*((t[0]-e[0])*(t[1]-e[1])<0?1:-1),[e[0]+(e[2]+i[2])*Math.sin(t),e[1]-(e[2]+i[2])*Math.cos(t),i[2],i[3],i[4]]}render(){const e=[];c.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(t=>{P(t.dataLabels)&&t.dataLabels.forEach(t=>{e.push(t)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){const t=this.chart,e=t.rawPositions;var i=Math.min,s=Math.max,o=t.plotLeft,a=t.plotTop,r=t.plotHeight,n=t.plotWidth;let l,h,p,d,c;l=p=Number.POSITIVE_INFINITY,h=d=Number.NEGATIVE_INFINITY;for(const t of e)c=t[2],l=i(l,t[0]-c),h=s(h,t[0]+c),p=i(p,t[1]-c),d=s(d,t[1]+c);if(s=[h-l,d-p],i=i.apply([],[(n-o)/s[0],(r-a)/s[1]]),1e-10<Math.abs(i-1)){for(const t of e)t[2]*=i;this.placeBubbles(e)}else t.diffY=r/2+a-p-(d-p)/2,t.diffX=n/2+o-l-(h-l)/2}seriesBox(){const t=this.chart,e=Math.max,i=Math.min,s=[t.plotLeft,t.plotLeft+t.plotWidth,t.plotTop,t.plotTop+t.plotHeight];let o;return this.data.forEach(t=>{y(t.plotX)&&y(t.plotY)&&t.marker.radius&&(o=t.marker.radius,s[0]=i(s[0],t.plotX-o),s[1]=e(s[1],t.plotX+o),s[2]=i(s[2],t.plotY-o),s[3]=e(s[3],t.plotY+o))}),S(s.width/s.height)?s:null}setVisible(){const e=this;c.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(t=>{e.layout.removeElementFromCollection(t,e.layout.nodes)}))}translate(){const t=this.chart,e=this.data,i=this.index,s=this.options.useSimulation;var o,a;this.processedXData=this.xData,this.generatePoints(),y(t.allDataPoints)||(t.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),s?a=t.allDataPoints:(a=this.placeBubbles(t.allDataPoints),this.options.draggable=!1);for(const r of a)r[3]===i&&(a=e[r[4]],o=L(r[2],void 0),s||(a.plotX=r[0]-t.plotLeft+t.diffX,a.plotY=r[1]-t.plotTop+t.diffY),S(o)&&(a.marker=x(a.marker,{radius:o,width:2*o,height:2*o}),a.radius=o));s&&this.deferLayout(),v(this,"afterTranslate")}}return k.defaultOptions=M(u.defaultOptions,s),x(k.prototype,{pointClass:i,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:g,alignDataLabel:c.alignDataLabel,indexateNodes:t,onMouseDown:a.onMouseDown,onMouseMove:a.onMouseMove,redrawHalo:a.redrawHalo,searchPoint:t}),n.registerSeriesType("packedbubble",k),k}),e(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){t=t.noop;const{series:s,seriesTypes:{area:o,line:a,scatter:r}}=e,{extend:n,merge:l}=i;class h extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let t=a.prototype.getGraphPath.call(this),e=t.length+1;for(;e--;)(e===t.length||"M"===t[e][0])&&0<e&&t.splice(e,0,["Z"]);return this.areaPath=t}drawGraph(){this.options.fillColor=this.color,o.prototype.drawGraph.call(this)}}return h.defaultOptions=l(r.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),n(h.prototype,{type:"polygon",drawTracker:s.prototype.drawTracker,setStackedPoints:t}),e.registerSeriesType("polygon",h),h}),e(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(o,t){const{addEvent:i,objectEach:a}=t;var e;{function s(){const t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function r(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function n(){let t=this.axes,e=this.series,i=e.length;for(;i--;)e[i].options.stacking&&(t.forEach(function(t){t.isXAxis||(t.waterfall.stacks.changed=!0)}),i=0)}function l(){this.waterfall||(this.waterfall=new h(this))}class h{constructor(t){this.axis=t,this.stacks={changed:!1}}renderStackTotals(){const t=this.axis,e=t.waterfall.stacks,i=t.stacking&&t.stacking.stackTotalGroup,s=new o(t,t.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=s,i&&a(e,function(t){a(t,function(t,e){s.total=t.stackTotal,s.x=+e,t.label&&(s.label=t.label),o.prototype.render.call(s,i),t.label=s.label,delete s.label})}),s.total=null}}(t=e=e||{}).Composition=h,t.compose=function(t,e){i(t,"init",l),i(t,"afterBuildStacks",s),i(t,"afterRender",r),i(e,"beforeRedraw",n)}}return e}),e(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,e,i){const s=i["isNumber"];class o extends t.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let t=e.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t}isValid(){return s(this.y)||this.isSum||!!this.isIntermediateSum}}return o}),e(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(t,e,i,s,o,a){const{column:r,line:n}=i["seriesTypes"],{addEvent:l,arrayMax:h,arrayMin:p,correctFloat:u,extend:b,isNumber:f,merge:m,objectEach:d,pick:y}=s;class c extends r{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){r.prototype.generatePoints.apply(this);for(let t=0,e=this.points.length;t<e;t++){const i=this.points[t],s=this.processedYData[t];f(s)&&(i.isIntermediateSum||i.isSum)&&(i.y=u(s))}}processData(t){let e=this.options,i=this.yData,s=e.data,o,a=i.length,r=e.threshold||0,n,l,h,p,d,c;for(c=l=n=h=p=0;c<a;c++)d=i[c],o=s&&s[c]?s[c]:{},"sum"===d||o.isSum?i[c]=u(l):"intermediateSum"===d||o.isIntermediateSum?(i[c]=u(n),n=0):(l+=d,n+=d),h=Math.min(l,h),p=Math.max(l,p);super.processData.call(this,t),e.stacking||(this.dataMin=h+r,this.dataMax=p)}toYData(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y}updateParallelArrays(t,e){super.updateParallelArrays.call(this,t,e),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)}pointAttribs(t,e){var i=this.options.upColor;return i&&!t.options.color&&f(t.y)&&(t.color=0<t.y?i:void 0),delete(t=r.prototype.pointAttribs.call(this,t,e)).dashstyle,t}getGraphPath(){return[["M",0,0]]}getCrispPath(){let e=this.data.filter(t=>f(t.y)),i=this.yAxis,s=e.length,o=Math.round(this.graph.strokeWidth())%2/2,a=Math.round(this.borderWidth)%2/2,r=this.xAxis.reversed,n=this.yAxis.reversed,l=this.options.stacking,h=[];for(let t=1;t<s;t++)if(this.options.connectNulls||f(this.data[e[t].index-1].y)){var p,d,c=e[t].box,u=e[t-1];const s=u.y||0,g=e[t-1].box;c&&g&&(p=i.waterfall.stacks[this.stackKey],d=0<s?-g.height:0,p&&g&&c&&(p=p[t-1],u=l?Math.round(i.translate(p.connectorThreshold,!1,!0,!1,!0)+(n?d:0))-o:g.y+u.minPointLengthOffset+a-o,h.push(["M",(g.x||0)+(!r&&g.width||0),u],["L",(c.x||0)+(r&&c.width||0),u])),g&&h.length&&(!l&&s<0&&!n||0<s&&n)&&((c=h[h.length-2])&&"number"==typeof c[2]&&(c[2]+=g.height||0),(c=h[h.length-1])&&"number"==typeof c[2]&&(c[2]+=g.height||0)))}return h}drawGraph(){n.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function e(t,e,i,s){if(h){if(u)for(;i<u;i++)h.stackState[i]+=s;else h.stackState[0]=t,u=h.stackState.length;h.stackState.push(h.stackState[u-1]+e)}}let i=this.options,t=this.yAxis.waterfall.stacks,s=i.threshold||0,o=s,a=o,r=this.stackKey,n=this.xData,l=n.length,h,p,d,c,u;var g,b,f,m;let y;if(this.yAxis.stacking.usePercentage=!1,p=d=c=o,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(y=t.changed,(m=t.alreadyChanged)&&m.indexOf(r)<0&&(y=!0),t[r]||(t[r]={}),m=t[r])for(let t=0;t<l;t++){var x=n[t];m[x]&&!y||(m[x]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:y&&m[x]?m[x].label:void 0}),h=m[x],0<=(f=this.yData[t])?h.posTotal+=f:h.negTotal+=f,b=i.data[t],x=h.absolutePos=h.posTotal,g=h.absoluteNeg=h.negTotal,h.stackTotal=x+g,u=h.stackState.length,b&&b.isIntermediateSum?(e(c,d,0,c),c=d,d=s,o^=a,a^=o,o^=a):b&&b.isSum?(e(s,p,u,0),o=s):(e(o,f,0,p),b&&(p+=f,d+=f)),h.stateIndex++,h.threshold=o,o+=h.stackTotal}t.changed=!1,t.alreadyChanged||(t.alreadyChanged=[]),t.alreadyChanged.push(r)}}getExtremes(){var t,e=this.options.stacking;let i,s;return e?(t=(t=this.yAxis).waterfall.stacks,i=this.stackedYNeg=[],s=this.stackedYPos=[],"overlap"===e?d(t[this.stackKey],function(t){i.push(p(t.stackState)),s.push(h(t.stackState))}):d(t[this.stackKey],function(t){i.push(t.negTotal+t.threshold),s.push(t.posTotal+t.threshold)}),{dataMin:p(i),dataMax:h(s)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return c.defaultOptions=m(r.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),l(c,"afterColumnTranslate",function(){const{options:t,points:e,yAxis:i}=this,s=y(t.minPointLength,5),o=s/2,a=t.threshold||0,r=t.stacking,n=i.waterfall.stacks[this.stackKey];let l=a,h=a;for(let t=0;t<e.length;t++){const g=e[t];var p=this.processedYData[t];const y=b({x:0,y:0,width:0,height:0},g.shapeArgs||{});g.box=y;var d,c=[0,p],u=g.y||0;r?n&&(c=n[t],"overlap"===r?(d=c.stackState[c.stateIndex--],d=0<=u?d:d-u,Object.hasOwnProperty.call(c,"absolutePos")&&delete c.absolutePos,Object.hasOwnProperty.call(c,"absoluteNeg")&&delete c.absoluteNeg):(0<=u?(d=c.threshold+c.posTotal,c.posTotal-=u):(d=c.threshold+c.negTotal,c.negTotal-=u,d-=u),!c.posTotal&&f(c.absolutePos)&&Object.hasOwnProperty.call(c,"absolutePos")&&(c.posTotal=c.absolutePos,delete c.absolutePos),!c.negTotal&&f(c.absoluteNeg)&&Object.hasOwnProperty.call(c,"absoluteNeg")&&(c.negTotal=c.absoluteNeg,delete c.absoluteNeg)),g.isSum||(c.connectorThreshold=c.threshold+c.stackTotal),i.reversed?p=0<=u?d-u:d+u:(p=d,d-=u),g.below=p<=a,y.y=i.translate(p,!1,!0,!1,!0),y.height=Math.abs(y.y-i.translate(d,!1,!0,!1,!0)),(d=i.waterfall.dummyStackItem)&&(d.x=t,d.label=n[t].label,d.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[t],this.stackedYPos[t],void 0,this.xAxis))):(d=Math.max(h,h+u)+c[0],y.y=i.translate(d,!1,!0,!1,!0),g.isSum?(y.y=i.translate(c[1],!1,!0,!1,!0),y.height=Math.min(i.translate(c[0],!1,!0,!1,!0),i.len)-y.y,g.below=c[1]<=a):g.isIntermediateSum?(d=0<=u?(p=c[1]+l,l):(p=l,c[1]+l),i.reversed&&(p=(p^=d)^(d^=p)),y.y=i.translate(p,!1,!0,!1,!0),y.height=Math.abs(y.y-Math.min(i.translate(d,!1,!0,!1,!0),i.len)),l+=c[1],g.below=p<=a):(y.height=0<p?i.translate(h,!1,!0,!1,!0)-y.y:i.translate(h,!1,!0,!1,!0)-i.translate(h-p,!1,!0,!1,!0),h+=p,g.below=h<a),y.height<0&&(y.y+=y.height,y.height*=-1)),g.plotY=y.y=Math.round(y.y||0)-this.borderWidth%2/2,y.height=Math.max(Math.round(y.height||0),.001),g.yBottom=y.y+y.height,y.height<=s&&!g.isNull?(y.height=s,y.y-=o,g.plotY=y.y,g.minPointLengthOffset=u<0?-o:o):(g.isNull&&(y.width=0),g.minPointLengthOffset=0),u=g.plotY+(g.negative?y.height:0),g.below&&(g.plotY+=y.height),g.tooltipPos&&(this.chart.inverted?g.tooltipPos[0]=i.len-u:g.tooltipPos[1]=u),g.isInside=this.isPointInside(g),m(!0,g.shapeArgs,y)}},{order:2}),b(c.prototype,{getZonesGraphs:n.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:a}),i.registerSeriesType("waterfall",c),o.compose(t,e),c}),e(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(h,t,e,i){const s=t["defaultOptions"],p=e["noop"],{addEvent:o,correctFloat:a,defined:m,extend:r,fireEvent:n,merge:d,pick:y,relativeLength:x,wrap:l}=i;var c;{function u(){this.autoConnect=this.isCircular&&void 0===y(this.userMax,this.options.max)&&a(this.endAngleRad-this.startAngleRad)===a(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function g(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(t=>this.ticks[t]&&this.ticks[t].label).filter(t=>!!t)}}function b(){return p}function f(t,e,i){var s,o=this.pane.center;let a=t.value,r;return this.isCircular?(m(a)?t.point&&(s=t.point.shapeArgs||{}).start&&(a=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x):(s=t.chartX||0,r=t.chartY||0,a=this.translate(Math.atan2(r-i,s-e)-this.startAngleRad,!0)),s=(t=this.getPosition(a)).x,r=t.y):(m(a)||(s=t.chartX,r=t.chartY),m(s)&&m(r)&&(i=o[1]+this.chart.plotTop,a=this.translate(Math.min(Math.sqrt(Math.pow(s-e,2)+Math.pow(r-i,2)),o[2]/2)-o[3]/2,!0))),[a,s||0,r||0]}function v(t,e,i){t=this.pane.center;var s=this.chart,o=this.left||0,a=this.top||0;let r=y(e,t[2]/2-this.offset);return(i=void 0===i?this.horiz?0:this.center&&-this.center[3]/2:i)&&(r+=i),this.isCircular||void 0!==e?((e=this.chart.renderer.symbols.arc(o+t[0],a+t[1],r,r,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[o+t[0]],e.yBounds=[a+t[1]-r]):(e=this.postTranslate(this.angleRad,r),e=[["M",this.center[0]+s.plotLeft,this.center[1]+s.plotTop],["L",e.x,e.y]]),e}function P(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function S(t,e,i){const s=this.chart;var o=e=>{if("string"!=typeof e)return e;{let t=parseInt(e,10);return t=d.test(e)?t*n/100:t}},a=this.center,r=this.startAngleRad;const n=a[2]/2;var l=Math.min(this.offset,0),h=this.left||0;const p=this.top||0,d=/%$/;var c=this.isCircular;let u,g=y(o(i.outerRadius),n),b=o(i.innerRadius);return o=y(o(i.thickness),10),"polygon"===this.options.gridLineInterpolation?l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0})):(t=Math.max(t,this.min),e=Math.min(e,this.max),t=this.translate(t),e=this.translate(e),c||(g=t||0,b=e||0),"circle"!==i.shape&&c?(i=r+(t||0),r+=e||0):(i=-Math.PI/2,r=1.5*Math.PI,u=!0),g-=l,l=s.renderer.symbols.arc(h+a[0],p+a[1],g,g,{start:Math.min(i,r),end:Math.max(i,r),innerR:y(b,g-(o-l)),open:u}),c&&(c=(r+i)/2,h=h+a[0]+a[2]/2*Math.cos(c),l.xBounds=c>-Math.PI/2&&c<Math.PI/2?[h,s.plotWidth]:[0,h],l.yBounds=[p+a[1]+a[2]/2*Math.sin(c)],l.yBounds[0]+=c>-Math.PI&&c<0||c>Math.PI?-10:10)),l}function M(t){var e=this.pane.center,i=this.chart,s=i.inverted,o=t.reverse,a=(d=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{}).innerRadius||"0%",r=d.outerRadius||"100%",n=e[0]+i.plotLeft,l=e[1]+i.plotTop,h=this.height,p=t.isCrosshair,d=e[3]/2,c=t.value;let u;var g=this.getPosition(c);let b=g.x;if(g=g.y,p&&(c=(g=this.getCrosshairPosition(t,n,l))[0],b=g[1],g=g[2]),this.isCircular)c=Math.sqrt(Math.pow(b-n,2)+Math.pow(g-l,2)),o="string"==typeof a?x(a,1):a/c,i="string"==typeof r?x(r,1):r/c,e&&d&&(o<(d/=c)&&(o=d),i<d&&(i=d)),e=[["M",n+o*(b-n),l-o*(l-g)],["L",b-(1-i)*(b-n),g+(1-i)*(l-g)]];else if((c=this.translate(c))&&(c<0||h<c)&&(c=0),"circle"===this.options.gridLineInterpolation)e=this.getLinePath(0,c,d);else if(e=[],i[s?"yAxis":"xAxis"].forEach(t=>{t.pane===this.pane&&(u=t)}),u)for(n=u.tickPositions,u.autoConnect&&(n=n.concat([n[0]])),o&&(n=n.slice().reverse()),c&&(c+=d),l=0;l<n.length;l++)d=u.getPosition(n[l],c),e.push(l?["L",d.x,d.y]:["M",d.x,d.y]);return e}function L(t,e){return t=this.translate(t),this.postTranslate(this.isCircular?t:this.angleRad,y(this.isCircular?e:t<0?0:t,this.center[2]/2)-this.offset)}function k(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}function C(t){t.beforeSetTickPositions=u,t.createLabelCollector=g,t.getCrosshairPosition=f,t.getLinePath=v,t.getOffset=P,t.getPlotBandPath=S,t.getPlotLinePath=M,t.getPosition=L,t.getTitlePosition=k,t.postTranslate=B,t.setAxisSize=O,t.setAxisTranslation=G,t.setOptions=U}function A(){var t=this.chart,e=this.options,i=this.pane,s=i&&i.options;t.angular&&this.isXAxis||!i||!t.angular&&!t.polar||(t=2*Math.PI,i=(y(s.startAngle,0)-90)*Math.PI/180,s=(y(s.endAngle,y(s.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=i,this.endAngleRad=s,this.offset=e.offset||0,s=(s%t+t)%t,(e=(i%t+t)%t)>Math.PI&&(e-=t),s>Math.PI&&(s-=t),this.normalizedStartAngleRad=e,this.normalizedEndAngleRad=s)}function w(t){this.isRadial&&(t.align=void 0,t.preventDefault())}function N(){var t;this.chart&&this.chart.labelCollectors&&(0<=(t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1)&&this.chart.labelCollectors.splice(t,1))}function T(t){const e=this.chart,i=e.inverted,s=e.angular,o=e.polar,a=this.isXAxis,r=this.coll,n=s&&a;t=t.userOptions.pane||0,t=this.pane=e.pane&&e.pane[t];let l;"colorAxis"===r?this.isRadial=!1:(s?(n?(this.isHidden=!0,this.createLabelCollector=b,this.getOffset=p,this.render=this.redraw=z,this.setTitle=this.setCategories=this.setScale=p):C(this),(l=!a)&&(this.defaultPolarOptions=I)):o&&(C(this),this.defaultPolarOptions=(l=this.horiz)?R:d("xAxis"===r?h.defaultXAxisOptions:h.defaultYAxisOptions,j),i&&"yAxis"===r&&(this.defaultPolarOptions.stackLabels=h.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),s||o?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&e.labelCollectors.push(this.labelCollector)):this.isRadial=!1,t&&l&&(t.axis=this),this.isCircular=l)}function X(){this.isRadial&&this.beforeSetTickPositions()}function E(t){const e=this.label;var i,s,o,a,r,n,l,h,p,d,c,u,g,b,f;e&&(i=this.axis,s=e.getBBox(),o=i.options.labels,a=(i.translate(this.pos)+i.startAngleRad+Math.PI/2)/Math.PI*180%360,r=Math.round(a),n=m(o.y)?0:.3*-s.height,l=o.y,h=20,p=o.align,d="end",u=c=r<0?r+360:r,b=g=0,i.isRadial&&(f=i.getPosition(this.pos,i.center[2]/2+x(y(o.distance,-25),i.center[2]/2,-i.center[2]/2)),"auto"===o.rotation?e.attr({rotation:a}):m(l)||(l=i.chart.renderer.fontMetrics(e).b-s.height/2),m(p)||(p=i.isCircular?(h=s.width>i.len*i.tickInterval/(i.max-i.min)?0:h)<a&&a<180-h?"left":180+h<a&&a<360-h?"right":"center":"center",e.attr({align:p})),"auto"===p&&2===i.tickPositions.length&&i.isCircular&&(90<c&&c<180?c=180-c:270<c&&c<=360&&(c=540-c),i.pane.options.startAngle!==r&&i.pane.options.startAngle!==r+360&&i.pane.options.startAngle!==r-360||(d="start"),p=-90<=r&&r<=90||-360<=r&&r<=-270||270<=r&&r<=360?"start"===d?"right":"left":"start"===d?"left":"right",70<(u=180<u&&u<=360?360-u:u)&&u<110&&(p="center"),c<15||180<=c&&c<195?g=.3*s.height:15<=c&&c<=35?g="start"===d?0:.75*s.height:195<=c&&c<=215?g="start"===d?.75*s.height:0:35<c&&c<=90?g="start"===d?.25*-s.height:s.height:215<c&&c<=270&&(g="start"===d?s.height:.25*-s.height),u<15?b="start"===d?.15*-s.height:.15*s.height:165<u&&u<=180&&(b="start"===d?.15*s.height:.15*-s.height),e.attr({align:p}),e.translate(b,g+n)),t.pos.x=f.x+(o.x||0),t.pos.y=f.y+(l||0)))}function D(t){this.axis.getPosition&&r(t.pos,this.axis.getPosition(this.pos))}function B(t,e){var i=this.chart,s=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+s[0]+Math.cos(t)*e,y:i.plotTop+s[1]+Math.sin(t)*e}}function z(){this.isDirty=!1}function O(){let t,e;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*y(this.sector,1)/2)}function G(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function U(t){(t=this.options=d(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],t)).plotBands||(t.plotBands=[]),n(this,"afterSetOptions")}function W(t,e,i,s,o,a,r){const n=this.axis;return e=n.isRadial?["M",e,i,"L",(t=n.getPosition(this.pos,n.center[2]/2+s)).x,t.y]:t.call(this,e,i,s,o,a,r)}t=c=c||{};const Y=[],R={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},I={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},j={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};t.compose=function(t,e){return i.pushUnique(Y,t)&&(o(t,"afterInit",A),o(t,"autoLabelAlign",w),o(t,"destroy",N),o(t,"init",T),o(t,"initialAxisTranslation",X)),i.pushUnique(Y,e)&&(o(e,"afterGetLabelPosition",E),o(e,"afterGetPosition",D),l(e.prototype,"getMarkPath",W)),t}}return c}),e(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(t,b,l,e,h,v){function p(){(this.pane||[]).forEach(t=>{t.render()})}function d(t){const e=t.args[0].xAxis,i=t.args[0].yAxis;t=t.args[0].chart,e&&i&&("polygon"===i.gridLineInterpolation?(e.startOnTick=!0,e.endOnTick=!0):"polygon"===e.gridLineInterpolation&&t.inverted&&(i.startOnTick=!0,i.endOnTick=!0))}function c(){this.pane||(this.pane=[]),this.options.pane=i(this.options.pane),this.options.pane.forEach(t=>{new e(t,this)},this)}function u(t){var e,i=t.args.marker,s=this.chart.xAxis[0],o=this.chart.yAxis[0],a=this.chart.inverted,r=a?o:s,s=a?s:o;this.chart.polar&&(t.preventDefault(),o=(i.attr?i.attr("start"):i.start)-r.startAngleRad,a=i.attr?i.attr("r"):i.r,e=(i.attr?i.attr("end"):i.end)-r.startAngleRad,i=i.attr?i.attr("innerR"):i.innerR,t.result.x=o+r.pos,t.result.width=e-o,t.result.y=s.len+s.pos-i,t.result.height=i-a)}function g(t){var e=this.chart;if(e.polar&&e.hoverPane&&e.hoverPane.axis){t.preventDefault();var i=e.hoverPane.center,s=this.mouseDownX||0,o=this.mouseDownY||0,a=t.args.chartY,r=t.args.chartX,n=2*Math.PI,l=e.hoverPane.axis.startAngleRad,h=e.hoverPane.axis.endAngleRad,p=(e.inverted?e.xAxis:e.yAxis)[0];const b={};var d="arc";if(b.x=i[0]+e.plotLeft,b.y=i[1]+e.plotTop,this.zoomHor){var c=0<l?h-l:Math.abs(l)+Math.abs(h),u=Math.atan2(o-e.plotTop-i[1],s-e.plotLeft-i[0])-l,g=Math.atan2(a-e.plotTop-i[1],r-e.plotLeft-i[0])-l;if(b.r=i[2]/2,b.innerR=i[3]/2,u<=0&&(u+=n),g<=0&&(g+=n),g<u&&(g=[u,u=g][0]),c<n&&h+(n-c)/2<l+g&&(g=u,u=l<=0?l:0),n=b.start=Math.max(u+l,l),c=b.end=Math.min(g+l,h),"polygon"===p.options.gridLineInterpolation){if(g=n-(d=e.hoverPane.axis).startAngleRad+d.pos,u=c-n,n=p.getPlotLinePath({value:p.max}),c=d.toValue(g),g=d.toValue(g+u),c<d.getExtremes().min){const{min:t,max:e}=d.getExtremes();c=e-(t-c)}if(g<d.getExtremes().min){const{min:t,max:e}=d.getExtremes();g=e-(t-g)}g<c&&(g=[c,c=g][0]),(n=y(n,c,g,d)).push(["L",i[0]+e.plotLeft,e.plotTop+i[1]]),b.d=n,d="path"}}this.zoomVert&&(g=(e.inverted?e.xAxis:e.yAxis)[0],s=Math.sqrt(Math.pow(s-e.plotLeft-i[0],2)+Math.pow(o-e.plotTop-i[1],2)),(a=Math.sqrt(Math.pow(r-e.plotLeft-i[0],2)+Math.pow(a-e.plotTop-i[1],2)))<s&&(s=[a,a=s][0]),a>i[2]/2&&(a=i[2]/2),s<i[3]/2&&(s=i[3]/2),this.zoomHor||(b.start=l,b.end=h),b.r=a,b.innerR=s,"polygon"===g.options.gridLineInterpolation&&(i=g.toValue(g.len+g.pos-s),l=g.toValue(g.len+g.pos-a),i=g.getPlotLinePath({value:l}).concat(g.getPlotLinePath({value:i,reverse:!0})),b.d=i,d="path")),this.zoomHor&&this.zoomVert&&"polygon"===p.options.gridLineInterpolation&&(i=e.hoverPane.axis,l=(p=b.start||0)-i.startAngleRad+i.pos,h=(b.end||0)-p,p=i.toValue(l),i=i.toValue(l+h),b.d instanceof Array&&(l=b.d.slice(0,b.d.length/2),h=[...h=b.d.slice(b.d.length/2,b.d.length)].reverse(),l=y(l,p,i,e=e.hoverPane.axis),(h=y(h,p,i,e))&&(h[0][0]="L"),h=[...h].reverse(),b.d=l.concat(h),d="path")),t.attrs=b,t.shapeType=d}}function f(){var t=this.chart;t.polar&&(this.polar=new s(this),t.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function m(){if(this.chart.polar&&this.xAxis){const{xAxis:e,yAxis:i}=this,r=this.chart,s=((this.kdByAngle=r.tooltip&&r.tooltip.shared)?this.searchPoint=o:this.options.findNearestPointBy="xy",this.points);let t=s.length;for(;t--;)this.is("column")||this.is("columnrange")||this.polar.toXY(s[t]),r.hasParallelCoordinates||this.yAxis.reversed||(R(s[t].y,Number.MIN_VALUE)<i.min||s[t].x<e.min||s[t].x>e.max?(s[t].isNull=!0,s[t].plotY=NaN):s[t].isNull=s[t].isValid&&!s[t].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(N(this,"afterRender",function(){if(r.polar){var t=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2});else{{var e=r.renderer,i=t[0],s=t[1],o=t[2]/2,a=t[3]/2,t=j();const b=e.createElement("clipPath").attr({id:t}).add(e.defs);(e=(a?e.arc(i,s,o,a,0,2*Math.PI):e.circle(i,s,o)).add(b)).id=t,e.clipPath=b}this.clipCircle=e}this.group.clip(this.clipCircle),this.setClip=b.noop}})))}}function o(t){var e=this.chart,i=(i=this.xAxis).pane&&i.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-(i&&i[0]||0)-e.plotLeft,t.chartY-(i&&i[1]||0)-e.plotTop)})}function y(t,e,i,s){var o=s.tickInterval;s=s.tickPositions;let a=n(s,t=>i<=t),r=n([...s].reverse(),t=>t<=e);return T(a)||(a=s[s.length-1]),T(r)||(r=s[0],a+=o,t[0][0]="L",t.unshift(t[t.length-3])),(t=t.slice(s.indexOf(r),s.indexOf(a)+1))[0][0]="M",t}function x(t,e){return n(this.pane||[],function(t){return t.options.id===e})||t.call(this,e)}function P(t,e,i,s,o,a){const r=this.chart;var n=R(s.inside,!!this.options.stacking);r.polar?(t=e.rectPlotX/Math.PI*180,r.inverted?(this.forceDL=r.isInsidePlot(e.plotX,e.plotY),n&&e.shapeArgs?(n=e.shapeArgs,n=this.yAxis.postTranslate(((n.start||0)+(n.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2),o=Y(o,{x:n.x-r.plotLeft,y:n.y-r.plotTop})):e.tooltipPos&&(o=Y(o,{x:e.tooltipPos[0],y:e.tooltipPos[1]})),s.align=R(s.align,"center"),s.verticalAlign=R(s.verticalAlign,"middle")):(null===s.align&&(s.align=20<t&&t<160?"left":200<t&&t<340?"right":"center"),null===s.verticalAlign&&(s.verticalAlign=t<45||315<t?"bottom":135<t&&t<225?"top":"middle")),l.prototype.alignDataLabel.call(this,e,i,s,o,a),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end?i.hide():i.show()):t.call(this,e,i,s,o,a)}function S(){var t=this.options,e=t.stacking,i=this.chart,s=this.xAxis;const o=this.yAxis,a=o.reversed,r=o.center,n=s.startAngleRad,l=s.endAngleRad-n;let h=0,p,d,c,u=0;var g=0;if(s.isRadial){s=this.points,p=s.length,d=o.translate(o.min),c=o.translate(o.max);var b=t.threshold||0;for(i.inverted&&X(b)&&(h=o.translate(b),T(h)&&(h<0?h=0:h>l&&(h=l),this.translatedThreshold=h+n));p--;){var f,m=(b=s[p]).barX,y=b.x,x=b.y;b.shapeType="arc",i.inverted?(b.plotY=o.translate(x),e&&o.stacking?(x=o.stacking.stacks[(x<0?"-":"")+this.stackKey],this.visible&&x&&x[y]&&!b.isNull&&(g=x[y].points[this.getStackIndicator(void 0,y,this.index).key],u=o.translate(g[0]),g=o.translate(g[1]),T(u)&&(u=v.clamp(u,0,l)))):(u=h,g=b.plotY),u>g&&(g=[u,u=g][0]),a?d<g?g=d:u<c?u=c:(u>d||g<c)&&(u=g=l):u<d?u=d:c<g?g=c:(g<d||u>c)&&(u=g=0),o.min>o.max&&(u=g=a?l:0),u+=n,g+=n,r&&(b.barX=m+=r[3]/2),y=Math.max(m,0),x=Math.max(m+b.pointWidth,0),f=t.borderRadius,f=I(("object"==typeof f?f.radius:f)||0,x-y),b.shapeArgs={x:r[0],y:r[1],r:x,innerR:y,start:u,end:g,borderRadius:f},b.opacity=u===g?0:void 0,b.plotY=(T(this.translatedThreshold)&&(u<this.translatedThreshold?u:g))-n):(u=m+n,b.shapeArgs=this.polar.arc(b.yBottom,b.plotY,u,u+b.pointWidth),b.shapeArgs.borderRadius=0),this.polar.toXY(b),i.inverted?(m=o.postTranslate(b.rectPlotY,m+b.pointWidth/2),b.tooltipPos=[m.x-i.plotLeft,m.y-i.plotTop]):b.tooltipPos=[b.plotX,b.plotY],r&&(b.ttBelow=b.plotY>r[1])}}}function M(t,e){const i=this;let s;if(this.chart.polar){e=e||this.points;for(let t=0;t<e.length;t++)if(!e[t].isNull){var o=t;break}!1!==this.options.connectEnds&&void 0!==o&&(this.connectEnds=!0,e.splice(e.length,0,e[o]),s=!0),e.forEach(t=>{void 0===t.polarPlotY&&i.polar.toXY(t)})}return o=t.apply(this,[].slice.call(arguments,1)),s&&e.pop(),o}function L(t,o){const a=this.chart;let r={xAxis:[],yAxis:[]};return a.polar?a.axes.forEach(t=>{var e,i,s;"colorAxis"!==t.coll&&(e=t.isXAxis,s=t.center,i=o.chartX-s[0]-a.plotLeft,s=o.chartY-s[1]-a.plotTop,r[e?"xAxis":"yAxis"].push({axis:t,value:t.translate(e?Math.PI-Math.atan2(i,s):Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),!0)}))}):r=t.call(this,o),r}function k(t,e){this.chart.polar||t.call(this,e)}function C(t,e){const i=this,s=this.chart,o=this.group,a=this.markerGroup,r=this.xAxis&&this.xAxis.center,n=s.plotLeft,l=s.plotTop;let h=this.options.animation,p,d,c,u,g;s.polar?i.isRadialBar?e||(i.startAngleRad=R(i.translatedThreshold,i.xAxis.startAngleRad),b.seriesTypes.pie.prototype.animate.call(i,e)):(h=w(h),i.is("column")?e||(p=r[3]/2,i.points.forEach(t=>{d=t.graphic,u=(c=t.shapeArgs)&&c.r,g=c&&c.innerR,d&&c&&(d.attr({r:p,innerR:p}),d.animate({r:u,innerR:g},i.options.animation))})):e?(t={translateX:r[0]+n,translateY:r[1]+l,scaleX:.001,scaleY:.001},o.attr(t),a&&a.attr(t)):(t={translateX:n,translateY:l,scaleX:1,scaleY:1},o.animate(t,h),a&&a.animate(t,h))):t.call(this,e)}function A(t,e,i,s){return t=this.chart.polar?s?(e=(t=function t(e,i,s,o){var a=o?1:0,r=0<=i&&i<=e.length-1?i:i<0?e.length-1+i:0,n=e[i=r-1<0?e.length-(1+a):r-1],a=e[r+1>e.length-1?a:r+1],l=n.plotY,h=a.plotX,p=a.plotY,d=(a=e[r].plotX,r=e[r].plotY,n=(1.5*a+n.plotX)/2.5,l=(1.5*r+l)/2.5,h=(1.5*a+h)/2.5,(1.5*r+p)/2.5),p=Math.sqrt(Math.pow(n-a,2)+Math.pow(l-r,2)),c=Math.sqrt(Math.pow(h-a,2)+Math.pow(d-r,2)),n=Math.atan2(l-r,n-a),d=Math.PI/2+(n+Math.atan2(d-r,h-a))/2;return Math.abs(n-d)>Math.PI/2&&(d-=Math.PI),n=a+Math.cos(d)*p,l=r+Math.sin(d)*p,a={rightContX:a+Math.cos(Math.PI+d)*c,rightContY:d=r+Math.sin(Math.PI+d)*c,leftContX:n,leftContY:l,plotX:a,plotY:r},s&&(a.prevPointCont=t(e,i,!1,o)),a}(e,s,!0,this.connectEnds)).prevPointCont&&t.prevPointCont.rightContX,i=t.prevPointCont&&t.prevPointCont.rightContY,["C",X(e)?e:t.plotX,X(i)?i:t.plotY,X(t.leftContX)?t.leftContX:t.plotX,X(t.leftContY)?t.leftContY:t.plotY,t.plotX,t.plotY]):["M",i.plotX,i.plotY]:t.call(this,e,i,s)}const w=t["animObject"],{addEvent:N,defined:T,find:n,isNumber:X,merge:Y,pick:R,relativeLength:I,splat:i,uniqueKey:j,wrap:E}=v,D=[];class s{static compose(t,e,i,s,o,a,r,n,l){h.compose(t,o),v.pushUnique(D,e)&&(N(e,"afterDrawChartBox",p),N(e,"getAxes",c),N(e,"init",d),E(e.prototype,"get",x)),v.pushUnique(D,i)&&(t=i.prototype,E(t,"getCoordinates",L),E(t,"pinch",k),N(i,"getSelectionMarkerAttrs",g),N(i,"getSelectionBox",u)),v.pushUnique(D,s)&&(N(s,"afterInit",f),N(s,"afterTranslate",m,{order:2}),N(s,"afterColumnTranslate",S,{order:4}),E(s.prototype,"animate",C)),r&&v.pushUnique(D,r)&&(i=r.prototype,E(i,"alignDataLabel",P),E(i,"animate",C)),n&&v.pushUnique(D,n)&&E(n.prototype,"getGraphPath",M),l&&v.pushUnique(D,l)&&(n=l.prototype,E(n,"getPointSpline",A),a&&v.pushUnique(D,a)&&(a.prototype.getPointSpline=n.getPointSpline))}constructor(t){this.series=t}arc(t,e,i,s){var o=this.series,a=o.xAxis.center,r=o.yAxis.len,n=a[3]/2;return e=r-e+n,t=r-R(t,r)+n,o.yAxis.reversed&&(e<0&&(e=n),t<0&&(t=n)),{x:a[0],y:a[1],r:e,innerR:t,start:i,end:s}}toXY(t){var e=this.series;const i=e.chart,s=e.xAxis;var o=e.yAxis,a=t.plotX,r=i.inverted,n=t.y;let l=t.plotY,h=r?a:o.len-l;r&&e&&!e.isRadialBar&&(t.plotY=l=X(n)?o.translate(n):0),t.rectPlotX=a,t.rectPlotY=l,o.center&&(h+=o.center[3]/2),X(l)&&(o=r?o.postTranslate(l,h):s.postTranslate(a,h),t.plotX=t.polarPlotX=o.x-i.plotLeft,t.plotY=t.polarPlotY=o.y-i.plotTop),e.kdByAngle?((e=(a/Math.PI*180+s.pane.options.startAngle)%360)<0&&(e+=360),t.clientX=e):t.clientX=t.plotX}}return class{static compose(t,e,i,s,o,a,r,n,l){h.compose(t,o),v.pushUnique(D,e)&&(N(e,"afterDrawChartBox",p),N(e,"getAxes",c),N(e,"init",d),E(e.prototype,"get",x)),v.pushUnique(D,i)&&(t=i.prototype,E(t,"getCoordinates",L),E(t,"pinch",k),N(i,"getSelectionMarkerAttrs",g),N(i,"getSelectionBox",u)),v.pushUnique(D,s)&&(N(s,"afterInit",f),N(s,"afterTranslate",m,{order:2}),N(s,"afterColumnTranslate",S,{order:4}),E(s.prototype,"animate",C)),r&&v.pushUnique(D,r)&&(i=r.prototype,E(i,"alignDataLabel",P),E(i,"animate",C)),n&&v.pushUnique(D,n)&&E(n.prototype,"getGraphPath",M),l&&v.pushUnique(D,l)&&(n=l.prototype,E(n,"getPointSpline",A),a&&v.pushUnique(D,a)&&(a.prototype.getPointSpline=n.getPointSpline))}constructor(t){this.series=t}arc(t,e,i,s){var o=this.series,a=o.xAxis.center,r=o.yAxis.len,n=a[3]/2;return e=r-e+n,t=r-R(t,r)+n,o.yAxis.reversed&&(e<0&&(e=n),t<0&&(t=n)),{x:a[0],y:a[1],r:e,innerR:t,start:i,end:s}}toXY(t){var e=this.series;const i=e.chart,s=e.xAxis;var o=e.yAxis,a=t.plotX,r=i.inverted,n=t.y;let l=t.plotY,h=r?a:o.len-l;r&&e&&!e.isRadialBar&&(t.plotY=l=X(n)?o.translate(n):0),t.rectPlotX=a,t.rectPlotY=l,o.center&&(h+=o.center[3]/2),X(l)&&(o=r?o.postTranslate(l,h):s.postTranslate(a,h),t.plotX=t.polarPlotX=o.x-i.plotLeft,t.plotY=t.polarPlotY=o.y-i.plotTop),e.kdByAngle?((e=(a/Math.PI*180+s.pane.options.startAngle)%360)<0&&(e+=360),t.clientX=e):t.clientX=t.plotX}}}),e(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(t,e,i,s,o){i.compose(t.Axis,t.Chart,t.Legend,t.Series),s.compose(t.Axis,t.Chart,t.Legend,t.Series),o.compose(t.Axis,t.Chart,t.Pointer,t.Series,t.Tick,e.seriesTypes.areasplinerange,e.seriesTypes.column,e.seriesTypes.line,e.seriesTypes.spline)})});