!function(o){"object"==typeof module&&module.exports?module.exports=o.default=o:"function"==typeof define&&define.amd?define("highcharts/indicators/price-envelopes",["highcharts","highcharts/modules/stock"],function(t){return o(t),o.Highcharts=t,o}):o("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function o(t,o,e,i){t.hasOwnProperty(o)||(t[o]=i.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:t[o]}})))}o(t=t?t._modules:{},"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(m,t){var i,o,e=this&&this.__extends||(i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),p=m.seriesTypes.sma,n=t.extend,f=t.isArray,a=t.merge;function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e(s,o=p),s.prototype.init=function(){m.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},s.prototype.toYData=function(t){return[t.top,t.middle,t.bottom]},s.prototype.translate=function(){var i=this,p=["plotTop","plotMiddle","plotBottom"];m.seriesTypes.sma.prototype.translate.apply(i),i.points.forEach(function(e){[e.top,e.middle,e.bottom].forEach(function(t,o){null!==t&&(e[p[o]]=i.yAxis.toPixels(t,!0))})})},s.prototype.drawGraph=function(){for(var t,e=this,o=e.points,i=o.length,p=e.options,n=e.graph,s={options:{gapSize:p.gapSize}},r=[[],[]];i--;)t=o[i],r[0].push({plotX:t.plotX,plotY:t.plotTop,isNull:t.isNull}),r[1].push({plotX:t.plotX,plotY:t.plotBottom,isNull:t.isNull});["topLine","bottomLine"].forEach(function(t,o){e.points=r[o],e.options=a(p[t].styles,s),e.graph=e["graph"+t],m.seriesTypes.sma.prototype.drawGraph.call(e),e["graph"+t]=e.graph}),e.points=o,e.options=p,e.graph=n,m.seriesTypes.sma.prototype.drawGraph.call(e)},s.prototype.getValues=function(t,o){var e,i=o.period,p=o.topBand,n=o.bottomBand,s=t.xData,r=(t=t.yData)?t.length:0,a=[],l=[],d=[];if(!(s.length<i)&&f(t[0])&&4===t[0].length){for(e=i;e<=r;e++){var c=s.slice(e-i,e),u=t.slice(e-i,e),c=(u=m.seriesTypes.sma.prototype.getValues.call(this,{xData:c,yData:u},o)).xData[0],h=(u=u.yData[0])*(1+p),y=u*(1-n);a.push([c,h,u,y]),l.push(c),d.push([h,u,y])}return{values:a,xData:l,yData:d}}},s.defaultOptions=a(p.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),n((t=s).prototype,{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),m.registerSeriesType("priceenvelopes",t),t}),o(t,"masters/indicators/price-envelopes.src.js",[],function(){})});