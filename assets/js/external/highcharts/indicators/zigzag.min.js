"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/zigzag",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Stock/Indicators/Zigzag/ZigzagIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const i=e.seriesTypes["sma"],{merge:s,extend:o}=t;class n extends i{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){var i=t.lowIndex,s=t.highIndex,o=(t=1+(n=t.deviation/100),1-n),n=e.xData,a=e.yData;e=a?a.length:0;const r=[],d=[],u=[];let h,p,c,g,f=!1,l=!1;if(!(!n||n.length<=1||e&&(void 0===a[0][i]||void 0===a[0][s]))){var m=a[0][i],v=a[0][s];for(h=1;h<e;h++)a[h][i]<=v*o?(r.push([n[0],v]),c=[n[h],a[h][i]],f=g=!0):a[h][s]>=m*t&&(r.push([n[0],m]),c=[n[h],a[h][s]],g=!1,f=!0),f&&(d.push(r[0][0]),u.push(r[0][1]),p=h++,h=e);for(h=p;h<e;h++)g?(a[h][i]<=c[1]&&(c=[n[h],a[h][i]]),a[h][s]>=c[1]*t&&(l=s)):(a[h][s]>=c[1]&&(c=[n[h],a[h][s]]),a[h][i]<=c[1]*o&&(l=i)),!1!==l&&(r.push(c),d.push(c[0]),u.push(c[1]),c=[n[h],a[h][l]],g=!g,l=!1);return 0!==(i=r.length)&&r[i-1][0]<n[e-1]&&(r.push(c),d.push(c[0]),u.push(c[1])),{values:r,xData:d,yData:u}}}}return n.defaultOptions=s(i.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),o(n.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),e.registerSeriesType("zigzag",n),n}),t(e,"masters/indicators/zigzag.src.js",[],function(){})});