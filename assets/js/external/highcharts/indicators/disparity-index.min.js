"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/disparity-index",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,a,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(a,e){const i=a.seriesTypes["sma"],{correctFloat:s,defined:u,extend:t,isArray:h,merge:r}=e;class n extends i{constructor(){super(...arguments),this.points=this.options=this.data=this.averageIndicator=void 0}init(){var e=arguments,t=e[1].params;this.averageIndicator=a.seriesTypes[t&&t.average?t.average:void 0]||i,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,t){return s(e-t)/t*100}getValues(e,t){const a=t.index,i=e.xData,s=e.yData,r=s?s.length:0,n=[],o=[],d=[];var p=this.averageIndicator,c=h(s[0]);if(e=(t=p.prototype.getValues(e,t)).yData,t=i.indexOf(t.xData[0]),e&&0!==e.length&&u(a)&&!(s.length<=t)){for(p=t;p<r;p++){const r=this.calculateDisparityIndex(c?s[p][a]:s[p],e[p-t]);n.push([i[p],r]),o.push(i[p]),d.push(r)}return{values:n,xData:o,yData:d}}}}return n.defaultOptions=r(i.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),t(n.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),a.registerSeriesType("disparityindex",n),n}),t(e,"masters/indicators/disparity-index.src.js",[],function(){})});