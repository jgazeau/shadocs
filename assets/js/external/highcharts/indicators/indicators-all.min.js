!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/SMA/SMAIndicator.js",[e["Core/Chart/Chart.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(i,e,t){let s=e.seriesTypes["line"],{addEvent:o,fireEvent:u,error:a,extend:r,isArray:g,merge:n,pick:l,splat:h}=t;class p extends s{constructor(){super(...arguments),this.data=void 0,this.dataEventsToUnbind=void 0,this.linkedParent=void 0,this.options=void 0,this.points=void 0}destroy(){this.dataEventsToUnbind.forEach(function(e){e()}),super.destroy.apply(this,arguments)}getName(){let s=[],e=this.name;return e||((this.nameComponents||[]).forEach(function(e,t){s.push(this.options.params[e]+l(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+s.join(", ")+")":"")),e}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o.length,r=[],n=[],l=[],p,d=-1,u=0,h,c=0;if(!(i.length<s)){for(g(o[0])&&(d=t.index||0);u<s-1;)c+=d<0?o[u]:o[u][d],u++;for(p=u;p<a;p++)c+=d<0?o[p]:o[p][d],h=[i[p],c/s],r.push(h),n.push(h[0]),l.push(h[1]),c-=d<0?o[p-u]:o[p-u][d];return{values:r,xData:n,yData:l}}}init(t,e){let s=this;super.init.call(s,t,e);e=o(i,"afterLinkSeries",function({isUpdating:e}){if(!e){e=!!s.dataEventsToUnbind.length;if(!s.linkedParent)return a("Series "+s.options.linkedTo+" not found! Check `linkedTo`.",!1,t);if(e||(s.dataEventsToUnbind.push(o(s.linkedParent,"updatedData",function(){s.recalculateValues()})),s.calculateOn.xAxis&&s.dataEventsToUnbind.push(o(s.linkedParent.xAxis,s.calculateOn.xAxis,function(){s.recalculateValues()}))),"init"===s.calculateOn.chart)s.processedYData||s.recalculateValues();else if(!e){let e=o(s.chart,s.calculateOn.chart,function(){s.recalculateValues(),e()})}}},{order:0});s.dataEventsToUnbind=[],s.eventsToUnbind.push(e)}recalculateValues(){let e=[],t=this.points||[],s=(this.xData||[]).length,i=!0,o,a,r,n,l,p,d=this.linkedParent.options&&this.linkedParent.yData&&this.linkedParent.yData.length&&this.getValues(this.linkedParent,this.options.params)||{values:[],xData:[],yData:[]};if(s&&!this.hasGroupedData&&this.visible&&this.points)if(this.cropped){for(this.xAxis&&(n=this.xAxis.min,l=this.xAxis.max),r=this.cropData(d.xData,d.yData,n,l),p=0;p<r.xData.length;p++)e.push([r.xData[p]].concat(h(r.yData[p])));o=d.xData.indexOf(this.xData[0]),a=d.xData.indexOf(this.xData[this.xData.length-1]),-1===o&&a===d.xData.length-2&&e[0][0]===t[0].x&&e.shift(),this.updateData(e)}else(this.updateAllPoints||d.xData.length!==s-1&&d.xData.length!==s+1)&&(i=!1,this.updateData(d.values));i&&(this.xData=d.xData,this.yData=d.yData,this.options.data=d.values),this.calculateOn.xAxis&&this.processedXData&&(delete this.processedXData,this.isDirty=!0,this.redraw()),this.isDirtyData=!!this.linkedSeries.length,u(this,"updatedData")}processData(){var e=this.options.compareToMain,t=this.linkedParent;super.processData.apply(this,arguments),this.dataModify&&t&&t.dataModify&&t.dataModify.compareValue&&e&&(this.dataModify.compareValue=t.dataModify.compareValue)}}return p.defaultOptions=n(s.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),r(p.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),e.registerSeriesType("sma",p),p}),t(e,"Stock/Indicators/EMA/EMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{correctFloat:n,isArray:m,merge:i}=t;class o extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}accumulatePeriodPoints(e,t,s){let i=0,o=0;for(;o<e;)i+=t<0?s[o]:s[o][t],o++;return i}calculateEma(e,t,s,i,o,a,r){e=e[s-1],t=a<0?t[s-1]:t[s-1][a];return[e,void 0===o?r:n(t*i+o*(1-i))]}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=2/(s+1),n=[],l=[],p=[],d,u,h,c=-1,g;if(!(a<s)){for(m(o[0])&&(c=t.index||0),g=this.accumulatePeriodPoints(s,c,o)/s,h=s;h<a+1;h++)u=this.calculateEma(i,o,h,r,d,c,g),n.push(u),l.push(u[0]),p.push(u[1]),d=u[1];return{values:n,xData:l,yData:p}}}}return o.defaultOptions=i(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("ema",o),o}),t(e,"Stock/Indicators/AD/ADIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{error:m,extend:i,merge:o}=t;class y extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}static populateAverage(e,t,s,i,o){var a=t[i][1],r=t[i][2],t=t[i][3],s=s[i];return[e[i],t===a&&t===r||a===r?0:(2*t-r-a)/(a-r)*s]}getValues(e,t){let s,i,o,a=t.period,r=e.xData,n=e.yData,l=t.volumeSeriesID,p=e.chart.get(l),d=p&&p.yData,u=n?n.length:0,h=[],c=[],g=[];if(!(r.length<=a&&u&&4!==n[0].length)){if(p){for(i=a;i<u;i++)s=h.length,o=y.populateAverage(r,n,d,i,a),0<s&&(o[1]+=h[s-1][1]),h.push(o),c.push(o[0]),g.push(o[1]);return{values:h,xData:c,yData:g}}m("Series "+l+" not found! Check `volumeSeriesID`.",!0,e.chart)}}}return y.defaultOptions=o(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),i(y.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),e.registerSeriesType("ad",y),y}),t(e,"Stock/Indicators/AO/AOIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=e["noop"],{column:{prototype:o},sma:a}=t.seriesTypes,{extend:r,merge:n,correctFloat:m,isArray:y}=s;class l extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}drawGraph(){let e,t=this.options,s=this.points,i=this.userOptions.color,o=t.greaterBarColor,a=t.lowerBarColor,r=s[0];if(!i&&r)for(e=1,r.color=o;e<s.length;e++)s[e].y>s[e-1].y?s[e].color=o:s[e].y<s[e-1].y?s[e].color=a:s[e].color=s[e-1].color}getValues(e){let t=e.xData||[],s=e.yData||[],i=s.length,o=[],a=[],r=[],n,l,p,d,u,h,c=0,g=0;if(!(t.length<=34)&&y(s[0])&&4===s[0].length){for(u=0;u<33;u++)d=(s[u][1]+s[u][2])/2,29<=u&&(g=m(g+d)),c=m(c+d);for(h=33;h<i;h++)g=m(g+(d=(s[h][1]+s[h][2])/2)),c=m(c+d),n=m(g/5-c/34),o.push([t[h],n]),a.push(t[h]),r.push(n),l=h+1-5,p=h+1-34,g=m(g-(s[l][1]+s[l][2])/2),c=m(c-(s[p][1]+s[p][2])/2);return{values:o,xData:a,yData:r}}}}return l.defaultOptions=n(a.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),r(l.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:i,getColumnMetrics:o.getColumnMetrics,crispCol:o.crispCol,translate:o.translate,drawPoints:o.drawPoints}),t.registerSeriesType("ao",l),l}),t(e,"Stock/Indicators/MultipleLinesComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,a){var r;let m=t.seriesTypes["sma"]["prototype"],{defined:y,error:v,merge:f}=a;{t=r=r||{};let e=[],s=["bottomLine"],i=["top","bottom"],o=["top"];function x(e){return"plot"+e.charAt(0).toUpperCase()+e.slice(1)}function D(e,t){let s=[];return(e.pointArrayMap||[]).forEach(e=>{e!==t&&s.push(x(e))}),s}function n(){let s=this,e=s.pointValKey,t=s.linesApiNames,i=s.areaLinesNames,o=s.points,a=s.options,r=s.graph,n={options:{gapSize:a.gapSize}},l=[],p=D(s,e),d=o.length,u;var h,c,g;p.forEach((e,t)=>{for(l[t]=[];d--;)u=o[d],l[t].push({x:u.x,plotX:u.plotX,plotY:u[e],isNull:!y(u[e])});d=o.length}),s.userOptions.fillColor&&i.length&&(h=p.indexOf(x(i[0])),h=l[h],c=1===i.length?o:l[p.indexOf(x(i[1]))],g=s.color,s.points=c,s.nextPoints=h,s.color=s.userOptions.fillColor,s.options=f(o,n),s.graph=s.area,s.fillGraph=!0,m.drawGraph.call(s),s.area=s.graph,delete s.nextPoints,delete s.fillGraph,s.color=g),t.forEach((e,t)=>{l[t]?(s.points=l[t],a[e]?s.options=f(a[e].styles,n):v('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),s.graph=s["graph"+e],m.drawGraph.call(s),s["graph"+e]=s.graph):v('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),s.points=o,s.options=a,s.graph=r,m.drawGraph.call(s)}function l(e){let t,s=[],i;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=m.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",s=m.getGraphPath.call(this,e);for(let e=(i=t.slice(0,s.length)).length-1;0<=e;e--)s.push(i[e])}}else s=m.getGraphPath.apply(this,arguments);return s}function p(t){let s=[];return(this.pointArrayMap||[]).forEach(e=>{s.push(t[e])}),s}function d(){let e=this.pointArrayMap,i,o;i=D(this),m.translate.apply(this,arguments),this.points.forEach(s=>{e.forEach((e,t)=>{o=s[e],null!==(o=this.dataModify?this.dataModify.modifyValue(o):o)&&(s[i[t]]=this.yAxis.toPixels(o,!0))})})}t.compose=function(t){if(a.pushUnique(e,t)){let e=t.prototype;e.linesApiNames=e.linesApiNames||s.slice(),e.pointArrayMap=e.pointArrayMap||i.slice(),e.pointValKey=e.pointValKey||"top",e.areaLinesNames=e.areaLinesNames||o.slice(),e.drawGraph=n,e.getGraphPath=l,e.toYData=p,e.translate=d}return t}}return r}),t(e,"Stock/Indicators/Aroon/AroonIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["sma"],{extend:o,merge:a,pick:g}=s;function m(e,t){let s=e[0],i=0,o;for(o=1;o<e.length;o++)("max"===t&&e[o]>=s||"min"===t&&e[o]<=s)&&(s=e[o],i=o);return i}class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o,a,r,n=t.period,l=e.xData,p=e.yData,d=p?p.length:0,u=[],h=[],c=[];for(a=n-1;a<d;a++)o=m((r=p.slice(a-n+1,a+2)).map(function(e){return g(e[2],e)}),"min"),s=m(r.map(function(e){return g(e[1],e)}),"max")/n*100,i=o/n*100,l[a+1]&&(u.push([l[a+1],s,i]),h.push(l[a+1]),c.push([s,i]));return{values:u,xData:h,yData:c}}}return r.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),o(r.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),e.compose(r),t.registerSeriesType("aroon",r),r}),t(e,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["aroon"],{extend:o,merge:a}=s;class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o=[],a=[],r=[],n=super.getValues.call(this,e,t);for(i=0;i<n.yData.length;i++)s=n.yData[i][0]-n.yData[i][1],o.push([n.xData[i],s]),a.push(n.xData[i]),r.push(s);return{values:o,xData:a,yData:r}}}return r.defaultOptions=a(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),o(r.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),e.compose(i),t.registerSeriesType("aroonoscillator",r),r}),t(e,"Stock/Indicators/ATR/ATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isArray:C,merge:i}=t;function A(e,t){var s=e[1]-e[2],i=void 0===t?0:Math.abs(e[1]-t[3]),e=void 0===t?0:Math.abs(e[2]-t[3]);return Math.max(s,i,e)}class o extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=i[0],n=o[0],l=[[r,n]],p=[],d=[],u=[],h,c,g=0,m=1,y=0;if(!(i.length<=s)&&C(o[0])&&4===o[0].length){for(c=1;c<=a;c++){{f=void 0;x=void 0;var v=l;var f=i;var x=o;var D=c;f=f[D],x=x[D];v.push([f,x])}s<m?(g=(D=i,v=o,f=c,x=s,S=g,(h=[D[f-1],(S*(x-1)+A(v[f-1],v[f-2]))/x])[1]),p.push(h),d.push(h[0]),u.push(h[1])):(s===m?(g=y/(c-1),p.push([i[c-1],g]),d.push(i[c-1]),u.push(g)):y+=A(o[c-1],o[c-2]),m++)}return{values:p,xData:d,yData:u}}var S}}return o.defaultOptions=i(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("atr",o),o}),t(e,"Stock/Indicators/BB/BBIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,D,t){let s=D.seriesTypes["sma"],{extend:i,isArray:S,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){D.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=o({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){let s,i,o,a,r,n,l,p,d,u=t.period,h=t.standardDeviation,c=[],g=[],m=e.xData,y=e.yData,v=y?y.length:0,f=[];if(!(m.length<u)){var x=S(y[0]);for(d=u;d<=v;d++)r=m.slice(d-u,d),n=y.slice(d-u,d),a=(p=D.seriesTypes.sma.prototype.getValues.call(this,{xData:r,yData:n},t)).xData[0],i=(s=p.yData[0])+h*(l=function(e,t,s,i){let o=e.length,a=0,r,n=0;for(;a<o;a++)n+=(r=(s?e[a][t]:e[a])-i)*r;return Math.sqrt(n/=o-1)}(n,t.index,x,s)),o=s-h*l,f.push([a,i,s,o]),c.push(a),g.push([i,s,o]);return{values:f,xData:c,yData:g}}}}return a.defaultOptions=o(s.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),i(a.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(a),D.registerSeriesType("bb",a),a}),t(e,"Stock/Indicators/CCI/CCIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isArray:f,merge:i}=t;class o extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=[],n=[],l=[],p=[],d,u,h=[],c,g=1,m,y,v;if(!(i.length<=s)&&f(o[0])&&4===o[0].length){for(;g<s;)u=o[g-1],r.push((u[1]+u[2]+u[3])/3),g++;for(v=s;v<=a;v++)y=((u=o[v-1])[1]+u[2]+u[3])/3,c=r.push(y),d=(y-(m=(h=r.slice(c-s)).reduce(function(e,t){return e+t},0)/s))/(.015*(function(e,t){let s=e.length,i=0,o;for(o=0;o<s;o++)i+=Math.abs(t-e[o]);return i}(h,m)/s)),n.push([i[v-1],d]),l.push(i[v-1]),p.push(d);return{values:n,xData:l,yData:p}}}}return o.defaultOptions=i(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("cci",o),o}),t(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],i=t["merge"];class o extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.volumeSeries=void 0,this.linkedParent=void 0,this.yData=void 0,this.nameBase="Chaikin Money Flow"}isValid(){let e=this.chart,t=this.options,s=this.linkedParent,i=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),o=s&&s.yData&&4===s.yData[0].length;function a(e){return e.xData&&e.xData.length>=t.params.period}return!!(s&&i&&a(s)&&a(i)&&o)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,s,i){let o=t.length,a=[],r=[],n=[],l=[],p,d,u=-1,h=0,c=0;function g(e,t){var s=e[1],i=e[2],e=e[3];return null!==t&&null!==s&&null!==i&&null!==e&&s!==i?(e-i-(s-e))/(s-i)*t:(u=p,null)}if(0<i&&i<=o){for(p=0;p<i;p++)a[p]=g(t[p],s[p]),h+=s[p],c+=a[p];for(r.push(e[p-1]),n.push(p-u>=i&&0!==h?c/h:null),l.push([r[0],n[0]]);p<o;p++)a[p]=g(t[p],s[p]),h=(h-=s[p-i])+s[p],c=(c-=a[p-i])+a[p],d=[e[p],p-u>=i?c/h:null],r.push(d[0]),n.push(d[1]),l.push([d[0],d[1]])}return{values:l,xData:r,yData:n}}}return o.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",o),o}),t(e,"Stock/Indicators/DMI/DMIIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["sma"],{correctFloat:r,extend:o,isArray:a,merge:n}=s;class l extends i{constructor(){super(...arguments),this.options=void 0}calculateDM(e,t,s){var i=e[t][1],o=e[t][2],a=e[t-1][1],e=e[t-1][2];return r(e-o<i-a?s?Math.max(i-a,0):0:s?0:Math.max(e-o,0))}calculateDI(e,t){return e/t*100}calculateDX(e,t){return r(Math.abs(e-t)/Math.abs(e+t)*100)}smoothValues(e,t,s){return r(e-e/s+t)}getTR(e,t){return r(Math.max(e[1]-e[2],t?Math.abs(e[1]-t[3]):0,t?Math.abs(e[2]-t[3]):0))}getValues(e,t){let c=t.period,g=e.xData,m=e.yData,s=m?m.length:0,y=[],v=[],f=[];if(!(g.length<=c)&&a(m[0])&&4===m[0].length){let p=0,d=0,u=0,h;for(h=1;h<s;h++){let e,t,s,i,o,a,r,n,l;h<=c?(i=this.calculateDM(m,h,!0),o=this.calculateDM(m,h),a=this.getTR(m[h],m[h-1]),p+=i,d+=o,u+=a,h===c&&(r=this.calculateDI(p,u),n=this.calculateDI(d,u),l=this.calculateDX(p,d),y.push([g[h],l,r,n]),v.push(g[h]),f.push([l,r,n]))):(i=this.calculateDM(m,h,!0),o=this.calculateDM(m,h),a=this.getTR(m[h],m[h-1]),e=this.smoothValues(p,i,c),t=this.smoothValues(d,o,c),s=this.smoothValues(u,a,c),p=e,d=t,u=s,r=this.calculateDI(p,u),n=this.calculateDI(d,u),l=this.calculateDX(p,d),y.push([g[h],l,r,n]),v.push(g[h]),f.push([l,r,n]))}return{values:y,xData:v,yData:f}}}}return l.defaultOptions=n(i.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),o(l.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),e.compose(l),t.registerSeriesType("dmi",l),l}),t(e,"Stock/Indicators/DPO/DPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{extend:i,merge:o,correctFloat:a,pick:v}=t;function f(e,t,s,i,o){i=v(t[s][i],t[s]);return o?a(e-i):a(e+i)}class r extends s{constructor(){super(...arguments),this.options=void 0,this.data=void 0,this.points=void 0}getValues(e,t){let s=t.period,i=t.index,o=s+Math.floor(s/2+1),a=e.xData||[],r=e.yData||[],n=r.length,l=[],p=[],d=[],u,h,c,g,m,y=0;if(!(a.length<=o)){for(g=0;g<s-1;g++)y=f(y,r,g,i);for(m=0;m<=n-o;m++)h=m+s-1,c=m+o-1,y=f(y,r,h,i),u=v(r[c][i],r[c])-y/s,y=f(y,r,m,i,!0),l.push([a[c],u]),p.push(a[c]),d.push(u);return{values:l,xData:p,yData:d}}}}return r.defaultOptions=o(s.defaultOptions,{params:{index:0,period:21}}),i(r.prototype,{nameBase:"DPO"}),e.registerSeriesType("dpo",r),r}),t(e,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[e["Stock/Indicators/AD/ADIndicator.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(h,e,t){let s=e.seriesTypes["ema"],{correctFloat:c,extend:i,merge:o,error:g}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o=t.periods,a=t.period,r=[],n=[],l=[];if(2!==o.length||o[1]<=o[0])g('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else{e=h.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:a});if(e){var p=super.getValues.call(this,e,{period:o[0]}),d=super.getValues.call(this,e,{period:o[1]});if(p&&d){var u=o[1]-o[0];for(i=0;i<d.yData.length;i++)s=c(p.yData[i+u]-d.yData[i]),r.push([d.xData[i],s]),n.push(d.xData[i]),l.push(s);return{values:r,xData:n,yData:l}}}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),i(a.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),e.registerSeriesType("chaikin",a),a}),t(e,"Stock/Indicators/CMO/CMOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isNumber:g,merge:i}=t;class o extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let o=t.period,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[],u,h=t.index,c;if(!(a.length<o)){c=g(r[0])?r:(h=Math.min(h,r[0].length-1),r.map(e=>e[h]));let e,t=0,s=0,i;for(let e=o;0<e;e--)c[e]>c[e-1]?t+=c[e]-c[e-1]:c[e]<c[e-1]&&(s+=c[e-1]-c[e]);for(i=0<t+s?100*(t-s)/(t+s):0,p.push(a[o]),d.push(i),l.push([a[o],i]),u=o+1;u<n;u++)e=Math.abs(c[u-o-1]-c[u-o]),c[u]>c[u-1]?t+=c[u]-c[u-1]:c[u]<c[u-1]&&(s+=c[u-1]-c[u]),c[u-o]>c[u-o-1]?t-=e:s-=e,i=0<t+s?100*(t-s)/(t+s):0,p.push(a[u]),d.push(i),l.push([a[u],i]);return{values:l,xData:p,yData:d}}}}return o.defaultOptions=i(s.defaultOptions,{params:{period:20,index:3}}),e.registerSeriesType("cmo",o),o}),t(e,"Stock/Indicators/DEMA/DEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["ema"],{correctFloat:D,isArray:S,merge:i}=t;class o extends s{constructor(){super(...arguments),this.EMApercent=void 0,this.data=void 0,this.options=void 0,this.points=void 0}getEMA(e,t,s,i,o,a){return super.calculateEma(a||[],e,void 0===o?1:o,this.EMApercent,t,void 0===i?-1:i,s)}getValues(e,t){let s=t.period,i=[],o=2*s,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[],u=0,h=0,c,g,m,y,v=-1,f,x=0;if(this.EMApercent=2/(s+1),!(n<2*s-1)){for(S(r[0])&&(v=t.index||0),x=(u=super.accumulatePeriodPoints(s,v,r))/s,u=0,y=s;y<n+2;y++)y<n+1&&(h=this.getEMA(r,g,x,v,y)[1],i.push(h)),g=h,y<o?u+=h:(y===o&&(x=u/s),h=i[y-s-1],c=this.getEMA([h],m,x)[1],f=[a[y-2],D(2*h-c)],l.push(f),p.push(f[0]),d.push(f[1]),m=c);return{values:l,xData:p,yData:d}}}}return o.defaultOptions=i(s.defaultOptions),e.registerSeriesType("dema",o),o}),t(e,"Stock/Indicators/TEMA/TEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["ema"],{correctFloat:o,isArray:S,merge:i}=t;class a extends s{constructor(){super(...arguments),this.EMApercent=void 0,this.data=void 0,this.options=void 0,this.points=void 0}getEMA(e,t,s,i,o,a){return super.calculateEma(a||[],e,void 0===o?1:o,this.EMApercent,t,void 0===i?-1:i,s)}getTemaPoint(e,t,s,i){return[e[i-3],o(3*s.level1-3*s.level2+s.level3)]}getValues(e,t){let s=t.period,i=2*s,o=3*s,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[],u=[],h=[],c={},g=-1,m=0,y=0,v,f,x,D;if(this.EMApercent=2/(s+1),!(n<3*s-2)){for(S(r[0])&&(g=t.index||0),y=(m=super.accumulatePeriodPoints(s,g,r))/s,m=0,x=s;x<n+3;x++)x<n+1&&(c.level1=this.getEMA(r,v,y,g,x)[1],u.push(c.level1)),v=c.level1,x<i?m+=c.level1:(x===i&&(y=m/s,m=0),c.level1=u[x-s-1],c.level2=this.getEMA([c.level1],f,y)[1],h.push(c.level2),f=c.level2,x<o?m+=c.level2:(x===o&&(y=m/s),x===n+1&&(c.level1=u[x-s-1],c.level2=this.getEMA([c.level1],f,y)[1],h.push(c.level2)),c.level1=u[x-s-2],c.level2=h[x-2*s-1],c.level3=this.getEMA([c.level2],c.prevLevel3,y)[1],(D=this.getTemaPoint(a,o,c,x))&&(l.push(D),p.push(D[0]),d.push(D[1])),c.prevLevel3=c.level3));return{values:l,xData:p,yData:d}}}}return a.defaultOptions=i(s.defaultOptions),e.registerSeriesType("tema",a),a}),t(e,"Stock/Indicators/TRIX/TRIXIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["tema"],{correctFloat:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getTemaPoint(e,t,s,i){if(t<i)return[e[i-3],0!==s.prevLevel3?o(s.level3-s.prevLevel3)/s.prevLevel3*100:null]}}return a.defaultOptions=i(s.defaultOptions),e.registerSeriesType("trix",a),a}),t(e,"Stock/Indicators/APO/APOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["ema"],{extend:i,merge:o,error:h}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o=t.periods,a=t.index,r=[],n=[],l=[];if(2!==o.length||o[1]<=o[0])h('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var p=super.getValues.call(this,e,{index:a,period:o[0]}),d=super.getValues.call(this,e,{index:a,period:o[1]});if(p&&d){var u=o[1]-o[0];for(i=0;i<d.yData.length;i++)s=p.yData[i+u]-d.yData[i],r.push([d.xData[i],s]),n.push(d.xData[i]),l.push(s);return{values:r,xData:n,yData:l}}}}}return a.defaultOptions=o(s.defaultOptions,{params:{period:void 0,periods:[10,20]}}),i(a.prototype,{nameBase:"APO",nameComponents:["periods"]}),e.registerSeriesType("apo",a),a}),t(e,"Stock/Indicators/IKH/IKHIndicator.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(o,e,E,t){let s=e["parse"],i=E.seriesTypes["sma"],{defined:R,extend:a,isArray:A,isNumber:r,getClosestDistance:I,merge:w,objectEach:N}=t;function k(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function B(e){let t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=w(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,E.seriesTypes.sma.prototype.drawGraph.call(t)}class n extends i{constructor(){super(...arguments),this.data=[],this.options={},this.points=[],this.graphCollection=[]}init(){super.init.apply(this,arguments),this.options=w({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:s(this.color).setOpacity(.2).get()}}},this.options)}toYData(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]}translate(){for(var e of(E.seriesTypes.sma.prototype.translate.apply(this),this.points))for(var t of this.pointArrayMap){var s=e[t];r(s)&&(e["plot"+t]=this.yAxis.toPixels(s,!0),e.plotY=e["plot"+t],e.tooltipPos=[e.plotX,e["plot"+t]],e.isNull=!1)}}drawGraph(){let s=this,e=s.points,i=s.options,t=s.graph,o=s.color,a={options:{gapSize:i.gapSize}},r=s.pointArrayMap.length,n=[[],[],[],[],[],[]],l={tenkanLine:n[0],kijunLine:n[1],chikouLine:n[2],senkouSpanA:n[3],senkouSpanB:n[4],senkouSpan:n[5]},p=[],d=s.options.senkouSpan,u=d.color||d.styles.fill,h=d.negativeColor,c=[[],[]],g=[[],[]],m=e.length,y=0,v,f,x,D,S,C,A,I,k,P,T,b,j;for(s.ikhMap=l;m--;){for(x=0,f=e[m];x<r;x++)R(f[v=s.pointArrayMap[x]])&&n[x].push({plotX:f.plotX,plotY:f["plot"+v],isNull:!1});var M,L;h&&m!==e.length-1&&(M=l.senkouSpanB.length-1,(L=function(e,t,s,i){if(e&&t&&s&&i){var o=t.plotX-e.plotX,t=t.plotY-e.plotY,a=i.plotX-s.plotX,i=i.plotY-s.plotY,r=e.plotX-s.plotX,s=e.plotY-s.plotY,n=(-t*r+o*s)/(-a*t+o*i),s=(a*s-i*r)/(-a*t+o*i);if(0<=n&&n<=1&&0<=s&&s<=1)return{plotX:e.plotX+s*o,plotY:e.plotY+s*t}}}(l.senkouSpanA[M-1],l.senkouSpanA[M],l.senkouSpanB[M-1],l.senkouSpanB[M]))&&(L={plotX:L.plotX,plotY:L.plotY,isNull:!1,intersectPoint:!0},l.senkouSpanA.splice(M,0,L),l.senkouSpanB.splice(M,0,L),p.push(M)))}if(N(l,(e,t)=>{i[t]&&"senkouSpan"!==t&&(s.points=n[y],s.options=w(i[t].styles,a),s.graph=s["graph"+t],s.fillGraph=!1,s.color=o,E.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+t]=s.graph),y++}),s.graphCollection)for(var V of s.graphCollection)s[V].destroy(),delete s[V];if(s.graphCollection=[],h&&l.senkouSpanA[0]&&l.senkouSpanB[0]){for(p.unshift(0),p.push(l.senkouSpanA.length-1),b=0;b<p.length-1;b++)if(D=p[b],S=p[b+1],C=l.senkouSpanB.slice(D,S+1),A=l.senkouSpanA.slice(D,S+1),1<=Math.floor(C.length/2)){var O=Math.floor(C.length/2);if(C[O].plotY===A[O].plotY){for(j=0,I=0,k=0;j<C.length;j++)I+=C[j].plotY,k+=A[j].plotY;c[T=I>k?0:1]=c[T].concat(C),g[T]=g[T].concat(A)}else c[T=C[O].plotY>A[O].plotY?0:1]=c[T].concat(C),g[T]=g[T].concat(A)}else c[T=C[0].plotY>A[0].plotY?0:1]=c[T].concat(C),g[T]=g[T].concat(A);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){c[t].length&&g[t].length&&(P=0===t?u:h,B({indicator:s,points:c[t],nextPoints:g[t],color:P,options:i,gap:a,graph:s[e]}),s[e]=s.graph,s.graphCollection.push(e))})}else B({indicator:s,points:l.senkouSpanB,nextPoints:l.senkouSpanA,color:u,options:i,gap:a,graph:s.graphsenkouSpan}),s.graphsenkouSpan=s.graph;delete s.nextPoints,delete s.fillGraph,s.points=e,s.options=i,s.graph=t,s.color=o}getGraphPath(e){let t=[],s,i;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((s=E.seriesTypes.sma.prototype.getGraphPath.call(this,this.nextPoints))&&s.length){s[0][0]="L",t=E.seriesTypes.sma.prototype.getGraphPath.call(this,e);for(let e=(i=s.slice(0,t.length)).length-1;0<=e;e--)t.push(i[e])}}else t=E.seriesTypes.sma.prototype.getGraphPath.apply(this,arguments);return t}getValues(e,t){let s,i,o,a,r,n,l,p,d,u,h=t.period,c=t.periodTenkan,g=t.periodSenkouSpanB,m=e.xData,y=e.yData,v=e.xAxis,f=y&&y.length||0,x=I(v.series.map(e=>e.xData||[])),D=[],S=[];if(!(m.length<=h)&&A(y[0])&&4===y[0].length){var C=m[0]-h*x;for(r=0;r<h;r++)S.push(C+r*x);for(r=0;r<f;r++)r>=c&&(n=((i=k(y.slice(r-c,r))).high+i.low)/2),r>=h&&(d=(n+(l=((o=k(y.slice(r-h,r))).high+o.low)/2))/2),r>=g&&(u=((a=k(y.slice(r-g,r))).high+a.low)/2),p=y[r][3],s=m[r],void 0===D[r]&&(D[r]=[]),void 0===D[r+h-1]&&(D[r+h-1]=[]),D[r+h-1][0]=n,D[r+h-1][1]=l,(D[r+h-1][2]=void 0)===D[r+1]&&(D[r+1]=[]),D[r+1][2]=p,r<=h&&(D[r+h-1][3]=void 0,D[r+h-1][4]=void 0),void 0===D[r+2*h-2]&&(D[r+2*h-2]=[]),D[r+2*h-2][3]=d,D[r+2*h-2][4]=u,S.push(s);for(r=1;r<=h;r++)S.push(s+r*x);return{values:D,xData:S,yData:D}}}}return n.defaultOptions=w(i.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),a(n.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),o["ichimoku-averages"]=function(){let s,i=[];return[].forEach.call(arguments,function(e,t){i.push(o.average(e)),s=!s&&void 0===i[t]}),s?void 0:i},E.registerSeriesType("ikh",n),n}),t(e,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,D,t){let s=D.seriesTypes["sma"],{correctFloat:S,extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){D.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=o({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){let s,i,o,a,r,n,l,p=t.period,d=t.periodATR,u=t.multiplierATR,h=t.index,c=e.yData,g=c?c.length:0,m=[],y=D.seriesTypes.ema.prototype.getValues(e,{period:p,index:h}),v=D.seriesTypes.atr.prototype.getValues(e,{period:d}),f=[],x=[];if(!(g<p)){for(l=p;l<=g;l++)r=y.values[l-p],n=v.values[l-d],a=r[0],i=S(r[1]+u*n[1]),o=S(r[1]-u*n[1]),s=r[1],m.push([a,i,s,o]),f.push(a),x.push([i,s,o]);return{values:m,xData:f,yData:x}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),i(a.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(a),D.registerSeriesType("keltnerchannels",a),a}),t(e,"Stock/Indicators/Klinger/KlingerIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let{ema:n,sma:i}=t.seriesTypes,{correctFloat:D,error:r,extend:o,isArray:l,merge:a}=s;class p extends i{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.volumeSeries=void 0}calculateTrend(e,t){return e[t][1]+e[t][2]+e[t][3]>e[t-1][1]+e[t-1][2]+e[t-1][3]?1:-1}isValidData(e){let t=this.chart,s=this.options,i=this.linkedParent,o=l(e)&&4===e.length,a=this.volumeSeries||(this.volumeSeries=t.get(s.params.volumeSeriesID));return a||r("Series "+s.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,i.chart),!(![i,a].every(function(e){return e&&e.xData&&e.xData.length>=s.params.slowAvgPeriod})||!o)}getCM(e,t,s,i,o){return D(t+(s===i?e:o))}getDM(e,t){return D(e-t)}getVolumeForce(e){let t=[],s,i,o=1,a=0,r=e[0][1]-e[0][2],n=0,l;for(;o<e.length;o++)l=this.calculateTrend(e,o),i=this.getDM(e[o][1],e[o][2]),s=this.getCM(a,i,l,n,r),t.push([this.volumeSeries.yData[o]*l*Math.abs(2*(i/s-1))*100]),n=l,a=s,r=i;return t}getEMA(e,t,s,i,o,a,r){return n.prototype.calculateEma(r||[],e,void 0===a?1:a,i,t,void 0===o?-1:o,s)}getSMA(e,t,s){return n.prototype.accumulatePeriodPoints(e,t,s)/e}getValues(e,t){let s=[],i=e.xData,o=e.yData,a=[],r=[],n=[],l,p=0,d=0,u,h,c,g=null;if(this.isValidData(o[0])){for(var m=this.getVolumeForce(o),y=this.getSMA(t.fastAvgPeriod,0,m),v=this.getSMA(t.slowAvgPeriod,0,m),f=2/(t.fastAvgPeriod+1),x=2/(t.slowAvgPeriod+1);p<o.length;p++)p>=t.fastAvgPeriod&&(h=d=this.getEMA(m,h,y,f,0,p,i)[1]),p>=t.slowAvgPeriod&&(c=u=this.getEMA(m,c,v,x,0,p,i)[1],n.push(l=D(d-u)),n.length>=t.signalPeriod&&(g=n.slice(-t.signalPeriod).reduce((e,t)=>e+t)/t.signalPeriod),s.push([i[p],l,g]),a.push(i[p]),r.push([l,g]));return{values:s,xData:a,yData:r}}}}return p.defaultOptions=a(i.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),o(p.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),e.compose(p),t.registerSeriesType("klinger",p),p}),t(e,"Stock/Indicators/MACD/MACDIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,u,t){let s=e["noop"],i=u.seriesTypes["sma"],{extend:o,correctFloat:h,defined:c,merge:l}=t;class a extends i{constructor(){super(...arguments),this.data=void 0,this.macdZones=void 0,this.options=void 0,this.points=void 0,this.signalZones=void 0}init(){u.seriesTypes.sma.prototype.init.apply(this,arguments);var e=this.color;this.options&&(c(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0),this.color=e}toYData(e){return[e.y,e.signal,e.MACD]}translate(){let i=this,o=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(i),i.points.forEach(function(s){[s.signal,s.MACD].forEach(function(e,t){null!==e&&(s[o[t]]=i.yAxis.toPixels(e,!0))})})}destroy(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),u.seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){let s=this,e=s.points,i=s.options,t=s.zones,o={options:{gapSize:i.gapSize}},a=[[],[]],r,n=e.length;for(;n--;)c((r=e[n]).plotMACD)&&a[0].push({plotX:r.plotX,plotY:r.plotMACD,isNull:!c(r.plotMACD)}),c(r.plotSignal)&&a[1].push({plotX:r.plotX,plotY:r.plotSignal,isNull:!c(r.plotMACD)});["macd","signal"].forEach(function(e,t){s.points=a[t],s.options=l(i[e+"Line"].styles,o),s.graph=s["graph"+e],s.currentLineZone=e+"Zones",s.zones=s[s.currentLineZone].zones,u.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+e]=s.graph}),s.points=e,s.options=i,s.zones=t,s.currentLineZone=void 0}getZonesGraphs(e){let t=super.getZonesGraphs(e),s=t;return this.currentLineZone&&((s=t.splice(this[this.currentLineZone].startIndex+1)).length?s.splice(0,0,e[0]):s=[e[0]]),s}applyZones(){var e=this.zones;this.zones=this.signalZones.zones,u.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e}getValues(e,t){let s=t.longPeriod-t.shortPeriod,i=[],o=[],a=[],r,n,l,p=0,d;if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(l=0,r=u.seriesTypes.ema.prototype.getValues(e,{period:t.shortPeriod,index:t.index}),n=u.seriesTypes.ema.prototype.getValues(e,{period:t.longPeriod,index:t.index}),r=r.values,n=n.values;l<=r.length;l++)c(n[l])&&c(n[l][1])&&c(r[l+s])&&c(r[l+s][0])&&i.push([r[l+s][0],0,null,r[l+s][1]-n[l][1]]);for(l=0;l<i.length;l++)o.push(i[l][0]),a.push([0,null,i[l][3]]);for(l=0,d=u.seriesTypes.ema.prototype.getValues({xData:o,yData:a},{period:t.signalPeriod,index:2}).values;l<i.length;l++)i[l][0]>=d[0][0]&&(i[l][2]=d[p][1],a[l]=[0,d[p][1],i[l][3]],null===i[l][3]?(i[l][1]=0,a[l][0]=0):(i[l][1]=h(i[l][3]-d[p][1]),a[l][0]=h(i[l][3]-d[p][1])),p++);return{values:i,xData:o,yData:a}}}}return a.defaultOptions=l(i.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),o(a.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:s,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,drawPoints:e.seriesTypes.column.prototype.drawPoints}),u.registerSeriesType("macd",a),a}),t(e,"Stock/Indicators/MFI/MFIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{extend:i,merge:o,error:C,isArray:A}=t;function I(e){return e.reduce(function(e,t){return e+t})}function k(e){return(e[1]+e[2]+e[3])/3}class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=t.decimals,n=e.chart.get(t.volumeSeriesID),l=n&&n.yData,p=[],d=[],u=[],h=[],c=[],g,m,y,v,f,x,D=!1,S=1;if(n){if(!(i.length<=s)&&A(o[0])&&4===o[0].length&&l){for(g=k(o[S]);S<s+1;)m=g,D=(g=k(o[S]))>=m,y=g*l[S],h.push(D?y:0),c.push(D?0:y),S++;for(x=S-1;x<a;x++)x>S-1&&(h.shift(),c.shift(),m=g,D=(g=k(o[x]))>m,y=g*l[x],h.push(D?y:0),c.push(D?0:y)),v=I(c),f=parseFloat((100-100/(1+I(h)/v)).toFixed(r)),p.push([i[x],f]),d.push(i[x]),u.push(f);return{values:p,xData:d,yData:u}}}else C("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return a.defaultOptions=o(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),i(a.prototype,{nameBase:"Money Flow Index"}),e.registerSeriesType("mfi",a),a}),t(e,"Stock/Indicators/Momentum/MomentumIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{extend:i,isArray:h,merge:o}=t;function c(e,t,s,i,o){t=t[s-1][o]-t[s-i-1][o];return[e[s-1],t]}class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o=t.period,a=t.index,r=e.xData,n=e.yData,l=n?n.length:0,p=[],d=[],u=[];if(!(r.length<=o)&&h(n[0])){for(s=o+1;s<l;s++)i=c(r,n,s,o,a),p.push(i),d.push(i[0]),u.push(i[1]);return i=c(r,n,s,o,a),p.push(i),d.push(i[0]),u.push(i[1]),{values:p,xData:d,yData:u}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:3}}),i(a.prototype,{nameBase:"Momentum"}),e.registerSeriesType("momentum",a),a}),t(e,"Stock/Indicators/NATR/NATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["atr"],i=t["merge"];class o extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=super.getValues.apply(this,arguments),i=s.values.length,o=e.yData,a=0,r=t.period-1;if(s){for(;a<i;a++)s.yData[a]=s.values[a][1]/o[r][3]*100,s.values[a][1]=s.yData[a],r++;return s}}}return o.defaultOptions=i(s.defaultOptions,{tooltip:{valueSuffix:"%"}}),e.registerSeriesType("natr",o),o}),t(e,"Stock/Indicators/OBV/OBVIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isNumber:y,error:v,extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=e.chart.get(t.volumeSeriesID),i=e.xData,o=e.yData,a=[],r=[],n=[],l=!y(o[0]),p,d=1,u=0,h,c=0,g,m;if(s){for(m=s.yData,p=[i[0],u],c=l?o[0][3]:o[0],a.push(p),r.push(i[0]),n.push(p[1]);d<o.length;d++)h=(g=l?o[d][3]:o[d])>c?u+m[d]:g===c?u:u-m[d],p=[i[d],h],u=h,c=g,a.push(p),r.push(i[d]),n.push(p[1]);return{values:a,xData:r,yData:n}}v("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return a.defaultOptions=o(s.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),i(a.prototype,{nameComponents:void 0}),e.registerSeriesType("obv",a),a}),t(e,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(a){function e(e,t){let s=e.series.pointArrayMap,i,o=s.length;for(a.seriesTypes.sma.prototype.pointClass.prototype[t].call(e);o--;)e[i="dataLabel"+s[o]]&&e[i].element&&e[i].destroy(),e[i]=null}return class extends a.seriesTypes.sma.prototype.pointClass{constructor(){super(...arguments),this.P=void 0,this.pivotLine=void 0,this.series=void 0}destroyElements(){e(this,"destroyElements")}destroy(){e(this,"destroyElements")}}}),t(e,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[e["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["sma"],{merge:o,extend:a,defined:d,isArray:v}=s;class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.endPoint=void 0,this.plotEndPoint=void 0}toYData(e){return[e.P]}translate(){let s=this;super.translate.apply(s),s.points.forEach(function(t){s.pointArrayMap.forEach(function(e){d(t[e])&&(t["plot"+e]=s.yAxis.toPixels(t[e],!0))})}),s.plotEndPoint=s.xAxis.toPixels(s.endPoint,!0)}getGraphPath(e){let t=this,s=[[],[],[],[],[],[],[],[],[]],i=t.pointArrayMap.length,o=t.plotEndPoint,a=[],r,n,l=e.length,p;for(;l--;){for(p=0,n=e[l];p<i;p++)d(n[r=t.pointArrayMap[p]])&&s[p].push({plotX:n.plotX,plotY:n["plot"+r],isNull:!1},{plotX:o,plotY:n["plot"+r],isNull:!1},{plotX:o,plotY:null,isNull:!0});o=n.plotX}return s.forEach(e=>{a=a.concat(super.getGraphPath.call(t,e))}),a}drawDataLabels(){let s,i,o,a,r=this,n=r.pointArrayMap;r.options.dataLabels.enabled&&(i=r.points.length,n.concat([!1]).forEach((e,t)=>{for(a=i;a--;)o=r.points[a],e?(o.y=o[e],o.pivotLine=e,o.plotY=o["plot"+e],s=o["dataLabel"+e],t&&(o["dataLabel"+n[t-1]]=o.dataLabel),o.dataLabels||(o.dataLabels=[]),o.dataLabels[0]=o.dataLabel=s=s&&s.element?s:null):o["dataLabel"+n[t-1]]=o.dataLabel;super.drawDataLabels.call(r)}))}getValues(e,t){let s,i,o,a,r,n,l,p=t.period,d=e.xData,u=e.yData,h=u?u.length:0,c=this[t.algorithm+"Placement"],g=[],m=[],y=[];if(!(d.length<p)&&v(u[0])&&4===u[0].length){for(l=p+1;l<=h+p;l+=p)o=d.slice(l-p-1,l),a=u.slice(l-p-1,l),i=o.length,s=o[i-1],n=c(this.getPivotAndHLC(a)),r=g.push([s].concat(n)),m.push(s),y.push(g[r-1].slice(1));return this.endPoint=o[0]+(s-o[0])/i*p,{values:g,xData:m,yData:y}}}getPivotAndHLC(e){let t=e[e.length-1][3],s=-1/0,i=1/0;return e.forEach(function(e){s=Math.max(s,e[1]),i=Math.min(i,e[2])}),[(s+i+t)/3,s,i,t]}standardPlacement(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]}camarillaPlacement(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]}fibonacciPlacement(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}}return r.defaultOptions=o(i.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),a(r.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:e}),t.registerSeriesType("pivotpoints",r),r}),t(e,"Stock/Indicators/PPO/PPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["ema"],{correctFloat:h,extend:i,merge:o,error:c}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o=t.periods,a=t.index,r=[],n=[],l=[];if(2!==o.length||o[1]<=o[0])c('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var p=super.getValues.call(this,e,{index:a,period:o[0]}),d=super.getValues.call(this,e,{index:a,period:o[1]});if(p&&d){var u=o[1]-o[0];for(i=0;i<d.yData.length;i++)s=h((p.yData[i+u]-d.yData[i])/d.yData[i]*100),r.push([d.xData[i],s]),n.push(d.xData[i]),l.push(s);return{values:r,xData:n,yData:l}}}}}return a.defaultOptions=o(s.defaultOptions,{params:{period:void 0,periods:[12,26]}}),i(a.prototype,{nameBase:"PPO",nameComponents:["periods"]}),e.registerSeriesType("ppo",a),a}),t(e,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(e,s,i){return e.reduce((e,t)=>[Math.min(e[0],t[s]),Math.max(e[1],t[i])],[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),t(e,"Stock/Indicators/PC/PCIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Color/Palettes.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(y,e,t,s,i){let o=s.seriesTypes["sma"],{merge:a,extend:r}=i;class n extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o,a,r,n,l,p=t.period,d=e.xData,u=e.yData,h=u?u.length:0,c=[],g=[],m=[];if(!(h<p)){for(l=p;l<=h;l++)a=d[l-1],r=u.slice(l-p,l),s=((i=(n=y.getArrayExtremes(r,2,1))[1])+(o=n[0]))/2,c.push([a,i,s,o]),g.push(a),m.push([i,s,o]);return{values:c,xData:g,yData:m}}}}return n.defaultOptions=a(o.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:t.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:t.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),r(n.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(n),s.registerSeriesType("pc",n),n}),t(e,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["sma"],{extend:o,isArray:x,merge:a}=s;class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){super.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){let s,i,o,a,r,n,l,p,d=t.period,u=t.topBand,h=t.bottomBand,c=e.xData,g=e.yData,m=g?g.length:0,y=[],v=[],f=[];if(!(c.length<d)&&x(g[0])&&4===g[0].length){for(p=d;p<=m;p++)r=c.slice(p-d,p),n=g.slice(p-d,p),a=(l=super.getValues({xData:r,yData:n},t)).xData[0],i=(s=l.yData[0])*(1+u),o=s*(1-h),y.push([a,i,s,o]),v.push(a),f.push([i,s,o]);return{values:y,xData:v,yData:f}}}}return r.defaultOptions=a(i.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),o(r.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),e.compose(r),t.registerSeriesType("priceenvelopes",r),r}),t(e,"Stock/Indicators/PSAR/PSARIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],i=t["merge"];function O(e,t){return parseFloat(e.toFixed(t))}class o extends s{constructor(){super(...arguments),this.data=void 0,this.nameComponents=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=e.xData,i=e.yData,o=t.maxAccelerationFactor,a=t.increment,r=t.initialAccelerationFactor,n=t.decimals,l=t.index,p=[],d=[],u=[],h=t.initialAccelerationFactor,c,g=i[0][1],m,y,v,f=1,x,D,S,C,A=i[0][2],I,k,P,T;if(!(l>=i.length)){for(T=0;T<l;T++)g=Math.max(i[T][1],g),A=Math.min(i[T][2],O(A,n));for(c=i[T][1]>A?1:-1,m=g-A,y=(h=t.initialAccelerationFactor)*m,p.push([s[l],A]),d.push(s[l]),u.push(O(A,n)),T=l+1;T<i.length;T++){var b,j,M,L,V;x=i[T-1][2],D=i[T-2][2],S=i[T-1][1],C=i[T-2][1],k=i[T][1],P=i[T][2],null!==D&&null!==C&&null!==x&&null!==S&&null!==k&&null!==P&&(b=c,j=f,M=A,L=y,V=g,A=b===j?1===b?M+L<Math.min(D,x)?M+L:Math.min(D,x):M+L>Math.max(C,S)?M+L:Math.max(C,S):V,j=c,b=g,I=1===j?b<k?k:b:P<b?P:b,M=f,L=A,v=1===M&&L<P||-1===M&&L<k?1:-1,V=c,j=g,b=h,y=(h=v===V?1==v&&j<I||-1==v&&I<j?b===o?o:O(b+a,2):b:r)*(I-A),p.push([s[T],O(A,n)]),d.push(s[T]),u.push(O(A,n)),f=c,c=v,g=I)}return{values:p,xData:d,yData:u}}}}return o.defaultOptions=i(s.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),e.registerSeriesType("psar",o),o}),t(e,"Stock/Indicators/ROC/ROCIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isArray:h,merge:i,extend:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=[],n=[],l=[],p,d=-1,u;if(!(i.length<=s)){for(h(o[0])&&(d=t.index),p=s;p<a;p++)u=function(e,t,s,i,o){let a,r;return r=o<0?(a=t[s-i])?(t[s]-a)/a*100:null:(a=t[s-i][o])?(t[s][o]-a)/a*100:null,[e[s],r]}(i,o,p,s,d),r.push(u),n.push(u[0]),l.push(u[1]);return{values:r,xData:n,yData:l}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:3,period:9}}),o(a.prototype,{nameBase:"Rate of Change"}),e.registerSeriesType("roc",a),a}),t(e,"Stock/Indicators/RSI/RSIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isNumber:D,merge:i}=t;function S(e,t){return parseFloat(e.toFixed(t))}class o extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=t.decimals,n=[],l=[],p=[],d=0,u=0,h=t.index,c=1,g,m,y,v,f,x;if(!(i.length<s)){for(x=D(o[0])?o:(h=Math.min(h,o[0].length-1),o.map(e=>e[h]));c<s;)0<(m=S(x[c]-x[c-1],r))?d+=m:u+=Math.abs(m),c++;for(y=S(d/(s-1),r),v=S(u/(s-1),r),f=c;f<a;f++)u=0<(m=S(x[f]-x[f-1],r))?(d=m,0):(d=0,Math.abs(m)),y=S((y*(s-1)+d)/s,r),g=0===(v=S((v*(s-1)+u)/s,r))?100:0===y?0:S(100-100/(1+y/v),r),n.push([i[f],g]),l.push(i[f]),p.push(g);return{values:n,xData:l,yData:p}}}}return o.defaultOptions=i(s.defaultOptions,{params:{decimals:4,index:3}}),e.registerSeriesType("rsi",o),o}),t(e,"Stock/Indicators/Stochastic/StochasticIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(v,e,t,s){let i=t.seriesTypes["sma"],{extend:o,isArray:f,merge:a}=s;class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){super.init.apply(this,arguments),this.options=a({smoothedLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){let s=t.periods[0],i=t.periods[1],o=e.xData,a=e.yData,r=a?a.length:0,n=[],l=[],p=[],d,u,h,c=null,g,m;if(!(r<s)&&f(a[0])&&4===a[0].length){let e=!0,t=0;for(m=s-1;m<r;m++){var y;(d=a.slice(m-s+1,m+1),u=(g=v.getArrayExtremes(d,2,1))[0],isNaN(h=(a[m][3]-u)/(g[1]-u)*100)&&e)?t++:(e&&!isNaN(h)&&(e=!1),y=l.push(o[m]),isNaN(h)?p.push([p[y-2]&&"number"==typeof p[y-2][0]?p[y-2][0]:null,null]):p.push([h,null]),m>=t+(s-1)+(i-1)&&(c=super.getValues({xData:l.slice(-i),yData:p.slice(-i)},{period:i}).yData[0]),n.push([o[m],h,c]),p[y-1][1]=c)}return{values:n,xData:l,yData:p}}}}return r.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),o(r.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),e.compose(r),t.registerSeriesType("stochastic",r),r}),t(e,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let{sma:n,stochastic:s}=e.seriesTypes,{extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s=t.periods,i=super.getValues.call(this,e,t),o={values:[],xData:[],yData:[]};if(i){o.xData=i.xData.slice(s[1]-1);var a=i.yData.slice(s[1]-1),r=n.prototype.getValues.call(this,{xData:o.xData,yData:a},{index:1,period:s[2]});if(r){for(let e=0,t=o.xData.length;e<t;e++)o.yData[e]=[a[e][1],r.yData[e-s[2]+1]||null],o.values[e]=[o.xData[e],a[e][1],r.yData[e-s[2]+1]||null];return o}}}}return a.defaultOptions=o(s.defaultOptions,{params:{periods:[14,3,3]}}),i(a.prototype,{nameBase:"Slow Stochastic"}),e.registerSeriesType("slowstochastic",a),a}),t(e,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,i){let{atr:C,sma:S}=e.seriesTypes,{addEvent:o,correctFloat:A,isArray:I,extend:s,merge:k,objectEach:P}=t;function T(e,t,s){return{index:t,close:e.yData[t][s],x:e.xData[t]}}class a extends S{constructor(){super(...arguments),this.data=void 0,this.linkedParent=void 0,this.options=void 0,this.points=void 0}init(){let s=this,e=(super.init.apply(s,arguments),o(i,"afterLinkSeries",()=>{if(s.options){let e=s.options,t=s.linkedParent.options;e.cropThreshold=t.cropThreshold-(e.params.period-1)}e()},{order:1}))}drawGraph(){let s=this,e=s.options,t=s.linkedParent,i=t?t.points:[],o=s.points,a=s.graph,r=i.length-o.length,n=0<r?r:0,l={options:{gapSize:e.gapSize}},p={top:[],bottom:[],intersect:[]},d={top:{styles:{lineWidth:e.lineWidth,lineColor:e.fallingTrendColor||e.color,dashStyle:e.dashStyle}},bottom:{styles:{lineWidth:e.lineWidth,lineColor:e.risingTrendColor||e.color,dashStyle:e.dashStyle}},intersect:e.changeTrendLine},u,h,c,g,m,y,v,f,x,D=o.length;for(;D--;)u=o[D],h=o[D-1],c=i[D-1+n],g=i[D-2+n],m=i[D+n],y=i[D+n+1],v=u.options.color,f={x:u.x,plotX:u.plotX,plotY:u.plotY,isNull:!1},!g&&c&&t.yData[c.index-1]&&(g=T(t,c.index-1,3)),!y&&m&&t.yData[m.index+1]&&(y=T(t,m.index+1,3)),!c&&g&&t.yData[g.index+1]?c=T(t,g.index+1,3):!c&&m&&t.yData[m.index-1]&&(c=T(t,m.index-1,3)),u&&c&&m&&g&&u.x!==c.x&&(u.x===m.x?(g=c,c=m):u.x===g.x?(c=g,g={close:t.yData[c.index-1][3],x:t.xData[c.index-1]}):y&&u.x===y.x&&(c=y,g=m)),h&&g&&c?(x={x:h.x,plotX:h.plotX,plotY:h.plotY,isNull:!1},u.y>=c.close&&h.y>=g.close?(u.color=v||e.fallingTrendColor||e.color,p.top.push(f)):u.y<c.close&&h.y<g.close?(u.color=v||e.risingTrendColor||e.color,p.bottom.push(f)):(p.intersect.push(f),p.intersect.push(x),p.intersect.push(k(x,{isNull:!0})),u.y>=c.close&&h.y<g.close?(u.color=v||e.fallingTrendColor||e.color,h.color=v||e.risingTrendColor||e.color,p.top.push(f),p.top.push(k(x,{isNull:!0}))):u.y<c.close&&h.y>=g.close&&(u.color=v||e.risingTrendColor||e.color,h.color=v||e.fallingTrendColor||e.color,p.bottom.push(f),p.bottom.push(k(x,{isNull:!0}))))):c&&(u.y>=c.close?(u.color=v||e.fallingTrendColor||e.color,p.top.push(f)):(u.color=v||e.risingTrendColor||e.color,p.bottom.push(f)));P(p,function(e,t){s.points=e,s.options=k(d[t].styles,l),s.graph=s["graph"+t+"Line"],S.prototype.drawGraph.call(s),s["graph"+t+"Line"]=s.graph}),s.points=o,s.options=e,s.graph=a}getValues(e,t){let s=t.period,i=t.multiplier,o=e.xData,a=e.yData,r=[],n=[],l=[],p=0===s?0:s-1,d=[],u=[],h,c,g,m,y,v,f,x,D,S;if(!(o.length<=s)&&I(a[0])&&4===a[0].length&&!(s<0)){for(S=0,h=C.prototype.getValues.call(this,e,{period:s}).yData;S<h.length;S++)D=a[p+S],x=a[p+S-1]||[],y=d[S-1],v=u[S-1],f=l[S-1],0===S&&(y=v=f=0),c=A((D[1]+D[2])/2+i*h[S]),g=A((D[1]+D[2])/2-i*h[S]),c<y||x[3]>y?d[S]=c:d[S]=y,g>v||x[3]<v?u[S]=g:u[S]=v,f===y&&D[3]<d[S]||f===v&&D[3]<u[S]?m=d[S]:(f===y&&D[3]>d[S]||f===v&&D[3]>u[S])&&(m=u[S]),r.push([o[p+S],m]),n.push(o[p+S]),l.push(m);return{values:r,xData:n,yData:l}}}}return a.defaultOptions=k(S.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),s(a.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),e.registerSeriesType("supertrend",a),a}),t(e,"Stock/Indicators/VBP/VBPPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(e){var{pointClass:e}=e.seriesTypes["sma"]["prototype"];return class extends e{destroy(){this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),super.destroy.apply(this,arguments)}}}),t(e,"Stock/Indicators/VBP/VBPIndicator.js",[e["Stock/Indicators/VBP/VBPPoint.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,s,i,o,a){let r=t["animObject"],n=s["noop"],{column:{prototype:x},sma:l}=i.seriesTypes,{addEvent:p,arrayMax:D,arrayMin:m,correctFloat:S,defined:y,error:u,extend:d,isArray:h,merge:c}=o,C=Math.abs;class g extends l{constructor(){super(...arguments),this.data=void 0,this.negWidths=void 0,this.options=void 0,this.points=void 0,this.posWidths=void 0,this.priceZones=void 0,this.rangeStep=void 0,this.volumeDataArray=void 0,this.zoneStarts=void 0,this.zoneLinesSVG=void 0}init(s,e){let i=this,o=(delete e.data,super.init.apply(i,arguments),p(a,"afterLinkSeries",function(){var e,t;i.options&&(t=i.options.params,e=i.linkedParent,t=s.get(t.volumeSeriesID),i.addCustomEvents(e,t)),o()},{order:1}));return i}addCustomEvents(e,t){let s=this,i=()=>{s.chart.redraw(),s.setData([]),s.zoneStarts=[],s.zoneLinesSVG&&(s.zoneLinesSVG=s.zoneLinesSVG.destroy())};return s.dataEventsToUnbind.push(p(e,"remove",function(){i()})),t&&s.dataEventsToUnbind.push(p(t,"remove",function(){i()})),s}animate(e){let s=this,t=s.chart.inverted,i=s.group,o={};!e&&i&&(e=t?s.yAxis.top:s.xAxis.left,t?(i["forceAnimate:translateY"]=!0,o.translateY=e):(i["forceAnimate:translateX"]=!0,o.translateX=e),i.animate(o,d(r(s.options.animation),{step:function(e,t){s.group.attr({scaleX:Math.max(.001,t.pos)})}})))}drawPoints(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),x.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),x.drawPoints.apply(this,arguments)}posNegVolume(e,t){let s=t?["positive","negative"]:["negative","positive"],i=this.options.volumeDivision,o=this.points.length,a=[],r=[],n=0,l,p,d,u;for(e?(this.posWidths=a,this.negWidths=r):(a=this.posWidths,r=this.negWidths);n<o;n++)(u=this.points[n])[s[0]+"Graphic"]=u.graphic,u.graphic=u[s[1]+"Graphic"],e&&(l=u.shapeArgs.width,(d=(p=this.priceZones[n]).wholeVolumeData)?(a.push(l/d*p.positiveVolumeData),r.push(l/d*p.negativeVolumeData)):(a.push(0),r.push(0))),u.color=t?i.styles.positiveColor:i.styles.negativeColor,u.shapeArgs.width=(t?this.posWidths:this.negWidths)[n],u.shapeArgs.x=t?u.shapeArgs.x:this.posWidths[n]}translate(){let s=this,e=s.options,t=s.chart,i=s.yAxis,o=i.min,a=s.options.zoneLines,r=s.priceZones,n=0,l,p,d,u,h,c,g,m,y,v,f=(x.translate.apply(s),s.points);f.length&&(g=e.pointPadding<.5?e.pointPadding:.1,l=D(s.volumeDataArray),p=t.plotWidth/2,m=t.plotTop,d=C(i.toPixels(o)-i.toPixels(o+s.rangeStep)),h=C(i.toPixels(o)-i.toPixels(o+s.rangeStep)),g&&(u=C(d*(1-2*g)),n=C((d-u)/2),d=C(u)),f.forEach(function(e,t){y=e.barX=e.plotX=0,v=e.plotY=i.toPixels(r[t].start)-m-(i.reversed?d-h:d)-n,c=S(p*r[t].wholeVolumeData/l),e.pointWidth=c,e.shapeArgs=s.crispCol.apply(s,[0,v,c,d]),e.volumeNeg=r[t].negativeVolumeData,e.volumePos=r[t].positiveVolumeData,e.volumeAll=r[t].wholeVolumeData}),a.enabled&&s.drawZones(t,i,s.zoneStarts,a.styles))}getExtremes(){let e;var t=this.options.compare,s=this.options.cumulative;return this.options.compare?(this.options.compare=void 0,e=super.getExtremes(),this.options.compare=t):this.options.cumulative?(this.options.cumulative=!1,e=super.getExtremes(),this.options.cumulative=s):e=super.getExtremes(),e}getValues(e,t){let s=e.processedXData,i=e.processedYData,o=this.chart,a=t.ranges,r=[],n=[],l=[],p=o.get(t.volumeSeriesID);if(e.chart){var d;if(!p||!p.processedXData.length)return d=p&&!p.processedXData.length?" does not contain any data.":" not found! Check `volumeSeriesID`.",void u("Series "+t.volumeSeriesID+d,!0,o);t=h(i[0]);if(!t||4===i[0].length){let e=this.priceZones=this.specifyZones(t,s,i,a,p);return e.forEach(function(e,t){r.push([e.x,e.end]),n.push(r[t][0]),l.push(r[t][1])}),{values:r,xData:n,yData:l}}u("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,o)}else u("Base series not found! In case it has been removed, add a new one.",!0,o)}specifyZones(e,t,s,i,o){let a=!!e&&function(e){let t=e.length,s=e[0][3],i=s,o=1,a;for(;o<t;o++)(a=e[o][3])<s&&(s=a),a>i&&(i=a);return{min:s,max:i}}(s),r=this.zoneStarts=[],n=[],l=a?a.min:m(s),p=a?a.max:D(s),d=0,u=1,h=this.linkedParent;if(!this.options.compareToMain&&h.dataModify&&(l=h.dataModify.modifyValue(l),p=h.dataModify.modifyValue(p)),!y(l)||!y(p))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];var c=this.rangeStep=S(p-l)/i;for(r.push(l);d<i-1;d++)r.push(S(r[d]+c));r.push(p);for(var g=r.length;u<g;u++)n.push({index:u-1,x:t[0],start:r[u-1],end:r[u]});return this.volumePerZone(e,n,o,t,s)}volumePerZone(s,e,t,i,o){let a,r,n,l,p,d=this,u=t.processedXData,h=t.processedYData,c=e.length-1,g=o.length,m=h.length;return C(g-m)&&(i[0]!==u[0]&&h.unshift(0),i[g-1]!==u[m-1]&&h.push(0)),d.volumeDataArray=[],e.forEach(function(t){for(p=0,t.wholeVolumeData=0,t.positiveVolumeData=0,t.negativeVolumeData=0;p<g;p++){r=!1,n=!1,l=s?o[p][3]:o[p],a=p?s?o[p-1][3]:o[p-1]:l;let e=d.linkedParent;!d.options.compareToMain&&e.dataModify&&(l=e.dataModify.modifyValue(l),a=e.dataModify.modifyValue(a)),l<=t.start&&0===t.index&&(r=!0),l>=t.end&&t.index===c&&(n=!0),(l>t.start||r)&&(l<t.end||n)&&(t.wholeVolumeData+=h[p],a>l?t.negativeVolumeData+=h[p]:t.positiveVolumeData+=h[p])}d.volumeDataArray.push(t.wholeVolumeData)}),e}drawZones(t,s,e,i){let o=t.renderer,a=t.plotWidth,r=t.plotTop,n=this.zoneLinesSVG,l=[],p;e.forEach(function(e){p=s.toPixels(e)-r,l=l.concat(t.renderer.crispLine([["M",0,p],["L",a,p]],i.lineWidth))}),n?n.animate({d:l}):n=this.zoneLinesSVG=o.path(l).attr({"stroke-width":i.lineWidth,stroke:i.color,dashstyle:i.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}}return g.defaultOptions=c(l.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}}),d(g.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:e,markerAttribs:n,drawGraph:n,getColumnMetrics:x.getColumnMetrics,crispCol:x.crispCol}),i.registerSeriesType("vbp",g),g}),t(e,"Stock/Indicators/VWAP/VWAPIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{error:l,isArray:p,merge:i}=t;class o extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=e.chart,i=e.xData,o=e.yData,a=t.period,r=!0,n;if(n=s.get(t.volumeSeriesID))return p(o[0])||(r=!1),this.calculateVWAPValues(r,i,o,n,a);l("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s)}calculateVWAPValues(e,t,s,i,o){let a,r,n,l,p,d,u=i.yData,h=i.xData.length,c=t.length,g=[],m=[],y=[],v=[],f=[];for(p=0,a=c<=h?c:h,d=0;p<a;p++)r=(e?(s[p][1]+s[p][2]+s[p][3])/3:s[p])*u[p],n=d?g[p-1]+r:r,l=d?m[p-1]+u[p]:u[p],g.push(n),m.push(l),f.push([t[p],n/l]),y.push(f[p][0]),v.push(f[p][1]),++d===o&&(d=0);return{values:f,xData:y,yData:v}}}return o.defaultOptions=i(s.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),e.registerSeriesType("vwap",o),o}),t(e,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(m,e,t){let s=e.seriesTypes["sma"],{extend:i,isArray:y,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o,a,r,n,l=t.period,p=e.xData,d=e.yData,u=d?d.length:0,h=[],c=[],g=[];if(!(p.length<l)&&y(d[0])&&4===d[0].length){for(n=l-1;n<u;n++)s=d.slice(n-l+1,n+1),r=(i=m.getArrayExtremes(s,2,1))[0],o=-((a=i[1])-d[n][3])/(a-r)*100,p[n]&&(h.push([p[n],o]),c.push(p[n]),g.push(o));return{values:h,xData:c,yData:g}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:void 0,period:14}}),i(a.prototype,{nameBase:"Williams %R"}),e.registerSeriesType("williamsr",a),a}),t(e,"Stock/Indicators/WMA/WMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isArray:y,merge:i}=t;function v(e,t,s,i,o){t=t[i],s=o<0?s[i]:s[i][o];e.push([t,s])}function f(e,t,s,i){var o=e.length,o=e.reduce(function(e,t,s){return[null,e[1]+t[1]*(s+1)]})[1]/((o+1)/2*o),t=t[i-1];return e.shift(),[t,o]}class o extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s=t.period,i=e.xData,o=e.yData,a=o?o.length:0,r=i[0],n=[],l=[],p=[],d=1,u=-1,h,c,g=o[0];if(!(i.length<s)){y(o[0])&&(u=t.index,g=o[0][u]);for(var m=[[r,g]];d!==s;)v(m,i,o,d,u),d++;for(h=d;h<a;h++)n.push(c=f(m,i,0,h)),l.push(c[0]),p.push(c[1]),v(m,i,o,h,u);return n.push(c=f(m,i,0,h)),l.push(c[0]),p.push(c[1]),{values:n,xData:l,yData:p}}}}return o.defaultOptions=i(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("wma",o),o}),t(e,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{merge:i,extend:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){let s=t.lowIndex,i=t.highIndex,o=t.deviation/100,a=1+o,r=1-o,n=e.xData,l=e.yData,p=l?l.length:0,d=[],u=[],h=[],c,g,m,y,v=!1,f=!1;if(!(!n||n.length<=1||p&&(void 0===l[0][s]||void 0===l[0][i]))){var x=l[0][s],D=l[0][i];for(c=1;c<p;c++)l[c][s]<=D*r?(d.push([n[0],D]),m=[n[c],l[c][s]],y=!0,v=!0):l[c][i]>=x*a&&(d.push([n[0],x]),m=[n[c],l[c][i]],y=!1,v=!0),v&&(u.push(d[0][0]),h.push(d[0][1]),g=c++,c=p);for(c=g;c<p;c++)y?(l[c][s]<=m[1]&&(m=[n[c],l[c][s]]),l[c][i]>=m[1]*a&&(f=i)):(l[c][i]>=m[1]&&(m=[n[c],l[c][i]]),l[c][s]<=m[1]*r&&(f=s)),!1!==f&&(d.push(m),u.push(m[0]),h.push(m[1]),m=[n[c],l[c][f]],y=!y,f=!1);t=d.length;return 0!==t&&d[t-1][0]<n[p-1]&&(d.push(m),u.push(m[0]),h.push(m[1])),{values:d,xData:u,yData:h}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),o(a.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),e.registerSeriesType("zigzag",a),a}),t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{isArray:c,extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getRegressionLineParameters(e,t){function s(e,t){return c(e)?e[t]:e}let i=this.options.params.index,o=e.reduce(function(e,t){return t+e},0),a=t.reduce(function(e,t){return s(t,i)+e},0),r=o/e.length,n=a/t.length,l,p,d=0,u=0;for(p=0;p<e.length;p++)d+=(l=e[p]-r)*(s(t[p],i)-n),u+=Math.pow(l,2);var h=u?d/u:0;return{slope:h,intercept:n-h*r}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){let s=e[0];return e.map(function(e){return(e-s)/t})}findClosestDistance(e){let t,s,i;for(i=1;i<e.length-1;i++)0<(t=e[i]-e[i-1])&&(void 0===s||t<s)&&(s=t);return s}getValues(e,t){let s,i,o,a,r,n,l,p,d,u=e.xData,h=e.yData,c=t.period,g={xData:[],yData:[],values:[]},m=this.options.params.xAxisUnit||this.findClosestDistance(u);for(i=c-1;i<=u.length-1;i++)o=i-c+1,a=i+1,r=u[i],l=u.slice(o,a),p=h.slice(o,a),d=this.transformXData(l,m),s=this.getRegressionLineParameters(d,p),n=this.getEndPointY(s,d[d.length-1]),g.values.push({regressionLineParameters:s,x:r,y:n}),g.xData.push(r),g.yData.push(n);return g}}return a.defaultOptions=o(s.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),i(a.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",a),a}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["linearRegression"],{extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.slope}}return a.defaultOptions=o(s.defaultOptions),i(a.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",a),a}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["linearRegression"],{extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.intercept}}return a.defaultOptions=o(s.defaultOptions),i(a.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",a),a}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["linearRegression"],{extend:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}slopeToAngle(e){return Math.atan(e)*(180/Math.PI)}getEndPointY(e){return this.slopeToAngle(e.slope)}}return a.defaultOptions=o(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),i(a.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",a),a}),t(e,"Stock/Indicators/ABands/ABandsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){let i=t.seriesTypes["sma"],{correctFloat:P,extend:o,merge:a}=s;class r extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){let s,i,o,a,r,n,l,p,d,u,h,c=t.period,g=t.factor,m=t.index,y=e.xData,v=e.yData,f=v?v.length:0,x=[],D=[],S=[],C=[],A=[];if(!(f<c)){for(h=0;h<=f;h++){var I,k;h<f&&(k=v[h][2],r=P((I=v[h][1])-k)/(P(I+k)/2)*1e3*g,x.push(v[h][1]*P(1+2*r)),D.push(v[h][2]*P(1-2*r))),h>=c&&(d=y.slice(h-c,h),u=v.slice(h-c,h),l=super.getValues.call(this,{xData:d,yData:x.slice(h-c,h)},{period:c}),p=super.getValues.call(this,{xData:d,yData:D.slice(h-c,h)},{period:c}),a=(n=super.getValues.call(this,{xData:d,yData:u},{period:c,index:m})).xData[0],i=l.yData[0],o=p.yData[0],s=n.yData[0],S.push([a,i,s,o]),C.push(a),A.push([i,s,o]))}return{values:S,xData:C,yData:A}}}}return r.defaultOptions=a(i.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),o(r.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(r),t.registerSeriesType("abands",r),r}),t(e,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],{extend:i,merge:o,isArray:y}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.updateAllPoints=!0}getValues(e,t){let s=e.xData,i=e.yData,o=[],a=[],r=[],n=s.length,l=t.index,p=(n-1)*n/2,d=0,u=0,h,c,g;for(c=0;c<n;c++)d+=g=y(i[c])?i[c][l]:i[c],u+=c*g;isNaN(h=(n*u-p*d)/(n*((n-1)*n*(2*n-1)/6)-p*p))&&(h=0);var m=(d-h*p)/n;for(c=0;c<n;c++)g=h*c+m,o[c]=[s[c],g],a[c]=s[c],r[c]=g;return{xData:a,yData:r,values:o}}}return a.defaultOptions=o(s.defaultOptions,{params:{period:void 0,index:3}}),i(a.prototype,{nameBase:"Trendline",nameComponents:!1}),e.registerSeriesType("trendline",a),a}),t(e,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(s,e){let i=s.seriesTypes["sma"],{correctFloat:o,defined:m,extend:t,isArray:y,merge:a}=e;class r extends i{constructor(){super(...arguments),this.averageIndicator=void 0,this.data=void 0,this.options=void 0,this.points=void 0}init(){var e=arguments,t=e[1].params,t=t&&t.average?t.average:void 0;this.averageIndicator=s.seriesTypes[t]||i,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,t){return o(e-t)/t*100}getValues(e,t){let s=t.index,i=e.xData,o=e.yData,a=o?o.length:0,r=[],n=[],l=[],p=this.averageIndicator,d=y(o[0]),u=p.prototype.getValues(e,t),h=u.yData,c=i.indexOf(u.xData[0]);if(h&&0!==h.length&&m(s)&&!(o.length<=c)){for(let e=c;e<a;e++){var g=this.calculateDisparityIndex(d?o[e][s]:o[e],h[e-c]);r.push([i[e],g]),n.push(i[e]),l.push(g)}return{values:r,xData:n,yData:l}}}}return r.defaultOptions=a(i.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),t(r.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),s.registerSeriesType("disparityindex",r),r}),t(e,"masters/indicators/indicators-all.src.js",[],function(){})});