"use strict";var $jscomp=$jscomp||{},$jscomp$lookupPolyfilledValue=($jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,s){return e==Array.prototype||e==Object.prototype||(e[t]=s.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(e,t){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){var s=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(t||"")+"_"+s++,t)}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=(e=$jscomp.global.Symbol.iterator)||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.asyncIterator||($jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(t,s){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var o=0,i={next:function(){var e;return o<t.length?(e=o++,{value:s(e,t[e]),done:!1}):(i.next=function(){return{done:!0,value:void 0}},i.next())}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),function(e,t){var s=$jscomp.propertyToPolyfillSymbol[t];return null!=s&&void 0!==(s=e[s])?s:e[t]});$jscomp.polyfill=function(e,t,s,o){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,s,o):$jscomp.polyfillUnisolated(e,t,s,o))},$jscomp.polyfillUnisolated=function(e,t,s,o){for(s=$jscomp.global,e=e.split("."),o=0;o<e.length-1;o++){var i=e[o];i in s||(s[i]={}),s=s[i]}(t=t(o=s[e=e[e.length-1]]))!=o&&null!=t&&$jscomp.defineProperty(s,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,s,o){var i=e.split(".");e=1===i.length,o=i[0],o=!e&&o in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var r=0;r<i.length-1;r++){var a=i[r];a in o||(o[a]={}),o=o[a]}i=i[i.length-1],null!=(t=t(s=$jscomp.IS_SYMBOL_NATIVE&&"es6"===s?o[i]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==s&&($jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+i,i=$jscomp.propertyToPolyfillSymbol[i],$jscomp.defineProperty(o,i,{configurable:!0,writable:!0,value:t})))},$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e,t){return t})}},"es8","es3"),function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,s,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Stock/Indicators/SMA/SMAIndicator.js",[e["Core/Chart/Chart.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(o,e,t){const s=e.seriesTypes["line"],{addEvent:i,fireEvent:n,error:r,extend:a,isArray:d,merge:l,pick:p,splat:c}=t;class u extends s{constructor(){super(...arguments),this.points=this.options=this.linkedParent=this.dataEventsToUnbind=this.data=void 0}destroy(){this.dataEventsToUnbind.forEach(function(e){e()}),super.destroy.apply(this,arguments)}getName(){const s=[];let e=this.name;return e||((this.nameComponents||[]).forEach(function(e,t){s.push(this.options.params[e]+p(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+s.join(", ")+")":"")),e}getValues(e,t){var s=t.period,o=e.xData;const i=(e=e.yData).length,r=[],a=[],n=[];let l=-1,p=0,c,u=0;if(!(o.length<s)){for(d(e[0])&&(l=t.index||0);p<s-1;)u+=l<0?e[p]:e[p][l],p++;for(t=p;t<i;t++)u+=l<0?e[t]:e[t][l],c=[o[t],u/s],r.push(c),a.push(c[0]),n.push(c[1]),u-=l<0?e[t-p]:e[t-p][l];return{values:r,xData:a,yData:n}}}init(t,e){const s=this;super.init.call(s,t,e),e=i(o,"afterLinkSeries",function({isUpdating:e}){if(!e){if(e=!!s.dataEventsToUnbind.length,!s.linkedParent)return r("Series "+s.options.linkedTo+" not found! Check `linkedTo`.",!1,t);if(e||(s.dataEventsToUnbind.push(i(s.linkedParent,"updatedData",function(){s.recalculateValues()})),s.calculateOn.xAxis&&s.dataEventsToUnbind.push(i(s.linkedParent.xAxis,s.calculateOn.xAxis,function(){s.recalculateValues()}))),"init"===s.calculateOn.chart)s.processedYData||s.recalculateValues();else if(!e){const t=i(s.chart,s.calculateOn.chart,function(){s.recalculateValues(),t()})}}},{order:0}),s.dataEventsToUnbind=[],s.eventsToUnbind.push(e)}recalculateValues(){const e=[],t=this.points||[];var s,o=(this.xData||[]).length,i={values:[],xData:[],yData:[]};let r=!0,a;if(i=this.linkedParent.options&&this.linkedParent.yData&&this.linkedParent.yData.length&&this.getValues(this.linkedParent,this.options.params)||i,o&&!this.hasGroupedData&&this.visible&&this.points)if(this.cropped){for(this.xAxis&&(s=this.xAxis.min,a=this.xAxis.max),o=this.cropData(i.xData,i.yData,s,a),s=0;s<o.xData.length;s++)e.push([o.xData[s]].concat(c(o.yData[s])));o=i.xData.indexOf(this.xData[0]),s=i.xData.indexOf(this.xData[this.xData.length-1]),-1===o&&s===i.xData.length-2&&e[0][0]===t[0].x&&e.shift(),this.updateData(e)}else(this.updateAllPoints||i.xData.length!==o-1&&i.xData.length!==o+1)&&(r=!1,this.updateData(i.values));r&&(this.xData=i.xData,this.yData=i.yData,this.options.data=i.values),this.calculateOn.xAxis&&this.processedXData&&(delete this.processedXData,this.isDirty=!0,this.redraw()),this.isDirtyData=!!this.linkedSeries.length,n(this,"updatedData")}processData(){var e=this.options.compareToMain,t=this.linkedParent;super.processData.apply(this,arguments),this.dataModify&&t&&t.dataModify&&t.dataModify.compareValue&&e&&(this.dataModify.compareValue=t.dataModify.compareValue)}}return u.defaultOptions=l(s.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),a(u.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),e.registerSeriesType("sma",u),u}),t(e,"Stock/Indicators/EMA/EMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{correctFloat:n,isArray:u,merge:o}=t;class i extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}accumulatePeriodPoints(e,t,s){let o=0,i=0,r;for(;i<e;)r=t<0?s[i]:s[i][t],o+=r,i++;return o}calculateEma(e,t,s,o,i,r,a){return e=e[s-1],t=r<0?t[s-1]:t[s-1][r],[e,o=void 0===i?a:n(t*o+i*(1-o))]}getValues(e,t){var s=t.period;const o=e.xData,i=(e=e.yData)?e.length:0,r=2/(s+1),a=[],n=[],l=[];let p=-1;if(!(i<s)){for(u(e[0])&&(p=t.index||0),t=this.accumulatePeriodPoints(s,p,e),t/=s;s<i+1;s++){var c=this.calculateEma(o,e,s,r,c,p,t);a.push(c),n.push(c[0]),l.push(c[1]),c=c[1]}return{values:a,xData:n,yData:l}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("ema",i),i}),t(e,"Stock/Indicators/AD/ADIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{error:u,extend:o,merge:i}=t;class d extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static populateAverage(e,t,s,o,i){i=t[o][1];var r=t[o][2];return t=t[o][3],s=s[o],[e[o],t===i&&t===r||i===r?0:(2*t-r-i)/(i-r)*s]}getValues(e,t){var s=t.period,o=e.xData,i=e.yData,r=t.volumeSeriesID,a=e.chart.get(r);t=a&&a.yData;const n=i?i.length:0,l=[],p=[],c=[];if(!(o.length<=s&&n&&4!==i[0].length)){if(a){for(r=s;r<n;r++)e=l.length,a=d.populateAverage(o,i,t,r,s),0<e&&(a[1]+=l[e-1][1]),l.push(a),p.push(a[0]),c.push(a[1]);return{values:l,xData:p,yData:c}}u("Series "+r+" not found! Check `volumeSeriesID`.",!0,e.chart)}}}return d.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),o(d.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),e.registerSeriesType("ad",d),d}),t(e,"Stock/Indicators/AO/AOIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){e=e.noop;const{column:{prototype:o},sma:i}=t.seriesTypes,{extend:r,merge:a,correctFloat:u,isArray:d}=s;class n extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){var e=this.options;const t=this.points,s=e.greaterBarColor;var e=e.lowerBarColor,o=t[0];if(!this.userOptions.color&&o)for(o.color=s,o=1;o<t.length;o++)t[o].color=t[o].y>t[o-1].y?s:t[o].y<t[o-1].y?e:t[o-1].color}getValues(e){var t,s=e.xData||[];const o=(e=e.yData||[]).length,i=[],r=[],a=[];let n=0,l=0;if(!(s.length<=34)&&d(e[0])&&4===e[0].length){for(t=0;t<33;t++){var p=(e[t][1]+e[t][2])/2;29<=t&&(l=u(l+p)),n=u(n+p)}for(t=33;t<o;t++){p=(e[t][1]+e[t][2])/2,l=u(l+p),n=u(n+p);var p=l/5,c=n/34;p=u(p-c),i.push([s[t],p]),r.push(s[t]),a.push(p),p=t+1-5,c=t+1-34,l=u(l-(e[p][1]+e[p][2])/2),n=u(n-(e[c][1]+e[c][2])/2)}return{values:i,xData:r,yData:a}}}}return n.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),r(n.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:e,getColumnMetrics:o.getColumnMetrics,crispCol:o.crispCol,translate:o.translate,drawPoints:o.drawPoints}),t.registerSeriesType("ao",n),n}),t(e,"Stock/Indicators/MultipleLinesComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,s){const d=e.seriesTypes["sma"]["prototype"],{defined:h,error:m,merge:y}=s;var t;{function g(e){return"plot"+e.charAt(0).toUpperCase()+e.slice(1)}function f(e,t){const s=[];return(e.pointArrayMap||[]).forEach(e=>{e!==t&&s.push(g(e))}),s}function o(){const s=this,e=s.linesApiNames;var t=s.areaLinesNames;const o=s.points,i=s.options,r=s.graph,a={options:{gapSize:i.gapSize}},n=[];var l,p=f(s,s.pointValKey);let c=o.length,u;p.forEach((e,t)=>{for(n[t]=[];c--;)u=o[c],n[t].push({x:u.x,plotX:u.plotX,plotY:u[e],isNull:!h(u[e])});c=o.length}),s.userOptions.fillColor&&t.length&&(l=p.indexOf(g(t[0])),l=n[l],t=1===t.length?o:n[p.indexOf(g(t[1]))],p=s.color,s.points=t,s.nextPoints=l,s.color=s.userOptions.fillColor,s.options=y(o,a),s.graph=s.area,s.fillGraph=!0,d.drawGraph.call(s),s.area=s.graph,delete s.nextPoints,delete s.fillGraph,s.color=p),e.forEach((e,t)=>{n[t]?(s.points=n[t],i[e]?s.options=y(i[e].styles,a):m('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),s.graph=s["graph"+e],d.drawGraph.call(s),s["graph"+e]=s.graph):m('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),s.points=o,s.options=i,s.graph=r,d.drawGraph.call(s)}function i(e){var t;let s=[];if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=d.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",s=d.getGraphPath.call(this,e);for(let e=(t=t.slice(0,s.length)).length-1;0<=e;e--)s.push(t[e])}}else s=d.getGraphPath.apply(this,arguments);return s}function r(t){const s=[];return(this.pointArrayMap||[]).forEach(e=>{s.push(t[e])}),s}function a(){const e=this.pointArrayMap;let o,i;o=f(this),d.translate.apply(this,arguments),this.points.forEach(s=>{e.forEach((e,t)=>{i=s[e],null!==(i=this.dataModify?this.dataModify.modifyValue(i):i)&&(s[o[t]]=this.yAxis.toPixels(i,!0))})})}e=t=t||{};const n=[],l=["bottomLine"],p=["top","bottom"],c=["top"];e.compose=function(e){if(s.pushUnique(n,e)){const t=e.prototype;t.linesApiNames=t.linesApiNames||l.slice(),t.pointArrayMap=t.pointArrayMap||p.slice(),t.pointValKey=t.pointValKey||"top",t.areaLinesNames=t.areaLinesNames||c.slice(),t.drawGraph=o,t.getGraphPath=i,t.toYData=r,t.translate=a}return e}}return t}),t(e,"Stock/Indicators/Aroon/AroonIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){function c(e,t){let s=e[0],o=0,i;for(i=1;i<e.length;i++)("max"===t&&e[i]>=s||"min"===t&&e[i]<=s)&&(s=e[i],o=i);return o}const o=t.seriesTypes["sma"],{extend:i,merge:r,pick:u}=s;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[],r=[],a=[];let n;for(n=t-1;n<o;n++){var l=e.slice(n-t+1,n+2),p=c(l.map(function(e){return u(e[2],e)}),"min");l=(l=c(l.map(function(e){return u(e[1],e)}),"max"))/t*100,p=p/t*100,s[n+1]&&(i.push([s[n+1],l,p]),r.push(s[n+1]),a.push([l,p]))}return{values:i,xData:r,yData:a}}}return a.defaultOptions=r(o.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),i(a.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),e.compose(a),t.registerSeriesType("aroon",a),a}),t(e,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const o=t.seriesTypes["aroon"],{extend:i,merge:r}=s;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){const s=[],o=[],i=[];for(t=super.getValues.call(this,e,t),e=0;e<t.yData.length;e++){var r=t.yData[e][0];r-=t.yData[e][1],s.push([t.xData[e],r]),o.push(t.xData[e]),i.push(r)}return{values:s,xData:o,yData:i}}}return a.defaultOptions=r(o.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),i(a.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),e.compose(o),t.registerSeriesType("aroonoscillator",a),a}),t(e,"Stock/Indicators/ATR/ATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){function h(e,t){return Math.max(e[1]-e[2],void 0===t?0:Math.abs(e[1]-t[3]),void 0===t?0:Math.abs(e[2]-t[3]))}const s=e.seriesTypes["sma"],{isArray:m,merge:o}=t;class i extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[[s[0],e[0]]],r=[],a=[],n=[];let l;var p=0;let c=1,u=0;if(!(s.length<=t)&&m(e[0])&&4===e[0].length){for(l=1;l<=o;l++)if(i.push([s[l],e[l]]),t<c){{var d=t;const o=s[l-1],i=h(e[l-1],e[l-2]);d=[o,(p*(d-1)+i)/d]}p=d[1],r.push(d),a.push(d[0]),n.push(d[1])}else t===c?(p=u/(l-1),r.push([s[l-1],p]),a.push(s[l-1]),n.push(p)):u+=h(e[l-1],e[l-2]),c++;return{values:r,xData:a,yData:n}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("atr",i),i}),t(e,"Stock/Indicators/BB/BBIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,y,t){const s=y.seriesTypes["sma"],{extend:o,isArray:g,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}init(){y.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,s){const o=s.period,t=s.standardDeviation,i=[],r=[],a=e.xData,n=(e=e.yData)?e.length:0,l=[];let p;if(!(a.length<o)){var c=g(e[0]);for(p=o;p<=n;p++){var u=a.slice(p-o,p),d=e.slice(p-o,p),u=(h=y.seriesTypes.sma.prototype.getValues.call(this,{xData:u,yData:d},s)).xData[0],h=h.yData[0];{const o=d.length;let e=0,t=0;for(;e<o;e++){var m=(c?d[e][s.index]:d[e])-h;t+=m*m}m=Math.sqrt(t/(o-1))}d=h+t*m,m=h-t*m,l.push([u,d,h,m]),i.push(u),r.push([d,h,m])}return{values:l,xData:i,yData:r}}}}return r.defaultOptions=i(s.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),o(r.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(r),y.registerSeriesType("bb",r),r}),t(e,"Stock/Indicators/CCI/CCIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isArray:d,merge:o}=t;class i extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[],r=[],a=[],n=[];var l=1;if(!(s.length<=t)&&d(e[0])&&4===e[0].length){for(;l<t;){var p=e[l-1];i.push((p[1]+p[2]+p[3])/3),l++}for(l=t;l<=o;l++){var p=((p=e[l-1])[1]+p[2]+p[3])/3,c=i.push(p),u=i.slice(c-t),c=u.reduce(function(e,t){return e+t},0)/t;{let e;const s=u.length;let t=0;for(e=0;e<s;e++)t+=Math.abs(c-u[e]);u=t}p=(p-c)/(.015*(u/=t)),r.push([s[l-1],p]),a.push(s[l-1]),n.push(p)}return{values:r,xData:a,yData:n}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("cci",i),i}),t(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];t=t.merge;class o extends s{constructor(){super(...arguments),this.yData=this.linkedParent=this.volumeSeries=this.points=this.options=this.data=void 0,this.nameBase="Chaikin Money Flow"}isValid(){var e=this.chart,t=this.options,s=this.linkedParent,e=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),o=s&&s.yData&&4===s.yData[0].length;return!!(s&&e&&s.xData&&s.xData.length>=t.params.period&&e.xData&&e.xData.length>=t.params.period&&o)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,s,o){function i(e,t){var s=e[1],o=e[2];return e=e[3],null!==t&&null!==s&&null!==o&&null!==e&&s!==o?(e-o-(s-e))/(s-o)*t:(d=c,null)}const r=t.length,a=[],n=[],l=[],p=[];let c,u,d=-1,h=0,m=0;if(0<o&&o<=r){for(c=0;c<o;c++)a[c]=i(t[c],s[c]),h+=s[c],m+=a[c];for(n.push(e[c-1]),l.push(c-d>=o&&0!==h?m/h:null),p.push([n[0],l[0]]);c<r;c++)a[c]=i(t[c],s[c]),h=(h-=s[c-o])+s[c],m=(m-=a[c-o])+a[c],u=[e[c],c-d>=o?m/h:null],n.push(u[0]),l.push(u[1]),p.push([u[0],u[1]])}return{values:p,xData:n,yData:l}}}return o.defaultOptions=t(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",o),o}),t(e,"Stock/Indicators/DMI/DMIIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const o=t.seriesTypes["sma"],{correctFloat:a,extend:i,isArray:m,merge:r}=s;class n extends o{constructor(){super(...arguments),this.options=void 0}calculateDM(e,t,s){var o=e[t][1],i=e[t][2],r=e[t-1][1];return e=e[t-1][2],a(e-i<o-r?s?Math.max(o-r,0):0:s?0:Math.max(e-i,0))}calculateDI(e,t){return e/t*100}calculateDX(e,t){return a(Math.abs(e-t)/Math.abs(e+t)*100)}smoothValues(e,t,s){return a(e-e/s+t)}getTR(e,t){return a(Math.max(e[1]-e[2],t?Math.abs(e[1]-t[3]):0,t?Math.abs(e[2]-t[3]):0))}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[],r=[],a=[];if(!(s.length<=t)&&m(e[0])&&4===e[0].length){for(var n=0,l=0,p=0,c=1;c<o;c++){var u=void 0,d=void 0,h=void 0;c<=t?(n+=u=this.calculateDM(e,c,!0),l+=d=this.calculateDM(e,c),p+=h=this.getTR(e[c],e[c-1]),c===t&&(h=this.calculateDI(n,p),d=this.calculateDI(l,p),u=this.calculateDX(n,l),i.push([s[c],u,h,d]),r.push(s[c]),a.push([u,h,d]))):(u=this.calculateDM(e,c,!0),d=this.calculateDM(e,c),h=this.getTR(e[c],e[c-1]),n=this.smoothValues(n,u,t),l=this.smoothValues(l,d,t),p=this.smoothValues(p,h,t),h=this.calculateDI(n,p),d=this.calculateDI(l,p),u=this.calculateDX(n,l),i.push([s[c],u,h,d]),r.push(s[c]),a.push([u,h,d]))}return{values:i,xData:r,yData:a}}}}return n.defaultOptions=r(o.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),i(n.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),e.compose(n),t.registerSeriesType("dmi",n),n}),t(e,"Stock/Indicators/DPO/DPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){function h(e,t,s,o,i){return t=m(t[s][o],t[s]),i?r(e-t):r(e+t)}const s=e.seriesTypes["sma"],{extend:o,merge:i,correctFloat:r,pick:m}=t;class a extends s{constructor(){super(...arguments),this.points=this.data=this.options=void 0}getValues(e,t){var s=t.period,o=(t=t.index,s+Math.floor(s/2+1)),i=e.xData||[];const r=(e=e.yData||[]).length,a=[],n=[],l=[];let p,c=0;if(!(i.length<=o)){for(d=0;d<s-1;d++)c=h(c,e,d,t);for(p=0;p<=r-o;p++){var u=p+s-1,d=p+o-1;c=h(c,e,u,t),u=m(e[d][t],e[d]),u-=c/s,c=h(c,e,p,t,!0),a.push([i[d],u]),n.push(i[d]),l.push(u)}return{values:a,xData:n,yData:l}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:0,period:21}}),o(a.prototype,{nameBase:"DPO"}),e.registerSeriesType("dpo",a),a}),t(e,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[e["Stock/Indicators/AD/ADIndicator.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(l,e,t){const s=e.seriesTypes["ema"],{correctFloat:p,extend:o,merge:i,error:c}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.periods,o=t.period;const i=[],r=[],a=[];if(2!==s.length||s[1]<=s[0])c('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((t=l.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:o}))&&(e=super.getValues.call(this,t,{period:s[0]}),t=super.getValues.call(this,t,{period:s[1]}),e&&t)){for(var n=s[1]-s[0],o=0;o<t.yData.length;o++)s=p(e.yData[o+n]-t.yData[o]),i.push([t.xData[o],s]),r.push(t.xData[o]),a.push(s);return{values:i,xData:r,yData:a}}}}return r.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),o(r.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),e.registerSeriesType("chaikin",r),r}),t(e,"Stock/Indicators/CMO/CMOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isNumber:d,merge:o}=t;class i extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.period,o=e.xData,i=e.yData;e=i?i.length:0;const r=[],a=[],n=[];let l=t.index;if(!(o.length<s)){t=d(i[0])?i:(l=Math.min(l,i[0].length-1),i.map(e=>e[l]));for(var p=0,c=i=0,u=s;0<u;u--)t[u]>t[u-1]?i+=t[u]-t[u-1]:t[u]<t[u-1]&&(c+=t[u-1]-t[u]);for(p=0<i+c?100*(i-c)/(i+c):0,a.push(o[s]),n.push(p),r.push([o[s],p]),u=s+1;u<e;u++)p=Math.abs(t[u-s-1]-t[u-s]),t[u]>t[u-1]?i+=t[u]-t[u-1]:t[u]<t[u-1]&&(c+=t[u-1]-t[u]),t[u-s]>t[u-s-1]?i-=p:c-=p,p=0<i+c?100*(i-c)/(i+c):0,a.push(o[u]),n.push(p),r.push([o[u],p]);return{values:r,xData:a,yData:n}}}}return i.defaultOptions=o(s.defaultOptions,{params:{period:20,index:3}}),e.registerSeriesType("cmo",i),i}),t(e,"Stock/Indicators/DEMA/DEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["ema"],{correctFloat:f,isArray:v,merge:o}=t;class i extends s{constructor(){super(...arguments),this.points=this.options=this.data=this.EMApercent=void 0}getEMA(e,t,s,o,i,r){return super.calculateEma(r||[],e,void 0===i?1:i,this.EMApercent,t,void 0===o?-1:o,s)}getValues(e,t){const s=t.period,o=[],i=2*s,r=e.xData,a=(e=e.yData)?e.length:0,n=[],l=[],p=[];let c=0,u,d,h=-1,m,y;if(this.EMApercent=2/(s+1),!(a<2*s-1)){for(v(e[0])&&(h=t.index||0),t=super.accumulatePeriodPoints(s,h,e),y=t/s,t=0,d=s;d<a+2;d++){var g;d<a+1&&(c=this.getEMA(e,u,y,h,d)[1],o.push(c)),u=c,d<i?t+=c:(d===i&&(y=t/s),c=o[d-s-1],g=this.getEMA([c],g,y)[1],m=[r[d-2],f(2*c-g)],n.push(m),l.push(m[0]),p.push(m[1]))}return{values:n,xData:l,yData:p}}}}return i.defaultOptions=o(s.defaultOptions),e.registerSeriesType("dema",i),i}),t(e,"Stock/Indicators/TEMA/TEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["ema"],{correctFloat:i,isArray:x,merge:o}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=this.EMApercent=void 0}getEMA(e,t,s,o,i,r){return super.calculateEma(r||[],e,void 0===i?1:i,this.EMApercent,t,void 0===o?-1:o,s)}getTemaPoint(e,t,s,o){return[e[o-3],i(3*s.level1-3*s.level2+s.level3)]}getValues(e,t){const s=t.period,o=2*s,i=3*s,r=e.xData,a=(e=e.yData)?e.length:0,n=[],l=[],p=[],c=[],u=[],d={};let h=-1,m,y,g,f,v;if(this.EMApercent=2/(s+1),!(a<3*s-2)){for(x(e[0])&&(h=t.index||0),t=super.accumulatePeriodPoints(s,h,e),m=t/s,t=0,f=s;f<a+3;f++)f<a+1&&(d.level1=this.getEMA(e,y,m,h,f)[1],c.push(d.level1)),y=d.level1,f<o?t+=d.level1:(f===o&&(m=t/s,t=0),d.level1=c[f-s-1],d.level2=this.getEMA([d.level1],g,m)[1],u.push(d.level2),g=d.level2,f<i?t+=d.level2:(f===i&&(m=t/s),f===a+1&&(d.level1=c[f-s-1],d.level2=this.getEMA([d.level1],g,m)[1],u.push(d.level2)),d.level1=c[f-s-2],d.level2=u[f-2*s-1],d.level3=this.getEMA([d.level2],d.prevLevel3,m)[1],(v=this.getTemaPoint(r,i,d,f))&&(n.push(v),l.push(v[0]),p.push(v[1])),d.prevLevel3=d.level3));return{values:n,xData:l,yData:p}}}}return r.defaultOptions=o(s.defaultOptions),e.registerSeriesType("tema",r),r}),t(e,"Stock/Indicators/TRIX/TRIXIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["tema"],{correctFloat:i,merge:o}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getTemaPoint(e,t,s,o){if(t<o)return[e[o-3],0!==s.prevLevel3?i(s.level3-s.prevLevel3)/s.prevLevel3*100:null]}}return r.defaultOptions=o(s.defaultOptions),e.registerSeriesType("trix",r),r}),t(e,"Stock/Indicators/APO/APOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["ema"],{extend:o,merge:i,error:l}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.periods,o=t.index;t=[];const i=[],r=[];if(2!==s.length||s[1]<=s[0])l('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var a=super.getValues.call(this,e,{index:o,period:s[0]});if(e=super.getValues.call(this,e,{index:o,period:s[1]}),a&&e){for(var n=s[1]-s[0],o=0;o<e.yData.length;o++)s=a.yData[o+n]-e.yData[o],t.push([e.xData[o],s]),i.push(e.xData[o]),r.push(s);return{values:t,xData:i,yData:r}}}}}return r.defaultOptions=i(s.defaultOptions,{params:{period:void 0,periods:[10,20]}}),o(r.prototype,{nameBase:"APO",nameComponents:["periods"]}),e.registerSeriesType("apo",r),r}),t(e,"Stock/Indicators/IKH/IKHIndicator.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(i,e,D,t){function g(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function C(e){const t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=A(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,D.seriesTypes.sma.prototype.drawGraph.call(t)}const s=e["parse"],{defined:j,extend:o,isArray:f,isNumber:r,merge:A,objectEach:b}=(e=D.seriesTypes["sma"],t);class a extends e{constructor(){super(...arguments),this.data=[],this.options={},this.points=[],this.graphCollection=[]}init(){super.init.apply(this,arguments),this.options=A({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:s(this.color).setOpacity(.2).get()}}},this.options)}toYData(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]}translate(){D.seriesTypes.sma.prototype.translate.apply(this);for(const t of this.points)for(const s of this.pointArrayMap){var e=t[s];r(e)&&(t["plot"+s]=this.yAxis.toPixels(e,!0),t.plotY=t["plot"+s],t.tooltipPos=[t.plotX,t["plot"+s]],t.isNull=!1)}}drawGraph(){const s=this,e=s.points,o=s.options,t=s.graph,i=s.color,r={options:{gapSize:o.gapSize}};var a=s.pointArrayMap.length;const n=[[],[],[],[],[],[]],l={tenkanLine:n[0],kijunLine:n[1],chikouLine:n[2],senkouSpanA:n[3],senkouSpanB:n[4],senkouSpan:n[5]},p=[];var c,u=s.options.senkouSpan;const d=u.color||u.styles.fill,h=u.negativeColor,m=[[],[]],y=[[],[]];u=e.length;let g=0,f;for(s.ikhMap=l;u--;){for(var v=e[u],x=0;x<a;x++){var S=s.pointArrayMap[x];j(v[S])&&n[x].push({plotX:v.plotX,plotY:v["plot"+S],isNull:!1})}h&&u!==e.length-1&&(S=l.senkouSpanB.length-1,v=function(e,t,s,o){if(e&&t&&s&&o){var i=t.plotX-e.plotX,r=(t=t.plotY-e.plotY,o.plotX-s.plotX),a=(o=o.plotY-s.plotY,e.plotX-s.plotX),n=e.plotY-s.plotY;if(s=(-t*a+i*n)/(-r*t+i*o),r=(r*n-o*a)/(-r*t+i*o),0<=s&&s<=1&&0<=r&&r<=1)return{plotX:e.plotX+r*i,plotY:e.plotY+r*t}}}(l.senkouSpanA[S-1],l.senkouSpanA[S],l.senkouSpanB[S-1],l.senkouSpanB[S]))&&(v={plotX:v.plotX,plotY:v.plotY,isNull:!1,intersectPoint:!0},l.senkouSpanA.splice(S,0,v),l.senkouSpanB.splice(S,0,v),p.push(S))}if(b(l,(e,t)=>{o[t]&&"senkouSpan"!==t&&(s.points=n[g],s.options=A(o[t].styles,r),s.graph=s["graph"+t],s.fillGraph=!1,s.color=i,D.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+t]=s.graph),g++}),s.graphCollection)for(c of s.graphCollection)s[c].destroy(),delete s[c];if(s.graphCollection=[],h&&l.senkouSpanA[0]&&l.senkouSpanB[0]){for(p.unshift(0),p.push(l.senkouSpanA.length-1),c=0;c<p.length-1;c++){if(u=p[c],S=p[c+1],a=l.senkouSpanB.slice(u,S+1),u=l.senkouSpanA.slice(u,S+1),1<=Math.floor(a.length/2))if(a[S=Math.floor(a.length/2)].plotY===u[S].plotY){for(x=v=S=0;x<a.length;x++)S+=a[x].plotY,v+=u[x].plotY;S=v<S?0:1}else S=a[S].plotY>u[S].plotY?0:1;else S=a[0].plotY>u[0].plotY?0:1;m[S]=m[S].concat(a),y[S]=y[S].concat(u)}["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){m[t].length&&y[t].length&&(f=0===t?d:h,C({indicator:s,points:m[t],nextPoints:y[t],color:f,options:o,gap:r,graph:s[e]}),s[e]=s.graph,s.graphCollection.push(e))})}else C({indicator:s,points:l.senkouSpanB,nextPoints:l.senkouSpanA,color:d,options:o,gap:r,graph:s.graphsenkouSpan}),s.graphsenkouSpan=s.graph;delete s.nextPoints,delete s.fillGraph,s.points=e,s.options=o,s.graph=t,s.color=i}getGraphPath(e){let t=[];var s;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((s=D.seriesTypes.sma.prototype.getGraphPath.call(this,this.nextPoints))&&s.length){s[0][0]="L",t=D.seriesTypes.sma.prototype.getGraphPath.call(this,e);for(let e=(s=s.slice(0,t.length)).length-1;0<=e;e--)t.push(s[e])}}else t=D.seriesTypes.sma.prototype.getGraphPath.apply(this,arguments);return t}getValues(e,t){var s=t.period,o=t.periodTenkan;t=t.periodSenkouSpanB;const i=e.xData,r=e.yData,a=r&&r.length||0,n=(e=function(e){let t,s,o,i,r;return e.series.forEach(function(e){if(e.xData)for(i=e.xData,r=s=e.xIncrement?1:i.length-1;0<r;r--)o=i[r]-i[r-1],(void 0===t||o<t)&&(t=o)}),t}(e.xAxis),[]),l=[];let p,c,u;if(!(i.length<=s)&&f(r[0])&&4===r[0].length){var d,h,m,y=i[0]-s*e;for(c=0;c<s;c++)l.push(y+c*e);for(c=0;c<a;c++)c>=o&&(d=((d=g(d=r.slice(c-o,c))).high+d.low)/2),c>=s&&(h=((h=g(h=r.slice(c-s,c))).high+h.low)/2,u=(d+h)/2),c>=t&&(m=((m=g(m=r.slice(c-t,c))).high+m.low)/2),y=r[c][3],p=i[c],void 0===n[c]&&(n[c]=[]),void 0===n[c+s-1]&&(n[c+s-1]=[]),n[c+s-1][0]=d,n[c+s-1][1]=h,(n[c+s-1][2]=void 0)===n[c+1]&&(n[c+1]=[]),n[c+1][2]=y,c<=s&&(n[c+s-1][3]=void 0,n[c+s-1][4]=void 0),void 0===n[c+2*s-2]&&(n[c+2*s-2]=[]),n[c+2*s-2][3]=u,n[c+2*s-2][4]=m,l.push(p);for(c=1;c<=s;c++)l.push(p+c*e);return{values:n,xData:l,yData:n}}}}return a.defaultOptions=A(e.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),o(a.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),i["ichimoku-averages"]=function(){const s=[];let o;return[].forEach.call(arguments,function(e,t){s.push(i.average(e)),o=!o&&void 0===s[t]}),o?void 0:s},D.registerSeriesType("ikh",a),a}),t(e,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,m,t){const s=m.seriesTypes["sma"],{correctFloat:y,extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}init(){m.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){var s,o=t.period,i=t.periodATR,r=t.multiplierATR,a=(a=e.yData)?a.length:0;const n=[],l=(t=m.seriesTypes.ema.prototype.getValues(e,{period:o,index:t.index}),e=m.seriesTypes.atr.prototype.getValues(e,{period:i}),[]),p=[];let c,u;if(!(a<o)){for(u=o;u<=a;u++){var d=t.values[u-o],h=e.values[u-i];c=d[0],s=y(d[1]+r*h[1]),h=y(d[1]-r*h[1]),d=d[1],n.push([c,s,d,h]),l.push(c),p.push([s,d,h])}return{values:n,xData:l,yData:p}}}}return r.defaultOptions=i(s.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),o(r.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(r),m.registerSeriesType("keltnerchannels",r),r}),t(e,"Stock/Indicators/Klinger/KlingerIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const{ema:n,sma:o}=t.seriesTypes,{correctFloat:v,error:i,extend:r,isArray:a,merge:l}=s;class p extends o{constructor(){super(...arguments),this.volumeSeries=this.options=this.points=this.data=void 0}calculateTrend(e,t){return e[t][1]+e[t][2]+e[t][3]>e[t-1][1]+e[t-1][2]+e[t-1][3]?1:-1}isValidData(e){var t=this.chart;const s=this.options,o=this.linkedParent;return e=a(e)&&4===e.length,(t=this.volumeSeries||(this.volumeSeries=t.get(s.params.volumeSeriesID)))||i("Series "+s.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o.chart),!(![o,t].every(function(e){return e&&e.xData&&e.xData.length>=s.params.slowAvgPeriod})||!e)}getCM(e,t,s,o,i){return v(t+(s===o?e:i))}getDM(e,t){return v(e-t)}getVolumeForce(e){const t=[];var s;let o=1;var i=0;let r=e[0][1]-e[0][2];var a,n=0;for(o;o<e.length;o++)a=this.calculateTrend(e,o),s=this.getDM(e[o][1],e[o][2]),i=this.getCM(i,s,a,n,r),n=this.volumeSeries.yData[o]*a*Math.abs(2*(s/i-1))*100,t.push([n]),n=a,r=s;return t}getEMA(e,t,s,o,i,r,a){return n.prototype.calculateEma(a||[],e,void 0===r?1:r,o,t,void 0===i?-1:i,s)}getSMA(e,t,s){return n.prototype.accumulatePeriodPoints(e,t,s)/e}getValues(e,t){const s=[],o=e.xData,i=(e=e.yData,[]),r=[],a=[];var n;let l=0,p=0,c=void 0,u=void 0,d=null;if(this.isValidData(e[0])){var h=this.getVolumeForce(e),m=this.getSMA(t.fastAvgPeriod,0,h),y=this.getSMA(t.slowAvgPeriod,0,h),g=2/(t.fastAvgPeriod+1),f=2/(t.slowAvgPeriod+1);for(l;l<e.length;l++)l>=t.fastAvgPeriod&&(c=p=this.getEMA(h,c,m,g,0,l,o)[1]),l>=t.slowAvgPeriod&&(u=n=this.getEMA(h,u,y,f,0,l,o)[1],n=v(p-n),a.push(n),a.length>=t.signalPeriod&&(d=a.slice(-t.signalPeriod).reduce((e,t)=>e+t)/t.signalPeriod),s.push([o[l],n,d]),i.push(o[l]),r.push([n,d]));return{values:s,xData:i,yData:r}}}}return p.defaultOptions=l(o.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),r(p.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),e.compose(p),t.registerSeriesType("klinger",p),p}),t(e,"Stock/Indicators/MACD/MACDIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,p,t){const s=e["noop"],o=p.seriesTypes["sma"],{extend:i,correctFloat:c,defined:u,merge:l}=t;class r extends o{constructor(){super(...arguments),this.signalZones=this.points=this.options=this.macdZones=this.data=void 0}init(){p.seriesTypes.sma.prototype.init.apply(this,arguments);var e=this.color,t=this.userOptions._colorIndex;this.options&&(u(this.userOptions._colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0),this.color=e,this.userOptions._colorIndex=t}toYData(e){return[e.y,e.signal,e.MACD]}translate(){const o=this,i=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(o),o.points.forEach(function(s){[s.signal,s.MACD].forEach(function(e,t){null!==e&&(s[i[t]]=o.yAxis.toPixels(e,!0))})})}destroy(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){const s=this,e=s.points,o=s.options,t=s.zones,i={options:{gapSize:o.gapSize}},r=[[],[]];let a,n=e.length;for(;n--;)a=e[n],u(a.plotMACD)&&r[0].push({plotX:a.plotX,plotY:a.plotMACD,isNull:!u(a.plotMACD)}),u(a.plotSignal)&&r[1].push({plotX:a.plotX,plotY:a.plotSignal,isNull:!u(a.plotMACD)});["macd","signal"].forEach(function(e,t){s.points=r[t],s.options=l(o[e+"Line"].styles,i),s.graph=s["graph"+e],s.currentLineZone=e+"Zones",s.zones=s[s.currentLineZone].zones,p.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+e]=s.graph}),s.points=e,s.options=o,s.zones=t,s.currentLineZone=void 0}getZonesGraphs(e){const t=super.getZonesGraphs(e);let s=t;return this.currentLineZone&&((s=t.splice(this[this.currentLineZone].startIndex+1)).length?s.splice(0,0,e[0]):s=[e[0]]),s}applyZones(){var e=this.zones;this.zones=this.signalZones.zones,p.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e}getValues(e,t){const s=t.longPeriod-t.shortPeriod,o=[],i=[],r=[];let a,n,l=0;if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(a=p.seriesTypes.ema.prototype.getValues(e,{period:t.shortPeriod,index:t.index}),n=p.seriesTypes.ema.prototype.getValues(e,{period:t.longPeriod,index:t.index}),a=a.values,n=n.values,e=0;e<=a.length;e++)u(n[e])&&u(n[e][1])&&u(a[e+s])&&u(a[e+s][0])&&o.push([a[e+s][0],0,null,a[e+s][1]-n[e][1]]);for(e=0;e<o.length;e++)i.push(o[e][0]),r.push([0,null,o[e][3]]);for(t=(t=p.seriesTypes.ema.prototype.getValues({xData:i,yData:r},{period:t.signalPeriod,index:2})).values,e=0;e<o.length;e++)o[e][0]>=t[0][0]&&(o[e][2]=t[l][1],r[e]=[0,t[l][1],o[e][3]],null===o[e][3]?(o[e][1]=0,r[e][0]=0):(o[e][1]=c(o[e][3]-t[l][1]),r[e][0]=c(o[e][3]-t[l][1])),l++);return{values:o,xData:i,yData:r}}}}return r.defaultOptions=l(o.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),i(r.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:s,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,drawPoints:e.seriesTypes.column.prototype.drawPoints}),p.registerSeriesType("macd",r),r}),t(e,"Stock/Indicators/MFI/MFIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){function y(e){return e.reduce(function(e,t){return e+t})}function g(e){return(e[1]+e[2]+e[3])/3}const s=e.seriesTypes["sma"],{extend:o,merge:i,error:f,isArray:v}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.period,o=e.xData,i=e.yData,r=i?i.length:0,a=t.decimals,n=e.chart.get(t.volumeSeriesID);const l=n&&n.yData,p=[],c=[],u=[],d=[],h=[];let m=1;if(n){if(!(o.length<=s)&&v(i[0])&&4===i[0].length&&l){for(e=g(i[m]);m<s+1;)n=(t=e)<=(e=g(i[m])),t=e*l[m],d.push(n?t:0),h.push(n?0:t),m++;for(s=m-1;s<r;s++)s>m-1&&(d.shift(),h.shift(),n=(t=e)<(e=g(i[s])),t=e*l[s],d.push(n?t:0),h.push(n?0:t)),t=y(h),t=(n=y(d))/t,t=parseFloat((100-100/(1+t)).toFixed(a)),p.push([o[s],t]),c.push(o[s]),u.push(t);return{values:p,xData:c,yData:u}}}else f("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return r.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),o(r.prototype,{nameBase:"Money Flow Index"}),e.registerSeriesType("mfi",r),r}),t(e,"Stock/Indicators/Momentum/MomentumIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{extend:o,isArray:c,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.period;t=t.index;const o=e.xData,i=(e=e.yData)?e.length:0,r=[],a=[],n=[];let l,p;if(!(o.length<=s)&&c(e[0])){for(l=s+1;l<i;l++)p=[o[l-1],e[l-1][t]-e[l-s-1][t]],r.push(p),a.push(p[0]),n.push(p[1]);return p=[o[l-1],e[l-1][t]-e[l-s-1][t]],r.push(p),a.push(p[0]),n.push(p[1]),{values:r,xData:a,yData:n}}}}return r.defaultOptions=i(s.defaultOptions,{params:{index:3}}),o(r.prototype,{nameBase:"Momentum"}),e.registerSeriesType("momentum",r),r}),t(e,"Stock/Indicators/NATR/NATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["atr"];t=t.merge;class o extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){const s=super.getValues.apply(this,arguments),o=s.values.length,i=e.yData;let r=0,a=t.period-1;if(s){for(;r<o;r++)s.yData[r]=s.values[r][1]/i[a][3]*100,s.values[r][1]=s.yData[r],a++;return s}}}return o.defaultOptions=t(s.defaultOptions,{tooltip:{valueSuffix:"%"}}),e.registerSeriesType("natr",o),o}),t(e,"Stock/Indicators/OBV/OBVIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isNumber:d,error:h,extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){var s=e.chart.get(t.volumeSeriesID);const o=e.xData,i=e.yData,r=[],a=[],n=[],l=!d(i[0]);let p=1;var c=0;let u;if(s){for(s=s.yData,e=[o[0],c],u=l?i[0][3]:i[0],r.push(e),a.push(o[0]),n.push(e[1]),p;p<i.length;p++)c=(t=l?i[p][3]:i[p])>u?c+s[p]:t===u?c:c-s[p],e=[o[p],c],u=t,r.push(e),a.push(o[p]),n.push(e[1]);return{values:r,xData:a,yData:n}}h("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return r.defaultOptions=i(s.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),o(r.prototype,{nameComponents:void 0}),e.registerSeriesType("obv",r),r}),t(e,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(i){function e(e,t){var s=e.series.pointArrayMap;let o=s.length;for(i.seriesTypes.sma.prototype.pointClass.prototype[t].call(e);o--;)e[t="dataLabel"+s[o]]&&e[t].element&&e[t].destroy(),e[t]=null}class t extends i.seriesTypes.sma.prototype.pointClass{constructor(){super(...arguments),this.series=this.pivotLine=this.P=void 0}destroyElements(){e(this,"destroyElements")}destroy(){e(this,"destroyElements")}}return t}),t(e,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[e["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const o=t.seriesTypes["sma"],{merge:i,extend:r,defined:c,isArray:h}=s;class a extends o{constructor(){super(...arguments),this.plotEndPoint=this.endPoint=this.points=this.options=this.data=void 0}toYData(e){return[e.P]}translate(){const s=this;super.translate.apply(s),s.points.forEach(function(t){s.pointArrayMap.forEach(function(e){c(t[e])&&(t["plot"+e]=s.yAxis.toPixels(t[e],!0))})}),s.plotEndPoint=s.xAxis.toPixels(s.endPoint,!0)}getGraphPath(e){const t=this,s=[[],[],[],[],[],[],[],[],[]],o=t.pointArrayMap.length;let i=t.plotEndPoint,r=[],a,n,l=e.length,p;for(;l--;){for(n=e[l],p=0;p<o;p++)a=t.pointArrayMap[p],c(n[a])&&s[p].push({plotX:n.plotX,plotY:n["plot"+a],isNull:!1},{plotX:i,plotY:n["plot"+a],isNull:!1},{plotX:i,plotY:null,isNull:!0});i=n.plotX}return s.forEach(e=>{r=r.concat(super.getGraphPath.call(t,e))}),r}drawDataLabels(){const s=this,o=s.pointArrayMap;let i,r,a,n;s.options.dataLabels.enabled&&(r=s.points.length,o.concat([!1]).forEach((e,t)=>{for(n=r;n--;)a=s.points[n],e?(a.y=a[e],a.pivotLine=e,a.plotY=a["plot"+e],i=a["dataLabel"+e],t&&(a["dataLabel"+o[t-1]]=a.dataLabel),a.dataLabels||(a.dataLabels=[]),a.dataLabels[0]=a.dataLabel=i=i&&i.element?i:null):a["dataLabel"+o[t-1]]=a.dataLabel;super.drawDataLabels.call(s)}))}getValues(e,t){const s=t.period,o=e.xData,i=(e=e.yData)?e.length:0,r=(t=this[t.algorithm+"Placement"],[]),a=[],n=[];let l,p,c,u;if(!(o.length<s)&&h(e[0])&&4===e[0].length){for(u=s+1;u<=i+s;u+=s){c=o.slice(u-s-1,u);var d=e.slice(u-s-1,u);p=c.length,l=c[p-1],d=t(this.getPivotAndHLC(d)),d=r.push([l].concat(d)),a.push(l),n.push(r[d-1].slice(1))}return this.endPoint=c[0]+(l-c[0])/p*s,{values:r,xData:a,yData:n}}}getPivotAndHLC(e){var t=e[e.length-1][3];let s=-1/0,o=1/0;return e.forEach(function(e){s=Math.max(s,e[1]),o=Math.min(o,e[2])}),[(s+o+t)/3,s,o,t]}standardPlacement(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]}camarillaPlacement(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]}fibonacciPlacement(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}}return a.defaultOptions=i(o.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),r(a.prototype,{nameBase:"Pivot Points",pointArrayMap:"R4 R3 R2 R1 P S1 S2 S3 S4".split(" "),pointValKey:"P",pointClass:e}),t.registerSeriesType("pivotpoints",a),a}),t(e,"Stock/Indicators/PPO/PPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["ema"],{correctFloat:l,extend:o,merge:i,error:p}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.periods,o=t.index;t=[];const i=[],r=[];if(2!==s.length||s[1]<=s[0])p('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var a=super.getValues.call(this,e,{index:o,period:s[0]});if(e=super.getValues.call(this,e,{index:o,period:s[1]}),a&&e){for(var n=s[1]-s[0],o=0;o<e.yData.length;o++)s=l((a.yData[o+n]-e.yData[o])/e.yData[o]*100),t.push([e.xData[o],s]),i.push(e.xData[o]),r.push(s);return{values:t,xData:i,yData:r}}}}}return r.defaultOptions=i(s.defaultOptions,{params:{period:void 0,periods:[12,26]}}),o(r.prototype,{nameBase:"PPO",nameComponents:["periods"]}),e.registerSeriesType("ppo",r),r}),t(e,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(e,s,o){return e.reduce((e,t)=>[Math.min(e[0],t[s]),Math.max(e[1],t[o])],[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),t(e,"Stock/Indicators/PC/PCIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Color/Palettes.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(d,e,t,s,o){const i=s.seriesTypes["sma"],{merge:r,extend:a}=o;class n extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[],r=[],a=[];let n,l,p;if(!(o<t)){for(p=t;p<=o;p++){l=s[p-1];var c=e.slice(p-t,p),u=((c=(u=d.getArrayExtremes(c,2,1))[1])+(n=u[0]))/2;i.push([l,c,u,n]),r.push(l),a.push([c,u,n])}return{values:i,xData:r,yData:a}}}}return n.defaultOptions=r(i.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:t.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:t.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),a(n.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(n),s.registerSeriesType("pc",n),n}),t(e,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const o=t.seriesTypes["sma"],{extend:i,isArray:y,merge:r}=s;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}init(){super.init.apply(this,arguments),this.options=r({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const s=t.period,o=t.topBand,i=t.bottomBand,r=e.xData,a=(e=e.yData)?e.length:0,n=[],l=[],p=[];let c;if(!(r.length<s)&&y(e[0])&&4===e[0].length){for(c=s;c<=a;c++){var u=r.slice(c-s,c),d=e.slice(c-s,c),u=(d=super.getValues({xData:u,yData:d},t)).xData[0],h=(d=d.yData[0])*(1+o),m=d*(1-i);n.push([u,h,d,m]),l.push(u),p.push([h,d,m])}return{values:n,xData:l,yData:p}}}}return a.defaultOptions=r(o.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),i(a.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),e.compose(a),t.registerSeriesType("priceenvelopes",a),a}),t(e,"Stock/Indicators/PSAR/PSARIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];t=t.merge;class o extends s{constructor(){super(...arguments),this.options=this.points=this.nameComponents=this.data=void 0}getValues(e,t){var s=e.xData,o=(e=e.yData,t.maxAccelerationFactor),i=t.increment,r=t.initialAccelerationFactor,a=t.decimals,n=t.index;const l=[],p=[],c=[];let u;var d=e[0][1],h=1;let m,y=e[0][2],g;if(!(n>=e.length)){for(g=0;g<n;g++)d=Math.max(e[g][1],d),y=Math.min(e[g][2],parseFloat(y.toFixed(a)));u=e[g][1]>y?1:-1;var f=(t=t.initialAccelerationFactor)*(d-y);for(l.push([s[n],y]),p.push(s[n]),c.push(parseFloat(y.toFixed(a))),g=n+1;g<e.length;g++){var n=e[g-1][2],v=e[g-2][2],x=e[g-1][1],S=(m=e[g-2][1],e[g][1]),D=e[g][2];null!==v&&null!==m&&null!==n&&null!==x&&null!==S&&null!==D&&(y=u===h?1===u?y+f<Math.min(v,n)?y+f:Math.min(v,n):y+f>Math.max(m,x)?y+f:Math.max(m,x):d,n=1===u?d<S?S:d:D<d?D:d,S=1===h&&D>y||-1===h&&S>y?1:-1,f=n,D=i,v=o,x=r,f=(t=(h=S)===u?1===h&&d<f||-1===h&&f<d?t===v?v:parseFloat((t+D).toFixed(2)):t:x)*(d=n-y),l.push([s[g],parseFloat(y.toFixed(a))]),p.push(s[g]),c.push(parseFloat(y.toFixed(a))),h=u,u=S,d=n)}return{values:l,xData:p,yData:c}}}}return o.defaultOptions=t(s.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),e.registerSeriesType("psar",o),o}),t(e,"Stock/Indicators/ROC/ROCIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isArray:c,merge:o,extend:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){const s=t.period,o=e.xData,i=(e=e.yData)?e.length:0,r=[],a=[],n=[];let l=-1;if(!(o.length<=s)){for(c(e[0])&&(l=t.index),t=s;t<i;t++){var p=l<0?(p=e[t-s])?(e[t]-p)/p*100:null:(p=e[t-s][l])?(e[t][l]-p)/p*100:null,p=[o[t],p];r.push(p),a.push(p[0]),n.push(p[1])}return{values:r,xData:a,yData:n}}}}return r.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),i(r.prototype,{nameBase:"Rate of Change"}),e.registerSeriesType("roc",r),r}),t(e,"Stock/Indicators/RSI/RSIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isNumber:y,merge:o}=t;class i extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){var s=t.period,o=e.xData,i=e.yData;e=i?i.length:0;const r=t.decimals,a=[],n=[],l=[];var p=0;let c=0,u=t.index;var d=1;let h,m;if(!(o.length<s)){for(m=y(i[0])?i:(u=Math.min(u,i[0].length-1),i.map(e=>e[u]));d<s;)0<(h=parseFloat((m[d]-m[d-1]).toFixed(r)))?p+=h:c+=Math.abs(h),d++;for(t=parseFloat((p/(s-1)).toFixed(r)),i=parseFloat((c/(s-1)).toFixed(r));d<e;d++)h=parseFloat((m[d]-m[d-1]).toFixed(r)),c=0<h?(p=h,0):(p=0,Math.abs(h)),t=parseFloat(((t*(s-1)+p)/s).toFixed(r)),p=0===(i=parseFloat(((i*(s-1)+c)/s).toFixed(r)))?100:0===t?0:parseFloat((100-100/(1+t/i)).toFixed(r)),a.push([o[d],p]),n.push(o[d]),l.push(p);return{values:a,xData:n,yData:l}}}}return i.defaultOptions=o(s.defaultOptions,{params:{decimals:4,index:3}}),e.registerSeriesType("rsi",i),i}),t(e,"Stock/Indicators/Stochastic/StochasticIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(y,e,t,s){const o=t.seriesTypes["sma"],{extend:i,isArray:g,merge:r}=s;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}init(){super.init.apply(this,arguments),this.options=r({smoothedLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){var s=t.periods[0];t=t.periods[1];const o=e.xData,i=(e=e.yData)?e.length:0,r=[],a=[],n=[];var l=null;let p,c;if(!(i<s)&&g(e[0])&&4===e[0].length){var u=!0,d=0;for(c=s-1;c<i;c++){var h=e.slice(c-s+1,c+1),m=(p=y.getArrayExtremes(h,2,1))[0];h=(e[c][3]-m)/(p[1]-m)*100,isNaN(h)&&u?d++:(u&&!isNaN(h)&&(u=!1),m=a.push(o[c]),isNaN(h)?n.push([n[m-2]&&"number"==typeof n[m-2][0]?n[m-2][0]:null,null]):n.push([h,null]),c>=d+(s-1)+(t-1)&&(l=(l=super.getValues({xData:a.slice(-t),yData:n.slice(-t)},{period:t})).yData[0]),r.push([o[c],h,l]),n[m-1][1]=l)}return{values:r,xData:a,yData:n}}}}return a.defaultOptions=r(o.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),i(a.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),e.compose(a),t.registerSeriesType("stochastic",a),a}),t(e,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const{sma:a,stochastic:s}=e.seriesTypes,{extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(s,o){var i=o.periods;if(o=super.getValues.call(this,s,o),s={values:[],xData:[],yData:[]},o){s.xData=o.xData.slice(i[1]-1),o=o.yData.slice(i[1]-1);var r=a.prototype.getValues.call(this,{xData:s.xData,yData:o},{index:1,period:i[2]});if(r){for(let e=0,t=s.xData.length;e<t;e++)s.yData[e]=[o[e][1],r.yData[e-i[2]+1]||null],s.values[e]=[s.xData[e],o[e][1],r.yData[e-i[2]+1]||null];return s}}}}return r.defaultOptions=i(s.defaultOptions,{params:{periods:[14,3,3]}}),o(r.prototype,{nameBase:"Slow Stochastic"}),e.registerSeriesType("slowstochastic",r),r}),t(e,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,s){function x(e,t,s){return{index:t,close:e.yData[t][s],x:e.xData[t]}}const{atr:S,sma:D}=e.seriesTypes,{addEvent:o,correctFloat:C,isArray:j,extend:i,merge:A,objectEach:b}=t;class r extends D{constructor(){super(...arguments),this.points=this.options=this.linkedParent=this.data=void 0}init(){const e=this,t=(super.init.apply(e,arguments),o(s,"afterLinkSeries",()=>{if(e.options){const t=e.options;t.cropThreshold=e.linkedParent.options.cropThreshold-(t.params.period-1)}t()},{order:1}))}drawGraph(){const s=this,e=s.options,t=s.linkedParent,o=t?t.points:[],i=s.points,r=s.graph;var a=0<(a=o.length-i.length)?a:0;const n={options:{gapSize:e.gapSize}},l={top:[],bottom:[],intersect:[]},p={top:{styles:{lineWidth:e.lineWidth,lineColor:e.fallingTrendColor||e.color,dashStyle:e.dashStyle}},bottom:{styles:{lineWidth:e.lineWidth,lineColor:e.risingTrendColor||e.color,dashStyle:e.dashStyle}},intersect:e.changeTrendLine};let c,u,d,h,m,y,g,f=i.length;for(;f--;){c=i[f],u=i[f-1],d=o[f-1+a],h=o[f-2+a];var v=o[f+a];m=o[f+a+1],y=c.options.color,g={x:c.x,plotX:c.plotX,plotY:c.plotY,isNull:!1},!h&&d&&t.yData[d.index-1]&&(h=x(t,d.index-1,3)),!m&&v&&t.yData[v.index+1]&&(m=x(t,v.index+1,3)),!d&&h&&t.yData[h.index+1]?d=x(t,h.index+1,3):!d&&v&&t.yData[v.index-1]&&(d=x(t,v.index-1,3)),c&&d&&v&&h&&c.x!==d.x&&(c.x===v.x?(h=d,d=v):c.x===h.x?(d=h,h={close:t.yData[d.index-1][3],x:t.xData[d.index-1]}):m&&c.x===m.x&&(d=m,h=v)),u&&h&&d?(v={x:u.x,plotX:u.plotX,plotY:u.plotY,isNull:!1},c.y>=d.close&&u.y>=h.close?(c.color=y||e.fallingTrendColor||e.color,l.top.push(g)):c.y<d.close&&u.y<h.close?(c.color=y||e.risingTrendColor||e.color,l.bottom.push(g)):(l.intersect.push(g),l.intersect.push(v),l.intersect.push(A(v,{isNull:!0})),c.y>=d.close&&u.y<h.close?(c.color=y||e.fallingTrendColor||e.color,u.color=y||e.risingTrendColor||e.color,l.top.push(g),l.top.push(A(v,{isNull:!0}))):c.y<d.close&&u.y>=h.close&&(c.color=y||e.risingTrendColor||e.color,u.color=y||e.fallingTrendColor||e.color,l.bottom.push(g),l.bottom.push(A(v,{isNull:!0}))))):d&&(c.y>=d.close?(c.color=y||e.fallingTrendColor||e.color,l.top.push(g)):(c.color=y||e.risingTrendColor||e.color,l.bottom.push(g)))}b(l,function(e,t){s.points=e,s.options=A(p[t].styles,n),s.graph=s["graph"+t+"Line"],D.prototype.drawGraph.call(s),s["graph"+t+"Line"]=s.graph}),s.points=i,s.options=e,s.graph=r}getValues(e,t){var s=t.period;t=t.multiplier;const o=e.xData,i=e.yData,r=[],a=[],n=[],l=0===s?0:s-1,p=[],c=[];let u,d,h,m,y,g,f,v;if(!(o.length<=s||!j(i[0])||4!==i[0].length||s<0)){for(e=S.prototype.getValues.call(this,e,{period:s}).yData,v=0;v<e.length;v++)f=i[l+v],g=i[l+v-1]||[],h=p[v-1],m=c[v-1],y=n[v-1],0===v&&(h=m=y=0),s=C((f[1]+f[2])/2+t*e[v]),u=C((f[1]+f[2])/2-t*e[v]),p[v]=s<h||g[3]>h?s:h,c[v]=u>m||g[3]<m?u:m,y===h&&f[3]<p[v]||y===m&&f[3]<c[v]?d=p[v]:(y===h&&f[3]>p[v]||y===m&&f[3]>c[v])&&(d=c[v]),r.push([o[l+v],d]),a.push(o[l+v]),n.push(d);return{values:r,xData:a,yData:n}}}}return r.defaultOptions=A(D.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),i(r.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),e.registerSeriesType("supertrend",r),r}),t(e,"Stock/Indicators/VBP/VBPPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(e){({prototype:{pointClass:e}}=e.seriesTypes.sma);class t extends e{destroy(){this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),super.destroy.apply(this,arguments)}}return t}),t(e,"Stock/Indicators/VBP/VBPIndicator.js",[e["Stock/Indicators/VBP/VBPPoint.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,s,o,i,r){const a=t["animObject"],{column:{prototype:v},sma:n}=(t=s["noop"],o.seriesTypes),{addEvent:l,arrayMax:x,arrayMin:d,correctFloat:S,defined:h,error:c,extend:p,isArray:u,merge:m}=i,D=Math.abs;class y extends n{constructor(){super(...arguments),this.zoneLinesSVG=this.zoneStarts=this.volumeDataArray=this.rangeStep=this.priceZones=this.posWidths=this.points=this.options=this.negWidths=this.data=void 0}init(t){const s=this,o=(super.init.apply(s,arguments),l(r,"afterLinkSeries",function(){if(s.options){const e=s.linkedParent,o=t.get(s.options.params.volumeSeriesID);s.addCustomEvents(e,o)}o()},{order:1}));return s}addCustomEvents(e,t){const s=this,o=()=>{s.chart.redraw(),s.setData([]),s.zoneStarts=[],s.zoneLinesSVG&&(s.zoneLinesSVG=s.zoneLinesSVG.destroy())};return s.dataEventsToUnbind.push(l(e,"remove",function(){o()})),t&&s.dataEventsToUnbind.push(l(t,"remove",function(){o()})),s}animate(e){const s=this,t=s.chart.inverted,o=s.group,i={};!e&&o&&(e=t?s.yAxis.top:s.xAxis.left,t?(o["forceAnimate:translateY"]=!0,i.translateY=e):(o["forceAnimate:translateX"]=!0,i.translateX=e),o.animate(i,p(a(s.options.animation),{step:function(e,t){s.group.attr({scaleX:Math.max(.001,t.pos)})}})))}drawPoints(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),v.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),v.drawPoints.apply(this,arguments)}posNegVolume(e,t){var s=t?["positive","negative"]:["negative","positive"],o=this.options.volumeDivision,i=this.points.length;let r=[],a=[],n=0,l,p,c,u;for(e?(this.posWidths=r,this.negWidths=a):(r=this.posWidths,a=this.negWidths);n<i;n++)(u=this.points[n])[s[0]+"Graphic"]=u.graphic,u.graphic=u[s[1]+"Graphic"],e&&(l=u.shapeArgs.width,(c=(p=this.priceZones[n]).wholeVolumeData)?(r.push(l/c*p.positiveVolumeData),a.push(l/c*p.negativeVolumeData)):(r.push(0),a.push(0))),u.color=t?o.styles.positiveColor:o.styles.negativeColor,u.shapeArgs.width=(t?this.posWidths:this.negWidths)[n],u.shapeArgs.x=t?u.shapeArgs.x:this.posWidths[n]}translate(){const s=this;var e=s.options;const t=s.chart,o=s.yAxis;var i=o.min;const r=s.options.zoneLines,a=s.priceZones;let n=0,l,p,c,u,d,h,m,y,g;v.translate.apply(s);const f=s.points;f.length&&(h=e.pointPadding<.5?e.pointPadding:.1,e=s.volumeDataArray,l=x(e),p=t.plotWidth/2,m=t.plotTop,c=D(o.toPixels(i)-o.toPixels(i+s.rangeStep)),u=D(o.toPixels(i)-o.toPixels(i+s.rangeStep)),h&&(i=D(c*(1-2*h)),n=D((c-i)/2),c=D(i)),f.forEach(function(e,t){y=e.barX=e.plotX=0,g=e.plotY=o.toPixels(a[t].start)-m-(o.reversed?c-u:c)-n,d=S(p*a[t].wholeVolumeData/l),e.pointWidth=d,e.shapeArgs=s.crispCol.apply(s,[0,g,d,c]),e.volumeNeg=a[t].negativeVolumeData,e.volumePos=a[t].positiveVolumeData,e.volumeAll=a[t].wholeVolumeData}),r.enabled&&s.drawZones(t,o,s.zoneStarts,r.styles))}getValues(e,t){const s=e.processedXData,o=e.processedYData,i=this.chart,r=t.ranges,a=[],n=[],l=[],p=i.get(t.volumeSeriesID);if(e.chart)if(p&&p.processedXData.length){if(!(t=u(o[0]))||4===o[0].length)return(this.priceZones=this.specifyZones(t,s,o,r,p)).forEach(function(e,t){a.push([e.x,e.end]),n.push(a[t][0]),l.push(a[t][1])}),{values:a,xData:n,yData:l};c("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,i)}else c("Series "+t.volumeSeriesID+(p&&!p.processedXData.length?" does not contain any data.":" not found! Check `volumeSeriesID`."),!0,i);else c("Base series not found! In case it has been removed, add a new one.",!0,i)}specifyZones(e,t,s,o,i){if(e){for(var r,a=s.length,n=s[0][3],l=n,p=1;p<a;p++)(r=s[p][3])<n&&(n=r),l<r&&(l=r);a={min:n,max:l}}else a=!1;p=a,a=this.zoneStarts=[],n=[],l=p?p.min:d(s),r=p?p.max:x(s);let c=0;var p=1,u=this.linkedParent;if(!this.options.compareToMain&&u.dataModify&&(l=u.dataModify.modifyValue(l),r=u.dataModify.modifyValue(r)),!h(l)||!h(r))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(u=this.rangeStep=S(r-l)/o,a.push(l);c<o-1;c++)a.push(S(a[c]+u));for(a.push(r),o=a.length;p<o;p++)n.push({index:p-1,x:t[0],start:a[p-1],end:a[p]});return this.volumePerZone(e,n,i,t,s)}volumePerZone(s,e,t,o,i){const r=this,a=t.processedXData,n=t.processedYData,l=e.length-1,p=i.length;t=n.length;let c,u,d,h,m;return D(p-t)&&(o[0]!==a[0]&&n.unshift(0),o[p-1]!==a[t-1]&&n.push(0)),r.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,m=e.negativeVolumeData=0;m<p;m++){d=u=!1,h=s?i[m][3]:i[m],c=m?s?i[m-1][3]:i[m-1]:h;const t=r.linkedParent;!r.options.compareToMain&&t.dataModify&&(h=t.dataModify.modifyValue(h),c=t.dataModify.modifyValue(c)),h<=e.start&&0===e.index&&(u=!0),h>=e.end&&e.index===l&&(d=!0),(h>e.start||u)&&(h<e.end||d)&&(e.wholeVolumeData+=n[m],c>h?e.negativeVolumeData+=n[m]:e.positiveVolumeData+=n[m])}r.volumeDataArray.push(e.wholeVolumeData)}),e}drawZones(t,s,e,o){const i=t.renderer,r=t.plotWidth,a=t.plotTop;let n=this.zoneLinesSVG,l=[],p;e.forEach(function(e){p=s.toPixels(e)-a,l=l.concat(t.renderer.crispLine([["M",0,p],["L",r,p]],o.lineWidth))}),n?n.animate({d:l}):n=this.zoneLinesSVG=i.path(l).attr({"stroke-width":o.lineWidth,stroke:o.color,dashstyle:o.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}}return y.defaultOptions=m(n.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}}),p(y.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:e,markerAttribs:t,drawGraph:t,getColumnMetrics:v.getColumnMetrics,crispCol:v.crispCol}),o.registerSeriesType("vbp",y),y}),t(e,"Stock/Indicators/VWAP/VWAPIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{error:n,isArray:l,merge:o}=t;class i extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){const s=e.chart,o=e.xData;e=e.yData;var i=t.period;let r=!0,a;if(a=s.get(t.volumeSeriesID))return l(e[0])||(r=!1),this.calculateVWAPValues(r,o,e,a,i);n("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s)}calculateVWAPValues(e,t,s,o,i){var r=o.yData,a=o.xData.length,n=t.length;o=[];const l=[],p=[],c=[],u=[];let d,h;for(a=n<=a?n:a,h=n=0;n<a;n++){var m=e?(s[n][1]+s[n][2]+s[n][3])/3:s[n];m*=r[n],m=h?o[n-1]+m:m,d=h?l[n-1]+r[n]:r[n],o.push(m),l.push(d),u.push([t[n],m/d]),p.push(u[n][0]),c.push(u[n][1]),++h===i&&(h=0)}return{values:u,xData:p,yData:c}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),e.registerSeriesType("vwap",i),i}),t(e,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(c,e,t){const s=e.seriesTypes["sma"],{extend:o,isArray:u,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){t=t.period;const s=e.xData,o=(e=e.yData)?e.length:0,i=[],r=[],a=[];let n;if(!(s.length<t)&&u(e[0])&&4===e[0].length){for(n=t-1;n<o;n++){var l=e.slice(n-t+1,n+1),p=c.getArrayExtremes(l,2,1),l=p[0];l=((p=p[1])-e[n][3])/(p-l)*-100,s[n]&&(i.push([s[n],l]),r.push(s[n]),a.push(l))}return{values:i,xData:r,yData:a}}}}return r.defaultOptions=i(s.defaultOptions,{params:{index:void 0,period:14}}),o(r.prototype,{nameBase:"Williams %R"}),e.registerSeriesType("williamsr",r),r}),t(e,"Stock/Indicators/WMA/WMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){function d(e,t,s,o){var i;return i=e.length,i*=(i+1)/2,s=e.reduce(function(e,t,s){return[null,e[1]+t[1]*(s+1)]})[1]/i,t=t[o-1],e.shift(),[t,s]}const s=e.seriesTypes["sma"],{isArray:h,merge:o}=t;class i extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s=t.period;const o=e.xData,i=(e=e.yData)?e.length:0,r=o[0],a=[],n=[],l=[];var p=1;let c=-1,u=e[0];if(!(o.length<s)){for(h(e[0])&&(c=t.index,u=e[0][c]),t=[[r,u]];p!==s;)t.push([o[p],c<0?e[p]:e[p][c]]),p++;for(s=p;s<i;s++)p=d(t,o,e,s),a.push(p),n.push(p[0]),l.push(p[1]),t.push([o[s],c<0?e[s]:e[s][c]]);return p=d(t,o,e,s),a.push(p),n.push(p[0]),l.push(p[1]),{values:a,xData:n,yData:l}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("wma",i),i}),t(e,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{merge:o,extend:i}=t;class r extends s{constructor(){super(...arguments),this.options=this.points=this.data=void 0}getValues(e,t){var s=t.lowIndex,o=t.highIndex,i=(t=1+(r=t.deviation/100),1-r),r=e.xData,a=e.yData;e=a?a.length:0;const n=[],l=[],p=[];let c,u,d,h,m=!1,y=!1;if(!(!r||r.length<=1||e&&(void 0===a[0][s]||void 0===a[0][o]))){var g=a[0][s],f=a[0][o];for(c=1;c<e;c++)a[c][s]<=f*i?(n.push([r[0],f]),d=[r[c],a[c][s]],m=h=!0):a[c][o]>=g*t&&(n.push([r[0],g]),d=[r[c],a[c][o]],h=!1,m=!0),m&&(l.push(n[0][0]),p.push(n[0][1]),u=c++,c=e);for(c=u;c<e;c++)h?(a[c][s]<=d[1]&&(d=[r[c],a[c][s]]),a[c][o]>=d[1]*t&&(y=o)):(a[c][o]>=d[1]&&(d=[r[c],a[c][o]]),a[c][s]<=d[1]*i&&(y=s)),!1!==y&&(n.push(d),l.push(d[0]),p.push(d[1]),d=[r[c],a[c][y]],h=!h,y=!1);return 0!==(s=n.length)&&n[s-1][0]<r[e-1]&&(n.push(d),l.push(d[0]),p.push(d[1])),{values:n,xData:l,yData:p}}}}return r.defaultOptions=o(s.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),i(r.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),e.registerSeriesType("zigzag",r),r}),t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{isArray:u,extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getRegressionLineParameters(e,t){function s(e,t){return u(e)?e[t]:e}const o=this.options.params.index;var i=e.reduce(function(e,t){return t+e},0),r=t.reduce(function(e,t){return s(t,o)+e},0);i/=e.length,r/=t.length;let a,n,l,p=0,c=0;for(l=0;l<e.length;l++)a=e[l]-i,n=s(t[l],o)-r,p+=a*n,c+=Math.pow(a,2);return{slope:e=c?p/c:0,intercept:r-e*i}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){const s=e[0];return e.map(function(e){return(e-s)/t})}findClosestDistance(e){let t,s,o;for(o=1;o<e.length-1;o++)0<(t=e[o]-e[o-1])&&(void 0===s||t<s)&&(s=t);return s}getValues(e,t){const s=e.xData,o=(e=e.yData,t=t.period,{xData:[],yData:[],values:[]}),i=this.options.params.xAxisUnit||this.findClosestDistance(s);let r;for(r=t-1;r<=s.length-1;r++){var a=r-t+1,n=r+1,l=s[r],p=s.slice(a,n),a=e.slice(a,n),n=this.transformXData(p,i),p=this.getRegressionLineParameters(n,a);a=this.getEndPointY(p,n[n.length-1]),o.values.push({regressionLineParameters:p,x:l,y:a}),o.xData.push(l),o.yData.push(a)}return o}}return r.defaultOptions=i(s.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),o(r.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",r),r}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["linearRegression"],{extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getEndPointY(e){return e.slope}}return r.defaultOptions=i(s.defaultOptions),o(r.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",r),r}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["linearRegression"],{extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getEndPointY(e){return e.intercept}}return r.defaultOptions=i(s.defaultOptions),o(r.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",r),r}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["linearRegression"],{extend:o,merge:i}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}slopeToAngle(e){return 180/Math.PI*Math.atan(e)}getEndPointY(e){return this.slopeToAngle(e.slope)}}return r.defaultOptions=i(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),o(r.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",r),r}),t(e,"Stock/Indicators/ABands/ABandsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const o=t.seriesTypes["sma"],{correctFloat:g,extend:i,merge:r}=s;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getValues(e,t){var s,o,i,r,a=t.period,n=t.factor;t=t.index;const l=e.xData,p=(e=e.yData)?e.length:0,c=[],u=[],d=[],h=[],m=[];let y;if(!(p<a)){for(y=0;y<=p;y++)y<p&&(s=e[y][2],i=e[y][1],o=n,s=g(i-s)/(g(i+s)/2)*1e3*o,c.push(e[y][1]*g(1+2*s)),u.push(e[y][2]*g(1-2*s))),y>=a&&(s=l.slice(y-a,y),r=e.slice(y-a,y),o=super.getValues.call(this,{xData:s,yData:c.slice(y-a,y)},{period:a}),i=super.getValues.call(this,{xData:s,yData:u.slice(y-a,y)},{period:a}),s=(r=super.getValues.call(this,{xData:s,yData:r},{period:a,index:t})).xData[0],o=o.yData[0],i=i.yData[0],r=r.yData[0],d.push([s,o,r,i]),h.push(s),m.push([o,r,i]));return{values:d,xData:h,yData:m}}}}return a.defaultOptions=r(o.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),i(a.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(a),t.registerSeriesType("abands",a),a}),t(e,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const s=e.seriesTypes["sma"],{extend:o,merge:i,isArray:h}=t;class r extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0,this.updateAllPoints=!0}getValues(e,t){var s=e.xData,o=e.yData;e=[];const i=[],r=[],a=s.length,n=t.index;var l=(a-1)*a/2;let p=0,c=0,u=(a-1)*a*(2*a-1)/6,d;for(t=0;t<a;t++)d=h(o[t])?o[t][n]:o[t],p+=d,c+=t*d;for(o=(a*c-l*p)/(a*u-l*l),isNaN(o)&&(o=0),l=(p-o*l)/a,t=0;t<a;t++)d=o*t+l,e[t]=[s[t],d],i[t]=s[t],r[t]=d;return{xData:i,yData:r,values:e}}}return r.defaultOptions=i(s.defaultOptions,{params:{period:void 0,index:3}}),o(r.prototype,{nameBase:"Trendline",nameComponents:!1}),e.registerSeriesType("trendline",r),r}),t(e,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(s,e){const o=s.seriesTypes["sma"],{correctFloat:i,defined:u,extend:t,isArray:d,merge:r}=e;class a extends o{constructor(){super(...arguments),this.points=this.options=this.data=this.averageIndicator=void 0}init(){var e=arguments,t=e[1].params;this.averageIndicator=s.seriesTypes[t&&t.average?t.average:void 0]||o,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,t){return i(e-t)/t*100}getValues(e,t){const s=t.index,o=e.xData,i=e.yData,r=i?i.length:0,a=[],n=[],l=[];var p=this.averageIndicator,c=d(i[0]);if(e=(t=p.prototype.getValues(e,t)).yData,t=o.indexOf(t.xData[0]),e&&0!==e.length&&u(s)&&!(i.length<=t)){for(p=t;p<r;p++){const r=this.calculateDisparityIndex(c?i[p][s]:i[p],e[p-t]);a.push([o[p],r]),n.push(o[p]),l.push(r)}return{values:a,xData:n,yData:l}}}}return a.defaultOptions=r(o.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),t(a.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),s.registerSeriesType("disparityindex",a),a}),t(e,"masters/indicators/indicators-all.src.js",[],function(){})});