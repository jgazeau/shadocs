!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,n,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.sma,u=t.isArray,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(p,n=i),p.prototype.getRegressionLineParameters=function(e,t){function n(e,t){return u(e)?e[t]:e}for(var o=this.options.params.index,r=e.reduce(function(e,t){return t+e},0),i=t.reduce(function(e,t){return n(t,o)+e},0),s=(r/=e.length,i/=t.length,0),a=0,p=0;p<e.length;p++){var c=e[p]-r;s+=c*(n(t[p],o)-i),a+=Math.pow(c,2)}return{slope:e=a?s/a:0,intercept:i-e*r}},p.prototype.getEndPointY=function(e,t){return e.slope*t+e.intercept},p.prototype.transformXData=function(e,t){var n=e[0];return e.map(function(e){return(e-n)/t})},p.prototype.findClosestDistance=function(e){for(var t,n=1;n<e.length-1;n++){var o=e[n]-e[n-1];0<o&&(void 0===t||o<t)&&(t=o)}return t},p.prototype.getValues=function(e,t){var n=e.xData;e=e.yData,t=t.period;for(var o={xData:[],yData:[],values:[]},r=this.options.params.xAxisUnit||this.findClosestDistance(n),i=t-1;i<=n.length-1;i++){var s=n[i],a=n.slice(p=i-t+1,c=i+1),p=e.slice(p,c),c=this.transformXData(a,r),a=this.getRegressionLineParameters(c,p);p=this.getEndPointY(a,c[c.length-1]),o.values.push({regressionLineParameters:a,x:s,y:p}),o.xData.push(s),o.yData.push(p)}return o},p.defaultOptions=a(i.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),s((t=p).prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",t),t}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(p,n=i),p.prototype.getEndPointY=function(e){return e.slope},p.defaultOptions=a(i.defaultOptions),s((t=p).prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",t),t}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(p,n=i),p.prototype.getEndPointY=function(e){return e.intercept},p.defaultOptions=a(i.defaultOptions),s((t=p).prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",t),t}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(p,n=i),p.prototype.slopeToAngle=function(e){return 180/Math.PI*Math.atan(e)},p.prototype.getEndPointY=function(e){return this.slopeToAngle(e.slope)},p.defaultOptions=a(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),s((t=p).prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",t),t}),t(e,"masters/indicators/regressions.src.js",[],function(){})});