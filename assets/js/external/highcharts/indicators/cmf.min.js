"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/cmf",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];t=t.merge;class i extends s{constructor(){super(...arguments),this.yData=this.linkedParent=this.volumeSeries=this.points=this.options=this.data=void 0,this.nameBase="Chaikin Money Flow"}isValid(){var e=this.chart,t=this.options,s=this.linkedParent,e=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=s&&s.yData&&4===s.yData[0].length;return!!(s&&e&&s.xData&&s.xData.length>=t.params.period&&e.xData&&e.xData.length>=t.params.period&&i)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,s,i){function a(e,t){var s=e[1],i=e[2];return e=e[3],null!==t&&null!==s&&null!==i&&null!==e&&s!==i?(e-i-(s-e))/(s-i)*t:(c=h,null)}const n=t.length,o=[],r=[],u=[],l=[];let h,d,c=-1,p=0,f=0;if(0<i&&i<=n){for(h=0;h<i;h++)o[h]=a(t[h],s[h]),p+=s[h],f+=o[h];for(r.push(e[h-1]),u.push(h-c>=i&&0!==p?f/p:null),l.push([r[0],u[0]]);h<n;h++)o[h]=a(t[h],s[h]),p=(p-=s[h-i])+s[h],f=(f-=o[h-i])+o[h],d=[e[h],h-c>=i?f/p:null],r.push(d[0]),u.push(d[1]),l.push([d[0],d[1]])}return{values:l,xData:r,yData:u}}}return i.defaultOptions=t(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",i),i}),t(e,"masters/indicators/cmf.src.js",[],function(){})});