!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/cmf",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let i=e.seriesTypes["sma"],s=t["merge"];class o extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.volumeSeries=void 0,this.linkedParent=void 0,this.yData=void 0,this.nameBase="Chaikin Money Flow"}isValid(){let e=this.chart,t=this.options,i=this.linkedParent,s=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),o=i&&i.yData&&4===i.yData[0].length;function n(e){return e.xData&&e.xData.length>=t.params.period}return!!(i&&s&&n(i)&&n(s)&&o)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,i,s){let o=t.length,n=[],a=[],r=[],u=[],l,h,d=-1,c=0,p=0;function f(e,t){var i=e[1],s=e[2],e=e[3];return null!==t&&null!==i&&null!==s&&null!==e&&i!==s?(e-s-(i-e))/(i-s)*t:(d=l,null)}if(0<s&&s<=o){for(l=0;l<s;l++)n[l]=f(t[l],i[l]),c+=i[l],p+=n[l];for(a.push(e[l-1]),r.push(l-d>=s&&0!==c?p/c:null),u.push([a[0],r[0]]);l<o;l++)n[l]=f(t[l],i[l]),c=(c-=i[l-s])+i[l],p=(p-=n[l-s])+n[l],h=[e[l],l-d>=s?p/c:null],a.push(h[0]),r.push(h[1]),u.push([h[0],h[1]])}return{values:u,xData:a,yData:r}}}return o.defaultOptions=s(i.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",o),o}),t(e,"masters/indicators/cmf.src.js",[],function(){})});