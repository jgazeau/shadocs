!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/cmf",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(n){"use strict";var e=n?n._modules:{};function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&n.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){let s=e.seriesTypes["sma"],i=t["merge"];class n extends s{constructor(){super(...arguments),this.nameBase="Chaikin Money Flow"}isValid(){let e=this.chart,t=this.options,s=this.linkedParent,i=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),n=s&&s.yData&&4===s.yData[0].length;function r(e){return e.xData&&e.xData.length>=t.params.period}return!!(s&&i&&r(s)&&r(i)&&n)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,s,i){let n=t.length,r=[],o=[],a=[],u=[],l,h,c=-1,d=0,f=0;function p(e,t){var s=e[1],i=e[2],e=e[3];return null!==t&&null!==s&&null!==i&&null!==e&&s!==i?(e-i-(s-e))/(s-i)*t:(c=l,null)}if(0<i&&i<=n){for(l=0;l<i;l++)r[l]=p(t[l],s[l]),d+=s[l],f+=r[l];for(o.push(e[l-1]),a.push(l-c>=i&&0!==d?f/d:null),u.push([o[0],a[0]]);l<n;l++)r[l]=p(t[l],s[l]),d=(d-=s[l-i])+s[l],f=(f-=r[l-i])+r[l],h=[e[l],l-c>=i?f/d:null],o.push(h[0]),a.push(h[1]),u.push([h[0],h[1]])}return{values:u,xData:o,yData:a}}}return n.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",n),n}),t(e,"masters/indicators/cmf.src.js",[e["Core/Globals.js"]],function(e){return e})});