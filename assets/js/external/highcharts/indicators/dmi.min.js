!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/dmi",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,s,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Stock/Indicators/MultipleLinesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,o){var n;let f=e.seriesTypes["sma"]["prototype"],{defined:y,error:g,merge:D}=o;{e=n=n||{};let t=[],s=["bottomLine"],i=["top","bottom"],a=["top"];function M(t){return"plot"+t.charAt(0).toUpperCase()+t.slice(1)}function I(t,e){let s=[];return(t.pointArrayMap||[]).forEach(t=>{t!==e&&s.push(M(t))}),s}function r(){let s=this,t=s.pointValKey,e=s.linesApiNames,i=s.areaLinesNames,a=s.points,o=s.options,n=s.graph,r={options:{gapSize:o.gapSize}},l=[],p=I(s,t),h=a.length,u;var c,d,m;p.forEach((t,e)=>{for(l[e]=[];h--;)u=a[h],l[e].push({x:u.x,plotX:u.plotX,plotY:u[t],isNull:!y(u[t])});h=a.length}),s.userOptions.fillColor&&i.length&&(c=p.indexOf(M(i[0])),c=l[c],d=1===i.length?a:l[p.indexOf(M(i[1]))],m=s.color,s.points=d,s.nextPoints=c,s.color=s.userOptions.fillColor,s.options=D(a,r),s.graph=s.area,s.fillGraph=!0,f.drawGraph.call(s),s.area=s.graph,delete s.nextPoints,delete s.fillGraph,s.color=m),e.forEach((t,e)=>{l[e]?(s.points=l[e],o[t]?s.options=D(o[t].styles,r):g('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),s.graph=s["graph"+t],f.drawGraph.call(s),s["graph"+t]=s.graph):g('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),s.points=a,s.options=o,s.graph=n,f.drawGraph.call(s)}function l(t){let e,s=[],i;if(t=t||this.points,this.fillGraph&&this.nextPoints){if((e=f.getGraphPath.call(this,this.nextPoints))&&e.length){e[0][0]="L",s=f.getGraphPath.call(this,t);for(let t=(i=e.slice(0,s.length)).length-1;0<=t;t--)s.push(i[t])}}else s=f.getGraphPath.apply(this,arguments);return s}function p(e){let s=[];return(this.pointArrayMap||[]).forEach(t=>{s.push(e[t])}),s}function h(){let t=this.pointArrayMap,i,a;i=I(this),f.translate.apply(this,arguments),this.points.forEach(s=>{t.forEach((t,e)=>{a=s[t],null!==(a=this.dataModify?this.dataModify.modifyValue(a):a)&&(s[i[e]]=this.yAxis.toPixels(a,!0))})})}e.compose=function(e){if(o.pushUnique(t,e)){let t=e.prototype;t.linesApiNames=t.linesApiNames||s.slice(),t.pointArrayMap=t.pointArrayMap||i.slice(),t.pointValKey=t.pointValKey||"top",t.areaLinesNames=t.areaLinesNames||a.slice(),t.drawGraph=r,t.getGraphPath=l,t.toYData=p,t.translate=h}return e}}return n}),e(t,"Stock/Indicators/DMI/DMIIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,s){let i=e.seriesTypes["sma"],{correctFloat:n,extend:a,isArray:o,merge:r}=s;class l extends i{constructor(){super(...arguments),this.options=void 0}calculateDM(t,e,s){var i=t[e][1],a=t[e][2],o=t[e-1][1],t=t[e-1][2];return n(t-a<i-o?s?Math.max(i-o,0):0:s?0:Math.max(t-a,0))}calculateDI(t,e){return t/e*100}calculateDX(t,e){return n(Math.abs(t-e)/Math.abs(t+e)*100)}smoothValues(t,e,s){return n(t-t/s+e)}getTR(t,e){return n(Math.max(t[1]-t[2],e?Math.abs(t[1]-e[3]):0,e?Math.abs(t[2]-e[3]):0))}getValues(t,e){let d=e.period,m=t.xData,f=t.yData,s=f?f.length:0,y=[],g=[],D=[];if(!(m.length<=d)&&o(f[0])&&4===f[0].length){let p=0,h=0,u=0,c;for(c=1;c<s;c++){let t,e,s,i,a,o,n,r,l;c<=d?(i=this.calculateDM(f,c,!0),a=this.calculateDM(f,c),o=this.getTR(f[c],f[c-1]),p+=i,h+=a,u+=o,c===d&&(n=this.calculateDI(p,u),r=this.calculateDI(h,u),l=this.calculateDX(p,h),y.push([m[c],l,n,r]),g.push(m[c]),D.push([l,n,r]))):(i=this.calculateDM(f,c,!0),a=this.calculateDM(f,c),o=this.getTR(f[c],f[c-1]),t=this.smoothValues(p,i,d),e=this.smoothValues(h,a,d),s=this.smoothValues(u,o,d),p=t,h=e,u=s,n=this.calculateDI(p,u),r=this.calculateDI(h,u),l=this.calculateDX(p,h),y.push([m[c],l,n,r]),g.push(m[c]),D.push([l,n,r]))}return{values:y,xData:g,yData:D}}}}return l.defaultOptions=r(i.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">‚óè</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),a(l.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),t.compose(l),e.registerSeriesType("dmi",l),l}),e(t,"masters/indicators/dmi.src.js",[],function(){})});