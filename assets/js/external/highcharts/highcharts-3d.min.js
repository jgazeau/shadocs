!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Core/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let x=t["deg2rad"],c=e["pick"];function s(t,e,i,s){let r=e.options.chart.options3d,o=c(s,!!i&&e.inverted),a={x:e.plotWidth/2,y:e.plotHeight/2,z:r.depth/2,vd:c(r.depth,1)*c(r.viewDistance,0)},n=e.scale3d||1,h=x*r.beta*(o?-1:1),l=x*r.alpha*(o?-1:1),p={cosA:Math.cos(l),cosB:Math.cos(-h),sinA:Math.sin(l),sinB:Math.sin(-h)};return i||(a.x+=e.plotLeft,a.y+=e.plotTop),t.map(function(t){var e,i;e=(o?t.y:t.x)-a.x,i=(o?t.x:t.y)-a.y,t=(t.z||0)-a.z;let s={x:p.cosB*e-p.sinB*t,y:-p.sinA*p.sinB*e+p.cosA*i-p.cosB*p.sinA*t,z:p.cosA*p.sinB*e+p.sinA*i+p.cosA*p.cosB*t},r=d(s,a,a.vd);return r.x=r.x*n+a.x,r.y=r.y*n+a.y,r.z=s.z*n+a.z,{x:o?r.y:r.x,y:o?r.x:r.y,z:r.z}})}function d(t,e,i){e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*e,y:t.y*e}}function r(t){let e=0,i,s;for(i=0;i<t.length;i++)s=(i+1)%t.length,e+=t[i].x*t[s].y-t[s].x*t[i].y;return e/2}return{perspective:s,perspective3D:d,pointCameraDistance:function(t,e){let i=e.options.chart.options3d,s=e.plotWidth/2,r=e.plotHeight/2,o=c(i.depth,1)*c(i.viewDistance,0)+i.depth,a=Math.sqrt(Math.pow(s-c(t.plotX,t.x),2)+Math.pow(r-c(t.plotY,t.y),2)+Math.pow(o-c(t.plotZ,t.z),2));return a},shapeArea:r,shapeArea3D:function(t,e,i){return r(s(t,e,i))}}}),e(t,"Core/Chart/Chart3D.js",[t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e,i,s){var r;let f=t["parse"],o=e["defaultOptions"],{perspective:M,shapeArea3D:P}=i,{addEvent:a,isArray:n,merge:h,pick:S,wrap:l}=s;{var p=r=r||{};function x(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function c(){if(this.chart3d&&this.is3d()){let t=this.renderer,e=this.options.chart.options3d,i=this.chart3d.get3dFrame(),s=this.plotLeft,r=this.plotLeft+this.plotWidth,o=this.plotTop,a=this.plotTop+this.plotHeight,n=e.depth,h=s-(i.left.visible?i.left.size:0),l=r+(i.right.visible?i.right.size:0),p=o-(i.top.visible?i.top.size:0),x=a+(i.bottom.visible?i.bottom.size:0),c=0-(i.front.visible?i.front.size:0),d=n+(i.back.visible?i.back.size:0),y=this.hasRendered?"animate":"attr";this.chart3d.frame3d=i,this.frameShapes||(this.frameShapes={bottom:t.polyhedron().add(),top:t.polyhedron().add(),left:t.polyhedron().add(),right:t.polyhedron().add(),back:t.polyhedron().add(),front:t.polyhedron().add()}),this.frameShapes.bottom[y]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:h,y:x,z:c},{x:l,y:x,z:c},{x:l,y:x,z:d},{x:h,y:x,z:d}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:s,y:a,z:n},{x:r,y:a,z:n},{x:r,y:a,z:0},{x:s,y:a,z:0}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:x,z:c},{x:h,y:x,z:d},{x:s,y:a,z:n},{x:s,y:a,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:d},{x:l,y:x,z:c},{x:r,y:a,z:0},{x:r,y:a,z:n}],enabled:i.bottom.visible&&!i.right.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:l,y:x,z:c},{x:h,y:x,z:c},{x:s,y:a,z:0},{x:r,y:a,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:h,y:x,z:d},{x:l,y:x,z:d},{x:r,y:a,z:n},{x:s,y:a,z:n}],enabled:i.bottom.visible&&!i.back.visible}]}),this.frameShapes.top[y]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:l,y:p,z:d},{x:l,y:p,z:c},{x:h,y:p,z:c}],enabled:i.top.visible},{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:s,y:o,z:0},{x:r,y:o,z:0},{x:r,y:o,z:n},{x:s,y:o,z:n}],enabled:i.top.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:s,y:o,z:n}],enabled:i.top.visible&&!i.left.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:c},{x:l,y:p,z:d},{x:r,y:o,z:n},{x:r,y:o,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:f(i.top.color).get(),vertexes:[{x:h,y:p,z:c},{x:l,y:p,z:c},{x:r,y:o,z:0},{x:s,y:o,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:f(i.top.color).get(),vertexes:[{x:l,y:p,z:d},{x:h,y:p,z:d},{x:s,y:o,z:n},{x:r,y:o,z:n}],enabled:i.top.visible&&!i.back.visible}]}),this.frameShapes.left[y]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:x,z:c},{x:s,y:a,z:0},{x:s,y:a,z:n},{x:h,y:x,z:d}],enabled:i.left.visible&&!i.bottom.visible},{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:s,y:o,z:n},{x:s,y:o,z:0},{x:h,y:p,z:c}],enabled:i.left.visible&&!i.top.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:h,y:x,z:d},{x:h,y:p,z:d},{x:h,y:p,z:c},{x:h,y:x,z:c}],enabled:i.left.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:s,y:o,z:n},{x:s,y:a,z:n},{x:s,y:a,z:0},{x:s,y:o,z:0}],enabled:i.left.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:x,z:c},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:s,y:a,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:x,z:d},{x:s,y:a,z:n},{x:s,y:o,z:n}],enabled:i.left.visible&&!i.back.visible}]}),this.frameShapes.right[y]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:x,z:d},{x:r,y:a,z:n},{x:r,y:a,z:0},{x:l,y:x,z:c}],enabled:i.right.visible&&!i.bottom.visible},{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:c},{x:r,y:o,z:0},{x:r,y:o,z:n},{x:l,y:p,z:d}],enabled:i.right.visible&&!i.top.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:r,y:o,z:0},{x:r,y:a,z:0},{x:r,y:a,z:n},{x:r,y:o,z:n}],enabled:i.right.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:c},{x:l,y:p,z:c},{x:l,y:p,z:d},{x:l,y:x,z:d}],enabled:i.right.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:p,z:c},{x:l,y:x,z:c},{x:r,y:a,z:0},{x:r,y:o,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:x,z:d},{x:l,y:p,z:d},{x:r,y:o,z:n},{x:r,y:a,z:n}],enabled:i.right.visible&&!i.back.visible}]}),this.frameShapes.back[y]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:l,y:x,z:d},{x:h,y:x,z:d},{x:s,y:a,z:n},{x:r,y:a,z:n}],enabled:i.back.visible&&!i.bottom.visible},{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:l,y:p,z:d},{x:r,y:o,z:n},{x:s,y:o,z:n}],enabled:i.back.visible&&!i.top.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:x,z:d},{x:h,y:p,z:d},{x:s,y:o,z:n},{x:s,y:a,z:n}],enabled:i.back.visible&&!i.left.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:x,z:d},{x:r,y:a,z:n},{x:r,y:o,z:n}],enabled:i.back.visible&&!i.right.visible},{fill:f(i.back.color).get(),vertexes:[{x:s,y:o,z:n},{x:r,y:o,z:n},{x:r,y:a,z:n},{x:s,y:a,z:n}],enabled:i.back.visible},{fill:f(i.back.color).get(),vertexes:[{x:h,y:x,z:d},{x:l,y:x,z:d},{x:l,y:p,z:d},{x:h,y:p,z:d}],enabled:i.back.visible}]}),this.frameShapes.front[y]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:x,z:c},{x:l,y:x,z:c},{x:r,y:a,z:0},{x:s,y:a,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:c},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:r,y:o,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:c},{x:h,y:x,z:c},{x:s,y:a,z:0},{x:s,y:o,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:c},{x:l,y:p,z:c},{x:r,y:o,z:0},{x:r,y:a,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:f(i.front.color).get(),vertexes:[{x:r,y:o,z:0},{x:s,y:o,z:0},{x:s,y:a,z:0},{x:r,y:a,z:0}],enabled:i.front.visible},{fill:f(i.front.color).get(),vertexes:[{x:l,y:x,z:c},{x:h,y:x,z:c},{x:h,y:p,z:c},{x:l,y:p,z:c}],enabled:i.front.visible}]})}}function d(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this)}function y(){let e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function u(){let s=this.options.chart.options3d;if(this.chart3d&&this.is3d()){s&&(s.alpha=s.alpha%360+(0<=s.alpha?0:360),s.beta=s.beta%360+(0<=s.beta?0:360));let t=this.inverted,e=this.clipBox,i=this.margin;e[t?"y":"x"]=-(i[3]||0),e[t?"x":"y"]=-(i[0]||0),e[t?"height":"width"]=this.chartWidth+(i[3]||0)+(i[1]||0),e[t?"width":"height"]=this.chartHeight+(i[0]||0)+(i[2]||0),this.scale3d=1,!0===s.fitToPlot&&(this.scale3d=this.chart3d.getScale(s.depth)),this.chart3d.frame3d=this.chart3d.get3dFrame()}}function z(){this.is3d()&&(this.isDirtyBox=!0)}function b(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function g(){this.chart3d||(this.chart3d=new D(this))}function m(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function v(t){let e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function A(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}p.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},p.compose=function(t,e){let i=t.prototype,s=e.prototype;i.is3d=function(){return!(!this.options.chart.options3d||!this.options.chart.options3d.enabled)},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),s.matrixSetter=function(){let e;if(this.pos<1&&(n(this.start)||n(this.end))){var i=this.start||[1,0,0,1,0,0],s=this.end||[1,0,0,1,0,0];e=[];for(let t=0;t<6;t++)e.push(this.pos*s[t]+(1-this.pos)*i[t])}else e=this.end;this.elem.attr(this.prop,e,null,!0)},h(!0,o,p.defaultOptions),a(t,"init",g),a(t,"addSeries",x),a(t,"afterDrawChartBox",c),a(t,"afterGetContainer",d),a(t,"afterInit",y),a(t,"afterSetChartSize",u),a(t,"beforeRedraw",z),a(t,"beforeRender",b),l(i,"isInsidePlot",m),l(i,"renderSeries",v),l(i,"setClassName",A)};class D{constructor(t){this.frame3d=void 0,this.chart=t}get3dFrame(){function t(t){return.5<(t=P(t,a))?1:t<-.5?-1:0}function e(e,t,i){let s=["size","color","visible"],r={};for(let t=0;t<s.length;t++){var o=s[t];for(let t=0;t<e.length;t++)if("object"==typeof e[t]){var a=e[t][o];if(null!=a){r[o]=a;break}}}let n=i;return!0===r.visible||!1===r.visible?n=r.visible:"auto"===r.visible&&(n=0<t),{size:S(r.size,1),color:S(r.color,"none"),frontFacing:0<t,visible:n}}let a=this.chart,i=a.options.chart.options3d,s=i.frame,n=a.plotLeft,h=a.plotLeft+a.plotWidth,l=a.plotTop,p=a.plotTop+a.plotHeight,x=i.depth,r=t([{x:n,y:p,z:x},{x:h,y:p,z:x},{x:h,y:p,z:0},{x:n,y:p,z:0}]),o=t([{x:n,y:l,z:0},{x:h,y:l,z:0},{x:h,y:l,z:x},{x:n,y:l,z:x}]),c=t([{x:n,y:l,z:0},{x:n,y:l,z:x},{x:n,y:p,z:x},{x:n,y:p,z:0}]),d=t([{x:h,y:l,z:x},{x:h,y:l,z:0},{x:h,y:p,z:0},{x:h,y:p,z:x}]),y=t([{x:n,y:p,z:0},{x:h,y:p,z:0},{x:h,y:l,z:0},{x:n,y:l,z:0}]),f=t([{x:n,y:l,z:x},{x:h,y:l,z:x},{x:h,y:p,z:x},{x:n,y:p,z:x}]),u=!1,z=!1,b=!1,g=!1,m=([].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?z=!0:u=!0:t.opposite?g=!0:b=!0)}),{axes:{},bottom:e([s.bottom,s.top,s],r,u),top:e([s.top,s.bottom,s],o,z),left:e([s.left,s.right,s.side,s],c,b),right:e([s.right,s.left,s.side,s],d,g),back:e([s.back,s.front,s],f,!0),front:e([s.front,s.back,s],y,!1)});if("auto"===i.axisLabelPosition){let t=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},e=[],i=(t(m.left,m.front)&&e.push({y:(l+p)/2,x:n,z:0,xDir:{x:1,y:0,z:0}}),t(m.left,m.back)&&e.push({y:(l+p)/2,x:n,z:x,xDir:{x:0,y:0,z:-1}}),t(m.right,m.front)&&e.push({y:(l+p)/2,x:h,z:0,xDir:{x:0,y:0,z:1}}),t(m.right,m.back)&&e.push({y:(l+p)/2,x:h,z:x,xDir:{x:-1,y:0,z:0}}),[]),s=(t(m.bottom,m.front)&&i.push({x:(n+h)/2,y:p,z:0,xDir:{x:1,y:0,z:0}}),t(m.bottom,m.back)&&i.push({x:(n+h)/2,y:p,z:x,xDir:{x:-1,y:0,z:0}}),[]),r=(t(m.top,m.front)&&s.push({x:(n+h)/2,y:l,z:0,xDir:{x:1,y:0,z:0}}),t(m.top,m.back)&&s.push({x:(n+h)/2,y:l,z:x,xDir:{x:-1,y:0,z:0}}),[]),o=(t(m.bottom,m.left)&&r.push({z:(0+x)/2,y:p,x:n,xDir:{x:0,y:0,z:-1}}),t(m.bottom,m.right)&&r.push({z:(0+x)/2,y:p,x:h,xDir:{x:0,y:0,z:1}}),[]);t(m.top,m.left)&&o.push({z:(0+x)/2,y:l,x:n,xDir:{x:0,y:0,z:-1}}),t(m.top,m.right)&&o.push({z:(0+x)/2,y:l,x:h,xDir:{x:0,y:0,z:1}});var v=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];let s=M(t,a,!1),r=0;for(let t=1;t<s.length;t++)(i*s[t][e]>i*s[r][e]||i*s[t][e]==i*s[r][e]&&s[t].z<s[r].z)&&(r=t);return t[r]};m.axes={y:{left:v(e,"x",-1),right:v(e,"x",1)},x:{top:v(s,"y",-1),bottom:v(i,"y",1)},z:{top:v(o,"y",-1),bottom:v(r,"y",1)}}}else m.axes={y:{left:{x:n,z:0,xDir:{x:1,y:0,z:0}},right:{x:h,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:l,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:p,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:b?h:n,y:l,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:b?h:n,y:p,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return m}getScale(t){let e=this.chart,i=e.plotLeft,s=e.plotWidth+i,r=e.plotTop,o=e.plotHeight+r,a=i+e.plotWidth/2,n=r+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},l,p=1;return l=[{x:i,y:r,z:0},{x:i,y:r,z:t}],[0,1].forEach(function(t){l.push({x:s,y:l[t].y,z:l[t].z})}),[0,1,2,3].forEach(function(t){l.push({x:l[t].x,y:o,z:l[t].z})}),(l=M(l,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(p=Math.min(p,1-Math.abs((i+a)/(h.minX+a))%1)),s<h.maxX&&(p=Math.min(p,(s-a)/(h.maxX-a))),r>h.minY&&(p=h.minY<0?Math.min(p,(r+n)/(-h.minY+r+n)):Math.min(p,1-(r+n)/(h.minY+n)%1)),p=o<h.maxY?Math.min(p,Math.abs((o-n)/(h.maxY-n))):p}}p.Additions=D}return r}),e(t,"Series/Area3D/Area3DSeries.js",[t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){let n=t["perspective"],{line:{prototype:h}}=e["seriesTypes"],s=i["wrap"],r=[];function o(t){t=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return t;let e=h.getGraphPath,i=this.options,s=Math.round(this.yAxis.getThreshold(i.threshold)),r=[];if(this.rawPointsX)for(let t=0;t<this.points.length;t++)r.push({x:this.rawPointsX[t],y:i.stacking?this.points[t].yBottom:s,z:this.zPadding});var o=this.chart.options.chart.options3d;r=n(r,this.chart,!0).map(t=>({plotX:t.x,plotY:t.y,plotZ:t.z})),this.group&&o&&o.depth&&o.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,270<o.beta||o.beta<90?o.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))})),r.reversed=!0;let a=e.call(this,r,!0,!0);if(a[0]&&"M"===a[0][0]&&(a[0]=["L",a[0][1],a[0][2]]),this.areaPath){let t=this.areaPath.splice(0,this.areaPath.length/2).concat(a);t.xMap=this.areaPath.xMap,this.areaPath=t}return t}return{compose:function(t){i.pushUnique(r,t)&&s(t.prototype,"getGraphPath",o)}}}),e(t,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}}),e(t,"Core/Axis/Tick3DComposition.js",[t["Core/Utilities.js"]],function(e){let{addEvent:i,extend:s,wrap:r}=e,o=[];function a(t){let e=this.axis.axis3D;e&&s(t.pos,e.fix3dPosition(t.pos))}function n(t){let e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){var t=i[0],s=i[1];if("M"===t[0]&&"L"===s[0])return t=[e.fix3dPosition({x:t[1],y:t[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(t)}return i}return{compose:function(t){e.pushUnique(o,t)&&(i(t,"afterGetLabelPosition",a),r(t.prototype,"getMarkPath",n))}}}),e(t,"Core/Axis/Axis3DComposition.js",[t["Core/Axis/Axis3DDefaults.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Axis/Tick3DComposition.js"],t["Core/Utilities.js"]],function(i,t,e,s,r){let g=t["deg2rad"],{perspective:m,perspective3D:d,shapeArea:v}=e,{addEvent:o,merge:a,pick:M,wrap:n}=r,h=[];function l(){let t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=M(e.tickWidth,0),e.gridLineWidth=M(e.gridLineWidth,1))}function p(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function x(){this.axis3D||(this.axis3D=new b(this))}function c(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function y(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));let e=arguments,i=e[1],s=e[2],r=[],o=this.getPlotLinePath({value:i}),a=this.getPlotLinePath({value:s});if(o&&a)for(let t=0;t<o.length;t+=2){var n=o[t],h=o[t+1],l=a[t],p=a[t+1];"M"===n[0]&&"L"===h[0]&&"M"===l[0]&&"L"===p[0]&&r.push(n,h,p,["L",l[1],l[2]],["Z"])}return r}function f(t){let e=this.axis3D,i=this.chart,s=t.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!i.chart3d||!i.is3d()||null===s)return s;let r=i.options.chart.options3d,o=this.isZAxis?i.plotWidth:r.depth,a=i.chart3d.frame3d,n=s[0],h=s[1],l,p=[];return"M"===n[0]&&"L"===h[0]&&(l=[e.swapZ({x:n[1],y:n[2],z:0}),e.swapZ({x:n[1],y:n[2],z:o}),e.swapZ({x:h[1],y:h[2],z:0}),e.swapZ({x:h[1],y:h[2],z:o})],this.horiz?(this.isZAxis?(a.left.visible&&p.push(l[0],l[2]),a.right.visible&&p.push(l[1],l[3])):(a.front.visible&&p.push(l[0],l[2]),a.back.visible&&p.push(l[1],l[3])),a.top.visible&&p.push(l[0],l[1]),a.bottom.visible&&p.push(l[2],l[3])):(a.front.visible&&p.push(l[0],l[2]),a.back.visible&&p.push(l[1],l[3]),a.left.visible&&p.push(l[0],l[1]),a.right.visible&&p.push(l[2],l[3])),p=m(p,this.chart,!1)),i.renderer.toLineSegments(p)}function u(t,s){let r=this.chart,o=this.ticks,a=this.gridGroup;if(this.categories&&r.frameShapes&&r.is3d()&&a&&s&&s.label){let t,e,i;var n=a.element.childNodes[0].getBBox(),h=r.frameShapes.left.getBBox(),l=r.options.chart.options3d,l={x:r.plotWidth/2,y:r.plotHeight/2,z:l.depth/2,vd:M(l.depth,1)*M(l.viewDistance,0)},p=s.pos,x=o[p-1],c=o[p+1];return 0!==p&&x&&x.label&&x.label.xy&&(e=d({x:x.label.xy.x,y:x.label.xy.y,z:null},l,l.vd)),c&&c.label&&c.label.xy&&(i=d({x:c.label.xy.x,y:c.label.xy.y,z:null},l,l.vd)),t=d({x:s.label.xy.x,y:s.label.xy.y,z:null},l,l.vd),Math.abs(e?t.x-e.x:i?i.x-t.x:n.x-h.x)}return t.apply(this,[].slice.call(arguments,1))}function z(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t}class b{static compose(t,e){s.compose(e),r.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),o(t,"init",x),o(t,"afterSetOptions",l),o(t,"drawCrosshair",p),e=t.prototype,n(e,"getLinePath",c),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",u),n(e,"getTitlePosition",z))}constructor(t){this.axis=t}fix3dPosition(t,e){let i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;let o=g*s.options.chart.options3d.alpha,a=g*s.options.chart.options3d.beta,r=M(e&&i.options.title.position3d,i.options.labels.position3d),n=M(e&&i.options.title.skew3d,i.options.labels.skew3d),h=s.chart3d.frame3d,l=s.plotLeft,p=s.plotWidth+l,x=s.plotTop,c=s.plotHeight+x,d=0,y=0,f,u={x:0,y:1,z:0},z=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===h.axes.z.top)return{};y=t.y-x,t.x=h.axes.z.top.x,t.y=h.axes.z.top.y,f=h.axes.z.top.xDir,z=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};y=t.y-c,t.x=h.axes.z.bottom.x,t.y=h.axes.z.bottom.y,f=h.axes.z.bottom.xDir,z=!h.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===h.axes.x.top)return{};y=t.y-x,t.y=h.axes.x.top.y,t.z=h.axes.x.top.z,f=h.axes.x.top.xDir,z=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};y=t.y-c,t.y=h.axes.x.bottom.y,t.z=h.axes.x.bottom.z,f=h.axes.x.bottom.xDir,z=!h.bottom.frontFacing}else if(i.opposite){if(null===h.axes.y.right)return{};d=t.x-p,t.x=h.axes.y.right.x,t.z=h.axes.y.right.z,f={x:(f=h.axes.y.right.xDir).z,y:f.y,z:-f.x}}else{if(null===h.axes.y.left)return{};d=t.x-l,t.x=h.axes.y.left.x,t.z=h.axes.y.left.z,f=h.axes.y.left.xDir}if("chart"!==r)if("flap"===r)if(i.horiz){let t=Math.sin(o);i.opposite&&(t=-t),z&&(t=-t),u={x:f.z*t,y:Math.cos(o),z:-f.x*t}}else f={x:Math.cos(a),y:0,z:Math.sin(a)};else if("ortho"===r)if(i.horiz){let t=Math.cos(o),e=Math.sin(a)*t,i=-Math.sin(o),s=-t*Math.cos(a),r=1/Math.sqrt((u={x:f.y*s-f.z*i,y:f.z*e-f.x*s,z:f.x*i-f.y*e}).x*u.x+u.y*u.y+u.z*u.z);z&&(r=-r),u={x:r*u.x,y:r*u.y,z:r*u.z}}else f={x:Math.cos(a),y:0,z:Math.sin(a)};else i.horiz?u={x:Math.sin(a)*Math.sin(o),y:Math.cos(o),z:-Math.cos(a)*Math.sin(o)}:f={x:Math.cos(a),y:0,z:Math.sin(a)};t.x+=d*f.x+y*u.x,t.y+=d*f.y+y*u.y,t.z+=d*f.z+y*u.z;let b=m([t],i.chart)[0];return n&&(v(m([t,{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z},{x:t.x+u.x,y:t.y+u.y,z:t.z+u.z}],i.chart))<0&&(f={x:-f.x,y:-f.y,z:-f.z}),e=m([{x:t.x,y:t.y,z:t.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z},{x:t.x+u.x,y:t.y+u.y,z:t.z+u.z}],i.chart),b.matrix=[e[1].x-e[0].x,e[1].y-e[0].y,e[2].x-e[0].x,e[2].y-e[0].y,b.x,b.y],b.matrix[4]-=b.x*b.matrix[0]+b.y*b.matrix[2],b.matrix[5]-=b.x*b.matrix[1]+b.y*b.matrix[3]),b}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}}return class{static compose(t,e){s.compose(e),r.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),o(t,"init",x),o(t,"afterSetOptions",l),o(t,"drawCrosshair",p),e=t.prototype,n(e,"getLinePath",c),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",u),n(e,"getTitlePosition",z))}constructor(t){this.axis=t}fix3dPosition(t,e){let i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;let o=g*s.options.chart.options3d.alpha,a=g*s.options.chart.options3d.beta,r=M(e&&i.options.title.position3d,i.options.labels.position3d),n=M(e&&i.options.title.skew3d,i.options.labels.skew3d),h=s.chart3d.frame3d,l=s.plotLeft,p=s.plotWidth+l,x=s.plotTop,c=s.plotHeight+x,d=0,y=0,f,u={x:0,y:1,z:0},z=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===h.axes.z.top)return{};y=t.y-x,t.x=h.axes.z.top.x,t.y=h.axes.z.top.y,f=h.axes.z.top.xDir,z=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};y=t.y-c,t.x=h.axes.z.bottom.x,t.y=h.axes.z.bottom.y,f=h.axes.z.bottom.xDir,z=!h.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===h.axes.x.top)return{};y=t.y-x,t.y=h.axes.x.top.y,t.z=h.axes.x.top.z,f=h.axes.x.top.xDir,z=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};y=t.y-c,t.y=h.axes.x.bottom.y,t.z=h.axes.x.bottom.z,f=h.axes.x.bottom.xDir,z=!h.bottom.frontFacing}else if(i.opposite){if(null===h.axes.y.right)return{};d=t.x-p,t.x=h.axes.y.right.x,t.z=h.axes.y.right.z,f={x:(f=h.axes.y.right.xDir).z,y:f.y,z:-f.x}}else{if(null===h.axes.y.left)return{};d=t.x-l,t.x=h.axes.y.left.x,t.z=h.axes.y.left.z,f=h.axes.y.left.xDir}if("chart"!==r)if("flap"===r)if(i.horiz){let t=Math.sin(o);i.opposite&&(t=-t),z&&(t=-t),u={x:f.z*t,y:Math.cos(o),z:-f.x*t}}else f={x:Math.cos(a),y:0,z:Math.sin(a)};else if("ortho"===r)if(i.horiz){let t=Math.cos(o),e=Math.sin(a)*t,i=-Math.sin(o),s=-t*Math.cos(a),r=1/Math.sqrt((u={x:f.y*s-f.z*i,y:f.z*e-f.x*s,z:f.x*i-f.y*e}).x*u.x+u.y*u.y+u.z*u.z);z&&(r=-r),u={x:r*u.x,y:r*u.y,z:r*u.z}}else f={x:Math.cos(a),y:0,z:Math.sin(a)};else i.horiz?u={x:Math.sin(a)*Math.sin(o),y:Math.cos(o),z:-Math.cos(a)*Math.sin(o)}:f={x:Math.cos(a),y:0,z:Math.sin(a)};t.x+=d*f.x+y*u.x,t.y+=d*f.y+y*u.y,t.z+=d*f.z+y*u.z;let b=m([t],i.chart)[0];return n&&(v(m([t,{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z},{x:t.x+u.x,y:t.y+u.y,z:t.z+u.z}],i.chart))<0&&(f={x:-f.x,y:-f.y,z:-f.z}),e=m([{x:t.x,y:t.y,z:t.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z},{x:t.x+u.x,y:t.y+u.y,z:t.z+u.z}],i.chart),b.matrix=[e[1].x-e[0].x,e[1].y-e[0].y,e[2].x-e[0].x,e[2].y-e[0].y,b.x,b.y],b.matrix[4]-=b.x*b.matrix[0]+b.y*b.matrix[2],b.matrix[5]-=b.x*b.matrix[1]+b.y*b.matrix[3]),b}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}}}),e(t,"Core/Series/Series3D.js",[t["Core/Math3D.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){let x=t["perspective"],{addEvent:s,extend:r,merge:o,pick:c,pushUnique:a,isNumber:d}=i,n=[];class h extends e{static compose(t){a(n,t)&&(s(t,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),r(t.prototype,{translate3dPoints:h.prototype.translate3dPoints}))}translate3dPoints(){let t,e,i,s,r=this.options,o=this.chart,a=c(this.zAxis,o.options.zAxis[0]),n=[],h=[],l=r.stacking?d(r.stack)?r.stack:0:this.index||0;for(s=0,this.zPadding=l*(r.depth||0+(r.groupZPadding||1));s<this.data.length;s++)t=this.data[s],a&&a.translate?(i=a.logarithmic&&a.val2lin?a.val2lin(t.z):t.z,t.plotZ=a.translate(i),t.isInside=!!t.isInside&&i>=a.min&&i<=a.max):t.plotZ=this.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,n.push({x:t.plotX,y:t.plotY,z:t.plotZ}),h.push(t.plotX||0);this.rawPointsX=h;var p=x(n,o,!0);for(s=0;s<this.data.length;s++)t=this.data[s],e=p[s],t.plotX=e.x,t.plotY=e.y,t.plotZ=e.z}}return h.defaultOptions=o(e.defaultOptions),h}),e(t,"Core/Renderer/SVG/SVGElement3D.js",[t["Core/Color/Color.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){let s=t["parse"],r=e.getRendererType().prototype["Element"],{defined:o,pick:a}=i;class n extends r{constructor(){super(...arguments),this.parts=["front","top","side"],this.pathType="cuboid"}initArgs(t){let e=this.renderer,i=e[this.pathType+"Path"](t),s=i.zIndexes;for(var r of this.parts){let t={class:"highcharts-3d-"+r,zIndex:s[r]||0};e.styledMode&&("top"===r?t.filter="url(#highcharts-brighter)":"side"===r&&(t.filter="url(#highcharts-darker)")),this[r]=e.path(i[r]).attr(t).add(this)}this.attr({"stroke-linejoin":"round",zIndex:s.group}),this.forcedSides=i.forcedSides}singleSetterForParts(t,e,i,s,r,o){let a={},n=[null,null,s||"attr",r,o],h=i&&i.zIndexes;if(i){for(var l of(h&&h.group&&this.attr({zIndex:h.group}),Object.keys(i)))a[l]={},a[l][t]=i[l],h&&(a[l].zIndex=i.zIndexes[l]||0);n[1]=a}else a[t]=e,n[0]=a;return this.processParts.apply(this,n)}processParts(t,e,i,s,r){for(var o of this.parts)e&&(t=a(e[o],!1)),!1!==t&&this[o][i](t,s,r);return this}destroy(){return this.processParts(null,null,"destroy"),super.destroy()}attr(t,e,i,s){var r;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),t.shapeArgs||o(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):super.attr(t,void 0,i,s)}animate(t,e,i){var s,r;return o(t.x)&&o(t.y)?(r=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,i),this.attr({zIndex:s.zIndexes.group}),r!==this.forcedSides&&(this.forcedSides=r,this.renderer.styledMode||this.fillSetter(this.fill))):super.animate(t,e,i),this}fillSetter(t){return this.forcedSides=this.forcedSides||[],this.singleSetterForParts("fill",null,{front:t,top:s(t).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:s(t).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()}),this.color=this.fill=t,this}}return n.types={base:n,cuboid:n},n}),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Renderer/SVG/SVGElement3D.js"],t["Core/Utilities.js"]],function(t,e,x,i,s,r){var o;let c=t["animObject"],a=e["parse"],{charts:M,deg2rad:n}=x,{perspective:P,shapeArea:S}=i,{defined:h,extend:d,merge:y,pick:f,pushUnique:l}=r,p=[],T=Math.cos,Z=Math.sin,X=Math.PI,u=4*(Math.sqrt(2)-1)/3/(X/2);function Y(t,e,i,s,r,o,a,n){let h=o-r,l=[];return r<o&&o-r>Math.PI/2+1e-4?l=(l=l.concat(Y(t,e,i,s,r,r+Math.PI/2,a,n))).concat(Y(t,e,i,s,r+Math.PI/2,o,a,n)):o<r&&r-o>Math.PI/2+1e-4?l=(l=l.concat(Y(t,e,i,s,r,r-Math.PI/2,a,n))).concat(Y(t,e,i,s,r-Math.PI/2,o,a,n)):[["C",t+i*Math.cos(r)-i*u*h*Math.sin(r)+a,e+s*Math.sin(r)+s*u*h*Math.cos(r)+n,t+i*Math.cos(o)+i*u*h*Math.sin(o)+a,e+s*Math.sin(o)-s*u*h*Math.cos(o)+n,t+i*Math.cos(o)+a,e+s*Math.sin(o)+n]]}return(o||(o={})).compose=function(t){l(p,t)&&d(t.prototype,{Element3D:s,arc3d:C,arc3dPath:k,cuboid:A,cuboidPath:D,element3d:v,face3d:g,polyhedron:m,toLinePath:z,toLineSegments:b})},o;function z(t,e){let i=[];for(var s of t)i.push(["L",s.x,s.y]);return t.length&&(i[0][0]="M",e&&i.push(["Z"])),i}function b(t){let e=[],i=!0;for(var s of t)e.push(i?["M",s.x,s.y]:["L",s.x,s.y]),i=!i;return e}function g(t){let s=this,r=s.Element.prototype,e=s.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=M[s.chartIndex],i=P(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=S(i),t.d=e,t.visibility=this.enabled&&0<i?"inherit":"hidden"),r.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=M[s.chartIndex],i=P(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=S(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),r.animate.apply(this,arguments)},e.attr(t)}function m(t){let r=this,o=r.Element.prototype,a=r.g(),e=a.destroy;return this.styledMode||a.attr({"stroke-linejoin":"round"}),a.faces=[],a.destroy=function(){for(let t=0;t<a.faces.length;t++)a.faces[t].destroy();return e.call(this)},a.attr=function(e,t,i,s){if("object"==typeof e&&h(e.faces)){for(;a.faces.length>e.faces.length;)a.faces.pop().destroy();for(;a.faces.length<e.faces.length;)a.faces.push(r.face3d().add(a));for(let t=0;t<e.faces.length;t++)r.styledMode&&delete e.faces[t].fill,a.faces[t].attr(e.faces[t],null,i,s);delete e.faces}return o.attr.apply(this,arguments)},a.animate=function(e,i,s){if(e&&e.faces){for(;a.faces.length>e.faces.length;)a.faces.pop().destroy();for(;a.faces.length<e.faces.length;)a.faces.push(r.face3d().add(a));for(let t=0;t<e.faces.length;t++)a.faces[t].animate(e.faces[t],i,s);delete e.faces}return o.animate.apply(this,arguments)},a.attr(t)}function v(t,e){let i=new s.types[t];return i.init(this,"g"),i.initArgs(e),i}function A(t){return this.element3d("cuboid",t)}function D(t){let e=t.x||0,i=t.y||0,s=t.z||0,r=t.height||0,o=t.width||0,a=t.depth||0,n=M[this.chartIndex],h=n.options.chart.options3d,l=h.alpha,p=[],x,c=0,d=[{x:e,y:i,z:s},{x:e+o,y:i,z:s},{x:e+o,y:i+r,z:s},{x:e,y:i+r,z:s},{x:e,y:i+r,z:s+a},{x:e+o,y:i+r,z:s+a},{x:e+o,y:i,z:s+a},{x:e,y:i,z:s+a}],y=(d=P(d,n,t.insidePlotArea),t=>0===r&&1<t&&t<6?{x:d[t].x,y:d[t].y+10,z:d[t].z}:d[0].x===d[7].x&&4<=t?{x:d[t].x+10,y:d[t].y,z:d[t].z}:0===a&&t<2||5<t?{x:d[t].x,y:d[t].y,z:d[t].z+10}:d[t]),f=t=>d[t],u=(t,e,i)=>{let s=t.map(f),r=e.map(f),o=t.map(y),a=e.map(y),n=[[],-1];return S(s)<0?n=[s,0]:S(r)<0?n=[r,1]:i&&(p.push(i),n=!(S(o)<0)&&S(a)<0?[r,1]:[s,0]),n};var t=(x=u([3,2,1,0],[7,6,5,4],"front"))[0],z=x[1],b=(x=u([1,6,7,0],[4,5,2,3],"top"))[0],g=x[1],m=(x=u([1,2,5,6],[0,7,4,3],"side"))[0],v=x[1];return 1===v?c+=1e6*(n.plotWidth-e):v||(c+=1e6*e),c+=10*(!g||0<=l&&l<=180||l<360&&357.5<l?n.plotHeight-i:10+i),1===z?c+=100*s:z||(c+=100*(1e3-s)),{front:this.toLinePath(t,!0),top:this.toLinePath(b,!0),side:this.toLinePath(m,!0),zIndexes:{group:Math.round(c)},forcedSides:p,isFront:z,isTop:g}}function C(t){let h=this.g(),l=this.Element.prototype,r=["x","y","r","innerR","start","end","depth"];function p(t){let e={},i=!1,s;for(s in t=y(t))-1!==r.indexOf(s)&&(e[s]=t[s],delete t[s],i=!0);return!!i&&[e,t]}for(let i of((t=y(t)).alpha=(t.alpha||0)*n,t.beta=(t.beta||0)*n,h.top=this.path(),h.side1=this.path(),h.side2=this.path(),h.inn=this.path(),h.out=this.path(),h.onAdd=function(){var t,e=h.parentGroup,i=h.attr("class");for(t of(h.top.add(h),["out","inn","side1","side2"]))h[t].attr({class:i+" highcharts-3d-side"}).add(e)},["addClass","removeClass"]))h[i]=function(){var t,e=arguments;for(t of["top","out","inn","side1","side2"])h[t][i].apply(h[t],e)};for(var e of(h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=a(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"]))h[e+"Setter"]=function(t,e){for(var i of(h[e]=t,["out","inn","side1","side2","top"]))h[i].attr(e,t)};return h.attr=function(t){let e,i;return"object"==typeof t&&(i=p(t))&&(e=i[0],arguments[0]=i[1],d(h.attribs,e),h.setPaths(h.attribs)),l.attr.apply(h,arguments)},h.animate=function(t,e,i){let s,r,o=this.attribs,a="data-"+Math.random().toString(26).substring(2,9),n=(delete t.center,delete t.z,delete t.alpha,delete t.beta,c(f(e,this.renderer.globalAnimation)));return n.duration&&(s=p(t),h[a]=0,t[a]=1,h[a+"Setter"]=x.noop,s&&(r=s[0],n.step=function(t,e){var i=t=>o[t]+(f(r[t],o[t])-o[t])*e.pos;e.prop===a&&e.elem.setPaths(y(o,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=n),l.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),l.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h}function k(t){let e=t.x||0,i=t.y||0,s=t.start||0,r=(t.end||0)-1e-5,o=t.r||0,a=t.innerR||0,n=t.depth||0,h=t.alpha||0,l=t.beta||0,p=Math.cos(s),x=Math.sin(s),c=Math.cos(r),d=Math.sin(r),y=o*Math.cos(l),f=o*Math.cos(h),u=a*Math.cos(l),z=a*Math.cos(h),b=n*Math.sin(l),g=n*Math.sin(h),m=[["M",e+y*p,i+f*x]],v=((m=m.concat(Y(e,i,y,f,s,r,0,0))).push(["L",e+u*c,i+z*d]),(m=m.concat(Y(e,i,u,z,r,s,0,0))).push(["Z"]),0<l?Math.PI/2:0),M=0<h?0:Math.PI/2,P=!(-v<s)&&-v<r?-v:s,S=!(r<X-M)&&s<X-M?X-M:r,A=2*X-M,D=[["M",e+y*T(P),i+f*Z(P)]],C=(D=D.concat(Y(e,i,y,f,P,S,0,0)),A<r&&s<A?(D.push(["L",e+y*T(S)+b,i+f*Z(S)+g]),(D=D.concat(Y(e,i,y,f,S,A,b,g))).push(["L",e+y*T(A),i+f*Z(A)]),(D=D.concat(Y(e,i,y,f,A,r,0,0))).push(["L",e+y*T(r)+b,i+f*Z(r)+g]),(D=D.concat(Y(e,i,y,f,r,A,b,g))).push(["L",e+y*T(A),i+f*Z(A)]),D=D.concat(Y(e,i,y,f,A,S,0,0))):r>X-M&&s<X-M&&(D.push(["L",e+y*Math.cos(S)+b,i+f*Math.sin(S)+g]),(D=D.concat(Y(e,i,y,f,S,r,b,g))).push(["L",e+y*Math.cos(r),i+f*Math.sin(r)]),D=D.concat(Y(e,i,y,f,r,S,0,0))),D.push(["L",e+y*Math.cos(S)+b,i+f*Math.sin(S)+g]),(D=D.concat(Y(e,i,y,f,S,P,b,g))).push(["Z"]),[["M",e+u*p,i+z*x]]);(C=C.concat(Y(e,i,u,z,s,r,0,0))).push(["L",e+u*Math.cos(r)+b,i+z*Math.sin(r)+g]),(C=C.concat(Y(e,i,u,z,r,s,b,g))).push(["Z"]);var t=[["M",e+y*p,i+f*x],["L",e+y*p+b,i+f*x+g],["L",e+u*p+b,i+z*x+g],["L",e+u*p,i+z*x],["Z"]],k=[["M",e+y*c,i+f*d],["L",e+y*c+b,i+f*d+g],["L",e+u*c+b,i+z*d+g],["L",e+u*c,i+z*d],["Z"]],j=Math.atan2(g,-b),w=Math.abs(r+j),L=Math.abs(s+j),j=Math.abs((s+r)/2+j);function I(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}w=I(w),L=I(L),j=1e5*I(j),L*=1e5,w*=1e5;return{top:m,zTop:1e5*Math.PI+1,out:D,zOut:Math.max(j,L,w),inn:C,zInn:Math.max(j,L,w),side1:t,zSide1:.99*w,side2:k,zSide2:.99*L}}}),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,i){let{addEvent:s,merge:e,pick:r,splat:o}=i,a=[];function n(t){return new l(this,t)}function h(){let t=this.options.zAxis=o(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach((t,e)=>{this.addZAxis(t).setScale()}))}class l extends t{constructor(){super(...arguments),this.isZAxis=!0}static compose(e){if(i.pushUnique(a,e)){s(e,"afterGetAxes",h);let t=e.prototype;t.addZAxis=n,t.collectionsWithInit.zAxis=[t.addZAxis],t.collectionsWithUpdate.push("zAxis")}}init(t,e){this.isZAxis=!0,super.init(t,e,"zAxis")}getSeriesExtremes(){this.chart,this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(e=>{if(e.reserveSpace()){let t=e.options.threshold;this.hasVisibleSeries=!0,this.positiveValuesOnly&&t<=0&&(t=void 0);e=e.zData;e.length&&(this.dataMin=Math.min(r(this.dataMin,e[0]),Math.min.apply(null,e)),this.dataMax=Math.max(r(this.dataMax,e[0]),Math.max.apply(null,e)))}})}setAxisSize(){var t=this.chart;super.setAxisSize(),this.width=this.len=t.options.chart.options3d&&t.options.chart.options3d.depth||0,this.right=t.chartWidth-this.width-this.left}setOptions(t){t=e({offset:0,lineWidth:0},t),super.setOptions(t)}}return l}),e(t,"Series/Column3D/Column3DComposition.js",[t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e){let d=t["perspective"],{addEvent:s,extend:y,pick:l,pushUnique:r,wrap:o}=e,a=[];function n(){let r=this.chart,t=this.options,o=t.depth,e=t.stacking?t.stack||0:this.index,a=e*(o+(t.groupZPadding||1)),n=this.borderWidth%2?.5:0,h;for(var l of(r.inverted&&!this.yAxis.reversed&&(n*=-1),!1!==t.grouping&&(a=0),a+=t.groupZPadding||1,this.data))if(l.outside3dPlot=null,null!==l.y){let t,e=y({x:0,y:0,width:0,height:0},l.shapeArgs||{}),i=[["x","width"],["y","height"]],s=l.tooltipPos;for(var p of i)if((t=e[p[0]]-n)<0&&(e[p[1]]+=e[p[0]]+n,e[p[0]]=-n,t=0),t+e[p[1]]>this[p[0]+"Axis"].len&&0!==e[p[1]]&&(e[p[1]]=this[p[0]+"Axis"].len-e[p[0]]),0!==e[p[1]]&&(e[p[0]]>=this[p[0]+"Axis"].len||e[p[0]]+e[p[1]]<=n)){for(var x in e)e[x]="y"===x?-9999:0;l.outside3dPlot=!0}var c;"roundedRect"===l.shapeType&&(l.shapeType="cuboid"),l.shapeArgs=y(e,{z:a,depth:o,insidePlotArea:!0}),h={x:e.x+e.width/2,y:e.y,z:a+o/2},r.inverted&&(h.x=e.height,h.y=l.clientX||0),l.plot3d=d([h],r,!0,!1)[0],s&&(c=d([{x:s[0],y:s[1],z:a+o/2}],r,!0,!1)[0],l.tooltipPos=[c.x,c.y])}this.z=a}function h(){if(this.chart.is3d()){let e=this.options,t=e.grouping,i=e.stacking,s=this.yAxis.options.reversedStacks,r=0;if(void 0===t||t){let t;var o=function(t,e){let i=t.series,s={totalStacks:0},r,o=1;return i.forEach(function(t){s[r=l(t.options.stack,e?0:i.length-1-t.index)]?s[r].series.push(t):(s[r]={series:[t],position:o},o++)}),s.totalStacks=o+1,s}(this.chart,i),a=e.stack||0;for(t=0;t<o[a].series.length&&o[a].series[t]!==this;t++);r=10*(o.totalStacks-o[a].position)+(s?t:-t),this.xAxis.reversed||(r=10*o.totalStacks-r)}e.depth=e.depth||25,this.z=this.z||0,e.zIndex=r}}function p(t,...e){return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}function x(t){if(this.chart.is3d()){let t=arguments,e=t[1],i=this.yAxis,s=this.yAxis.reversed;if(e)for(var r of this.data)null!==r.y&&(r.height=r.shapeArgs.height,r.shapey=r.shapeArgs.y,r.shapeArgs.height=1,s||(r.stackY?r.shapeArgs.y=r.plotY+i.translate(r.stackY):r.shapeArgs.y=r.plotY+(r.negative?-r.height:r.height)));else{for(var o of this.data)null!==o.y&&(o.shapeArgs.height=o.height,o.shapeArgs.y=o.shapey,o.graphic&&o.graphic[o.outside3dPlot?"attr":"animate"](o.shapeArgs,this.options.animation));this.drawDataLabels()}}else t.apply(this,[].slice.call(arguments,1))}function c(t,e,i,s,r,o){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],o&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(o)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}function f(t){let e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=l(this.options.edgeWidth,1)),e}function u(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function z(t,e){if(this.chart.is3d())for(var i of this.data)i.visible=i.options.visible=e=void 0===e?!l(this.visible,i.visible):e,this.options.data[this.data.indexOf(i)]=i.options,i.graphic&&i.graphic.attr({visibility:e?"visible":"hidden"});t.apply(this,Array.prototype.slice.call(arguments,1))}function b(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}function g(t,o,e,a,n){let h=this.chart;if(a.outside3dPlot=o.outside3dPlot,h.is3d()&&this.is("column")){let t=this.options,e=l(a.inside,!!this.options.stacking),i=h.options.chart.options3d,s=o.pointWidth/2||0,r={x:n.x+s,y:n.y,z:this.z+t.depth/2};h.inverted&&(e&&(n.width=0,r.x+=o.shapeArgs.height/2),90<=i.alpha&&i.alpha<=270&&(r.y+=o.shapeArgs.width)),r=d([r],h,!0,!1)[0],n.x=r.x-s,n.y=o.outside3dPlot?-9e9:r.y}t.apply(this,[].slice.call(arguments,1))}function m(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}function v(e,i){let s=e.apply(this,[].slice.call(arguments,1)),r=this.axis.chart,o=i["width"];if(r.is3d()&&this.base){e=+this.base.split(",")[0],i=r.series[e],e=r.options.chart.options3d;if(i&&"column"===i.type){let t={x:s.x+(r.inverted?s.height:o/2),y:s.y,z:i.options.depth/2};r.inverted&&(s.width=0,90<=e.alpha&&e.alpha<=270&&(t.y+=o)),t=d([t],r,!0,!1)[0],s.x=t.x-o/2,s.y=t.y}}return s}return{compose:function(t,i){r(a,t)&&(e=t.prototype,o(e,"alignDataLabel",g),o(e,"justifyDataLabel",m)),r(a,i)&&(e=i.prototype,o(e,"getStackBox",v));var{column:i,columnRange:e}=t.types;if(i&&r(a,i)){let t=i.prototype,e=t.pointClass.prototype;t.translate3dPoints=()=>{},t.translate3dShapes=n,s(t,"afterInit",h),o(e,"hasNewShapeType",p),o(t,"animate",x),o(t,"plotGroup",c),o(t,"pointAttribs",f),o(t,"setState",u),o(t,"setVisible",z),o(t,"translate",b)}e&&r(a,e)&&(i=(t=e.prototype).pointClass.prototype,o(i,"hasNewShapeType",p),o(t,"plotGroup",c),o(t,"pointAttribs",f),o(t,"setState",u),o(t,"setVisible",z))}}}),e(t,"Series/Pie3D/Pie3DPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var{pointClass:t}=t.seriesTypes["pie"]["prototype"];return class extends t{constructor(){super(...arguments),this.series=void 0}haloPath(){return this.series?.chart.is3d()?[]:super.haloPath.apply(this,arguments)}}}),e(t,"Series/Pie3D/Pie3DSeries.js",[t["Core/Globals.js"],t["Series/Pie3D/Pie3DPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){let l=t["deg2rad"],r=i.seriesTypes["pie"],{extend:o,pick:a,pushUnique:n}=s,h=[];class p extends r{static compose(t){n(h,t)&&(t.types.pie=p)}addPoint(){super.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)}animate(o){if(this.chart.is3d()){let t=this.center,e=this.group,i=this.markerGroup,s=this.options.animation,r;!0===s&&(s={}),o?(e.oldtranslateX=a(e.oldtranslateX,e.translateX),e.oldtranslateY=a(e.oldtranslateY,e.translateY),r={translateX:t[0],translateY:t[1],scaleX:.001,scaleY:.001},e.attr(r),i&&(i.attrSetters=e.attrSetters,i.attr(r))):(r={translateX:e.oldtranslateX,translateY:e.oldtranslateY,scaleX:1,scaleY:1},e.animate(r,s),i&&i.animate(r,s))}else super.animate.apply(this,arguments)}getDataLabelPosition(t,e){e=super.getDataLabelPosition(t,e);if(this.chart.is3d()){var i,s=this.chart.options.chart.options3d,t=t.shapeArgs,r=t.r,o=(t.alpha||s?.alpha)*l,s=(t.beta||s?.beta)*l,t=(t.start+t.end)/2,a=e.connectorPosition,n=-r*(1-Math.cos(o))*Math.sin(t),h=r*(Math.cos(s)-1)*Math.cos(t);for(i of[e?.natural,a.breakAt,a.touchingSliceAt])i.x+=h,i.y+=n}return e}pointAttribs(t){let e=super.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=a(i.edgeWidth,1)),e}translate(){if(super.translate.apply(this,arguments),this.chart.is3d()){let e=this.options,i=e.depth||0,t=this.chart.options.chart.options3d,s=t.alpha,r=t.beta,o=e.stacking?(e.stack||0)*i:this._i*i;for(var a of(o+=i/2,!1!==e.grouping&&(o=0),this.data)){let t=a.shapeArgs;a.shapeType="arc3d",t.z=o,t.depth=.75*i,t.alpha=s,t.beta=r,t.center=this.center;var n=(t.end+t.start)/2;a.slicedTranslation={translateX:Math.round(Math.cos(n)*e.slicedOffset*Math.cos(s*l)),translateY:Math.round(Math.sin(n)*e.slicedOffset*Math.cos(s*l))}}}}drawTracker(){if(super.drawTracker.apply(this,arguments),this.chart.is3d())for(var t of this.points)if(t.graphic)for(var e of["out","inn","side1","side2"])t.graphic&&(t.graphic[e].element.point=t)}}return o(p.prototype,{pointClass:e}),p}),e(t,"Series/Scatter3D/Scatter3DPoint.js",[t["Series/Scatter/ScatterSeries.js"],t["Core/Utilities.js"]],function(t,e){let i=t.prototype["pointClass"],s=e["defined"];return class extends i{constructor(){super(...arguments),this.options=void 0,this.series=void 0}applyOptions(){return super.applyOptions.apply(this,arguments),s(this.z)||(this.z=0),this}}}),e(t,"Series/Scatter3D/Scatter3DSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}}),e(t,"Series/Scatter3D/Scatter3DSeries.js",[t["Core/Math3D.js"],t["Series/Scatter3D/Scatter3DPoint.js"],t["Series/Scatter3D/Scatter3DSeriesDefaults.js"],t["Series/Scatter/ScatterSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,r,o){let a=t["pointCameraDistance"],{extend:n,merge:h}=o;class l extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(t){let e=super.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=a(t,this.chart)),e}}return l.defaultOptions=h(s.defaultOptions,i),n(l.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),r.registerSeriesType("scatter3d",l),l}),e(t,"masters/highcharts-3d.src.js",[t["Core/Globals.js"],t["Core/Chart/Chart3D.js"],t["Series/Area3D/Area3DSeries.js"],t["Core/Axis/Axis3DComposition.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Series/Series3D.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Renderer/SVG/SVGRenderer3D.js"],t["Core/Axis/ZAxis.js"],t["Series/Column3D/Column3DComposition.js"],t["Series/Pie3D/Pie3DSeries.js"]],function(t,e,i,s,r,o,a,n,h,l,p){i.compose(t.seriesTypes.area),s.compose(t.Axis,t.Tick),e.compose(t.Chart,t.Fx),l.compose(t.Series,a),p.compose(t.Series),o.compose(t.Series),n.compose(r.getRendererType()),h.compose(t.Chart)})});